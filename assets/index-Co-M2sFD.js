(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))d(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const x of f.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&d(x)}).observe(document,{childList:!0,subtree:!0});function c(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function d(u){if(u.ep)return;u.ep=!0;const f=c(u);fetch(u.href,f)}})();function sh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ad={exports:{}},Ts={};var tp;function Hg(){if(tp)return Ts;tp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function c(d,u,f){var x=null;if(f!==void 0&&(x=""+f),u.key!==void 0&&(x=""+u.key),"key"in u){f={};for(var b in u)b!=="key"&&(f[b]=u[b])}else f=u;return u=f.ref,{$$typeof:n,type:d,key:x,ref:u!==void 0?u:null,props:f}}return Ts.Fragment=r,Ts.jsx=c,Ts.jsxs=c,Ts}var ap;function $g(){return ap||(ap=1,ad.exports=Hg()),ad.exports}var a=$g(),ld={exports:{}},je={};var lp;function Gg(){if(lp)return je;lp=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),x=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),y=Symbol.iterator;function w(E){return E===null||typeof E!="object"?null:(E=y&&E[y]||E["@@iterator"],typeof E=="function"?E:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,v={};function S(E,V,Z){this.props=E,this.context=V,this.refs=v,this.updater=Z||C}S.prototype.isReactComponent={},S.prototype.setState=function(E,V){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,V,"setState")},S.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function z(){}z.prototype=S.prototype;function T(E,V,Z){this.props=E,this.context=V,this.refs=v,this.updater=Z||C}var k=T.prototype=new z;k.constructor=T,M(k,S.prototype),k.isPureReactComponent=!0;var R=Array.isArray;function j(){}var B={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function ne(E,V,Z){var le=Z.ref;return{$$typeof:n,type:E,key:V,ref:le!==void 0?le:null,props:Z}}function ce(E,V){return ne(E.type,V,E.props)}function H(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function K(E){var V={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Z){return V[Z]})}var ee=/\/+/g;function de(E,V){return typeof E=="object"&&E!==null&&E.key!=null?K(""+E.key):V.toString(36)}function ie(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(j,j):(E.status="pending",E.then(function(V){E.status==="pending"&&(E.status="fulfilled",E.value=V)},function(V){E.status==="pending"&&(E.status="rejected",E.reason=V)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function O(E,V,Z,le,oe){var ue=typeof E;(ue==="undefined"||ue==="boolean")&&(E=null);var P=!1;if(E===null)P=!0;else switch(ue){case"bigint":case"string":case"number":P=!0;break;case"object":switch(E.$$typeof){case n:case r:P=!0;break;case N:return P=E._init,O(P(E._payload),V,Z,le,oe)}}if(P)return oe=oe(E),P=le===""?"."+de(E,0):le,R(oe)?(Z="",P!=null&&(Z=P.replace(ee,"$&/")+"/"),O(oe,V,Z,"",function(Ce){return Ce})):oe!=null&&(H(oe)&&(oe=ce(oe,Z+(oe.key==null||E&&E.key===oe.key?"":(""+oe.key).replace(ee,"$&/")+"/")+P)),V.push(oe)),1;P=0;var pe=le===""?".":le+":";if(R(E))for(var ye=0;ye<E.length;ye++)le=E[ye],ue=pe+de(le,ye),P+=O(le,V,Z,ue,oe);else if(ye=w(E),typeof ye=="function")for(E=ye.call(E),ye=0;!(le=E.next()).done;)le=le.value,ue=pe+de(le,ye++),P+=O(le,V,Z,ue,oe);else if(ue==="object"){if(typeof E.then=="function")return O(ie(E),V,Z,le,oe);throw V=String(E),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return P}function L(E,V,Z){if(E==null)return E;var le=[],oe=0;return O(E,le,"","",function(ue){return V.call(Z,ue,oe++)}),le}function J(E){if(E._status===-1){var V=E._result;V=V(),V.then(function(Z){(E._status===0||E._status===-1)&&(E._status=1,E._result=Z)},function(Z){(E._status===0||E._status===-1)&&(E._status=2,E._result=Z)}),E._status===-1&&(E._status=0,E._result=V)}if(E._status===1)return E._result.default;throw E._result}var F=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},se={map:L,forEach:function(E,V,Z){L(E,function(){V.apply(this,arguments)},Z)},count:function(E){var V=0;return L(E,function(){V++}),V},toArray:function(E){return L(E,function(V){return V})||[]},only:function(E){if(!H(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return je.Activity=g,je.Children=se,je.Component=S,je.Fragment=c,je.Profiler=u,je.PureComponent=T,je.StrictMode=d,je.Suspense=h,je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,je.__COMPILER_RUNTIME={__proto__:null,c:function(E){return B.H.useMemoCache(E)}},je.cache=function(E){return function(){return E.apply(null,arguments)}},je.cacheSignal=function(){return null},je.cloneElement=function(E,V,Z){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var le=M({},E.props),oe=E.key;if(V!=null)for(ue in V.key!==void 0&&(oe=""+V.key),V)!q.call(V,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&V.ref===void 0||(le[ue]=V[ue]);var ue=arguments.length-2;if(ue===1)le.children=Z;else if(1<ue){for(var P=Array(ue),pe=0;pe<ue;pe++)P[pe]=arguments[pe+2];le.children=P}return ne(E.type,oe,le)},je.createContext=function(E){return E={$$typeof:x,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:f,_context:E},E},je.createElement=function(E,V,Z){var le,oe={},ue=null;if(V!=null)for(le in V.key!==void 0&&(ue=""+V.key),V)q.call(V,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(oe[le]=V[le]);var P=arguments.length-2;if(P===1)oe.children=Z;else if(1<P){for(var pe=Array(P),ye=0;ye<P;ye++)pe[ye]=arguments[ye+2];oe.children=pe}if(E&&E.defaultProps)for(le in P=E.defaultProps,P)oe[le]===void 0&&(oe[le]=P[le]);return ne(E,ue,oe)},je.createRef=function(){return{current:null}},je.forwardRef=function(E){return{$$typeof:b,render:E}},je.isValidElement=H,je.lazy=function(E){return{$$typeof:N,_payload:{_status:-1,_result:E},_init:J}},je.memo=function(E,V){return{$$typeof:p,type:E,compare:V===void 0?null:V}},je.startTransition=function(E){var V=B.T,Z={};B.T=Z;try{var le=E(),oe=B.S;oe!==null&&oe(Z,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(j,F)}catch(ue){F(ue)}finally{V!==null&&Z.types!==null&&(V.types=Z.types),B.T=V}},je.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},je.use=function(E){return B.H.use(E)},je.useActionState=function(E,V,Z){return B.H.useActionState(E,V,Z)},je.useCallback=function(E,V){return B.H.useCallback(E,V)},je.useContext=function(E){return B.H.useContext(E)},je.useDebugValue=function(){},je.useDeferredValue=function(E,V){return B.H.useDeferredValue(E,V)},je.useEffect=function(E,V){return B.H.useEffect(E,V)},je.useEffectEvent=function(E){return B.H.useEffectEvent(E)},je.useId=function(){return B.H.useId()},je.useImperativeHandle=function(E,V,Z){return B.H.useImperativeHandle(E,V,Z)},je.useInsertionEffect=function(E,V){return B.H.useInsertionEffect(E,V)},je.useLayoutEffect=function(E,V){return B.H.useLayoutEffect(E,V)},je.useMemo=function(E,V){return B.H.useMemo(E,V)},je.useOptimistic=function(E,V){return B.H.useOptimistic(E,V)},je.useReducer=function(E,V,Z){return B.H.useReducer(E,V,Z)},je.useRef=function(E){return B.H.useRef(E)},je.useState=function(E){return B.H.useState(E)},je.useSyncExternalStore=function(E,V,Z){return B.H.useSyncExternalStore(E,V,Z)},je.useTransition=function(){return B.H.useTransition()},je.version="19.2.3",je}var np;function Mi(){return np||(np=1,ld.exports=Gg()),ld.exports}var A=Mi();const qe=sh(A);var nd={exports:{}},Os={},sd={exports:{}},rd={};var sp;function qg(){return sp||(sp=1,(function(n){function r(O,L){var J=O.length;O.push(L);e:for(;0<J;){var F=J-1>>>1,se=O[F];if(0<u(se,L))O[F]=L,O[J]=se,J=F;else break e}}function c(O){return O.length===0?null:O[0]}function d(O){if(O.length===0)return null;var L=O[0],J=O.pop();if(J!==L){O[0]=J;e:for(var F=0,se=O.length,E=se>>>1;F<E;){var V=2*(F+1)-1,Z=O[V],le=V+1,oe=O[le];if(0>u(Z,J))le<se&&0>u(oe,Z)?(O[F]=oe,O[le]=J,F=le):(O[F]=Z,O[V]=J,F=V);else if(le<se&&0>u(oe,J))O[F]=oe,O[le]=J,F=le;else break e}}return L}function u(O,L){var J=O.sortIndex-L.sortIndex;return J!==0?J:O.id-L.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var x=Date,b=x.now();n.unstable_now=function(){return x.now()-b}}var h=[],p=[],N=1,g=null,y=3,w=!1,C=!1,M=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function k(O){for(var L=c(p);L!==null;){if(L.callback===null)d(p);else if(L.startTime<=O)d(p),L.sortIndex=L.expirationTime,r(h,L);else break;L=c(p)}}function R(O){if(M=!1,k(O),!C)if(c(h)!==null)C=!0,j||(j=!0,K());else{var L=c(p);L!==null&&ie(R,L.startTime-O)}}var j=!1,B=-1,q=5,ne=-1;function ce(){return v?!0:!(n.unstable_now()-ne<q)}function H(){if(v=!1,j){var O=n.unstable_now();ne=O;var L=!0;try{e:{C=!1,M&&(M=!1,z(B),B=-1),w=!0;var J=y;try{t:{for(k(O),g=c(h);g!==null&&!(g.expirationTime>O&&ce());){var F=g.callback;if(typeof F=="function"){g.callback=null,y=g.priorityLevel;var se=F(g.expirationTime<=O);if(O=n.unstable_now(),typeof se=="function"){g.callback=se,k(O),L=!0;break t}g===c(h)&&d(h),k(O)}else d(h);g=c(h)}if(g!==null)L=!0;else{var E=c(p);E!==null&&ie(R,E.startTime-O),L=!1}}break e}finally{g=null,y=J,w=!1}L=void 0}}finally{L?K():j=!1}}}var K;if(typeof T=="function")K=function(){T(H)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,de=ee.port2;ee.port1.onmessage=H,K=function(){de.postMessage(null)}}else K=function(){S(H,0)};function ie(O,L){B=S(function(){O(n.unstable_now())},L)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(O){switch(y){case 1:case 2:case 3:var L=3;break;default:L=y}var J=y;y=L;try{return O()}finally{y=J}},n.unstable_requestPaint=function(){v=!0},n.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var J=y;y=O;try{return L()}finally{y=J}},n.unstable_scheduleCallback=function(O,L,J){var F=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?F+J:F):J=F,O){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=J+se,O={id:N++,callback:L,priorityLevel:O,startTime:J,expirationTime:se,sortIndex:-1},J>F?(O.sortIndex=J,r(p,O),c(h)===null&&O===c(p)&&(M?(z(B),B=-1):M=!0,ie(R,J-F))):(O.sortIndex=se,r(h,O),C||w||(C=!0,j||(j=!0,K()))),O},n.unstable_shouldYield=ce,n.unstable_wrapCallback=function(O){var L=y;return function(){var J=y;y=L;try{return O.apply(this,arguments)}finally{y=J}}}})(rd)),rd}var rp;function Ig(){return rp||(rp=1,sd.exports=qg()),sd.exports}var id={exports:{}},Ct={};var ip;function Vg(){if(ip)return Ct;ip=1;var n=Mi();function r(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var N=2;N<arguments.length;N++)p+="&args[]="+encodeURIComponent(arguments[N])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var d={d:{f:c,r:function(){throw Error(r(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(h,p,N){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:g==null?null:""+g,children:h,containerInfo:p,implementation:N}}var x=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,Ct.createPortal=function(h,p){var N=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return f(h,p,null,N)},Ct.flushSync=function(h){var p=x.T,N=d.p;try{if(x.T=null,d.p=2,h)return h()}finally{x.T=p,d.p=N,d.d.f()}},Ct.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,d.d.C(h,p))},Ct.prefetchDNS=function(h){typeof h=="string"&&d.d.D(h)},Ct.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var N=p.as,g=b(N,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;N==="style"?d.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:y,fetchPriority:w}):N==="script"&&d.d.X(h,{crossOrigin:g,integrity:y,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ct.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var N=b(p.as,p.crossOrigin);d.d.M(h,{crossOrigin:N,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&d.d.M(h)},Ct.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var N=p.as,g=b(N,p.crossOrigin);d.d.L(h,N,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ct.preloadModule=function(h,p){if(typeof h=="string")if(p){var N=b(p.as,p.crossOrigin);d.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:N,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else d.d.m(h)},Ct.requestFormReset=function(h){d.d.r(h)},Ct.unstable_batchedUpdates=function(h,p){return h(p)},Ct.useFormState=function(h,p,N){return x.H.useFormState(h,p,N)},Ct.useFormStatus=function(){return x.H.useHostTransitionStatus()},Ct.version="19.2.3",Ct}var cp;function rh(){if(cp)return id.exports;cp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),id.exports=Vg(),id.exports}var op;function Yg(){if(op)return Os;op=1;var n=Ig(),r=Mi(),c=rh();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function x(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(d(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(d(188));return t!==e?null:e}for(var l=e,s=t;;){var i=l.return;if(i===null)break;var o=i.alternate;if(o===null){if(s=i.return,s!==null){l=s;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===l)return h(i),e;if(o===s)return h(i),t;o=o.sibling}throw Error(d(188))}if(l.return!==s.return)l=i,s=o;else{for(var m=!1,D=i.child;D;){if(D===l){m=!0,l=i,s=o;break}if(D===s){m=!0,s=i,l=o;break}D=D.sibling}if(!m){for(D=o.child;D;){if(D===l){m=!0,l=o,s=i;break}if(D===s){m=!0,s=o,l=i;break}D=D.sibling}if(!m)throw Error(d(189))}}if(l.alternate!==s)throw Error(d(190))}if(l.tag!==3)throw Error(d(188));return l.stateNode.current===l?e:t}function N(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=N(e),t!==null)return t;e=e.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),T=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function K(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ee?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case S:return"Profiler";case v:return"StrictMode";case R:return"Suspense";case j:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case T:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case q:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}var ie=Array.isArray,O=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},F=[],se=-1;function E(e){return{current:e}}function V(e){0>se||(e.current=F[se],F[se]=null,se--)}function Z(e,t){se++,F[se]=e.current,e.current=t}var le=E(null),oe=E(null),ue=E(null),P=E(null);function pe(e,t){switch(Z(ue,t),Z(oe,e),Z(le,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?wm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=wm(t),e=Dm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(le),Z(le,e)}function ye(){V(le),V(oe),V(ue)}function Ce(e){e.memoizedState!==null&&Z(P,e);var t=le.current,l=Dm(t,e.type);t!==l&&(Z(oe,e),Z(le,l))}function me(e){oe.current===e&&(V(le),V(oe)),P.current===e&&(V(P),Ds._currentValue=J)}var Le,We;function Oe(e){if(Le===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Le=t&&t[1]||"",We=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+e+We}var ua=!1;function G(e,t){if(!e||ua)return"";ua=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var Q=X}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(X){Q=X}e.call(ae.prototype)}}else{try{throw Error()}catch(X){Q=X}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=s.DetermineComponentFrameRoot(),m=o[0],D=o[1];if(m&&D){var _=m.split(`
`),Y=D.split(`
`);for(i=s=0;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;for(;i<Y.length&&!Y[i].includes("DetermineComponentFrameRoot");)i++;if(s===_.length||i===Y.length)for(s=_.length-1,i=Y.length-1;1<=s&&0<=i&&_[s]!==Y[i];)i--;for(;1<=s&&0<=i;s--,i--)if(_[s]!==Y[i]){if(s!==1||i!==1)do if(s--,i--,0>i||_[s]!==Y[i]){var W=`
`+_[s].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=s&&0<=i);break}}}finally{ua=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Oe(l):""}function ge(e,t){switch(e.tag){case 26:case 27:case 5:return Oe(e.type);case 16:return Oe("Lazy");case 13:return e.child!==t&&t!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return G(e.type,!1);case 11:return G(e.type.render,!1);case 1:return G(e.type,!0);case 31:return Oe("Activity");default:return""}}function Te(e){try{var t="",l=null;do t+=ge(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var we=Object.prototype.hasOwnProperty,it=n.unstable_scheduleCallback,Qe=n.unstable_cancelCallback,lt=n.unstable_shouldYield,$e=n.unstable_requestPaint,dt=n.unstable_now,qi=n.unstable_getCurrentPriorityLevel,tu=n.unstable_ImmediatePriority,au=n.unstable_UserBlockingPriority,Zs=n.unstable_NormalPriority,vy=n.unstable_LowPriority,lu=n.unstable_IdlePriority,Ny=n.log,jy=n.unstable_setDisableYieldValue,Bn=null,$t=null;function $a(e){if(typeof Ny=="function"&&jy(e),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Bn,e)}catch{}}var Gt=Math.clz32?Math.clz32:Dy,Sy=Math.log,wy=Math.LN2;function Dy(e){return e>>>=0,e===0?32:31-(Sy(e)/wy|0)|0}var Js=256,Ps=262144,Fs=4194304;function yl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ws(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var i=0,o=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var D=s&134217727;return D!==0?(s=D&~o,s!==0?i=yl(s):(m&=D,m!==0?i=yl(m):l||(l=D&~e,l!==0&&(i=yl(l))))):(D=s&~o,D!==0?i=yl(D):m!==0?i=yl(m):l||(l=s&~e,l!==0&&(i=yl(l)))),i===0?0:t!==0&&t!==i&&(t&o)===0&&(o=i&-i,l=t&-t,o>=l||o===32&&(l&4194048)!==0)?t:i}function Un(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ey(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=Fs;return Fs<<=1,(Fs&62914560)===0&&(Fs=4194304),e}function Ii(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Hn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ay(e,t,l,s,i,o){var m=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var D=e.entanglements,_=e.expirationTimes,Y=e.hiddenUpdates;for(l=m&~l;0<l;){var W=31-Gt(l),ae=1<<W;D[W]=0,_[W]=-1;var Q=Y[W];if(Q!==null)for(Y[W]=null,W=0;W<Q.length;W++){var X=Q[W];X!==null&&(X.lane&=-536870913)}l&=~ae}s!==0&&su(e,s,0),o!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=o&~(m&~t))}function su(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Gt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function ru(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-Gt(l),i=1<<s;i&t|e[s]&t&&(e[s]|=t),l&=~i}}function iu(e,t){var l=t&-t;return l=(l&42)!==0?1:Vi(l),(l&(e.suspendedLanes|t))!==0?0:l}function Vi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:Xm(e.type))}function ou(e,t){var l=L.p;try{return L.p=e,t()}finally{L.p=l}}var Ga=Math.random().toString(36).slice(2),jt="__reactFiber$"+Ga,Mt="__reactProps$"+Ga,Il="__reactContainer$"+Ga,Qi="__reactEvents$"+Ga,Cy="__reactListeners$"+Ga,Ty="__reactHandles$"+Ga,du="__reactResources$"+Ga,$n="__reactMarker$"+Ga;function Ki(e){delete e[jt],delete e[Mt],delete e[Qi],delete e[Cy],delete e[Ty]}function Vl(e){var t=e[jt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Il]||l[jt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=_m(e);e!==null;){if(l=e[jt])return l;e=_m(e)}return t}e=l,l=e.parentNode}return null}function Yl(e){if(e=e[jt]||e[Il]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Gn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function Ql(e){var t=e[du];return t||(t=e[du]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function yt(e){e[$n]=!0}var uu=new Set,fu={};function bl(e,t){Kl(e,t),Kl(e+"Capture",t)}function Kl(e,t){for(fu[e]=t,e=0;e<t.length;e++)uu.add(t[e])}var Oy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xu={},mu={};function ky(e){return we.call(mu,e)?!0:we.call(xu,e)?!1:Oy.test(e)?mu[e]=!0:(xu[e]=!0,!1)}function er(e,t,l){if(ky(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function tr(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function ja(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function Ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _y(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,o=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(m){l=""+m,o.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xi(e){if(!e._valueTracker){var t=pu(e)?"checked":"value";e._valueTracker=_y(e,t,""+e[t])}}function hu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=pu(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function ar(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var My=/[\n"\\]/g;function Wt(e){return e.replace(My,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Zi(e,t,l,s,i,o,m,D){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ft(t)):e.value!==""+Ft(t)&&(e.value=""+Ft(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Ji(e,m,Ft(t)):l!=null?Ji(e,m,Ft(l)):s!=null&&e.removeAttribute("value"),i==null&&o!=null&&(e.defaultChecked=!!o),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?e.name=""+Ft(D):e.removeAttribute("name")}function yu(e,t,l,s,i,o,m,D){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||l!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){Xi(e);return}l=l!=null?""+Ft(l):"",t=t!=null?""+Ft(t):l,D||t===e.value||(e.value=t),e.defaultValue=t}s=s??i,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=D?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Xi(e)}function Ji(e,t,l){t==="number"&&ar(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Xl(e,t,l,s){if(e=e.options,t){t={};for(var i=0;i<l.length;i++)t["$"+l[i]]=!0;for(l=0;l<e.length;l++)i=t.hasOwnProperty("$"+e[l].value),e[l].selected!==i&&(e[l].selected=i),i&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Ft(l),t=null,i=0;i<e.length;i++){if(e[i].value===l){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function bu(e,t,l){if(t!=null&&(t=""+Ft(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Ft(l):""}function gu(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(d(92));if(ie(s)){if(1<s.length)throw Error(d(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=Ft(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),Xi(e)}function Zl(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Ry=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vu(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||Ry.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Nu(e,t,l){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var i in t)s=t[i],t.hasOwnProperty(i)&&l[i]!==s&&vu(e,i,s)}else for(var o in t)t.hasOwnProperty(o)&&vu(e,o,t[o])}function Pi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ly=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lr(e){return Ly.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Sa(){}var Fi=null;function Wi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Jl=null,Pl=null;function ju(e){var t=Yl(e);if(t&&(e=t.stateNode)){var l=e[Mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Zi(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Wt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var i=s[Mt]||null;if(!i)throw Error(d(90));Zi(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&hu(s)}break e;case"textarea":bu(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Xl(e,!!l.multiple,t,!1)}}}var ec=!1;function Su(e,t,l){if(ec)return e(t,l);ec=!0;try{var s=e(t);return s}finally{if(ec=!1,(Jl!==null||Pl!==null)&&(Vr(),Jl&&(t=Jl,e=Pl,Pl=Jl=null,ju(t),e)))for(t=0;t<e.length;t++)ju(e[t])}}function qn(e,t){var l=e.stateNode;if(l===null)return null;var s=l[Mt]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(d(231,t,typeof l));return l}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tc=!1;if(wa)try{var In={};Object.defineProperty(In,"passive",{get:function(){tc=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{tc=!1}var qa=null,ac=null,nr=null;function wu(){if(nr)return nr;var e,t=ac,l=t.length,s,i="value"in qa?qa.value:qa.textContent,o=i.length;for(e=0;e<l&&t[e]===i[e];e++);var m=l-e;for(s=1;s<=m&&t[l-s]===i[o-s];s++);return nr=i.slice(e,1<s?1-s:void 0)}function sr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rr(){return!0}function Du(){return!1}function Rt(e){function t(l,s,i,o,m){this._reactName=l,this._targetInst=i,this.type=s,this.nativeEvent=o,this.target=m,this.currentTarget=null;for(var D in e)e.hasOwnProperty(D)&&(l=e[D],this[D]=l?l(o):o[D]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?rr:Du,this.isPropagationStopped=Du,this}return g(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var gl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ir=Rt(gl),Vn=g({},gl,{view:0,detail:0}),By=Rt(Vn),lc,nc,Yn,cr=g({},Vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(lc=e.screenX-Yn.screenX,nc=e.screenY-Yn.screenY):nc=lc=0,Yn=e),lc)},movementY:function(e){return"movementY"in e?e.movementY:nc}}),Eu=Rt(cr),Uy=g({},cr,{dataTransfer:0}),Hy=Rt(Uy),$y=g({},Vn,{relatedTarget:0}),sc=Rt($y),Gy=g({},gl,{animationName:0,elapsedTime:0,pseudoElement:0}),qy=Rt(Gy),Iy=g({},gl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vy=Rt(Iy),Yy=g({},gl,{data:0}),Au=Rt(Yy),Qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xy[e])?!!t[e]:!1}function rc(){return Zy}var Jy=g({},Vn,{key:function(e){if(e.key){var t=Qy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ky[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(e){return e.type==="keypress"?sr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Py=Rt(Jy),Fy=g({},cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cu=Rt(Fy),Wy=g({},Vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),eb=Rt(Wy),tb=g({},gl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ab=Rt(tb),lb=g({},cr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nb=Rt(lb),sb=g({},gl,{newState:0,oldState:0}),rb=Rt(sb),ib=[9,13,27,32],ic=wa&&"CompositionEvent"in window,Qn=null;wa&&"documentMode"in document&&(Qn=document.documentMode);var cb=wa&&"TextEvent"in window&&!Qn,Tu=wa&&(!ic||Qn&&8<Qn&&11>=Qn),Ou=" ",ku=!1;function _u(e,t){switch(e){case"keyup":return ib.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fl=!1;function ob(e,t){switch(e){case"compositionend":return Mu(t);case"keypress":return t.which!==32?null:(ku=!0,Ou);case"textInput":return e=t.data,e===Ou&&ku?null:e;default:return null}}function db(e,t){if(Fl)return e==="compositionend"||!ic&&_u(e,t)?(e=wu(),nr=ac=qa=null,Fl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tu&&t.locale!=="ko"?null:t.data;default:return null}}var ub={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ub[e.type]:t==="textarea"}function zu(e,t,l,s){Jl?Pl?Pl.push(s):Pl=[s]:Jl=s,t=Pr(t,"onChange"),0<t.length&&(l=new ir("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var Kn=null,Xn=null;function fb(e){bm(e,0)}function or(e){var t=Gn(e);if(hu(t))return e}function Lu(e,t){if(e==="change")return t}var Bu=!1;if(wa){var cc;if(wa){var oc="oninput"in document;if(!oc){var Uu=document.createElement("div");Uu.setAttribute("oninput","return;"),oc=typeof Uu.oninput=="function"}cc=oc}else cc=!1;Bu=cc&&(!document.documentMode||9<document.documentMode)}function Hu(){Kn&&(Kn.detachEvent("onpropertychange",$u),Xn=Kn=null)}function $u(e){if(e.propertyName==="value"&&or(Xn)){var t=[];zu(t,Xn,e,Wi(e)),Su(fb,t)}}function xb(e,t,l){e==="focusin"?(Hu(),Kn=t,Xn=l,Kn.attachEvent("onpropertychange",$u)):e==="focusout"&&Hu()}function mb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return or(Xn)}function pb(e,t){if(e==="click")return or(t)}function hb(e,t){if(e==="input"||e==="change")return or(t)}function yb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:yb;function Zn(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var i=l[s];if(!we.call(t,i)||!qt(e[i],t[i]))return!1}return!0}function Gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qu(e,t){var l=Gu(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Gu(l)}}function Iu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Iu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ar(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=ar(e.document)}return t}function dc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var bb=wa&&"documentMode"in document&&11>=document.documentMode,Wl=null,uc=null,Jn=null,fc=!1;function Yu(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;fc||Wl==null||Wl!==ar(s)||(s=Wl,"selectionStart"in s&&dc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Jn&&Zn(Jn,s)||(Jn=s,s=Pr(uc,"onSelect"),0<s.length&&(t=new ir("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=Wl)))}function vl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var en={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionrun:vl("Transition","TransitionRun"),transitionstart:vl("Transition","TransitionStart"),transitioncancel:vl("Transition","TransitionCancel"),transitionend:vl("Transition","TransitionEnd")},xc={},Qu={};wa&&(Qu=document.createElement("div").style,"AnimationEvent"in window||(delete en.animationend.animation,delete en.animationiteration.animation,delete en.animationstart.animation),"TransitionEvent"in window||delete en.transitionend.transition);function Nl(e){if(xc[e])return xc[e];if(!en[e])return e;var t=en[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Qu)return xc[e]=t[l];return e}var Ku=Nl("animationend"),Xu=Nl("animationiteration"),Zu=Nl("animationstart"),gb=Nl("transitionrun"),vb=Nl("transitionstart"),Nb=Nl("transitioncancel"),Ju=Nl("transitionend"),Pu=new Map,mc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mc.push("scrollEnd");function fa(e,t){Pu.set(e,t),bl(t,[e])}var dr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ea=[],tn=0,pc=0;function ur(){for(var e=tn,t=pc=tn=0;t<e;){var l=ea[t];ea[t++]=null;var s=ea[t];ea[t++]=null;var i=ea[t];ea[t++]=null;var o=ea[t];if(ea[t++]=null,s!==null&&i!==null){var m=s.pending;m===null?i.next=i:(i.next=m.next,m.next=i),s.pending=i}o!==0&&Fu(l,i,o)}}function fr(e,t,l,s){ea[tn++]=e,ea[tn++]=t,ea[tn++]=l,ea[tn++]=s,pc|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function hc(e,t,l,s){return fr(e,t,l,s),xr(e)}function jl(e,t){return fr(e,null,null,t),xr(e)}function Fu(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var i=!1,o=e.return;o!==null;)o.childLanes|=l,s=o.alternate,s!==null&&(s.childLanes|=l),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(i=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,i&&t!==null&&(i=31-Gt(l),e=o.hiddenUpdates,s=e[i],s===null?e[i]=[t]:s.push(t),t.lane=l|536870912),o):null}function xr(e){if(50<bs)throw bs=0,Eo=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var an={};function jb(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,l,s){return new jb(e,t,l,s)}function yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Da(e,t){var l=e.alternate;return l===null?(l=It(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Wu(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mr(e,t,l,s,i,o){var m=0;if(s=e,typeof e=="function")yc(e)&&(m=1);else if(typeof e=="string")m=Ag(e,l,le.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=It(31,l,t,i),e.elementType=ne,e.lanes=o,e;case M:return Sl(l.children,i,o,t);case v:m=8,i|=24;break;case S:return e=It(12,l,t,i|2),e.elementType=S,e.lanes=o,e;case R:return e=It(13,l,t,i),e.elementType=R,e.lanes=o,e;case j:return e=It(19,l,t,i),e.elementType=j,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case T:m=10;break e;case z:m=9;break e;case k:m=11;break e;case B:m=14;break e;case q:m=16,s=null;break e}m=29,l=Error(d(130,e===null?"null":typeof e,"")),s=null}return t=It(m,l,t,i),t.elementType=e,t.type=s,t.lanes=o,t}function Sl(e,t,l,s){return e=It(7,e,s,t),e.lanes=l,e}function bc(e,t,l){return e=It(6,e,null,t),e.lanes=l,e}function ef(e){var t=It(18,null,null,0);return t.stateNode=e,t}function gc(e,t,l){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var tf=new WeakMap;function ta(e,t){if(typeof e=="object"&&e!==null){var l=tf.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Te(t)},tf.set(e,t),t)}return{value:e,source:t,stack:Te(t)}}var ln=[],nn=0,pr=null,Pn=0,aa=[],la=0,Ia=null,ha=1,ya="";function Ea(e,t){ln[nn++]=Pn,ln[nn++]=pr,pr=e,Pn=t}function af(e,t,l){aa[la++]=ha,aa[la++]=ya,aa[la++]=Ia,Ia=e;var s=ha;e=ya;var i=32-Gt(s)-1;s&=~(1<<i),l+=1;var o=32-Gt(t)+i;if(30<o){var m=i-i%5;o=(s&(1<<m)-1).toString(32),s>>=m,i-=m,ha=1<<32-Gt(t)+i|l<<i|s,ya=o+e}else ha=1<<o|l<<i|s,ya=e}function vc(e){e.return!==null&&(Ea(e,1),af(e,1,0))}function Nc(e){for(;e===pr;)pr=ln[--nn],ln[nn]=null,Pn=ln[--nn],ln[nn]=null;for(;e===Ia;)Ia=aa[--la],aa[la]=null,ya=aa[--la],aa[la]=null,ha=aa[--la],aa[la]=null}function lf(e,t){aa[la++]=ha,aa[la++]=ya,aa[la++]=Ia,ha=t.id,ya=t.overflow,Ia=e}var St=null,et=null,ze=!1,Va=null,na=!1,jc=Error(d(519));function Ya(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fn(ta(t,e)),jc}function nf(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[jt]=e,t[Mt]=s,l){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(l=0;l<vs.length;l++)_e(vs[l],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),yu(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),gu(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||jm(t.textContent,l)?(s.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),s.onScroll!=null&&_e("scroll",t),s.onScrollEnd!=null&&_e("scrollend",t),s.onClick!=null&&(t.onclick=Sa),t=!0):t=!1,t||Ya(e,!0)}function sf(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:na=!1;return;case 27:case 3:na=!0;return;default:St=St.return}}function sn(e){if(e!==St)return!1;if(!ze)return sf(e),ze=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Go(e.type,e.memoizedProps)),l=!l),l&&et&&Ya(e),sf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));et=km(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));et=km(e)}else t===27?(t=et,sl(e.type)?(e=Qo,Qo=null,et=e):et=t):et=St?ra(e.stateNode.nextSibling):null;return!0}function wl(){et=St=null,ze=!1}function Sc(){var e=Va;return e!==null&&(Ut===null?Ut=e:Ut.push.apply(Ut,e),Va=null),e}function Fn(e){Va===null?Va=[e]:Va.push(e)}var wc=E(null),Dl=null,Aa=null;function Qa(e,t,l){Z(wc,t._currentValue),t._currentValue=l}function Ca(e){e._currentValue=wc.current,V(wc)}function Dc(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function Ec(e,t,l,s){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var o=i.dependencies;if(o!==null){var m=i.child;o=o.firstContext;e:for(;o!==null;){var D=o;o=i;for(var _=0;_<t.length;_++)if(D.context===t[_]){o.lanes|=l,D=o.alternate,D!==null&&(D.lanes|=l),Dc(o.return,l,e),s||(m=null);break e}o=D.next}}else if(i.tag===18){if(m=i.return,m===null)throw Error(d(341));m.lanes|=l,o=m.alternate,o!==null&&(o.lanes|=l),Dc(m,l,e),m=null}else m=i.child;if(m!==null)m.return=i;else for(m=i;m!==null;){if(m===e){m=null;break}if(i=m.sibling,i!==null){i.return=m.return,m=i;break}m=m.return}i=m}}function rn(e,t,l,s){e=null;for(var i=t,o=!1;i!==null;){if(!o){if((i.flags&524288)!==0)o=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var m=i.alternate;if(m===null)throw Error(d(387));if(m=m.memoizedProps,m!==null){var D=i.type;qt(i.pendingProps.value,m.value)||(e!==null?e.push(D):e=[D])}}else if(i===P.current){if(m=i.alternate,m===null)throw Error(d(387));m.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Ds):e=[Ds])}i=i.return}e!==null&&Ec(t,e,l,s),t.flags|=262144}function hr(e){for(e=e.firstContext;e!==null;){if(!qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function El(e){Dl=e,Aa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function wt(e){return rf(Dl,e)}function yr(e,t){return Dl===null&&El(e),rf(e,t)}function rf(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Aa===null){if(e===null)throw Error(d(308));Aa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Aa=Aa.next=t;return l}var Sb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},wb=n.unstable_scheduleCallback,Db=n.unstable_NormalPriority,ut={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new Sb,data:new Map,refCount:0}}function Wn(e){e.refCount--,e.refCount===0&&wb(Db,function(){e.controller.abort()})}var es=null,Cc=0,cn=0,on=null;function Eb(e,t){if(es===null){var l=es=[];Cc=0,cn=_o(),on={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Cc++,t.then(cf,cf),t}function cf(){if(--Cc===0&&es!==null){on!==null&&(on.status="fulfilled");var e=es;es=null,cn=0,on=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ab(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(i){l.push(i)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var i=0;i<l.length;i++)(0,l[i])(t)},function(i){for(s.status="rejected",s.reason=i,i=0;i<l.length;i++)(0,l[i])(void 0)}),s}var of=O.S;O.S=function(e,t){Qx=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Eb(e,t),of!==null&&of(e,t)};var Al=E(null);function Tc(){var e=Al.current;return e!==null?e:Pe.pooledCache}function br(e,t){t===null?Z(Al,Al.current):Z(Al,t.pool)}function df(){var e=Tc();return e===null?null:{parent:ut._currentValue,pool:e}}var dn=Error(d(460)),Oc=Error(d(474)),gr=Error(d(542)),vr={then:function(){}};function uf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ff(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(Sa,Sa),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mf(e),e;default:if(typeof t.status=="string")t.then(Sa,Sa);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=s}},function(s){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,mf(e),e}throw Tl=t,dn}}function Cl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Tl=l,dn):l}}var Tl=null;function xf(){if(Tl===null)throw Error(d(459));var e=Tl;return Tl=null,e}function mf(e){if(e===dn||e===gr)throw Error(d(483))}var un=null,ts=0;function Nr(e){var t=ts;return ts+=1,un===null&&(un=[]),ff(un,e,t)}function as(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function jr(e,t){throw t.$$typeof===y?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pf(e){function t($,U){if(e){var I=$.deletions;I===null?($.deletions=[U],$.flags|=16):I.push(U)}}function l($,U){if(!e)return null;for(;U!==null;)t($,U),U=U.sibling;return null}function s($){for(var U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function i($,U){return $=Da($,U),$.index=0,$.sibling=null,$}function o($,U,I){return $.index=I,e?(I=$.alternate,I!==null?(I=I.index,I<U?($.flags|=67108866,U):I):($.flags|=67108866,U)):($.flags|=1048576,U)}function m($){return e&&$.alternate===null&&($.flags|=67108866),$}function D($,U,I,te){return U===null||U.tag!==6?(U=bc(I,$.mode,te),U.return=$,U):(U=i(U,I),U.return=$,U)}function _($,U,I,te){var be=I.type;return be===M?W($,U,I.props.children,te,I.key):U!==null&&(U.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===q&&Cl(be)===U.type)?(U=i(U,I.props),as(U,I),U.return=$,U):(U=mr(I.type,I.key,I.props,null,$.mode,te),as(U,I),U.return=$,U)}function Y($,U,I,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==I.containerInfo||U.stateNode.implementation!==I.implementation?(U=gc(I,$.mode,te),U.return=$,U):(U=i(U,I.children||[]),U.return=$,U)}function W($,U,I,te,be){return U===null||U.tag!==7?(U=Sl(I,$.mode,te,be),U.return=$,U):(U=i(U,I),U.return=$,U)}function ae($,U,I){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=bc(""+U,$.mode,I),U.return=$,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return I=mr(U.type,U.key,U.props,null,$.mode,I),as(I,U),I.return=$,I;case C:return U=gc(U,$.mode,I),U.return=$,U;case q:return U=Cl(U),ae($,U,I)}if(ie(U)||K(U))return U=Sl(U,$.mode,I,null),U.return=$,U;if(typeof U.then=="function")return ae($,Nr(U),I);if(U.$$typeof===T)return ae($,yr($,U),I);jr($,U)}return null}function Q($,U,I,te){var be=U!==null?U.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return be!==null?null:D($,U,""+I,te);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return I.key===be?_($,U,I,te):null;case C:return I.key===be?Y($,U,I,te):null;case q:return I=Cl(I),Q($,U,I,te)}if(ie(I)||K(I))return be!==null?null:W($,U,I,te,null);if(typeof I.then=="function")return Q($,U,Nr(I),te);if(I.$$typeof===T)return Q($,U,yr($,I),te);jr($,I)}return null}function X($,U,I,te,be){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return $=$.get(I)||null,D(U,$,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return $=$.get(te.key===null?I:te.key)||null,_(U,$,te,be);case C:return $=$.get(te.key===null?I:te.key)||null,Y(U,$,te,be);case q:return te=Cl(te),X($,U,I,te,be)}if(ie(te)||K(te))return $=$.get(I)||null,W(U,$,te,be,null);if(typeof te.then=="function")return X($,U,I,Nr(te),be);if(te.$$typeof===T)return X($,U,I,yr(U,te),be);jr(U,te)}return null}function fe($,U,I,te){for(var be=null,Ue=null,xe=U,Ae=U=0,Re=null;xe!==null&&Ae<I.length;Ae++){xe.index>Ae?(Re=xe,xe=null):Re=xe.sibling;var He=Q($,xe,I[Ae],te);if(He===null){xe===null&&(xe=Re);break}e&&xe&&He.alternate===null&&t($,xe),U=o(He,U,Ae),Ue===null?be=He:Ue.sibling=He,Ue=He,xe=Re}if(Ae===I.length)return l($,xe),ze&&Ea($,Ae),be;if(xe===null){for(;Ae<I.length;Ae++)xe=ae($,I[Ae],te),xe!==null&&(U=o(xe,U,Ae),Ue===null?be=xe:Ue.sibling=xe,Ue=xe);return ze&&Ea($,Ae),be}for(xe=s(xe);Ae<I.length;Ae++)Re=X(xe,$,Ae,I[Ae],te),Re!==null&&(e&&Re.alternate!==null&&xe.delete(Re.key===null?Ae:Re.key),U=o(Re,U,Ae),Ue===null?be=Re:Ue.sibling=Re,Ue=Re);return e&&xe.forEach(function(dl){return t($,dl)}),ze&&Ea($,Ae),be}function ve($,U,I,te){if(I==null)throw Error(d(151));for(var be=null,Ue=null,xe=U,Ae=U=0,Re=null,He=I.next();xe!==null&&!He.done;Ae++,He=I.next()){xe.index>Ae?(Re=xe,xe=null):Re=xe.sibling;var dl=Q($,xe,He.value,te);if(dl===null){xe===null&&(xe=Re);break}e&&xe&&dl.alternate===null&&t($,xe),U=o(dl,U,Ae),Ue===null?be=dl:Ue.sibling=dl,Ue=dl,xe=Re}if(He.done)return l($,xe),ze&&Ea($,Ae),be;if(xe===null){for(;!He.done;Ae++,He=I.next())He=ae($,He.value,te),He!==null&&(U=o(He,U,Ae),Ue===null?be=He:Ue.sibling=He,Ue=He);return ze&&Ea($,Ae),be}for(xe=s(xe);!He.done;Ae++,He=I.next())He=X(xe,$,Ae,He.value,te),He!==null&&(e&&He.alternate!==null&&xe.delete(He.key===null?Ae:He.key),U=o(He,U,Ae),Ue===null?be=He:Ue.sibling=He,Ue=He);return e&&xe.forEach(function(Ug){return t($,Ug)}),ze&&Ea($,Ae),be}function Ze($,U,I,te){if(typeof I=="object"&&I!==null&&I.type===M&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case w:e:{for(var be=I.key;U!==null;){if(U.key===be){if(be=I.type,be===M){if(U.tag===7){l($,U.sibling),te=i(U,I.props.children),te.return=$,$=te;break e}}else if(U.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===q&&Cl(be)===U.type){l($,U.sibling),te=i(U,I.props),as(te,I),te.return=$,$=te;break e}l($,U);break}else t($,U);U=U.sibling}I.type===M?(te=Sl(I.props.children,$.mode,te,I.key),te.return=$,$=te):(te=mr(I.type,I.key,I.props,null,$.mode,te),as(te,I),te.return=$,$=te)}return m($);case C:e:{for(be=I.key;U!==null;){if(U.key===be)if(U.tag===4&&U.stateNode.containerInfo===I.containerInfo&&U.stateNode.implementation===I.implementation){l($,U.sibling),te=i(U,I.children||[]),te.return=$,$=te;break e}else{l($,U);break}else t($,U);U=U.sibling}te=gc(I,$.mode,te),te.return=$,$=te}return m($);case q:return I=Cl(I),Ze($,U,I,te)}if(ie(I))return fe($,U,I,te);if(K(I)){if(be=K(I),typeof be!="function")throw Error(d(150));return I=be.call(I),ve($,U,I,te)}if(typeof I.then=="function")return Ze($,U,Nr(I),te);if(I.$$typeof===T)return Ze($,U,yr($,I),te);jr($,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,U!==null&&U.tag===6?(l($,U.sibling),te=i(U,I),te.return=$,$=te):(l($,U),te=bc(I,$.mode,te),te.return=$,$=te),m($)):l($,U)}return function($,U,I,te){try{ts=0;var be=Ze($,U,I,te);return un=null,be}catch(xe){if(xe===dn||xe===gr)throw xe;var Ue=It(29,xe,null,$.mode);return Ue.lanes=te,Ue.return=$,Ue}}}var Ol=pf(!0),hf=pf(!1),Ka=!1;function kc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _c(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Za(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ge&2)!==0){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,t=xr(e),Fu(e,null,l),t}return fr(e,s,t,l),xr(e)}function ls(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,ru(e,l)}}function Mc(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var i=null,o=null;if(l=l.firstBaseUpdate,l!==null){do{var m={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};o===null?i=o=m:o=o.next=m,l=l.next}while(l!==null);o===null?i=o=t:o=o.next=t}else i=o=t;l={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Rc=!1;function ns(){if(Rc){var e=on;if(e!==null)throw e}}function ss(e,t,l,s){Rc=!1;var i=e.updateQueue;Ka=!1;var o=i.firstBaseUpdate,m=i.lastBaseUpdate,D=i.shared.pending;if(D!==null){i.shared.pending=null;var _=D,Y=_.next;_.next=null,m===null?o=Y:m.next=Y,m=_;var W=e.alternate;W!==null&&(W=W.updateQueue,D=W.lastBaseUpdate,D!==m&&(D===null?W.firstBaseUpdate=Y:D.next=Y,W.lastBaseUpdate=_))}if(o!==null){var ae=i.baseState;m=0,W=Y=_=null,D=o;do{var Q=D.lane&-536870913,X=Q!==D.lane;if(X?(Me&Q)===Q:(s&Q)===Q){Q!==0&&Q===cn&&(Rc=!0),W!==null&&(W=W.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var fe=e,ve=D;Q=t;var Ze=l;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){ae=fe.call(Ze,ae,Q);break e}ae=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,Q=typeof fe=="function"?fe.call(Ze,ae,Q):fe,Q==null)break e;ae=g({},ae,Q);break e;case 2:Ka=!0}}Q=D.callback,Q!==null&&(e.flags|=64,X&&(e.flags|=8192),X=i.callbacks,X===null?i.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:D.tag,payload:D.payload,callback:D.callback,next:null},W===null?(Y=W=X,_=ae):W=W.next=X,m|=Q;if(D=D.next,D===null){if(D=i.shared.pending,D===null)break;X=D,D=X.next,X.next=null,i.lastBaseUpdate=X,i.shared.pending=null}}while(!0);W===null&&(_=ae),i.baseState=_,i.firstBaseUpdate=Y,i.lastBaseUpdate=W,o===null&&(i.shared.lanes=0),el|=m,e.lanes=m,e.memoizedState=ae}}function yf(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function bf(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)yf(l[e],t)}var fn=E(null),Sr=E(0);function gf(e,t){e=Ba,Z(Sr,e),Z(fn,t),Ba=e|t.baseLanes}function zc(){Z(Sr,Ba),Z(fn,fn.current)}function Lc(){Ba=Sr.current,V(fn),V(Sr)}var Vt=E(null),sa=null;function Ja(e){var t=e.alternate;Z(ct,ct.current&1),Z(Vt,e),sa===null&&(t===null||fn.current!==null||t.memoizedState!==null)&&(sa=e)}function Bc(e){Z(ct,ct.current),Z(Vt,e),sa===null&&(sa=e)}function vf(e){e.tag===22?(Z(ct,ct.current),Z(Vt,e),sa===null&&(sa=e)):Pa()}function Pa(){Z(ct,ct.current),Z(Vt,Vt.current)}function Yt(e){V(Vt),sa===e&&(sa=null),V(ct)}var ct=E(0);function wr(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Vo(l)||Yo(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ta=0,De=null,Ke=null,ft=null,Dr=!1,xn=!1,kl=!1,Er=0,rs=0,mn=null,Cb=0;function st(){throw Error(d(321))}function Uc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!qt(e[l],t[l]))return!1;return!0}function Hc(e,t,l,s,i,o){return Ta=o,De=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?lx:eo,kl=!1,o=l(s,i),kl=!1,xn&&(o=jf(t,l,s,i)),Nf(e),o}function Nf(e){O.H=os;var t=Ke!==null&&Ke.next!==null;if(Ta=0,ft=Ke=De=null,Dr=!1,rs=0,mn=null,t)throw Error(d(300));e===null||xt||(e=e.dependencies,e!==null&&hr(e)&&(xt=!0))}function jf(e,t,l,s){De=e;var i=0;do{if(xn&&(mn=null),rs=0,xn=!1,25<=i)throw Error(d(301));if(i+=1,ft=Ke=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}O.H=nx,o=t(l,s)}while(xn);return o}function Tb(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?is(t):t,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(De.flags|=1024),t}function $c(){var e=Er!==0;return Er=0,e}function Gc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function qc(e){if(Dr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Dr=!1}Ta=0,ft=Ke=De=null,xn=!1,rs=Er=0,mn=null}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?De.memoizedState=ft=e:ft=ft.next=e,ft}function ot(){if(Ke===null){var e=De.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=ft===null?De.memoizedState:ft.next;if(t!==null)ft=t,Ke=e;else{if(e===null)throw De.alternate===null?Error(d(467)):Error(d(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},ft===null?De.memoizedState=ft=e:ft=ft.next=e}return ft}function Ar(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function is(e){var t=rs;return rs+=1,mn===null&&(mn=[]),e=ff(mn,e,t),t=De,(ft===null?t.memoizedState:ft.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?lx:eo),e}function Cr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return is(e);if(e.$$typeof===T)return wt(e)}throw Error(d(438,String(e)))}function Ic(e){var t=null,l=De.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=De.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Ar(),De.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=ce;return t.index++,l}function Oa(e,t){return typeof t=="function"?t(e):t}function Tr(e){var t=ot();return Vc(t,Ke,e)}function Vc(e,t,l){var s=e.queue;if(s===null)throw Error(d(311));s.lastRenderedReducer=l;var i=e.baseQueue,o=s.pending;if(o!==null){if(i!==null){var m=i.next;i.next=o.next,o.next=m}t.baseQueue=i=o,s.pending=null}if(o=e.baseState,i===null)e.memoizedState=o;else{t=i.next;var D=m=null,_=null,Y=t,W=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(Me&ae)===ae:(Ta&ae)===ae){var Q=Y.revertLane;if(Q===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===cn&&(W=!0);else if((Ta&Q)===Q){Y=Y.next,Q===cn&&(W=!0);continue}else ae={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},_===null?(D=_=ae,m=o):_=_.next=ae,De.lanes|=Q,el|=Q;ae=Y.action,kl&&l(o,ae),o=Y.hasEagerState?Y.eagerState:l(o,ae)}else Q={lane:ae,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},_===null?(D=_=Q,m=o):_=_.next=Q,De.lanes|=ae,el|=ae;Y=Y.next}while(Y!==null&&Y!==t);if(_===null?m=o:_.next=D,!qt(o,e.memoizedState)&&(xt=!0,W&&(l=on,l!==null)))throw l;e.memoizedState=o,e.baseState=m,e.baseQueue=_,s.lastRenderedState=o}return i===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Yc(e){var t=ot(),l=t.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=e;var s=l.dispatch,i=l.pending,o=t.memoizedState;if(i!==null){l.pending=null;var m=i=i.next;do o=e(o,m.action),m=m.next;while(m!==i);qt(o,t.memoizedState)||(xt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),l.lastRenderedState=o}return[o,s]}function Sf(e,t,l){var s=De,i=ot(),o=ze;if(o){if(l===void 0)throw Error(d(407));l=l()}else l=t();var m=!qt((Ke||i).memoizedState,l);if(m&&(i.memoizedState=l,xt=!0),i=i.queue,Xc(Ef.bind(null,s,i,e),[e]),i.getSnapshot!==t||m||ft!==null&&ft.memoizedState.tag&1){if(s.flags|=2048,pn(9,{destroy:void 0},Df.bind(null,s,i,l,t),null),Pe===null)throw Error(d(349));o||(Ta&127)!==0||wf(s,t,l)}return l}function wf(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=De.updateQueue,t===null?(t=Ar(),De.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Df(e,t,l,s){t.value=l,t.getSnapshot=s,Af(t)&&Cf(e)}function Ef(e,t,l){return l(function(){Af(t)&&Cf(e)})}function Af(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!qt(e,l)}catch{return!0}}function Cf(e){var t=jl(e,2);t!==null&&Ht(t,e,2)}function Qc(e){var t=Ot();if(typeof e=="function"){var l=e;if(e=l(),kl){$a(!0);try{l()}finally{$a(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:e},t}function Tf(e,t,l,s){return e.baseState=l,Vc(e,Ke,typeof s=="function"?s:Oa)}function Ob(e,t,l,s,i){if(_r(e))throw Error(d(485));if(e=t.action,e!==null){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){o.listeners.push(m)}};O.T!==null?l(!0):o.isTransition=!1,s(o),l=t.pending,l===null?(o.next=t.pending=o,Of(t,o)):(o.next=l.next,t.pending=l.next=o)}}function Of(e,t){var l=t.action,s=t.payload,i=e.state;if(t.isTransition){var o=O.T,m={};O.T=m;try{var D=l(i,s),_=O.S;_!==null&&_(m,D),kf(e,t,D)}catch(Y){Kc(e,t,Y)}finally{o!==null&&m.types!==null&&(o.types=m.types),O.T=o}}else try{o=l(i,s),kf(e,t,o)}catch(Y){Kc(e,t,Y)}}function kf(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){_f(e,t,s)},function(s){return Kc(e,t,s)}):_f(e,t,l)}function _f(e,t,l){t.status="fulfilled",t.value=l,Mf(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Of(e,l)))}function Kc(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,Mf(t),t=t.next;while(t!==s)}e.action=null}function Mf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Rf(e,t){return t}function zf(e,t){if(ze){var l=Pe.formState;if(l!==null){e:{var s=De;if(ze){if(et){t:{for(var i=et,o=na;i.nodeType!==8;){if(!o){i=null;break t}if(i=ra(i.nextSibling),i===null){i=null;break t}}o=i.data,i=o==="F!"||o==="F"?i:null}if(i){et=ra(i.nextSibling),s=i.data==="F!";break e}}Ya(s)}s=!1}s&&(t=l[0])}}return l=Ot(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:t},l.queue=s,l=ex.bind(null,De,s),s.dispatch=l,s=Qc(!1),o=Wc.bind(null,De,!1,s.queue),s=Ot(),i={state:t,dispatch:null,action:e,pending:null},s.queue=i,l=Ob.bind(null,De,i,o,l),i.dispatch=l,s.memoizedState=e,[t,l,!1]}function Lf(e){var t=ot();return Bf(t,Ke,e)}function Bf(e,t,l){if(t=Vc(e,t,Rf)[0],e=Tr(Oa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=is(t)}catch(m){throw m===dn?gr:m}else s=t;t=ot();var i=t.queue,o=i.dispatch;return l!==t.memoizedState&&(De.flags|=2048,pn(9,{destroy:void 0},kb.bind(null,i,l),null)),[s,o,e]}function kb(e,t){e.action=t}function Uf(e){var t=ot(),l=Ke;if(l!==null)return Bf(t,l,e);ot(),t=t.memoizedState,l=ot();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function pn(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=De.updateQueue,t===null&&(t=Ar(),De.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function Hf(){return ot().memoizedState}function Or(e,t,l,s){var i=Ot();De.flags|=e,i.memoizedState=pn(1|t,{destroy:void 0},l,s===void 0?null:s)}function kr(e,t,l,s){var i=ot();s=s===void 0?null:s;var o=i.memoizedState.inst;Ke!==null&&s!==null&&Uc(s,Ke.memoizedState.deps)?i.memoizedState=pn(t,o,l,s):(De.flags|=e,i.memoizedState=pn(1|t,o,l,s))}function $f(e,t){Or(8390656,8,e,t)}function Xc(e,t){kr(2048,8,e,t)}function _b(e){De.flags|=4;var t=De.updateQueue;if(t===null)t=Ar(),De.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Gf(e){var t=ot().memoizedState;return _b({ref:t,nextImpl:e}),function(){if((Ge&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function qf(e,t){return kr(4,2,e,t)}function If(e,t){return kr(4,4,e,t)}function Vf(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yf(e,t,l){l=l!=null?l.concat([e]):null,kr(4,4,Vf.bind(null,t,e),l)}function Zc(){}function Qf(e,t){var l=ot();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&Uc(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function Kf(e,t){var l=ot();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&Uc(t,s[1]))return s[0];if(s=e(),kl){$a(!0);try{e()}finally{$a(!1)}}return l.memoizedState=[s,t],s}function Jc(e,t,l){return l===void 0||(Ta&1073741824)!==0&&(Me&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Xx(),De.lanes|=e,el|=e,l)}function Xf(e,t,l,s){return qt(l,t)?l:fn.current!==null?(e=Jc(e,l,s),qt(e,t)||(xt=!0),e):(Ta&42)===0||(Ta&1073741824)!==0&&(Me&261930)===0?(xt=!0,e.memoizedState=l):(e=Xx(),De.lanes|=e,el|=e,t)}function Zf(e,t,l,s,i){var o=L.p;L.p=o!==0&&8>o?o:8;var m=O.T,D={};O.T=D,Wc(e,!1,t,l);try{var _=i(),Y=O.S;if(Y!==null&&Y(D,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var W=Ab(_,s);cs(e,t,W,Xt(e))}else cs(e,t,s,Xt(e))}catch(ae){cs(e,t,{then:function(){},status:"rejected",reason:ae},Xt())}finally{L.p=o,m!==null&&D.types!==null&&(m.types=D.types),O.T=m}}function Mb(){}function Pc(e,t,l,s){if(e.tag!==5)throw Error(d(476));var i=Jf(e).queue;Zf(e,i,t,J,l===null?Mb:function(){return Pf(e),l(s)})}function Jf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:J},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Pf(e){var t=Jf(e);t.next===null&&(t=e.alternate.memoizedState),cs(e,t.next.queue,{},Xt())}function Fc(){return wt(Ds)}function Ff(){return ot().memoizedState}function Wf(){return ot().memoizedState}function Rb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Xt();e=Xa(l);var s=Za(t,e,l);s!==null&&(Ht(s,t,l),ls(s,t,l)),t={cache:Ac()},e.payload=t;return}t=t.return}}function zb(e,t,l){var s=Xt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_r(e)?tx(t,l):(l=hc(e,t,l,s),l!==null&&(Ht(l,e,s),ax(l,t,s)))}function ex(e,t,l){var s=Xt();cs(e,t,l,s)}function cs(e,t,l,s){var i={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(_r(e))tx(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var m=t.lastRenderedState,D=o(m,l);if(i.hasEagerState=!0,i.eagerState=D,qt(D,m))return fr(e,t,i,0),Pe===null&&ur(),!1}catch{}if(l=hc(e,t,i,s),l!==null)return Ht(l,e,s),ax(l,t,s),!0}return!1}function Wc(e,t,l,s){if(s={lane:2,revertLane:_o(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},_r(e)){if(t)throw Error(d(479))}else t=hc(e,l,s,2),t!==null&&Ht(t,e,2)}function _r(e){var t=e.alternate;return e===De||t!==null&&t===De}function tx(e,t){xn=Dr=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function ax(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,ru(e,l)}}var os={readContext:wt,use:Cr,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};os.useEffectEvent=st;var lx={readContext:wt,use:Cr,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:$f,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Or(4194308,4,Vf.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Or(4194308,4,e,t)},useInsertionEffect:function(e,t){Or(4,2,e,t)},useMemo:function(e,t){var l=Ot();t=t===void 0?null:t;var s=e();if(kl){$a(!0);try{e()}finally{$a(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=Ot();if(l!==void 0){var i=l(t);if(kl){$a(!0);try{l(t)}finally{$a(!1)}}}else i=t;return s.memoizedState=s.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},s.queue=e,e=e.dispatch=zb.bind(null,De,e),[s.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:function(e){e=Qc(e);var t=e.queue,l=ex.bind(null,De,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Zc,useDeferredValue:function(e,t){var l=Ot();return Jc(l,e,t)},useTransition:function(){var e=Qc(!1);return e=Zf.bind(null,De,e.queue,!0,!1),Ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=De,i=Ot();if(ze){if(l===void 0)throw Error(d(407));l=l()}else{if(l=t(),Pe===null)throw Error(d(349));(Me&127)!==0||wf(s,t,l)}i.memoizedState=l;var o={value:l,getSnapshot:t};return i.queue=o,$f(Ef.bind(null,s,o,e),[e]),s.flags|=2048,pn(9,{destroy:void 0},Df.bind(null,s,o,l,t),null),l},useId:function(){var e=Ot(),t=Pe.identifierPrefix;if(ze){var l=ya,s=ha;l=(s&~(1<<32-Gt(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Er++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Cb++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fc,useFormState:zf,useActionState:zf,useOptimistic:function(e){var t=Ot();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Wc.bind(null,De,!0,l),l.dispatch=t,[e,t]},useMemoCache:Ic,useCacheRefresh:function(){return Ot().memoizedState=Rb.bind(null,De)},useEffectEvent:function(e){var t=Ot(),l={impl:e};return t.memoizedState=l,function(){if((Ge&2)!==0)throw Error(d(440));return l.impl.apply(void 0,arguments)}}},eo={readContext:wt,use:Cr,useCallback:Qf,useContext:wt,useEffect:Xc,useImperativeHandle:Yf,useInsertionEffect:qf,useLayoutEffect:If,useMemo:Kf,useReducer:Tr,useRef:Hf,useState:function(){return Tr(Oa)},useDebugValue:Zc,useDeferredValue:function(e,t){var l=ot();return Xf(l,Ke.memoizedState,e,t)},useTransition:function(){var e=Tr(Oa)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:is(e),t]},useSyncExternalStore:Sf,useId:Ff,useHostTransitionStatus:Fc,useFormState:Lf,useActionState:Lf,useOptimistic:function(e,t){var l=ot();return Tf(l,Ke,e,t)},useMemoCache:Ic,useCacheRefresh:Wf};eo.useEffectEvent=Gf;var nx={readContext:wt,use:Cr,useCallback:Qf,useContext:wt,useEffect:Xc,useImperativeHandle:Yf,useInsertionEffect:qf,useLayoutEffect:If,useMemo:Kf,useReducer:Yc,useRef:Hf,useState:function(){return Yc(Oa)},useDebugValue:Zc,useDeferredValue:function(e,t){var l=ot();return Ke===null?Jc(l,e,t):Xf(l,Ke.memoizedState,e,t)},useTransition:function(){var e=Yc(Oa)[0],t=ot().memoizedState;return[typeof e=="boolean"?e:is(e),t]},useSyncExternalStore:Sf,useId:Ff,useHostTransitionStatus:Fc,useFormState:Uf,useActionState:Uf,useOptimistic:function(e,t){var l=ot();return Ke!==null?Tf(l,Ke,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Ic,useCacheRefresh:Wf};nx.useEffectEvent=Gf;function to(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:g({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var ao={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=Xt(),i=Xa(s);i.payload=t,l!=null&&(i.callback=l),t=Za(e,i,s),t!==null&&(Ht(t,e,s),ls(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=Xt(),i=Xa(s);i.tag=1,i.payload=t,l!=null&&(i.callback=l),t=Za(e,i,s),t!==null&&(Ht(t,e,s),ls(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Xt(),s=Xa(l);s.tag=2,t!=null&&(s.callback=t),t=Za(e,s,l),t!==null&&(Ht(t,e,l),ls(t,e,l))}};function sx(e,t,l,s,i,o,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,m):t.prototype&&t.prototype.isPureReactComponent?!Zn(l,s)||!Zn(i,o):!0}function rx(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function _l(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=g({},l));for(var i in e)l[i]===void 0&&(l[i]=e[i])}return l}function ix(e){dr(e)}function cx(e){console.error(e)}function ox(e){dr(e)}function Mr(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function dx(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function lo(e,t,l){return l=Xa(l),l.tag=3,l.payload={element:null},l.callback=function(){Mr(e,t)},l}function ux(e){return e=Xa(e),e.tag=3,e}function fx(e,t,l,s){var i=l.type.getDerivedStateFromError;if(typeof i=="function"){var o=s.value;e.payload=function(){return i(o)},e.callback=function(){dx(t,l,s)}}var m=l.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){dx(t,l,s),typeof i!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var D=s.stack;this.componentDidCatch(s.value,{componentStack:D!==null?D:""})})}function Lb(e,t,l,s,i){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&rn(t,l,i,!0),l=Vt.current,l!==null){switch(l.tag){case 31:case 13:return sa===null?Yr():l.alternate===null&&rt===0&&(rt=3),l.flags&=-257,l.flags|=65536,l.lanes=i,s===vr?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),To(e,s,i)),!1;case 22:return l.flags|=65536,s===vr?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),To(e,s,i)),!1}throw Error(d(435,l.tag))}return To(e,s,i),Yr(),!1}if(ze)return t=Vt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,s!==jc&&(e=Error(d(422),{cause:s}),Fn(ta(e,l)))):(s!==jc&&(t=Error(d(423),{cause:s}),Fn(ta(t,l))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,s=ta(s,l),i=lo(e.stateNode,s,i),Mc(e,i),rt!==4&&(rt=2)),!1;var o=Error(d(520),{cause:s});if(o=ta(o,l),ys===null?ys=[o]:ys.push(o),rt!==4&&(rt=2),t===null)return!0;s=ta(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=i&-i,l.lanes|=e,e=lo(l.stateNode,s,e),Mc(l,e),!1;case 1:if(t=l.type,o=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(tl===null||!tl.has(o))))return l.flags|=65536,i&=-i,l.lanes|=i,i=ux(i),fx(i,e,l,s),Mc(l,i),!1}l=l.return}while(l!==null);return!1}var no=Error(d(461)),xt=!1;function Dt(e,t,l,s){t.child=e===null?hf(t,null,l,s):Ol(t,e.child,l,s)}function xx(e,t,l,s,i){l=l.render;var o=t.ref;if("ref"in s){var m={};for(var D in s)D!=="ref"&&(m[D]=s[D])}else m=s;return El(t),s=Hc(e,t,l,m,o,i),D=$c(),e!==null&&!xt?(Gc(e,t,i),ka(e,t,i)):(ze&&D&&vc(t),t.flags|=1,Dt(e,t,s,i),t.child)}function mx(e,t,l,s,i){if(e===null){var o=l.type;return typeof o=="function"&&!yc(o)&&o.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=o,px(e,t,o,s,i)):(e=mr(l.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!xo(e,i)){var m=o.memoizedProps;if(l=l.compare,l=l!==null?l:Zn,l(m,s)&&e.ref===t.ref)return ka(e,t,i)}return t.flags|=1,e=Da(o,s),e.ref=t.ref,e.return=t,t.child=e}function px(e,t,l,s,i){if(e!==null){var o=e.memoizedProps;if(Zn(o,s)&&e.ref===t.ref)if(xt=!1,t.pendingProps=s=o,xo(e,i))(e.flags&131072)!==0&&(xt=!0);else return t.lanes=e.lanes,ka(e,t,i)}return so(e,t,l,s,i)}function hx(e,t,l,s){var i=s.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|l:l,e!==null){for(s=t.child=e.child,i=0;s!==null;)i=i|s.lanes|s.childLanes,s=s.sibling;s=i&~o}else s=0,t.child=null;return yx(e,t,o,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&br(t,o!==null?o.cachePool:null),o!==null?gf(t,o):zc(),vf(t);else return s=t.lanes=536870912,yx(e,t,o!==null?o.baseLanes|l:l,l,s)}else o!==null?(br(t,o.cachePool),gf(t,o),Pa(),t.memoizedState=null):(e!==null&&br(t,null),zc(),Pa());return Dt(e,t,i,l),t.child}function ds(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function yx(e,t,l,s,i){var o=Tc();return o=o===null?null:{parent:ut._currentValue,pool:o},t.memoizedState={baseLanes:l,cachePool:o},e!==null&&br(t,null),zc(),vf(t),e!==null&&rn(e,t,s,!0),t.childLanes=i,null}function Rr(e,t){return t=Lr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bx(e,t,l){return Ol(t,e.child,null,l),e=Rr(t,t.pendingProps),e.flags|=2,Yt(t),t.memoizedState=null,e}function Bb(e,t,l){var s=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ze){if(s.mode==="hidden")return e=Rr(t,s),t.lanes=536870912,ds(null,e);if(Bc(t),(e=et)?(e=Om(e,na),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ia!==null?{id:ha,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},l=ef(e),l.return=t,t.child=l,St=t,et=null)):e=null,e===null)throw Ya(t);return t.lanes=536870912,null}return Rr(t,s)}var o=e.memoizedState;if(o!==null){var m=o.dehydrated;if(Bc(t),i)if(t.flags&256)t.flags&=-257,t=bx(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(xt||rn(e,t,l,!1),i=(l&e.childLanes)!==0,xt||i){if(s=Pe,s!==null&&(m=iu(s,l),m!==0&&m!==o.retryLane))throw o.retryLane=m,jl(e,m),Ht(s,e,m),no;Yr(),t=bx(e,t,l)}else e=o.treeContext,et=ra(m.nextSibling),St=t,ze=!0,Va=null,na=!1,e!==null&&lf(t,e),t=Rr(t,s),t.flags|=4096;return t}return e=Da(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function zr(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(d(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function so(e,t,l,s,i){return El(t),l=Hc(e,t,l,s,void 0,i),s=$c(),e!==null&&!xt?(Gc(e,t,i),ka(e,t,i)):(ze&&s&&vc(t),t.flags|=1,Dt(e,t,l,i),t.child)}function gx(e,t,l,s,i,o){return El(t),t.updateQueue=null,l=jf(t,s,l,i),Nf(e),s=$c(),e!==null&&!xt?(Gc(e,t,o),ka(e,t,o)):(ze&&s&&vc(t),t.flags|=1,Dt(e,t,l,o),t.child)}function vx(e,t,l,s,i){if(El(t),t.stateNode===null){var o=an,m=l.contextType;typeof m=="object"&&m!==null&&(o=wt(m)),o=new l(s,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ao,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=s,o.state=t.memoizedState,o.refs={},kc(t),m=l.contextType,o.context=typeof m=="object"&&m!==null?wt(m):an,o.state=t.memoizedState,m=l.getDerivedStateFromProps,typeof m=="function"&&(to(t,l,m,s),o.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(m=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),m!==o.state&&ao.enqueueReplaceState(o,o.state,null),ss(t,s,o,i),ns(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){o=t.stateNode;var D=t.memoizedProps,_=_l(l,D);o.props=_;var Y=o.context,W=l.contextType;m=an,typeof W=="object"&&W!==null&&(m=wt(W));var ae=l.getDerivedStateFromProps;W=typeof ae=="function"||typeof o.getSnapshotBeforeUpdate=="function",D=t.pendingProps!==D,W||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(D||Y!==m)&&rx(t,o,s,m),Ka=!1;var Q=t.memoizedState;o.state=Q,ss(t,s,o,i),ns(),Y=t.memoizedState,D||Q!==Y||Ka?(typeof ae=="function"&&(to(t,l,ae,s),Y=t.memoizedState),(_=Ka||sx(t,l,_,s,Q,Y,m))?(W||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=Y),o.props=s,o.state=Y,o.context=m,s=_):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,_c(e,t),m=t.memoizedProps,W=_l(l,m),o.props=W,ae=t.pendingProps,Q=o.context,Y=l.contextType,_=an,typeof Y=="object"&&Y!==null&&(_=wt(Y)),D=l.getDerivedStateFromProps,(Y=typeof D=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(m!==ae||Q!==_)&&rx(t,o,s,_),Ka=!1,Q=t.memoizedState,o.state=Q,ss(t,s,o,i),ns();var X=t.memoizedState;m!==ae||Q!==X||Ka||e!==null&&e.dependencies!==null&&hr(e.dependencies)?(typeof D=="function"&&(to(t,l,D,s),X=t.memoizedState),(W=Ka||sx(t,l,W,s,Q,X,_)||e!==null&&e.dependencies!==null&&hr(e.dependencies))?(Y||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,X,_),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,X,_)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||m===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=X),o.props=s,o.state=X,o.context=_,s=W):(typeof o.componentDidUpdate!="function"||m===e.memoizedProps&&Q===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&Q===e.memoizedState||(t.flags|=1024),s=!1)}return o=s,zr(e,t),s=(t.flags&128)!==0,o||s?(o=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&s?(t.child=Ol(t,e.child,null,i),t.child=Ol(t,null,l,i)):Dt(e,t,l,i),t.memoizedState=o.state,e=t.child):e=ka(e,t,i),e}function Nx(e,t,l,s){return wl(),t.flags|=256,Dt(e,t,l,s),t.child}var ro={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function io(e){return{baseLanes:e,cachePool:df()}}function co(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Kt),e}function jx(e,t,l){var s=t.pendingProps,i=!1,o=(t.flags&128)!==0,m;if((m=o)||(m=e!==null&&e.memoizedState===null?!1:(ct.current&2)!==0),m&&(i=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(i?Ja(t):Pa(),(e=et)?(e=Om(e,na),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ia!==null?{id:ha,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},l=ef(e),l.return=t,t.child=l,St=t,et=null)):e=null,e===null)throw Ya(t);return Yo(e)?t.lanes=32:t.lanes=536870912,null}var D=s.children;return s=s.fallback,i?(Pa(),i=t.mode,D=Lr({mode:"hidden",children:D},i),s=Sl(s,i,l,null),D.return=t,s.return=t,D.sibling=s,t.child=D,s=t.child,s.memoizedState=io(l),s.childLanes=co(e,m,l),t.memoizedState=ro,ds(null,s)):(Ja(t),oo(t,D))}var _=e.memoizedState;if(_!==null&&(D=_.dehydrated,D!==null)){if(o)t.flags&256?(Ja(t),t.flags&=-257,t=uo(e,t,l)):t.memoizedState!==null?(Pa(),t.child=e.child,t.flags|=128,t=null):(Pa(),D=s.fallback,i=t.mode,s=Lr({mode:"visible",children:s.children},i),D=Sl(D,i,l,null),D.flags|=2,s.return=t,D.return=t,s.sibling=D,t.child=s,Ol(t,e.child,null,l),s=t.child,s.memoizedState=io(l),s.childLanes=co(e,m,l),t.memoizedState=ro,t=ds(null,s));else if(Ja(t),Yo(D)){if(m=D.nextSibling&&D.nextSibling.dataset,m)var Y=m.dgst;m=Y,s=Error(d(419)),s.stack="",s.digest=m,Fn({value:s,source:null,stack:null}),t=uo(e,t,l)}else if(xt||rn(e,t,l,!1),m=(l&e.childLanes)!==0,xt||m){if(m=Pe,m!==null&&(s=iu(m,l),s!==0&&s!==_.retryLane))throw _.retryLane=s,jl(e,s),Ht(m,e,s),no;Vo(D)||Yr(),t=uo(e,t,l)}else Vo(D)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,et=ra(D.nextSibling),St=t,ze=!0,Va=null,na=!1,e!==null&&lf(t,e),t=oo(t,s.children),t.flags|=4096);return t}return i?(Pa(),D=s.fallback,i=t.mode,_=e.child,Y=_.sibling,s=Da(_,{mode:"hidden",children:s.children}),s.subtreeFlags=_.subtreeFlags&65011712,Y!==null?D=Da(Y,D):(D=Sl(D,i,l,null),D.flags|=2),D.return=t,s.return=t,s.sibling=D,t.child=s,ds(null,s),s=t.child,D=e.child.memoizedState,D===null?D=io(l):(i=D.cachePool,i!==null?(_=ut._currentValue,i=i.parent!==_?{parent:_,pool:_}:i):i=df(),D={baseLanes:D.baseLanes|l,cachePool:i}),s.memoizedState=D,s.childLanes=co(e,m,l),t.memoizedState=ro,ds(e.child,s)):(Ja(t),l=e.child,e=l.sibling,l=Da(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=l,t.memoizedState=null,l)}function oo(e,t){return t=Lr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Lr(e,t){return e=It(22,e,null,t),e.lanes=0,e}function uo(e,t,l){return Ol(t,e.child,null,l),e=oo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sx(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Dc(e.return,t,l)}function fo(e,t,l,s,i,o){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:i,treeForkCount:o}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=l,m.tailMode=i,m.treeForkCount=o)}function wx(e,t,l){var s=t.pendingProps,i=s.revealOrder,o=s.tail;s=s.children;var m=ct.current,D=(m&2)!==0;if(D?(m=m&1|2,t.flags|=128):m&=1,Z(ct,m),Dt(e,t,s,l),s=ze?Pn:0,!D&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sx(e,l,t);else if(e.tag===19)Sx(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(l=t.child,i=null;l!==null;)e=l.alternate,e!==null&&wr(e)===null&&(i=l),l=l.sibling;l=i,l===null?(i=t.child,t.child=null):(i=l.sibling,l.sibling=null),fo(t,!1,i,l,o,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wr(e)===null){t.child=i;break}e=i.sibling,i.sibling=l,l=i,i=e}fo(t,!0,l,null,o,s);break;case"together":fo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ka(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),el|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(rn(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,l=Da(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Da(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function xo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&hr(e)))}function Ub(e,t,l){switch(t.tag){case 3:pe(t,t.stateNode.containerInfo),Qa(t,ut,e.memoizedState.cache),wl();break;case 27:case 5:Ce(t);break;case 4:pe(t,t.stateNode.containerInfo);break;case 10:Qa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bc(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ja(t),t.flags|=128,null):(l&t.child.childLanes)!==0?jx(e,t,l):(Ja(t),e=ka(e,t,l),e!==null?e.sibling:null);Ja(t);break;case 19:var i=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(rn(e,t,l,!1),s=(l&t.childLanes)!==0),i){if(s)return wx(e,t,l);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Z(ct,ct.current),s)break;return null;case 22:return t.lanes=0,hx(e,t,l,t.pendingProps);case 24:Qa(t,ut,e.memoizedState.cache)}return ka(e,t,l)}function Dx(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)xt=!0;else{if(!xo(e,l)&&(t.flags&128)===0)return xt=!1,Ub(e,t,l);xt=(e.flags&131072)!==0}else xt=!1,ze&&(t.flags&1048576)!==0&&af(t,Pn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Cl(t.elementType),t.type=e,typeof e=="function")yc(e)?(s=_l(e,s),t.tag=1,t=vx(null,t,e,s,l)):(t.tag=0,t=so(null,t,e,s,l));else{if(e!=null){var i=e.$$typeof;if(i===k){t.tag=11,t=xx(null,t,e,s,l);break e}else if(i===B){t.tag=14,t=mx(null,t,e,s,l);break e}}throw t=de(e)||e,Error(d(306,t,""))}}return t;case 0:return so(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,i=_l(s,t.pendingProps),vx(e,t,s,i,l);case 3:e:{if(pe(t,t.stateNode.containerInfo),e===null)throw Error(d(387));s=t.pendingProps;var o=t.memoizedState;i=o.element,_c(e,t),ss(t,s,null,l);var m=t.memoizedState;if(s=m.cache,Qa(t,ut,s),s!==o.cache&&Ec(t,[ut],l,!0),ns(),s=m.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Nx(e,t,s,l);break e}else if(s!==i){i=ta(Error(d(424)),t),Fn(i),t=Nx(e,t,s,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,et=ra(e.firstChild),St=t,ze=!0,Va=null,na=!0,l=hf(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(wl(),s===i){t=ka(e,t,l);break e}Dt(e,t,s,l)}t=t.child}return t;case 26:return zr(e,t),e===null?(l=Lm(t.type,null,t.pendingProps,null))?t.memoizedState=l:ze||(l=t.type,e=t.pendingProps,s=Fr(ue.current).createElement(l),s[jt]=t,s[Mt]=e,Et(s,l,e),yt(s),t.stateNode=s):t.memoizedState=Lm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ce(t),e===null&&ze&&(s=t.stateNode=Mm(t.type,t.pendingProps,ue.current),St=t,na=!0,i=et,sl(t.type)?(Qo=i,et=ra(s.firstChild)):et=i),Dt(e,t,t.pendingProps.children,l),zr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ze&&((i=s=et)&&(s=mg(s,t.type,t.pendingProps,na),s!==null?(t.stateNode=s,St=t,et=ra(s.firstChild),na=!1,i=!0):i=!1),i||Ya(t)),Ce(t),i=t.type,o=t.pendingProps,m=e!==null?e.memoizedProps:null,s=o.children,Go(i,o)?s=null:m!==null&&Go(i,m)&&(t.flags|=32),t.memoizedState!==null&&(i=Hc(e,t,Tb,null,null,l),Ds._currentValue=i),zr(e,t),Dt(e,t,s,l),t.child;case 6:return e===null&&ze&&((e=l=et)&&(l=pg(l,t.pendingProps,na),l!==null?(t.stateNode=l,St=t,et=null,e=!0):e=!1),e||Ya(t)),null;case 13:return jx(e,t,l);case 4:return pe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ol(t,null,s,l):Dt(e,t,s,l),t.child;case 11:return xx(e,t,t.type,t.pendingProps,l);case 7:return Dt(e,t,t.pendingProps,l),t.child;case 8:return Dt(e,t,t.pendingProps.children,l),t.child;case 12:return Dt(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,Qa(t,t.type,s.value),Dt(e,t,s.children,l),t.child;case 9:return i=t.type._context,s=t.pendingProps.children,El(t),i=wt(i),s=s(i),t.flags|=1,Dt(e,t,s,l),t.child;case 14:return mx(e,t,t.type,t.pendingProps,l);case 15:return px(e,t,t.type,t.pendingProps,l);case 19:return wx(e,t,l);case 31:return Bb(e,t,l);case 22:return hx(e,t,l,t.pendingProps);case 24:return El(t),s=wt(ut),e===null?(i=Tc(),i===null&&(i=Pe,o=Ac(),i.pooledCache=o,o.refCount++,o!==null&&(i.pooledCacheLanes|=l),i=o),t.memoizedState={parent:s,cache:i},kc(t),Qa(t,ut,i)):((e.lanes&l)!==0&&(_c(e,t),ss(t,null,null,l),ns()),i=e.memoizedState,o=t.memoizedState,i.parent!==s?(i={parent:s,cache:s},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Qa(t,ut,s)):(s=o.cache,Qa(t,ut,s),s!==i.cache&&Ec(t,[ut],l,!0))),Dt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function _a(e){e.flags|=4}function mo(e,t,l,s,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Fx())e.flags|=8192;else throw Tl=vr,Oc}else e.flags&=-16777217}function Ex(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gm(t))if(Fx())e.flags|=8192;else throw Tl=vr,Oc}function Br(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?nu():536870912,e.lanes|=t,gn|=t)}function us(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var i=e.child;i!==null;)l|=i.lanes|i.childLanes,s|=i.subtreeFlags&65011712,s|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)l|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function Hb(e,t,l){var s=t.pendingProps;switch(Nc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return tt(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Ca(ut),ye(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(sn(t)?_a(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Sc())),tt(t),null;case 26:var i=t.type,o=t.memoizedState;return e===null?(_a(t),o!==null?(tt(t),Ex(t,o)):(tt(t),mo(t,i,null,s,l))):o?o!==e.memoizedState?(_a(t),tt(t),Ex(t,o)):(tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&_a(t),tt(t),mo(t,i,e,s,l)),null;case 27:if(me(t),l=ue.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&_a(t);else{if(!s){if(t.stateNode===null)throw Error(d(166));return tt(t),null}e=le.current,sn(t)?nf(t):(e=Mm(i,s,l),t.stateNode=e,_a(t))}return tt(t),null;case 5:if(me(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&_a(t);else{if(!s){if(t.stateNode===null)throw Error(d(166));return tt(t),null}if(o=le.current,sn(t))nf(t);else{var m=Fr(ue.current);switch(o){case 1:o=m.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:o=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":o=m.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":o=m.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":o=m.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?o.multiple=!0:s.size&&(o.size=s.size);break;default:o=typeof s.is=="string"?m.createElement(i,{is:s.is}):m.createElement(i)}}o[jt]=t,o[Mt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=o;e:switch(Et(o,i,s),i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&_a(t)}}return tt(t),mo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&_a(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(d(166));if(e=ue.current,sn(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,i=St,i!==null)switch(i.tag){case 27:case 5:s=i.memoizedProps}e[jt]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||jm(e.nodeValue,l)),e||Ya(t,!0)}else e=Fr(e).createTextNode(s),e[jt]=t,t.stateNode=e}return tt(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=sn(t),l!==null){if(e===null){if(!s)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[jt]=t}else wl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),e=!1}else l=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Yt(t),t):(Yt(t),null);if((t.flags&128)!==0)throw Error(d(558))}return tt(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=sn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(d(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(d(317));i[jt]=t}else wl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),i=!1}else i=Sc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Yt(t),t):(Yt(t),null)}return Yt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,i=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(i=s.alternate.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==i&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Br(t,t.updateQueue),tt(t),null);case 4:return ye(),e===null&&Lo(t.stateNode.containerInfo),tt(t),null;case 10:return Ca(t.type),tt(t),null;case 19:if(V(ct),s=t.memoizedState,s===null)return tt(t),null;if(i=(t.flags&128)!==0,o=s.rendering,o===null)if(i)us(s,!1);else{if(rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=wr(e),o!==null){for(t.flags|=128,us(s,!1),e=o.updateQueue,t.updateQueue=e,Br(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Wu(l,e),l=l.sibling;return Z(ct,ct.current&1|2),ze&&Ea(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&dt()>qr&&(t.flags|=128,i=!0,us(s,!1),t.lanes=4194304)}else{if(!i)if(e=wr(o),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Br(t,e),us(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ze)return tt(t),null}else 2*dt()-s.renderingStartTime>qr&&l!==536870912&&(t.flags|=128,i=!0,us(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(e=s.last,e!==null?e.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,l=ct.current,Z(ct,i?l&1|2:l&1),ze&&Ea(t,s.treeForkCount),e):(tt(t),null);case 22:case 23:return Yt(t),Lc(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),l=t.updateQueue,l!==null&&Br(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&V(Al),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Ca(ut),tt(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function $b(e,t){switch(Nc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ca(ut),ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return me(t),null;case 31:if(t.memoizedState!==null){if(Yt(t),t.alternate===null)throw Error(d(340));wl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Yt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));wl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(ct),null;case 4:return ye(),null;case 10:return Ca(t.type),null;case 22:case 23:return Yt(t),Lc(),e!==null&&V(Al),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ca(ut),null;case 25:return null;default:return null}}function Ax(e,t){switch(Nc(t),t.tag){case 3:Ca(ut),ye();break;case 26:case 27:case 5:me(t);break;case 4:ye();break;case 31:t.memoizedState!==null&&Yt(t);break;case 13:Yt(t);break;case 19:V(ct);break;case 10:Ca(t.type);break;case 22:case 23:Yt(t),Lc(),e!==null&&V(Al);break;case 24:Ca(ut)}}function fs(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var i=s.next;l=i;do{if((l.tag&e)===e){s=void 0;var o=l.create,m=l.inst;s=o(),m.destroy=s}l=l.next}while(l!==i)}}catch(D){Ye(t,t.return,D)}}function Fa(e,t,l){try{var s=t.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var o=i.next;s=o;do{if((s.tag&e)===e){var m=s.inst,D=m.destroy;if(D!==void 0){m.destroy=void 0,i=t;var _=l,Y=D;try{Y()}catch(W){Ye(i,_,W)}}}s=s.next}while(s!==o)}}catch(W){Ye(t,t.return,W)}}function Cx(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{bf(t,l)}catch(s){Ye(e,e.return,s)}}}function Tx(e,t,l){l.props=_l(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Ye(e,t,s)}}function xs(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(i){Ye(e,t,i)}}function ba(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(i){Ye(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(i){Ye(e,t,i)}else l.current=null}function Ox(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(i){Ye(e,e.return,i)}}function po(e,t,l){try{var s=e.stateNode;cg(s,e.type,l,t),s[Mt]=t}catch(i){Ye(e,e.return,i)}}function kx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&sl(e.type)||e.tag===4}function ho(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||kx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&sl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yo(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=Sa));else if(s!==4&&(s===27&&sl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(yo(e,t,l),e=e.sibling;e!==null;)yo(e,t,l),e=e.sibling}function Ur(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&sl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Ur(e,t,l),e=e.sibling;e!==null;)Ur(e,t,l),e=e.sibling}function _x(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Et(t,s,l),t[jt]=e,t[Mt]=l}catch(o){Ye(e,e.return,o)}}var Ma=!1,mt=!1,bo=!1,Mx=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Gb(e,t){if(e=e.containerInfo,Ho=si,e=Vu(e),dc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var i=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{l.nodeType,o.nodeType}catch{l=null;break e}var m=0,D=-1,_=-1,Y=0,W=0,ae=e,Q=null;t:for(;;){for(var X;ae!==l||i!==0&&ae.nodeType!==3||(D=m+i),ae!==o||s!==0&&ae.nodeType!==3||(_=m+s),ae.nodeType===3&&(m+=ae.nodeValue.length),(X=ae.firstChild)!==null;)Q=ae,ae=X;for(;;){if(ae===e)break t;if(Q===l&&++Y===i&&(D=m),Q===o&&++W===s&&(_=m),(X=ae.nextSibling)!==null)break;ae=Q,Q=ae.parentNode}ae=X}l=D===-1||_===-1?null:{start:D,end:_}}else l=null}l=l||{start:0,end:0}}else l=null;for($o={focusedElem:e,selectionRange:l},si=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){switch(t=bt,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)i=e[l],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,l=t,i=o.memoizedProps,o=o.memoizedState,s=l.stateNode;try{var fe=_l(l.type,i);e=s.getSnapshotBeforeUpdate(fe,o),s.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Ye(l,l.return,ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Io(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Io(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}}function Rx(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:za(e,l),s&4&&fs(5,l);break;case 1:if(za(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(m){Ye(l,l.return,m)}else{var i=_l(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ye(l,l.return,m)}}s&64&&Cx(l),s&512&&xs(l,l.return);break;case 3:if(za(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{bf(e,t)}catch(m){Ye(l,l.return,m)}}break;case 27:t===null&&s&4&&_x(l);case 26:case 5:za(e,l),t===null&&s&4&&Ox(l),s&512&&xs(l,l.return);break;case 12:za(e,l);break;case 31:za(e,l),s&4&&Bx(e,l);break;case 13:za(e,l),s&4&&Ux(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Jb.bind(null,l),hg(e,l))));break;case 22:if(s=l.memoizedState!==null||Ma,!s){t=t!==null&&t.memoizedState!==null||mt,i=Ma;var o=mt;Ma=s,(mt=t)&&!o?La(e,l,(l.subtreeFlags&8772)!==0):za(e,l),Ma=i,mt=o}break;case 30:break;default:za(e,l)}}function zx(e){var t=e.alternate;t!==null&&(e.alternate=null,zx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ki(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var at=null,zt=!1;function Ra(e,t,l){for(l=l.child;l!==null;)Lx(e,t,l),l=l.sibling}function Lx(e,t,l){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Bn,l)}catch{}switch(l.tag){case 26:mt||ba(l,t),Ra(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mt||ba(l,t);var s=at,i=zt;sl(l.type)&&(at=l.stateNode,zt=!1),Ra(e,t,l),js(l.stateNode),at=s,zt=i;break;case 5:mt||ba(l,t);case 6:if(s=at,i=zt,at=null,Ra(e,t,l),at=s,zt=i,at!==null)if(zt)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(l.stateNode)}catch(o){Ye(l,t,o)}else try{at.removeChild(l.stateNode)}catch(o){Ye(l,t,o)}break;case 18:at!==null&&(zt?(e=at,Cm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),An(e)):Cm(at,l.stateNode));break;case 4:s=at,i=zt,at=l.stateNode.containerInfo,zt=!0,Ra(e,t,l),at=s,zt=i;break;case 0:case 11:case 14:case 15:Fa(2,l,t),mt||Fa(4,l,t),Ra(e,t,l);break;case 1:mt||(ba(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Tx(l,t,s)),Ra(e,t,l);break;case 21:Ra(e,t,l);break;case 22:mt=(s=mt)||l.memoizedState!==null,Ra(e,t,l),mt=s;break;default:Ra(e,t,l)}}function Bx(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{An(e)}catch(l){Ye(t,t.return,l)}}}function Ux(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{An(e)}catch(l){Ye(t,t.return,l)}}function qb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Mx),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Mx),t;default:throw Error(d(435,e.tag))}}function Hr(e,t){var l=qb(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var i=Pb.bind(null,e,s);s.then(i,i)}})}function Lt(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var i=l[s],o=e,m=t,D=m;e:for(;D!==null;){switch(D.tag){case 27:if(sl(D.type)){at=D.stateNode,zt=!1;break e}break;case 5:at=D.stateNode,zt=!1;break e;case 3:case 4:at=D.stateNode.containerInfo,zt=!0;break e}D=D.return}if(at===null)throw Error(d(160));Lx(o,m,i),at=null,zt=!1,o=i.alternate,o!==null&&(o.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Hx(t,e),t=t.sibling}var xa=null;function Hx(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(t,e),Bt(e),s&4&&(Fa(3,e,e.return),fs(3,e),Fa(5,e,e.return));break;case 1:Lt(t,e),Bt(e),s&512&&(mt||l===null||ba(l,l.return)),s&64&&Ma&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var i=xa;if(Lt(t,e),Bt(e),s&512&&(mt||l===null||ba(l,l.return)),s&4){var o=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,i=i.ownerDocument||i;t:switch(s){case"title":o=i.getElementsByTagName("title")[0],(!o||o[$n]||o[jt]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=i.createElement(s),i.head.insertBefore(o,i.querySelector("head > title"))),Et(o,s,l),o[jt]=e,yt(o),s=o;break e;case"link":var m=Hm("link","href",i).get(s+(l.href||""));if(m){for(var D=0;D<m.length;D++)if(o=m[D],o.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&o.getAttribute("rel")===(l.rel==null?null:l.rel)&&o.getAttribute("title")===(l.title==null?null:l.title)&&o.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){m.splice(D,1);break t}}o=i.createElement(s),Et(o,s,l),i.head.appendChild(o);break;case"meta":if(m=Hm("meta","content",i).get(s+(l.content||""))){for(D=0;D<m.length;D++)if(o=m[D],o.getAttribute("content")===(l.content==null?null:""+l.content)&&o.getAttribute("name")===(l.name==null?null:l.name)&&o.getAttribute("property")===(l.property==null?null:l.property)&&o.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&o.getAttribute("charset")===(l.charSet==null?null:l.charSet)){m.splice(D,1);break t}}o=i.createElement(s),Et(o,s,l),i.head.appendChild(o);break;default:throw Error(d(468,s))}o[jt]=e,yt(o),s=o}e.stateNode=s}else $m(i,e.type,e.stateNode);else e.stateNode=Um(i,s,e.memoizedProps);else o!==s?(o===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):o.count--,s===null?$m(i,e.type,e.stateNode):Um(i,s,e.memoizedProps)):s===null&&e.stateNode!==null&&po(e,e.memoizedProps,l.memoizedProps)}break;case 27:Lt(t,e),Bt(e),s&512&&(mt||l===null||ba(l,l.return)),l!==null&&s&4&&po(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Lt(t,e),Bt(e),s&512&&(mt||l===null||ba(l,l.return)),e.flags&32){i=e.stateNode;try{Zl(i,"")}catch(fe){Ye(e,e.return,fe)}}s&4&&e.stateNode!=null&&(i=e.memoizedProps,po(e,i,l!==null?l.memoizedProps:i)),s&1024&&(bo=!0);break;case 6:if(Lt(t,e),Bt(e),s&4){if(e.stateNode===null)throw Error(d(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(fe){Ye(e,e.return,fe)}}break;case 3:if(ti=null,i=xa,xa=Wr(t.containerInfo),Lt(t,e),xa=i,Bt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{An(t.containerInfo)}catch(fe){Ye(e,e.return,fe)}bo&&(bo=!1,$x(e));break;case 4:s=xa,xa=Wr(e.stateNode.containerInfo),Lt(t,e),Bt(e),xa=s;break;case 12:Lt(t,e),Bt(e);break;case 31:Lt(t,e),Bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Hr(e,s)));break;case 13:Lt(t,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Gr=dt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Hr(e,s)));break;case 22:i=e.memoizedState!==null;var _=l!==null&&l.memoizedState!==null,Y=Ma,W=mt;if(Ma=Y||i,mt=W||_,Lt(t,e),mt=W,Ma=Y,Bt(e),s&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(l===null||_||Ma||mt||Ml(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){_=l=t;try{if(o=_.stateNode,i)m=o.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{D=_.stateNode;var ae=_.memoizedProps.style,Q=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;D.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(fe){Ye(_,_.return,fe)}}}else if(t.tag===6){if(l===null){_=t;try{_.stateNode.nodeValue=i?"":_.memoizedProps}catch(fe){Ye(_,_.return,fe)}}}else if(t.tag===18){if(l===null){_=t;try{var X=_.stateNode;i?Tm(X,!0):Tm(_.stateNode,!1)}catch(fe){Ye(_,_.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,Hr(e,l))));break;case 19:Lt(t,e),Bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Hr(e,s)));break;case 30:break;case 21:break;default:Lt(t,e),Bt(e)}}function Bt(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(kx(s)){l=s;break}s=s.return}if(l==null)throw Error(d(160));switch(l.tag){case 27:var i=l.stateNode,o=ho(e);Ur(e,o,i);break;case 5:var m=l.stateNode;l.flags&32&&(Zl(m,""),l.flags&=-33);var D=ho(e);Ur(e,D,m);break;case 3:case 4:var _=l.stateNode.containerInfo,Y=ho(e);yo(e,Y,_);break;default:throw Error(d(161))}}catch(W){Ye(e,e.return,W)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $x(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$x(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function za(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Rx(e,t.alternate,t),t=t.sibling}function Ml(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fa(4,t,t.return),Ml(t);break;case 1:ba(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Tx(t,t.return,l),Ml(t);break;case 27:js(t.stateNode);case 26:case 5:ba(t,t.return),Ml(t);break;case 22:t.memoizedState===null&&Ml(t);break;case 30:Ml(t);break;default:Ml(t)}e=e.sibling}}function La(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,i=e,o=t,m=o.flags;switch(o.tag){case 0:case 11:case 15:La(i,o,l),fs(4,o);break;case 1:if(La(i,o,l),s=o,i=s.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(Y){Ye(s,s.return,Y)}if(s=o,i=s.updateQueue,i!==null){var D=s.stateNode;try{var _=i.shared.hiddenCallbacks;if(_!==null)for(i.shared.hiddenCallbacks=null,i=0;i<_.length;i++)yf(_[i],D)}catch(Y){Ye(s,s.return,Y)}}l&&m&64&&Cx(o),xs(o,o.return);break;case 27:_x(o);case 26:case 5:La(i,o,l),l&&s===null&&m&4&&Ox(o),xs(o,o.return);break;case 12:La(i,o,l);break;case 31:La(i,o,l),l&&m&4&&Bx(i,o);break;case 13:La(i,o,l),l&&m&4&&Ux(i,o);break;case 22:o.memoizedState===null&&La(i,o,l),xs(o,o.return);break;case 30:break;default:La(i,o,l)}t=t.sibling}}function go(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Wn(l))}function vo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wn(e))}function ma(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gx(e,t,l,s),t=t.sibling}function Gx(e,t,l,s){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ma(e,t,l,s),i&2048&&fs(9,t);break;case 1:ma(e,t,l,s);break;case 3:ma(e,t,l,s),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Wn(e)));break;case 12:if(i&2048){ma(e,t,l,s),e=t.stateNode;try{var o=t.memoizedProps,m=o.id,D=o.onPostCommit;typeof D=="function"&&D(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ye(t,t.return,_)}}else ma(e,t,l,s);break;case 31:ma(e,t,l,s);break;case 13:ma(e,t,l,s);break;case 23:break;case 22:o=t.stateNode,m=t.alternate,t.memoizedState!==null?o._visibility&2?ma(e,t,l,s):ms(e,t):o._visibility&2?ma(e,t,l,s):(o._visibility|=2,hn(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),i&2048&&go(m,t);break;case 24:ma(e,t,l,s),i&2048&&vo(t.alternate,t);break;default:ma(e,t,l,s)}}function hn(e,t,l,s,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,m=t,D=l,_=s,Y=m.flags;switch(m.tag){case 0:case 11:case 15:hn(o,m,D,_,i),fs(8,m);break;case 23:break;case 22:var W=m.stateNode;m.memoizedState!==null?W._visibility&2?hn(o,m,D,_,i):ms(o,m):(W._visibility|=2,hn(o,m,D,_,i)),i&&Y&2048&&go(m.alternate,m);break;case 24:hn(o,m,D,_,i),i&&Y&2048&&vo(m.alternate,m);break;default:hn(o,m,D,_,i)}t=t.sibling}}function ms(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,i=s.flags;switch(s.tag){case 22:ms(l,s),i&2048&&go(s.alternate,s);break;case 24:ms(l,s),i&2048&&vo(s.alternate,s);break;default:ms(l,s)}t=t.sibling}}var ps=8192;function yn(e,t,l){if(e.subtreeFlags&ps)for(e=e.child;e!==null;)qx(e,t,l),e=e.sibling}function qx(e,t,l){switch(e.tag){case 26:yn(e,t,l),e.flags&ps&&e.memoizedState!==null&&Cg(l,xa,e.memoizedState,e.memoizedProps);break;case 5:yn(e,t,l);break;case 3:case 4:var s=xa;xa=Wr(e.stateNode.containerInfo),yn(e,t,l),xa=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ps,ps=16777216,yn(e,t,l),ps=s):yn(e,t,l));break;default:yn(e,t,l)}}function Ix(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function hs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];bt=s,Yx(s,e)}Ix(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vx(e),e=e.sibling}function Vx(e){switch(e.tag){case 0:case 11:case 15:hs(e),e.flags&2048&&Fa(9,e,e.return);break;case 3:hs(e);break;case 12:hs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$r(e)):hs(e);break;default:hs(e)}}function $r(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];bt=s,Yx(s,e)}Ix(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fa(8,t,t.return),$r(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,$r(t));break;default:$r(t)}e=e.sibling}}function Yx(e,t){for(;bt!==null;){var l=bt;switch(l.tag){case 0:case 11:case 15:Fa(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Wn(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,bt=s;else e:for(l=e;bt!==null;){s=bt;var i=s.sibling,o=s.return;if(zx(s),s===l){bt=null;break e}if(i!==null){i.return=o,bt=i;break e}bt=o}}}var Ib={getCacheForType:function(e){var t=wt(ut),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return wt(ut).controller.signal}},Vb=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Pe=null,ke=null,Me=0,Ve=0,Qt=null,Wa=!1,bn=!1,No=!1,Ba=0,rt=0,el=0,Rl=0,jo=0,Kt=0,gn=0,ys=null,Ut=null,So=!1,Gr=0,Qx=0,qr=1/0,Ir=null,tl=null,pt=0,al=null,vn=null,Ua=0,wo=0,Do=null,Kx=null,bs=0,Eo=null;function Xt(){return(Ge&2)!==0&&Me!==0?Me&-Me:O.T!==null?_o():cu()}function Xx(){if(Kt===0)if((Me&536870912)===0||ze){var e=Ps;Ps<<=1,(Ps&3932160)===0&&(Ps=262144),Kt=e}else Kt=536870912;return e=Vt.current,e!==null&&(e.flags|=32),Kt}function Ht(e,t,l){(e===Pe&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)&&(Nn(e,0),ll(e,Me,Kt,!1)),Hn(e,l),((Ge&2)===0||e!==Pe)&&(e===Pe&&((Ge&2)===0&&(Rl|=l),rt===4&&ll(e,Me,Kt,!1)),ga(e))}function Zx(e,t,l){if((Ge&6)!==0)throw Error(d(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Un(e,t),i=s?Kb(e,t):Co(e,t,!0),o=s;do{if(i===0){bn&&!s&&ll(e,t,0,!1);break}else{if(l=e.current.alternate,o&&!Yb(l)){i=Co(e,t,!1),o=!1;continue}if(i===2){if(o=t,e.errorRecoveryDisabledLanes&o)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var D=e;i=ys;var _=D.current.memoizedState.isDehydrated;if(_&&(Nn(D,m).flags|=256),m=Co(D,m,!1),m!==2){if(No&&!_){D.errorRecoveryDisabledLanes|=o,Rl|=o,i=4;break e}o=Ut,Ut=i,o!==null&&(Ut===null?Ut=o:Ut.push.apply(Ut,o))}i=m}if(o=!1,i!==2)continue}}if(i===1){Nn(e,0),ll(e,t,0,!0);break}e:{switch(s=e,o=i,o){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:ll(s,t,Kt,!Wa);break e;case 2:Ut=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(i=Gr+300-dt(),10<i)){if(ll(s,t,Kt,!Wa),Ws(s,0,!0)!==0)break e;Ua=t,s.timeoutHandle=Em(Jx.bind(null,s,l,Ut,Ir,So,t,Kt,Rl,gn,Wa,o,"Throttled",-0,0),i);break e}Jx(s,l,Ut,Ir,So,t,Kt,Rl,gn,Wa,o,null,-0,0)}}break}while(!0);ga(e)}function Jx(e,t,l,s,i,o,m,D,_,Y,W,ae,Q,X){if(e.timeoutHandle=-1,ae=t.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sa},qx(t,o,ae);var fe=(o&62914560)===o?Gr-dt():(o&4194048)===o?Qx-dt():0;if(fe=Tg(ae,fe),fe!==null){Ua=o,e.cancelPendingCommit=fe(nm.bind(null,e,t,o,l,s,i,m,D,_,W,ae,null,Q,X)),ll(e,o,m,!Y);return}}nm(e,t,o,l,s,i,m,D,_)}function Yb(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var i=l[s],o=i.getSnapshot;i=i.value;try{if(!qt(o(),i))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ll(e,t,l,s){t&=~jo,t&=~Rl,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var i=t;0<i;){var o=31-Gt(i),m=1<<o;s[o]=-1,i&=~m}l!==0&&su(e,l,t)}function Vr(){return(Ge&6)===0?(gs(0),!1):!0}function Ao(){if(ke!==null){if(Ve===0)var e=ke.return;else e=ke,Aa=Dl=null,qc(e),un=null,ts=0,e=ke;for(;e!==null;)Ax(e.alternate,e),e=e.return;ke=null}}function Nn(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,ug(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Ua=0,Ao(),Pe=e,ke=l=Da(e.current,null),Me=t,Ve=0,Qt=null,Wa=!1,bn=Un(e,t),No=!1,gn=Kt=jo=Rl=el=rt=0,Ut=ys=null,So=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var i=31-Gt(s),o=1<<i;t|=e[i],s&=~o}return Ba=t,ur(),l}function Px(e,t){De=null,O.H=os,t===dn||t===gr?(t=xf(),Ve=3):t===Oc?(t=xf(),Ve=4):Ve=t===no?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Qt=t,ke===null&&(rt=1,Mr(e,ta(t,e.current)))}function Fx(){var e=Vt.current;return e===null?!0:(Me&4194048)===Me?sa===null:(Me&62914560)===Me||(Me&536870912)!==0?e===sa:!1}function Wx(){var e=O.H;return O.H=os,e===null?os:e}function em(){var e=O.A;return O.A=Ib,e}function Yr(){rt=4,Wa||(Me&4194048)!==Me&&Vt.current!==null||(bn=!0),(el&134217727)===0&&(Rl&134217727)===0||Pe===null||ll(Pe,Me,Kt,!1)}function Co(e,t,l){var s=Ge;Ge|=2;var i=Wx(),o=em();(Pe!==e||Me!==t)&&(Ir=null,Nn(e,t)),t=!1;var m=rt;e:do try{if(Ve!==0&&ke!==null){var D=ke,_=Qt;switch(Ve){case 8:Ao(),m=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(t=!0);var Y=Ve;if(Ve=0,Qt=null,jn(e,D,_,Y),l&&bn){m=0;break e}break;default:Y=Ve,Ve=0,Qt=null,jn(e,D,_,Y)}}Qb(),m=rt;break}catch(W){Px(e,W)}while(!0);return t&&e.shellSuspendCounter++,Aa=Dl=null,Ge=s,O.H=i,O.A=o,ke===null&&(Pe=null,Me=0,ur()),m}function Qb(){for(;ke!==null;)tm(ke)}function Kb(e,t){var l=Ge;Ge|=2;var s=Wx(),i=em();Pe!==e||Me!==t?(Ir=null,qr=dt()+500,Nn(e,t)):bn=Un(e,t);e:do try{if(Ve!==0&&ke!==null){t=ke;var o=Qt;t:switch(Ve){case 1:Ve=0,Qt=null,jn(e,t,o,1);break;case 2:case 9:if(uf(o)){Ve=0,Qt=null,am(t);break}t=function(){Ve!==2&&Ve!==9||Pe!==e||(Ve=7),ga(e)},o.then(t,t);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:uf(o)?(Ve=0,Qt=null,am(t)):(Ve=0,Qt=null,jn(e,t,o,7));break;case 5:var m=null;switch(ke.tag){case 26:m=ke.memoizedState;case 5:case 27:var D=ke;if(m?Gm(m):D.stateNode.complete){Ve=0,Qt=null;var _=D.sibling;if(_!==null)ke=_;else{var Y=D.return;Y!==null?(ke=Y,Qr(Y)):ke=null}break t}}Ve=0,Qt=null,jn(e,t,o,5);break;case 6:Ve=0,Qt=null,jn(e,t,o,6);break;case 8:Ao(),rt=6;break e;default:throw Error(d(462))}}Xb();break}catch(W){Px(e,W)}while(!0);return Aa=Dl=null,O.H=s,O.A=i,Ge=l,ke!==null?0:(Pe=null,Me=0,ur(),rt)}function Xb(){for(;ke!==null&&!lt();)tm(ke)}function tm(e){var t=Dx(e.alternate,e,Ba);e.memoizedProps=e.pendingProps,t===null?Qr(e):ke=t}function am(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=gx(l,t,t.pendingProps,t.type,void 0,Me);break;case 11:t=gx(l,t,t.pendingProps,t.type.render,t.ref,Me);break;case 5:qc(t);default:Ax(l,t),t=ke=Wu(t,Ba),t=Dx(l,t,Ba)}e.memoizedProps=e.pendingProps,t===null?Qr(e):ke=t}function jn(e,t,l,s){Aa=Dl=null,qc(t),un=null,ts=0;var i=t.return;try{if(Lb(e,i,t,l,Me)){rt=1,Mr(e,ta(l,e.current)),ke=null;return}}catch(o){if(i!==null)throw ke=i,o;rt=1,Mr(e,ta(l,e.current)),ke=null;return}t.flags&32768?(ze||s===1?e=!0:bn||(Me&536870912)!==0?e=!1:(Wa=e=!0,(s===2||s===9||s===3||s===6)&&(s=Vt.current,s!==null&&s.tag===13&&(s.flags|=16384))),lm(t,e)):Qr(t)}function Qr(e){var t=e;do{if((t.flags&32768)!==0){lm(t,Wa);return}e=t.return;var l=Hb(t.alternate,t,Ba);if(l!==null){ke=l;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);rt===0&&(rt=5)}function lm(e,t){do{var l=$b(e.alternate,e);if(l!==null){l.flags&=32767,ke=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=l}while(e!==null);rt=6,ke=null}function nm(e,t,l,s,i,o,m,D,_){e.cancelPendingCommit=null;do Kr();while(pt!==0);if((Ge&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(o=t.lanes|t.childLanes,o|=pc,Ay(e,l,o,m,D,_),e===Pe&&(ke=Pe=null,Me=0),vn=t,al=e,Ua=l,wo=o,Do=i,Kx=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Fb(Zs,function(){return om(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=O.T,O.T=null,i=L.p,L.p=2,m=Ge,Ge|=4;try{Gb(e,t,l)}finally{Ge=m,L.p=i,O.T=s}}pt=1,sm(),rm(),im()}}function sm(){if(pt===1){pt=0;var e=al,t=vn,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=O.T,O.T=null;var s=L.p;L.p=2;var i=Ge;Ge|=4;try{Hx(t,e);var o=$o,m=Vu(e.containerInfo),D=o.focusedElem,_=o.selectionRange;if(m!==D&&D&&D.ownerDocument&&Iu(D.ownerDocument.documentElement,D)){if(_!==null&&dc(D)){var Y=_.start,W=_.end;if(W===void 0&&(W=Y),"selectionStart"in D)D.selectionStart=Y,D.selectionEnd=Math.min(W,D.value.length);else{var ae=D.ownerDocument||document,Q=ae&&ae.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),fe=D.textContent.length,ve=Math.min(_.start,fe),Ze=_.end===void 0?ve:Math.min(_.end,fe);!X.extend&&ve>Ze&&(m=Ze,Ze=ve,ve=m);var $=qu(D,ve),U=qu(D,Ze);if($&&U&&(X.rangeCount!==1||X.anchorNode!==$.node||X.anchorOffset!==$.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var I=ae.createRange();I.setStart($.node,$.offset),X.removeAllRanges(),ve>Ze?(X.addRange(I),X.extend(U.node,U.offset)):(I.setEnd(U.node,U.offset),X.addRange(I))}}}}for(ae=[],X=D;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<ae.length;D++){var te=ae[D];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}si=!!Ho,$o=Ho=null}finally{Ge=i,L.p=s,O.T=l}}e.current=t,pt=2}}function rm(){if(pt===2){pt=0;var e=al,t=vn,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=O.T,O.T=null;var s=L.p;L.p=2;var i=Ge;Ge|=4;try{Rx(e,t.alternate,t)}finally{Ge=i,L.p=s,O.T=l}}pt=3}}function im(){if(pt===4||pt===3){pt=0,$e();var e=al,t=vn,l=Ua,s=Kx;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?pt=5:(pt=0,vn=al=null,cm(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(tl=null),Yi(l),t=t.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Bn,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=O.T,i=L.p,L.p=2,O.T=null;try{for(var o=e.onRecoverableError,m=0;m<s.length;m++){var D=s[m];o(D.value,{componentStack:D.stack})}}finally{O.T=t,L.p=i}}(Ua&3)!==0&&Kr(),ga(e),i=e.pendingLanes,(l&261930)!==0&&(i&42)!==0?e===Eo?bs++:(bs=0,Eo=e):bs=0,gs(0)}}function cm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Wn(t)))}function Kr(){return sm(),rm(),im(),om()}function om(){if(pt!==5)return!1;var e=al,t=wo;wo=0;var l=Yi(Ua),s=O.T,i=L.p;try{L.p=32>l?32:l,O.T=null,l=Do,Do=null;var o=al,m=Ua;if(pt=0,vn=al=null,Ua=0,(Ge&6)!==0)throw Error(d(331));var D=Ge;if(Ge|=4,Vx(o.current),Gx(o,o.current,m,l),Ge=D,gs(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Bn,o)}catch{}return!0}finally{L.p=i,O.T=s,cm(e,t)}}function dm(e,t,l){t=ta(l,t),t=lo(e.stateNode,t,2),e=Za(e,t,2),e!==null&&(Hn(e,2),ga(e))}function Ye(e,t,l){if(e.tag===3)dm(e,e,l);else for(;t!==null;){if(t.tag===3){dm(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(tl===null||!tl.has(s))){e=ta(l,e),l=ux(2),s=Za(t,l,2),s!==null&&(fx(l,s,t,e),Hn(s,2),ga(s));break}}t=t.return}}function To(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Vb;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(l)||(No=!0,i.add(l),e=Zb.bind(null,e,t,l),t.then(e,e))}function Zb(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Pe===e&&(Me&l)===l&&(rt===4||rt===3&&(Me&62914560)===Me&&300>dt()-Gr?(Ge&2)===0&&Nn(e,0):jo|=l,gn===Me&&(gn=0)),ga(e)}function um(e,t){t===0&&(t=nu()),e=jl(e,t),e!==null&&(Hn(e,t),ga(e))}function Jb(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),um(e,l)}function Pb(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(l=i.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(d(314))}s!==null&&s.delete(t),um(e,l)}function Fb(e,t){return it(e,t)}var Xr=null,Sn=null,Oo=!1,Zr=!1,ko=!1,nl=0;function ga(e){e!==Sn&&e.next===null&&(Sn===null?Xr=Sn=e:Sn=Sn.next=e),Zr=!0,Oo||(Oo=!0,eg())}function gs(e,t){if(!ko&&Zr){ko=!0;do for(var l=!1,s=Xr;s!==null;){if(e!==0){var i=s.pendingLanes;if(i===0)var o=0;else{var m=s.suspendedLanes,D=s.pingedLanes;o=(1<<31-Gt(42|e)+1)-1,o&=i&~(m&~D),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(l=!0,pm(s,o))}else o=Me,o=Ws(s,s===Pe?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(o&3)===0||Un(s,o)||(l=!0,pm(s,o));s=s.next}while(l);ko=!1}}function Wb(){fm()}function fm(){Zr=Oo=!1;var e=0;nl!==0&&dg()&&(e=nl);for(var t=dt(),l=null,s=Xr;s!==null;){var i=s.next,o=xm(s,t);o===0?(s.next=null,l===null?Xr=i:l.next=i,i===null&&(Sn=l)):(l=s,(e!==0||(o&3)!==0)&&(Zr=!0)),s=i}pt!==0&&pt!==5||gs(e),nl!==0&&(nl=0)}function xm(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var m=31-Gt(o),D=1<<m,_=i[m];_===-1?((D&l)===0||(D&s)!==0)&&(i[m]=Ey(D,t)):_<=t&&(e.expiredLanes|=D),o&=~D}if(t=Pe,l=Me,l=Ws(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(Ve===2||Ve===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Qe(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Un(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&Qe(s),Yi(l)){case 2:case 8:l=au;break;case 32:l=Zs;break;case 268435456:l=lu;break;default:l=Zs}return s=mm.bind(null,e),l=it(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&Qe(s),e.callbackPriority=2,e.callbackNode=null,2}function mm(e,t){if(pt!==0&&pt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Kr()&&e.callbackNode!==l)return null;var s=Me;return s=Ws(e,e===Pe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Zx(e,s,t),xm(e,dt()),e.callbackNode!=null&&e.callbackNode===l?mm.bind(null,e):null)}function pm(e,t){if(Kr())return null;Zx(e,t,!0)}function eg(){fg(function(){(Ge&6)!==0?it(tu,Wb):fm()})}function _o(){if(nl===0){var e=cn;e===0&&(e=Js,Js<<=1,(Js&261888)===0&&(Js=256)),nl=e}return nl}function hm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:lr(""+e)}function ym(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function tg(e,t,l,s,i){if(t==="submit"&&l&&l.stateNode===i){var o=hm((i[Mt]||null).action),m=s.submitter;m&&(t=(t=m[Mt]||null)?hm(t.formAction):m.getAttribute("formAction"),t!==null&&(o=t,m=null));var D=new ir("action","action",null,s,i);e.push({event:D,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(nl!==0){var _=m?ym(i,m):new FormData(i);Pc(l,{pending:!0,data:_,method:i.method,action:o},null,_)}}else typeof o=="function"&&(D.preventDefault(),_=m?ym(i,m):new FormData(i),Pc(l,{pending:!0,data:_,method:i.method,action:o},o,_))},currentTarget:i}]})}}for(var Mo=0;Mo<mc.length;Mo++){var Ro=mc[Mo],ag=Ro.toLowerCase(),lg=Ro[0].toUpperCase()+Ro.slice(1);fa(ag,"on"+lg)}fa(Ku,"onAnimationEnd"),fa(Xu,"onAnimationIteration"),fa(Zu,"onAnimationStart"),fa("dblclick","onDoubleClick"),fa("focusin","onFocus"),fa("focusout","onBlur"),fa(gb,"onTransitionRun"),fa(vb,"onTransitionStart"),fa(Nb,"onTransitionCancel"),fa(Ju,"onTransitionEnd"),Kl("onMouseEnter",["mouseout","mouseover"]),Kl("onMouseLeave",["mouseout","mouseover"]),Kl("onPointerEnter",["pointerout","pointerover"]),Kl("onPointerLeave",["pointerout","pointerover"]),bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bl("onBeforeInput",["compositionend","keypress","textInput","paste"]),bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ng=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vs));function bm(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],i=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var m=s.length-1;0<=m;m--){var D=s[m],_=D.instance,Y=D.currentTarget;if(D=D.listener,_!==o&&i.isPropagationStopped())break e;o=D,i.currentTarget=Y;try{o(i)}catch(W){dr(W)}i.currentTarget=null,o=_}else for(m=0;m<s.length;m++){if(D=s[m],_=D.instance,Y=D.currentTarget,D=D.listener,_!==o&&i.isPropagationStopped())break e;o=D,i.currentTarget=Y;try{o(i)}catch(W){dr(W)}i.currentTarget=null,o=_}}}}function _e(e,t){var l=t[Qi];l===void 0&&(l=t[Qi]=new Set);var s=e+"__bubble";l.has(s)||(gm(t,e,2,!1),l.add(s))}function zo(e,t,l){var s=0;t&&(s|=4),gm(l,e,s,t)}var Jr="_reactListening"+Math.random().toString(36).slice(2);function Lo(e){if(!e[Jr]){e[Jr]=!0,uu.forEach(function(l){l!=="selectionchange"&&(ng.has(l)||zo(l,!1,e),zo(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jr]||(t[Jr]=!0,zo("selectionchange",!1,t))}}function gm(e,t,l,s){switch(Xm(t)){case 2:var i=_g;break;case 8:i=Mg;break;default:i=Po}l=i.bind(null,t,l,e),i=void 0,!tc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,l,{capture:!0,passive:i}):e.addEventListener(t,l,!0):i!==void 0?e.addEventListener(t,l,{passive:i}):e.addEventListener(t,l,!1)}function Bo(e,t,l,s,i){var o=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var D=s.stateNode.containerInfo;if(D===i)break;if(m===4)for(m=s.return;m!==null;){var _=m.tag;if((_===3||_===4)&&m.stateNode.containerInfo===i)return;m=m.return}for(;D!==null;){if(m=Vl(D),m===null)return;if(_=m.tag,_===5||_===6||_===26||_===27){s=o=m;continue e}D=D.parentNode}}s=s.return}Su(function(){var Y=o,W=Wi(l),ae=[];e:{var Q=Pu.get(e);if(Q!==void 0){var X=ir,fe=e;switch(e){case"keypress":if(sr(l)===0)break e;case"keydown":case"keyup":X=Py;break;case"focusin":fe="focus",X=sc;break;case"focusout":fe="blur",X=sc;break;case"beforeblur":case"afterblur":X=sc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=eb;break;case Ku:case Xu:case Zu:X=qy;break;case Ju:X=ab;break;case"scroll":case"scrollend":X=By;break;case"wheel":X=nb;break;case"copy":case"cut":case"paste":X=Vy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Cu;break;case"toggle":case"beforetoggle":X=rb}var ve=(t&4)!==0,Ze=!ve&&(e==="scroll"||e==="scrollend"),$=ve?Q!==null?Q+"Capture":null:Q;ve=[];for(var U=Y,I;U!==null;){var te=U;if(I=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||I===null||$===null||(te=qn(U,$),te!=null&&ve.push(Ns(U,te,I))),Ze)break;U=U.return}0<ve.length&&(Q=new X(Q,fe,null,l,W),ae.push({event:Q,listeners:ve}))}}if((t&7)===0){e:{if(Q=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",Q&&l!==Fi&&(fe=l.relatedTarget||l.fromElement)&&(Vl(fe)||fe[Il]))break e;if((X||Q)&&(Q=W.window===W?W:(Q=W.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(fe=l.relatedTarget||l.toElement,X=Y,fe=fe?Vl(fe):null,fe!==null&&(Ze=f(fe),ve=fe.tag,fe!==Ze||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(X=null,fe=Y),X!==fe)){if(ve=Eu,te="onMouseLeave",$="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(ve=Cu,te="onPointerLeave",$="onPointerEnter",U="pointer"),Ze=X==null?Q:Gn(X),I=fe==null?Q:Gn(fe),Q=new ve(te,U+"leave",X,l,W),Q.target=Ze,Q.relatedTarget=I,te=null,Vl(W)===Y&&(ve=new ve($,U+"enter",fe,l,W),ve.target=I,ve.relatedTarget=Ze,te=ve),Ze=te,X&&fe)t:{for(ve=sg,$=X,U=fe,I=0,te=$;te;te=ve(te))I++;te=0;for(var be=U;be;be=ve(be))te++;for(;0<I-te;)$=ve($),I--;for(;0<te-I;)U=ve(U),te--;for(;I--;){if($===U||U!==null&&$===U.alternate){ve=$;break t}$=ve($),U=ve(U)}ve=null}else ve=null;X!==null&&vm(ae,Q,X,ve,!1),fe!==null&&Ze!==null&&vm(ae,Ze,fe,ve,!0)}}e:{if(Q=Y?Gn(Y):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var Ue=Lu;else if(Ru(Q))if(Bu)Ue=hb;else{Ue=mb;var xe=xb}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&Pi(Y.elementType)&&(Ue=Lu):Ue=pb;if(Ue&&(Ue=Ue(e,Y))){zu(ae,Ue,l,W);break e}xe&&xe(e,Q,Y),e==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&Ji(Q,"number",Q.value)}switch(xe=Y?Gn(Y):window,e){case"focusin":(Ru(xe)||xe.contentEditable==="true")&&(Wl=xe,uc=Y,Jn=null);break;case"focusout":Jn=uc=Wl=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,Yu(ae,l,W);break;case"selectionchange":if(bb)break;case"keydown":case"keyup":Yu(ae,l,W)}var Ae;if(ic)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Fl?_u(e,l)&&(Re="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(Tu&&l.locale!=="ko"&&(Fl||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Fl&&(Ae=wu()):(qa=W,ac="value"in qa?qa.value:qa.textContent,Fl=!0)),xe=Pr(Y,Re),0<xe.length&&(Re=new Au(Re,e,null,l,W),ae.push({event:Re,listeners:xe}),Ae?Re.data=Ae:(Ae=Mu(l),Ae!==null&&(Re.data=Ae)))),(Ae=cb?ob(e,l):db(e,l))&&(Re=Pr(Y,"onBeforeInput"),0<Re.length&&(xe=new Au("onBeforeInput","beforeinput",null,l,W),ae.push({event:xe,listeners:Re}),xe.data=Ae)),tg(ae,e,Y,l,W)}bm(ae,t)})}function Ns(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Pr(e,t){for(var l=t+"Capture",s=[];e!==null;){var i=e,o=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||o===null||(i=qn(e,l),i!=null&&s.unshift(Ns(e,i,o)),i=qn(e,t),i!=null&&s.push(Ns(e,i,o))),e.tag===3)return s;e=e.return}return[]}function sg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vm(e,t,l,s,i){for(var o=t._reactName,m=[];l!==null&&l!==s;){var D=l,_=D.alternate,Y=D.stateNode;if(D=D.tag,_!==null&&_===s)break;D!==5&&D!==26&&D!==27||Y===null||(_=Y,i?(Y=qn(l,o),Y!=null&&m.unshift(Ns(l,Y,_))):i||(Y=qn(l,o),Y!=null&&m.push(Ns(l,Y,_)))),l=l.return}m.length!==0&&e.push({event:t,listeners:m})}var rg=/\r\n?/g,ig=/\u0000|\uFFFD/g;function Nm(e){return(typeof e=="string"?e:""+e).replace(rg,`
`).replace(ig,"")}function jm(e,t){return t=Nm(t),Nm(e)===t}function Xe(e,t,l,s,i,o){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Zl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Zl(e,""+s);break;case"className":tr(e,"class",s);break;case"tabIndex":tr(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":tr(e,l,s);break;case"style":Nu(e,s,o);break;case"data":if(t!=="object"){tr(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=lr(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(l==="formAction"?(t!=="input"&&Xe(e,t,"name",i.name,i,null),Xe(e,t,"formEncType",i.formEncType,i,null),Xe(e,t,"formMethod",i.formMethod,i,null),Xe(e,t,"formTarget",i.formTarget,i,null)):(Xe(e,t,"encType",i.encType,i,null),Xe(e,t,"method",i.method,i,null),Xe(e,t,"target",i.target,i,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=lr(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=Sa);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(d(61));if(l=s.__html,l!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=lr(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":_e("beforetoggle",e),_e("toggle",e),er(e,"popover",s);break;case"xlinkActuate":ja(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ja(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ja(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ja(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ja(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ja(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ja(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ja(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ja(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":er(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=zy.get(l)||l,er(e,l,s))}}function Uo(e,t,l,s,i,o){switch(l){case"style":Nu(e,s,o);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(d(61));if(l=s.__html,l!=null){if(i.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Zl(e,s):(typeof s=="number"||typeof s=="bigint")&&Zl(e,""+s);break;case"onScroll":s!=null&&_e("scroll",e);break;case"onScrollEnd":s!=null&&_e("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Sa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(i=l.endsWith("Capture"),t=l.slice(2,i?l.length-7:void 0),o=e[Mt]||null,o=o!=null?o[l]:null,typeof o=="function"&&e.removeEventListener(t,o,i),typeof s=="function")){typeof o!="function"&&o!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,i);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):er(e,l,s)}}}function Et(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var s=!1,i=!1,o;for(o in l)if(l.hasOwnProperty(o)){var m=l[o];if(m!=null)switch(o){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Xe(e,t,o,m,l,null)}}i&&Xe(e,t,"srcSet",l.srcSet,l,null),s&&Xe(e,t,"src",l.src,l,null);return;case"input":_e("invalid",e);var D=o=m=i=null,_=null,Y=null;for(s in l)if(l.hasOwnProperty(s)){var W=l[s];if(W!=null)switch(s){case"name":i=W;break;case"type":m=W;break;case"checked":_=W;break;case"defaultChecked":Y=W;break;case"value":o=W;break;case"defaultValue":D=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(d(137,t));break;default:Xe(e,t,s,W,l,null)}}yu(e,o,D,_,Y,m,i,!1);return;case"select":_e("invalid",e),s=m=o=null;for(i in l)if(l.hasOwnProperty(i)&&(D=l[i],D!=null))switch(i){case"value":o=D;break;case"defaultValue":m=D;break;case"multiple":s=D;default:Xe(e,t,i,D,l,null)}t=o,l=m,e.multiple=!!s,t!=null?Xl(e,!!s,t,!1):l!=null&&Xl(e,!!s,l,!0);return;case"textarea":_e("invalid",e),o=i=s=null;for(m in l)if(l.hasOwnProperty(m)&&(D=l[m],D!=null))switch(m){case"value":s=D;break;case"defaultValue":i=D;break;case"children":o=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(d(91));break;default:Xe(e,t,m,D,l,null)}gu(e,s,i,o);return;case"option":for(_ in l)l.hasOwnProperty(_)&&(s=l[_],s!=null)&&(_==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Xe(e,t,_,s,l,null));return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(s=0;s<vs.length;s++)_e(vs[s],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(s=l[Y],s!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Xe(e,t,Y,s,l,null)}return;default:if(Pi(t)){for(W in l)l.hasOwnProperty(W)&&(s=l[W],s!==void 0&&Uo(e,t,W,s,l,void 0));return}}for(D in l)l.hasOwnProperty(D)&&(s=l[D],s!=null&&Xe(e,t,D,s,l,null))}function cg(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,m=null,D=null,_=null,Y=null,W=null;for(X in l){var ae=l[X];if(l.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":_=ae;default:s.hasOwnProperty(X)||Xe(e,t,X,null,s,ae)}}for(var Q in s){var X=s[Q];if(ae=l[Q],s.hasOwnProperty(Q)&&(X!=null||ae!=null))switch(Q){case"type":o=X;break;case"name":i=X;break;case"checked":Y=X;break;case"defaultChecked":W=X;break;case"value":m=X;break;case"defaultValue":D=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(d(137,t));break;default:X!==ae&&Xe(e,t,Q,X,s,ae)}}Zi(e,m,D,_,Y,W,o,i);return;case"select":X=m=D=Q=null;for(o in l)if(_=l[o],l.hasOwnProperty(o)&&_!=null)switch(o){case"value":break;case"multiple":X=_;default:s.hasOwnProperty(o)||Xe(e,t,o,null,s,_)}for(i in s)if(o=s[i],_=l[i],s.hasOwnProperty(i)&&(o!=null||_!=null))switch(i){case"value":Q=o;break;case"defaultValue":D=o;break;case"multiple":m=o;default:o!==_&&Xe(e,t,i,o,s,_)}t=D,l=m,s=X,Q!=null?Xl(e,!!l,Q,!1):!!s!=!!l&&(t!=null?Xl(e,!!l,t,!0):Xl(e,!!l,l?[]:"",!1));return;case"textarea":X=Q=null;for(D in l)if(i=l[D],l.hasOwnProperty(D)&&i!=null&&!s.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:Xe(e,t,D,null,s,i)}for(m in s)if(i=s[m],o=l[m],s.hasOwnProperty(m)&&(i!=null||o!=null))switch(m){case"value":Q=i;break;case"defaultValue":X=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(d(91));break;default:i!==o&&Xe(e,t,m,i,s,o)}bu(e,Q,X);return;case"option":for(var fe in l)Q=l[fe],l.hasOwnProperty(fe)&&Q!=null&&!s.hasOwnProperty(fe)&&(fe==="selected"?e.selected=!1:Xe(e,t,fe,null,s,Q));for(_ in s)Q=s[_],X=l[_],s.hasOwnProperty(_)&&Q!==X&&(Q!=null||X!=null)&&(_==="selected"?e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol":Xe(e,t,_,Q,s,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in l)Q=l[ve],l.hasOwnProperty(ve)&&Q!=null&&!s.hasOwnProperty(ve)&&Xe(e,t,ve,null,s,Q);for(Y in s)if(Q=s[Y],X=l[Y],s.hasOwnProperty(Y)&&Q!==X&&(Q!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(d(137,t));break;default:Xe(e,t,Y,Q,s,X)}return;default:if(Pi(t)){for(var Ze in l)Q=l[Ze],l.hasOwnProperty(Ze)&&Q!==void 0&&!s.hasOwnProperty(Ze)&&Uo(e,t,Ze,void 0,s,Q);for(W in s)Q=s[W],X=l[W],!s.hasOwnProperty(W)||Q===X||Q===void 0&&X===void 0||Uo(e,t,W,Q,s,X);return}}for(var $ in l)Q=l[$],l.hasOwnProperty($)&&Q!=null&&!s.hasOwnProperty($)&&Xe(e,t,$,null,s,Q);for(ae in s)Q=s[ae],X=l[ae],!s.hasOwnProperty(ae)||Q===X||Q==null&&X==null||Xe(e,t,ae,Q,s,X)}function Sm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function og(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var i=l[s],o=i.transferSize,m=i.initiatorType,D=i.duration;if(o&&D&&Sm(m)){for(m=0,D=i.responseEnd,s+=1;s<l.length;s++){var _=l[s],Y=_.startTime;if(Y>D)break;var W=_.transferSize,ae=_.initiatorType;W&&Sm(ae)&&(_=_.responseEnd,m+=W*(_<D?1:(D-Y)/(_-Y)))}if(--s,t+=8*(o+m)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ho=null,$o=null;function Fr(e){return e.nodeType===9?e:e.ownerDocument}function wm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Go(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qo=null;function dg(){var e=window.event;return e&&e.type==="popstate"?e===qo?!1:(qo=e,!0):(qo=null,!1)}var Em=typeof setTimeout=="function"?setTimeout:void 0,ug=typeof clearTimeout=="function"?clearTimeout:void 0,Am=typeof Promise=="function"?Promise:void 0,fg=typeof queueMicrotask=="function"?queueMicrotask:typeof Am<"u"?function(e){return Am.resolve(null).then(e).catch(xg)}:Em;function xg(e){setTimeout(function(){throw e})}function sl(e){return e==="head"}function Cm(e,t){var l=t,s=0;do{var i=l.nextSibling;if(e.removeChild(l),i&&i.nodeType===8)if(l=i.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(i),An(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")js(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,js(l);for(var o=l.firstChild;o;){var m=o.nextSibling,D=o.nodeName;o[$n]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&o.rel.toLowerCase()==="stylesheet"||l.removeChild(o),o=m}}else l==="body"&&js(e.ownerDocument.body);l=i}while(l);An(t)}function Tm(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Io(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Io(l),Ki(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function mg(e,t,l,s){for(;e.nodeType===1;){var i=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[$n])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=ra(e.nextSibling),e===null)break}return null}function pg(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=ra(e.nextSibling),e===null))return null;return e}function Om(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ra(e.nextSibling),e===null))return null;return e}function Vo(e){return e.data==="$?"||e.data==="$~"}function Yo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function hg(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ra(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Qo=null;function km(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return ra(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function _m(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Mm(e,t,l){switch(t=Fr(l),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function js(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ki(e)}var ia=new Map,Rm=new Set;function Wr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ha=L.d;L.d={f:yg,r:bg,D:gg,C:vg,L:Ng,m:jg,X:wg,S:Sg,M:Dg};function yg(){var e=Ha.f(),t=Vr();return e||t}function bg(e){var t=Yl(e);t!==null&&t.tag===5&&t.type==="form"?Pf(t):Ha.r(e)}var wn=typeof document>"u"?null:document;function zm(e,t,l){var s=wn;if(s&&typeof t=="string"&&t){var i=Wt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof l=="string"&&(i+='[crossorigin="'+l+'"]'),Rm.has(i)||(Rm.add(i),e={rel:e,crossOrigin:l,href:t},s.querySelector(i)===null&&(t=s.createElement("link"),Et(t,"link",e),yt(t),s.head.appendChild(t)))}}function gg(e){Ha.D(e),zm("dns-prefetch",e,null)}function vg(e,t){Ha.C(e,t),zm("preconnect",e,t)}function Ng(e,t,l){Ha.L(e,t,l);var s=wn;if(s&&e&&t){var i='link[rel="preload"][as="'+Wt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(i+='[imagesrcset="'+Wt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(i+='[imagesizes="'+Wt(l.imageSizes)+'"]')):i+='[href="'+Wt(e)+'"]';var o=i;switch(t){case"style":o=Dn(e);break;case"script":o=En(e)}ia.has(o)||(e=g({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),ia.set(o,e),s.querySelector(i)!==null||t==="style"&&s.querySelector(Ss(o))||t==="script"&&s.querySelector(ws(o))||(t=s.createElement("link"),Et(t,"link",e),yt(t),s.head.appendChild(t)))}}function jg(e,t){Ha.m(e,t);var l=wn;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Wt(s)+'"][href="'+Wt(e)+'"]',o=i;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=En(e)}if(!ia.has(o)&&(e=g({rel:"modulepreload",href:e},t),ia.set(o,e),l.querySelector(i)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ws(o)))return}s=l.createElement("link"),Et(s,"link",e),yt(s),l.head.appendChild(s)}}}function Sg(e,t,l){Ha.S(e,t,l);var s=wn;if(s&&e){var i=Ql(s).hoistableStyles,o=Dn(e);t=t||"default";var m=i.get(o);if(!m){var D={loading:0,preload:null};if(m=s.querySelector(Ss(o)))D.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":t},l),(l=ia.get(o))&&Ko(e,l);var _=m=s.createElement("link");yt(_),Et(_,"link",e),_._p=new Promise(function(Y,W){_.onload=Y,_.onerror=W}),_.addEventListener("load",function(){D.loading|=1}),_.addEventListener("error",function(){D.loading|=2}),D.loading|=4,ei(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:D},i.set(o,m)}}}function wg(e,t){Ha.X(e,t);var l=wn;if(l&&e){var s=Ql(l).hoistableScripts,i=En(e),o=s.get(i);o||(o=l.querySelector(ws(i)),o||(e=g({src:e,async:!0},t),(t=ia.get(i))&&Xo(e,t),o=l.createElement("script"),yt(o),Et(o,"link",e),l.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},s.set(i,o))}}function Dg(e,t){Ha.M(e,t);var l=wn;if(l&&e){var s=Ql(l).hoistableScripts,i=En(e),o=s.get(i);o||(o=l.querySelector(ws(i)),o||(e=g({src:e,async:!0,type:"module"},t),(t=ia.get(i))&&Xo(e,t),o=l.createElement("script"),yt(o),Et(o,"link",e),l.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},s.set(i,o))}}function Lm(e,t,l,s){var i=(i=ue.current)?Wr(i):null;if(!i)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Dn(l.href),l=Ql(i).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Dn(l.href);var o=Ql(i).hoistableStyles,m=o.get(e);if(m||(i=i.ownerDocument||i,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,m),(o=i.querySelector(Ss(e)))&&!o._p&&(m.instance=o,m.state.loading=5),ia.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ia.set(e,l),o||Eg(i,e,l,m.state))),t&&s===null)throw Error(d(528,""));return m}if(t&&s!==null)throw Error(d(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=En(l),l=Ql(i).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Dn(e){return'href="'+Wt(e)+'"'}function Ss(e){return'link[rel="stylesheet"]['+e+"]"}function Bm(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function Eg(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Et(t,"link",l),yt(t),e.head.appendChild(t))}function En(e){return'[src="'+Wt(e)+'"]'}function ws(e){return"script[async]"+e}function Um(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Wt(l.href)+'"]');if(s)return t.instance=s,yt(s),s;var i=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),yt(s),Et(s,"style",i),ei(s,l.precedence,e),t.instance=s;case"stylesheet":i=Dn(l.href);var o=e.querySelector(Ss(i));if(o)return t.state.loading|=4,t.instance=o,yt(o),o;s=Bm(l),(i=ia.get(i))&&Ko(s,i),o=(e.ownerDocument||e).createElement("link"),yt(o);var m=o;return m._p=new Promise(function(D,_){m.onload=D,m.onerror=_}),Et(o,"link",s),t.state.loading|=4,ei(o,l.precedence,e),t.instance=o;case"script":return o=En(l.src),(i=e.querySelector(ws(o)))?(t.instance=i,yt(i),i):(s=l,(i=ia.get(o))&&(s=g({},l),Xo(s,i)),e=e.ownerDocument||e,i=e.createElement("script"),yt(i),Et(i,"link",s),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,ei(s,l.precedence,e));return t.instance}function ei(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=s.length?s[s.length-1]:null,o=i,m=0;m<s.length;m++){var D=s[m];if(D.dataset.precedence===t)o=D;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Ko(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ti=null;function Hm(e,t,l){if(ti===null){var s=new Map,i=ti=new Map;i.set(l,s)}else i=ti,s=i.get(l),s||(s=new Map,i.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),i=0;i<l.length;i++){var o=l[i];if(!(o[$n]||o[jt]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var m=o.getAttribute(t)||"";m=e+m;var D=s.get(m);D?D.push(o):s.set(m,[o])}}return s}function $m(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Ag(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Gm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Cg(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var i=Dn(s.href),o=t.querySelector(Ss(i));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ai.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=o,yt(o);return}o=t.ownerDocument||t,s=Bm(s),(i=ia.get(i))&&Ko(s,i),o=o.createElement("link"),yt(o);var m=o;m._p=new Promise(function(D,_){m.onload=D,m.onerror=_}),Et(o,"link",s),l.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ai.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Zo=0;function Tg(e,t){return e.stylesheets&&e.count===0&&ni(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&ni(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&Zo===0&&(Zo=62500*og());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ni(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>Zo?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(i)}}:null}function ai(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ni(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var li=null;function ni(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,li=new Map,t.forEach(Og,e),li=null,ai.call(e))}function Og(e,t){if(!(t.state.loading&4)){var l=li.get(e);if(l)var s=l.get(null);else{l=new Map,li.set(e,l);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var m=i[o];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(l.set(m.dataset.precedence,m),s=m)}s&&l.set(null,s)}i=t.instance,m=i.getAttribute("data-precedence"),o=l.get(m)||s,o===s&&l.set(null,i),l.set(m,i),this.count++,s=ai.bind(this),i.addEventListener("load",s),i.addEventListener("error",s),o?o.parentNode.insertBefore(i,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Ds={$$typeof:T,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function kg(e,t,l,s,i,o,m,D,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=s,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function qm(e,t,l,s,i,o,m,D,_,Y,W,ae){return e=new kg(e,t,l,m,_,Y,W,ae,D),t=1,o===!0&&(t|=24),o=It(3,null,null,t),e.current=o,o.stateNode=e,t=Ac(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:s,isDehydrated:l,cache:t},kc(o),e}function Im(e){return e?(e=an,e):an}function Vm(e,t,l,s,i,o){i=Im(i),s.context===null?s.context=i:s.pendingContext=i,s=Xa(t),s.payload={element:l},o=o===void 0?null:o,o!==null&&(s.callback=o),l=Za(e,s,t),l!==null&&(Ht(l,e,t),ls(l,e,t))}function Ym(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Jo(e,t){Ym(e,t),(e=e.alternate)&&Ym(e,t)}function Qm(e){if(e.tag===13||e.tag===31){var t=jl(e,67108864);t!==null&&Ht(t,e,67108864),Jo(e,67108864)}}function Km(e){if(e.tag===13||e.tag===31){var t=Xt();t=Vi(t);var l=jl(e,t);l!==null&&Ht(l,e,t),Jo(e,t)}}var si=!0;function _g(e,t,l,s){var i=O.T;O.T=null;var o=L.p;try{L.p=2,Po(e,t,l,s)}finally{L.p=o,O.T=i}}function Mg(e,t,l,s){var i=O.T;O.T=null;var o=L.p;try{L.p=8,Po(e,t,l,s)}finally{L.p=o,O.T=i}}function Po(e,t,l,s){if(si){var i=Fo(s);if(i===null)Bo(e,t,s,ri,l),Zm(e,s);else if(zg(i,e,t,l,s))s.stopPropagation();else if(Zm(e,s),t&4&&-1<Rg.indexOf(e)){for(;i!==null;){var o=Yl(i);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var m=yl(o.pendingLanes);if(m!==0){var D=o;for(D.pendingLanes|=2,D.entangledLanes|=2;m;){var _=1<<31-Gt(m);D.entanglements[1]|=_,m&=~_}ga(o),(Ge&6)===0&&(qr=dt()+500,gs(0))}}break;case 31:case 13:D=jl(o,2),D!==null&&Ht(D,o,2),Vr(),Jo(o,2)}if(o=Fo(s),o===null&&Bo(e,t,s,ri,l),o===i)break;i=o}i!==null&&s.stopPropagation()}else Bo(e,t,s,null,l)}}function Fo(e){return e=Wi(e),Wo(e)}var ri=null;function Wo(e){if(ri=null,e=Vl(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=x(t),e!==null)return e;e=null}else if(l===31){if(e=b(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ri=e,null}function Xm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qi()){case tu:return 2;case au:return 8;case Zs:case vy:return 32;case lu:return 268435456;default:return 32}default:return 32}}var ed=!1,rl=null,il=null,cl=null,Es=new Map,As=new Map,ol=[],Rg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zm(e,t){switch(e){case"focusin":case"focusout":rl=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":cl=null;break;case"pointerover":case"pointerout":Es.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":As.delete(t.pointerId)}}function Cs(e,t,l,s,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Yl(t),t!==null&&Qm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function zg(e,t,l,s,i){switch(t){case"focusin":return rl=Cs(rl,e,t,l,s,i),!0;case"dragenter":return il=Cs(il,e,t,l,s,i),!0;case"mouseover":return cl=Cs(cl,e,t,l,s,i),!0;case"pointerover":var o=i.pointerId;return Es.set(o,Cs(Es.get(o)||null,e,t,l,s,i)),!0;case"gotpointercapture":return o=i.pointerId,As.set(o,Cs(As.get(o)||null,e,t,l,s,i)),!0}return!1}function Jm(e){var t=Vl(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=x(l),t!==null){e.blockedOn=t,ou(e.priority,function(){Km(l)});return}}else if(t===31){if(t=b(l),t!==null){e.blockedOn=t,ou(e.priority,function(){Km(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Fo(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Fi=s,l.target.dispatchEvent(s),Fi=null}else return t=Yl(l),t!==null&&Qm(t),e.blockedOn=l,!1;t.shift()}return!0}function Pm(e,t,l){ii(e)&&l.delete(t)}function Lg(){ed=!1,rl!==null&&ii(rl)&&(rl=null),il!==null&&ii(il)&&(il=null),cl!==null&&ii(cl)&&(cl=null),Es.forEach(Pm),As.forEach(Pm)}function ci(e,t){e.blockedOn===t&&(e.blockedOn=null,ed||(ed=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Lg)))}var oi=null;function Fm(e){oi!==e&&(oi=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){oi===e&&(oi=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],i=e[t+2];if(typeof s!="function"){if(Wo(s||l)===null)continue;break}var o=Yl(l);o!==null&&(e.splice(t,3),t-=3,Pc(o,{pending:!0,data:i,method:l.method,action:s},s,i))}}))}function An(e){function t(_){return ci(_,e)}rl!==null&&ci(rl,e),il!==null&&ci(il,e),cl!==null&&ci(cl,e),Es.forEach(t),As.forEach(t);for(var l=0;l<ol.length;l++){var s=ol[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<ol.length&&(l=ol[0],l.blockedOn===null);)Jm(l),l.blockedOn===null&&ol.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var i=l[s],o=l[s+1],m=i[Mt]||null;if(typeof o=="function")m||Fm(l);else if(m){var D=null;if(o&&o.hasAttribute("formAction")){if(i=o,m=o[Mt]||null)D=m.formAction;else if(Wo(i)!==null)continue}else D=m.action;typeof D=="function"?l[s+1]=D:(l.splice(s,3),s-=3),Fm(l)}}}function Wm(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(m){return i=m})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function td(e){this._internalRoot=e}di.prototype.render=td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var l=t.current,s=Xt();Vm(l,s,e,t,null,null)},di.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vm(e.current,2,null,e,null,null),Vr(),t[Il]=null}};function di(e){this._internalRoot=e}di.prototype.unstable_scheduleHydration=function(e){if(e){var t=cu();e={blockedOn:null,target:e,priority:t};for(var l=0;l<ol.length&&t!==0&&t<ol[l].priority;l++);ol.splice(l,0,e),l===0&&Jm(e)}};var ep=r.version;if(ep!=="19.2.3")throw Error(d(527,ep,"19.2.3"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=p(t),e=e!==null?N(e):null,e=e===null?null:e.stateNode,e};var Bg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ui=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ui.isDisabled&&ui.supportsFiber)try{Bn=ui.inject(Bg),$t=ui}catch{}}return Os.createRoot=function(e,t){if(!u(e))throw Error(d(299));var l=!1,s="",i=ix,o=cx,m=ox;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=qm(e,1,!1,null,null,l,s,null,i,o,m,Wm),e[Il]=t.current,Lo(e),new td(t)},Os.hydrateRoot=function(e,t,l){if(!u(e))throw Error(d(299));var s=!1,i="",o=ix,m=cx,D=ox,_=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(i=l.identifierPrefix),l.onUncaughtError!==void 0&&(o=l.onUncaughtError),l.onCaughtError!==void 0&&(m=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.formState!==void 0&&(_=l.formState)),t=qm(e,1,!0,t,l??null,s,i,_,o,m,D,Wm),t.context=Im(null),l=t.current,s=Xt(),s=Vi(s),i=Xa(s),i.callback=null,Za(l,i,s),l=s,t.current.lanes=l,Hn(t,l),ga(t),e[Il]=t.current,Lo(e),new di(t)},Os.version="19.2.3",Os}var dp;function Qg(){if(dp)return nd.exports;dp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),nd.exports=Yg(),nd.exports}var Kg=Qg();const Xg=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zg=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,c,d)=>d?d.toUpperCase():c.toLowerCase()),up=n=>{const r=Zg(n);return r.charAt(0).toUpperCase()+r.slice(1)},ih=(...n)=>n.filter((r,c,d)=>!!r&&r.trim()!==""&&d.indexOf(r)===c).join(" ").trim(),Jg=n=>{for(const r in n)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};var Pg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Fg=A.forwardRef(({color:n="currentColor",size:r=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:u="",children:f,iconNode:x,...b},h)=>A.createElement("svg",{ref:h,...Pg,width:r,height:r,stroke:n,strokeWidth:d?Number(c)*24/Number(r):c,className:ih("lucide",u),...!f&&!Jg(b)&&{"aria-hidden":"true"},...b},[...x.map(([p,N])=>A.createElement(p,N)),...Array.isArray(f)?f:[f]]));const Ne=(n,r)=>{const c=A.forwardRef(({className:d,...u},f)=>A.createElement(Fg,{ref:f,iconNode:r,className:ih(`lucide-${Xg(up(n))}`,`lucide-${n}`,d),...u}));return c.displayName=up(n),c};const Wg=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Hl=Ne("activity",Wg);const ev=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],fi=Ne("archive",ev);const tv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],av=Ne("arrow-right",tv);const lv=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],nv=Ne("calculator",lv);const sv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Na=Ne("calendar",sv);const rv=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],vd=Ne("chart-no-axes-column",rv);const iv=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Nd=Ne("chart-pie",iv);const cv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gl=Ne("chevron-down",cv);const ov=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vi=Ne("chevron-up",ov);const dv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ni=Ne("circle-alert",dv);const uv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jd=Ne("circle-check-big",uv);const fv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],xv=Ne("circle-minus",fv);const mv=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Cn=Ne("clipboard-list",mv);const pv=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],hv=Ne("clipboard",pv);const yv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],On=Ne("clock",yv);const bv=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],gv=Ne("credit-card",bv);const vv=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ht=Ne("dollar-sign",vv);const Nv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jv=Ne("eye",Nv);const Sv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Rs=Ne("file-text",Sv);const wv=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Bs=Ne("funnel",wv);const Dv=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],fp=Ne("grip-vertical",Dv);const Ev=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Av=Ne("info",Ev);const Cv=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Tv=Ne("list-ordered",Cv);const Ov=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],kv=Ne("lock",Ov);const _v=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Mv=Ne("log-out",_v);const Rv=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],xp=Ne("map-pin",Rv);const zv=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],mp=Ne("moon",zv);const Lv=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],xi=Ne("package-plus",Lv);const Bv=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Tn=Ne("package",Bv);const Uv=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Hv=Ne("piggy-bank",Uv);const $v=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nt=Ne("refresh-cw",$v);const Gv=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],pp=Ne("rotate-ccw",Gv);const qv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Us=Ne("save",qv);const Iv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vt=Ne("search",Iv);const Vv=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ch=Ne("settings",Vv);const Yv=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],va=Ne("shield",Yv);const Qv=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],mi=Ne("shopping-cart",Qv);const Kv=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Hs=Ne("square-check-big",Kv);const Xv=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],hp=Ne("sun",Xv);const Zv=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ji=Ne("trash-2",Zv);const Jv=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fl=Ne("trending-up",Jv);const Pv=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$l=Ne("triangle-alert",Pv);const Fv=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Sd=Ne("truck",Fv);const Wv=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],e0=Ne("user-plus",Wv);const t0=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xl=Ne("user",t0);const a0=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Si=Ne("users",a0);const l0=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ul=Ne("wallet",l0);const n0=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],s0=Ne("wifi-off",n0),Se=async(n,r,c,d=null)=>{try{const u=new AbortController,f=setTimeout(()=>u.abort(),3e4),x=await fetch(n,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:r,payload:c,token:d}),signal:u.signal});if(clearTimeout(f),!x.ok)throw new Error(`HTTP error! status: ${x.status}`);const b=await x.json();if(b.error)throw new Error(b.error);return b}catch(u){throw console.error(`API Error [${r}]:`,u),u.name==="AbortError"?new Error(" GAS "):u.message.includes("Load failed")||u.message.includes("Failed to fetch")?new Error(" GAS Anyone CORS "):u}};function r0({onLogin:n,apiUrl:r}){const[c,d]=A.useState(!1),[u,f]=A.useState(""),[x,b]=A.useState(""),[h,p]=A.useState(!1),N=async g=>{g.preventDefault(),p(!0);try{const w=await Se(r,c?"register":"login",{username:u,password:x});console.log("Login API Result:",w),c?(alert(" ()"),d(!1)):n(w)}catch(y){alert(y.message)}finally{p(!1)}};return a.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 bg-slate-50",children:a.jsxs("div",{className:"bg-white border border-slate-200 p-8 w-full max-w-md rounded-2xl shadow-2xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("img",{src:"/inventory-system/logo.png",alt:"Logo",className:"h-20 w-auto object-contain"})}),a.jsx("p",{className:"text-slate-500",children:c?"":""})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsx("div",{children:a.jsxs("div",{className:"relative",children:[a.jsx(xl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),a.jsx("input",{required:!0,type:"text",placeholder:"",className:"input-field pl-10 bg-slate-50 border-slate-200 focus:bg-white transition-all",value:u,onChange:g=>f(g.target.value)})]})}),a.jsx("div",{children:a.jsxs("div",{className:"relative",children:[a.jsx(kv,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),a.jsx("input",{required:!0,type:"password",placeholder:"",className:"input-field pl-10 bg-slate-50 border-slate-200 focus:bg-white transition-all",value:x,onChange:g=>b(g.target.value)})]})}),a.jsxs("button",{type:"submit",disabled:h,className:"btn-primary w-full flex justify-center items-center gap-2 py-3",children:[h?"...":c?"":""," ",a.jsx(av,{size:18})]})]}),a.jsx("div",{className:"mt-6 text-center text-sm text-slate-500",children:a.jsx("button",{onClick:()=>d(!c),className:"hover:text-blue-400 transition-colors",children:c?"":""})})]})})}var _d=rh();const i0=sh(_d);function _t(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var c0=typeof Symbol=="function"&&Symbol.observable||"@@observable",yp=c0,bp=()=>Math.random().toString(36).substring(7).split("").join("."),o0={INIT:`@@redux/INIT${bp()}`,REPLACE:`@@redux/REPLACE${bp()}`},gp=o0;function d0(n){if(typeof n!="object"||n===null)return!1;let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r||Object.getPrototypeOf(n)===null}function oh(n,r,c){if(typeof n!="function")throw new Error(_t(2));if(typeof r=="function"&&typeof c=="function"||typeof c=="function"&&typeof arguments[3]=="function")throw new Error(_t(0));if(typeof r=="function"&&typeof c>"u"&&(c=r,r=void 0),typeof c<"u"){if(typeof c!="function")throw new Error(_t(1));return c(oh)(n,r)}let d=n,u=r,f=new Map,x=f,b=0,h=!1;function p(){x===f&&(x=new Map,f.forEach((v,S)=>{x.set(S,v)}))}function N(){if(h)throw new Error(_t(3));return u}function g(v){if(typeof v!="function")throw new Error(_t(4));if(h)throw new Error(_t(5));let S=!0;p();const z=b++;return x.set(z,v),function(){if(S){if(h)throw new Error(_t(6));S=!1,p(),x.delete(z),f=null}}}function y(v){if(!d0(v))throw new Error(_t(7));if(typeof v.type>"u")throw new Error(_t(8));if(typeof v.type!="string")throw new Error(_t(17));if(h)throw new Error(_t(9));try{h=!0,u=d(u,v)}finally{h=!1}return(f=x).forEach(z=>{z()}),v}function w(v){if(typeof v!="function")throw new Error(_t(10));d=v,y({type:gp.REPLACE})}function C(){const v=g;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(_t(11));function z(){const k=S;k.next&&k.next(N())}return z(),{unsubscribe:v(z)}},[yp](){return this}}}return y({type:gp.INIT}),{dispatch:y,subscribe:g,getState:N,replaceReducer:w,[yp]:C}}function vp(n,r){return function(...c){return r(n.apply(this,c))}}function Np(n,r){if(typeof n=="function")return vp(n,r);if(typeof n!="object"||n===null)throw new Error(_t(16));const c={};for(const d in n){const u=n[d];typeof u=="function"&&(c[d]=vp(u,r))}return c}function dh(...n){return n.length===0?r=>r:n.length===1?n[0]:n.reduce((r,c)=>(...d)=>r(c(...d)))}function u0(...n){return r=>(c,d)=>{const u=r(c,d);let f=()=>{throw new Error(_t(15))};const x={getState:u.getState,dispatch:(h,...p)=>f(h,...p)},b=n.map(h=>h(x));return f=dh(...b)(u.dispatch),{...u,dispatch:f}}}var cd={exports:{}},od={};var jp;function f0(){if(jp)return od;jp=1;var n=Mi();function r(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var c=typeof Object.is=="function"?Object.is:r,d=n.useSyncExternalStore,u=n.useRef,f=n.useEffect,x=n.useMemo,b=n.useDebugValue;return od.useSyncExternalStoreWithSelector=function(h,p,N,g,y){var w=u(null);if(w.current===null){var C={hasValue:!1,value:null};w.current=C}else C=w.current;w=x(function(){function v(R){if(!S){if(S=!0,z=R,R=g(R),y!==void 0&&C.hasValue){var j=C.value;if(y(j,R))return T=j}return T=R}if(j=T,c(z,R))return j;var B=g(R);return y!==void 0&&y(j,B)?(z=R,j):(z=R,T=B)}var S=!1,z,T,k=N===void 0?null:N;return[function(){return v(p())},k===null?void 0:function(){return v(k())}]},[p,N,g,y]);var M=d(h,w[0],w[1]);return f(function(){C.hasValue=!0,C.value=M},[M]),b(M),M},od}var Sp;function x0(){return Sp||(Sp=1,cd.exports=f0()),cd.exports}x0();var m0=A.version.startsWith("19"),p0=Symbol.for(m0?"react.transitional.element":"react.element"),h0=Symbol.for("react.portal"),y0=Symbol.for("react.fragment"),b0=Symbol.for("react.strict_mode"),g0=Symbol.for("react.profiler"),v0=Symbol.for("react.consumer"),N0=Symbol.for("react.context"),uh=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),S0=Symbol.for("react.suspense_list"),Md=Symbol.for("react.memo"),w0=Symbol.for("react.lazy"),D0=uh,E0=Md;function A0(n){if(typeof n=="object"&&n!==null){const{$$typeof:r}=n;switch(r){case p0:switch(n=n.type,n){case y0:case g0:case b0:case j0:case S0:return n;default:switch(n=n&&n.$$typeof,n){case N0:case uh:case w0:case Md:return n;case v0:return n;default:return r}}case h0:return r}}}function C0(n){return A0(n)===Md}function T0(n,r,c,d,{areStatesEqual:u,areOwnPropsEqual:f,areStatePropsEqual:x}){let b=!1,h,p,N,g,y;function w(z,T){return h=z,p=T,N=n(h,p),g=r(d,p),y=c(N,g,p),b=!0,y}function C(){return N=n(h,p),r.dependsOnOwnProps&&(g=r(d,p)),y=c(N,g,p),y}function M(){return n.dependsOnOwnProps&&(N=n(h,p)),r.dependsOnOwnProps&&(g=r(d,p)),y=c(N,g,p),y}function v(){const z=n(h,p),T=!x(z,N);return N=z,T&&(y=c(N,g,p)),y}function S(z,T){const k=!f(T,p),R=!u(z,h,T,p);return h=z,p=T,k&&R?C():k?M():R?v():y}return function(T,k){return b?S(T,k):w(T,k)}}function O0(n,{initMapStateToProps:r,initMapDispatchToProps:c,initMergeProps:d,...u}){const f=r(n,u),x=c(n,u),b=d(n,u);return T0(f,x,b,n,u)}function k0(n,r){const c={};for(const d in n){const u=n[d];typeof u=="function"&&(c[d]=(...f)=>r(u(...f)))}return c}function wd(n){return function(c){const d=n(c);function u(){return d}return u.dependsOnOwnProps=!1,u}}function wp(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function fh(n,r){return function(d,{displayName:u}){const f=function(b,h){return f.dependsOnOwnProps?f.mapToProps(b,h):f.mapToProps(b,void 0)};return f.dependsOnOwnProps=!0,f.mapToProps=function(b,h){f.mapToProps=n,f.dependsOnOwnProps=wp(n);let p=f(b,h);return typeof p=="function"&&(f.mapToProps=p,f.dependsOnOwnProps=wp(p),p=f(b,h)),p},f}}function Rd(n,r){return(c,d)=>{throw new Error(`Invalid value of type ${typeof n} for ${r} argument when connecting component ${d.wrappedComponentName}.`)}}function _0(n){return n&&typeof n=="object"?wd(r=>k0(n,r)):n?typeof n=="function"?fh(n):Rd(n,"mapDispatchToProps"):wd(r=>({dispatch:r}))}function M0(n){return n?typeof n=="function"?fh(n):Rd(n,"mapStateToProps"):wd(()=>({}))}function R0(n,r,c){return{...c,...n,...r}}function z0(n){return function(c,{displayName:d,areMergedPropsEqual:u}){let f=!1,x;return function(h,p,N){const g=n(h,p,N);return f?u(g,x)||(x=g):(f=!0,x=g),x}}}function L0(n){return n?typeof n=="function"?z0(n):Rd(n,"mergeProps"):()=>R0}function B0(n){n()}function U0(){let n=null,r=null;return{clear(){n=null,r=null},notify(){B0(()=>{let c=n;for(;c;)c.callback(),c=c.next})},get(){const c=[];let d=n;for(;d;)c.push(d),d=d.next;return c},subscribe(c){let d=!0;const u=r={callback:c,next:null,prev:r};return u.prev?u.prev.next=u:n=u,function(){!d||n===null||(d=!1,u.next?u.next.prev=u.prev:r=u.prev,u.prev?u.prev.next=u.next:n=u.next)}}}}var Dp={notify(){},get:()=>[]};function xh(n,r){let c,d=Dp,u=0,f=!1;function x(M){N();const v=d.subscribe(M);let S=!1;return()=>{S||(S=!0,v(),g())}}function b(){d.notify()}function h(){C.onStateChange&&C.onStateChange()}function p(){return f}function N(){u++,c||(c=r?r.addNestedSub(h):n.subscribe(h),d=U0())}function g(){u--,c&&u===0&&(c(),c=void 0,d.clear(),d=Dp)}function y(){f||(f=!0,N())}function w(){f&&(f=!1,g())}const C={addNestedSub:x,notifyNestedSubs:b,handleChangeWrapper:h,isSubscribed:p,trySubscribe:y,tryUnsubscribe:w,getListeners:()=>d};return C}var H0=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$0=H0(),G0=()=>typeof navigator<"u"&&navigator.product==="ReactNative",q0=G0(),I0=()=>$0||q0?A.useLayoutEffect:A.useEffect,wi=I0();function Ep(n,r){return n===r?n!==0||r!==0||1/n===1/r:n!==n&&r!==r}function dd(n,r){if(Ep(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;const c=Object.keys(n),d=Object.keys(r);if(c.length!==d.length)return!1;for(let u=0;u<c.length;u++)if(!Object.prototype.hasOwnProperty.call(r,c[u])||!Ep(n[c[u]],r[c[u]]))return!1;return!0}var V0={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Y0={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Q0={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mh={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},K0={[D0]:Q0,[E0]:mh};function Ap(n){return C0(n)?mh:K0[n.$$typeof]||V0}var X0=Object.defineProperty,Z0=Object.getOwnPropertyNames,Cp=Object.getOwnPropertySymbols,J0=Object.getOwnPropertyDescriptor,P0=Object.getPrototypeOf,Tp=Object.prototype;function Dd(n,r){if(typeof r!="string"){if(Tp){const f=P0(r);f&&f!==Tp&&Dd(n,f)}let c=Z0(r);Cp&&(c=c.concat(Cp(r)));const d=Ap(n),u=Ap(r);for(let f=0;f<c.length;++f){const x=c[f];if(!Y0[x]&&!(u&&u[x])&&!(d&&d[x])){const b=J0(r,x);try{X0(n,x,b)}catch{}}}}return n}var F0=Symbol.for("react-redux-context"),W0=typeof globalThis<"u"?globalThis:{};function e1(){if(!A.createContext)return{};const n=W0[F0]??=new Map;let r=n.get(A.createContext);return r||(r=A.createContext(null),n.set(A.createContext,r)),r}var ph=e1(),t1=[null,null];function a1(n,r,c){wi(()=>n(...r),c)}function l1(n,r,c,d,u,f){n.current=d,c.current=!1,u.current&&(u.current=null,f())}function n1(n,r,c,d,u,f,x,b,h,p,N){if(!n)return()=>{};let g=!1,y=null;const w=()=>{if(g||!b.current)return;const M=r.getState();let v,S;try{v=d(M,u.current)}catch(z){S=z,y=z}S||(y=null),v===f.current?x.current||p():(f.current=v,h.current=v,x.current=!0,N())};return c.onStateChange=w,c.trySubscribe(),w(),()=>{if(g=!0,c.tryUnsubscribe(),c.onStateChange=null,y)throw y}}function s1(n,r){return n===r}function r1(n,r,c,{pure:d,areStatesEqual:u=s1,areOwnPropsEqual:f=dd,areStatePropsEqual:x=dd,areMergedPropsEqual:b=dd,forwardRef:h=!1,context:p=ph}={}){const N=p,g=M0(n),y=_0(r),w=L0(c),C=!!n;return v=>{const S=v.displayName||v.name||"Component",z=`Connect(${S})`,T={shouldHandleStateChanges:C,displayName:z,wrappedComponentName:S,WrappedComponent:v,initMapStateToProps:g,initMapDispatchToProps:y,initMergeProps:w,areStatesEqual:u,areStatePropsEqual:x,areOwnPropsEqual:f,areMergedPropsEqual:b};function k(B){const[q,ne,ce]=A.useMemo(()=>{const{reactReduxForwardedRef:Le,...We}=B;return[B.context,Le,We]},[B]),H=A.useMemo(()=>{let Le=N;return q?.Consumer,Le},[q,N]),K=A.useContext(H),ee=!!B.store&&!!B.store.getState&&!!B.store.dispatch,de=!!K&&!!K.store,ie=ee?B.store:K.store,O=de?K.getServerState:ie.getState,L=A.useMemo(()=>O0(ie.dispatch,T),[ie]),[J,F]=A.useMemo(()=>{if(!C)return t1;const Le=xh(ie,ee?void 0:K.subscription),We=Le.notifyNestedSubs.bind(Le);return[Le,We]},[ie,ee,K]),se=A.useMemo(()=>ee?K:{...K,subscription:J},[ee,K,J]),E=A.useRef(void 0),V=A.useRef(ce),Z=A.useRef(void 0),le=A.useRef(!1),oe=A.useRef(!1),ue=A.useRef(void 0);wi(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const P=A.useMemo(()=>()=>Z.current&&ce===V.current?Z.current:L(ie.getState(),ce),[ie,ce]),pe=A.useMemo(()=>We=>J?n1(C,ie,J,L,V,E,le,oe,Z,F,We):()=>{},[J]);a1(l1,[V,E,le,ce,Z,F]);let ye;try{ye=A.useSyncExternalStore(pe,P,O?()=>L(O(),ce):P)}catch(Le){throw ue.current&&(Le.message+=`
The error may be correlated with this previous error:
${ue.current.stack}

`),Le}wi(()=>{ue.current=void 0,Z.current=void 0,E.current=ye});const Ce=A.useMemo(()=>A.createElement(v,{...ye,ref:ne}),[ne,v,ye]);return A.useMemo(()=>C?A.createElement(H.Provider,{value:se},Ce):Ce,[H,Ce,se])}const j=A.memo(k);if(j.WrappedComponent=v,j.displayName=k.displayName=z,h){const q=A.forwardRef(function(ce,H){return A.createElement(j,{...ce,reactReduxForwardedRef:H})});return q.displayName=z,q.WrappedComponent=v,Dd(q,v)}return Dd(j,v)}}var hh=r1;function i1(n){const{children:r,context:c,serverState:d,store:u}=n,f=A.useMemo(()=>{const h=xh(u);return{store:u,subscription:h,getServerState:d?()=>d:void 0}},[u,d]),x=A.useMemo(()=>u.getState(),[u]);wi(()=>{const{subscription:h}=f;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),x!==u.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[f,x]);const b=c||ph;return A.createElement(b.Provider,{value:f},r)}var c1=i1,o1="Invariant failed";function d1(n,r){throw new Error(o1)}var pa=function(r){var c=r.top,d=r.right,u=r.bottom,f=r.left,x=d-f,b=u-c,h={top:c,right:d,bottom:u,left:f,width:x,height:b,x:f,y:c,center:{x:(d+f)/2,y:(u+c)/2}};return h},zd=function(r,c){return{top:r.top-c.top,left:r.left-c.left,bottom:r.bottom+c.bottom,right:r.right+c.right}},Op=function(r,c){return{top:r.top+c.top,left:r.left+c.left,bottom:r.bottom-c.bottom,right:r.right-c.right}},u1=function(r,c){return{top:r.top+c.y,left:r.left+c.x,bottom:r.bottom+c.y,right:r.right+c.x}},ud={top:0,right:0,bottom:0,left:0},Ld=function(r){var c=r.borderBox,d=r.margin,u=d===void 0?ud:d,f=r.border,x=f===void 0?ud:f,b=r.padding,h=b===void 0?ud:b,p=pa(zd(c,u)),N=pa(Op(c,x)),g=pa(Op(N,h));return{marginBox:p,borderBox:pa(c),paddingBox:N,contentBox:g,margin:u,border:x,padding:h}},ca=function(r){var c=r.slice(0,-2),d=r.slice(-2);if(d!=="px")return 0;var u=Number(c);return isNaN(u)&&d1(),u},f1=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Di=function(r,c){var d=r.borderBox,u=r.border,f=r.margin,x=r.padding,b=u1(d,c);return Ld({borderBox:b,border:u,margin:f,padding:x})},Ei=function(r,c){return c===void 0&&(c=f1()),Di(r,c)},yh=function(r,c){var d={top:ca(c.marginTop),right:ca(c.marginRight),bottom:ca(c.marginBottom),left:ca(c.marginLeft)},u={top:ca(c.paddingTop),right:ca(c.paddingRight),bottom:ca(c.paddingBottom),left:ca(c.paddingLeft)},f={top:ca(c.borderTopWidth),right:ca(c.borderRightWidth),bottom:ca(c.borderBottomWidth),left:ca(c.borderLeftWidth)};return Ld({borderBox:r,margin:d,padding:u,border:f})},bh=function(r){var c=r.getBoundingClientRect(),d=window.getComputedStyle(r);return yh(c,d)},$s=function(r){var c=[],d=null,u=function(){for(var x=arguments.length,b=new Array(x),h=0;h<x;h++)b[h]=arguments[h];c=b,!d&&(d=requestAnimationFrame(function(){d=null,r.apply(void 0,c)}))};return u.cancel=function(){d&&(cancelAnimationFrame(d),d=null)},u};function Ai(){return Ai=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var c=arguments[r];for(var d in c)({}).hasOwnProperty.call(c,d)&&(n[d]=c[d])}return n},Ai.apply(null,arguments)}function gh(n,r){}gh.bind(null,"warn");gh.bind(null,"error");function ml(){}function x1(n,r){return{...n,...r}}function oa(n,r,c){const d=r.map(u=>{const f=x1(c,u.options);return n.addEventListener(u.eventName,u.fn,f),function(){n.removeEventListener(u.eventName,u.fn,f)}});return function(){d.forEach(f=>{f()})}}const m1="Invariant failed";class Ci extends Error{}Ci.prototype.toString=function(){return this.message};function re(n,r){throw new Ci(m1)}class p1 extends qe.Component{constructor(...r){super(...r),this.callbacks=null,this.unbind=ml,this.onWindowError=c=>{const d=this.getCallbacks();d.isDragging()&&d.tryAbort(),c.error instanceof Ci&&c.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=c=>{this.callbacks=c}}componentDidMount(){this.unbind=oa(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(r){if(r instanceof Ci){this.setState({});return}throw r}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const h1=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,Ti=n=>n+1,y1=n=>`
  You have lifted an item in position ${Ti(n.source.index)}
`,vh=(n,r)=>{const c=n.droppableId===r.droppableId,d=Ti(n.index),u=Ti(r.index);return c?`
      You have moved the item from position ${d}
      to position ${u}
    `:`
    You have moved the item from position ${d}
    in list ${n.droppableId}
    to list ${r.droppableId}
    in position ${u}
  `},Nh=(n,r,c)=>r.droppableId===c.droppableId?`
      The item ${n}
      has been combined with ${c.draggableId}`:`
      The item ${n}
      in list ${r.droppableId}
      has been combined with ${c.draggableId}
      in list ${c.droppableId}
    `,b1=n=>{const r=n.destination;if(r)return vh(n.source,r);const c=n.combine;return c?Nh(n.draggableId,n.source,c):"You are over an area that cannot be dropped on"},kp=n=>`
  The item has returned to its starting position
  of ${Ti(n.index)}
`,g1=n=>{if(n.reason==="CANCEL")return`
      Movement cancelled.
      ${kp(n.source)}
    `;const r=n.destination,c=n.combine;return r?`
      You have dropped the item.
      ${vh(n.source,r)}
    `:c?`
      You have dropped the item.
      ${Nh(n.draggableId,n.source,c)}
    `:`
    The item has been dropped while not over a drop area.
    ${kp(n.source)}
  `},gi={dragHandleUsageInstructions:h1,onDragStart:y1,onDragUpdate:b1,onDragEnd:g1};function v1(n,r){return!!(n===r||Number.isNaN(n)&&Number.isNaN(r))}function jh(n,r){if(n.length!==r.length)return!1;for(let c=0;c<n.length;c++)if(!v1(n[c],r[c]))return!1;return!0}function Be(n,r){const c=A.useState(()=>({inputs:r,result:n()}))[0],d=A.useRef(!0),u=A.useRef(c),x=d.current||!!(r&&u.current.inputs&&jh(r,u.current.inputs))?u.current:{inputs:r,result:n()};return A.useEffect(()=>{d.current=!1,u.current=x},[x]),x.result}function he(n,r){return Be(()=>n,r)}const Nt={x:0,y:0},At=(n,r)=>({x:n.x+r.x,y:n.y+r.y}),Zt=(n,r)=>({x:n.x-r.x,y:n.y-r.y}),pl=(n,r)=>n.x===r.x&&n.y===r.y,Rn=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),ql=(n,r,c=0)=>n==="x"?{x:r,y:c}:{x:c,y:r},Gs=(n,r)=>Math.sqrt((r.x-n.x)**2+(r.y-n.y)**2),_p=(n,r)=>Math.min(...r.map(c=>Gs(n,c))),Sh=n=>r=>({x:n(r.x),y:n(r.y)});var N1=(n,r)=>{const c=pa({top:Math.max(r.top,n.top),right:Math.min(r.right,n.right),bottom:Math.min(r.bottom,n.bottom),left:Math.max(r.left,n.left)});return c.width<=0||c.height<=0?null:c};const Ks=(n,r)=>({top:n.top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x}),Mp=n=>[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}],j1={top:0,right:0,bottom:0,left:0},S1=(n,r)=>r?Ks(n,r.scroll.diff.displacement):n,w1=(n,r,c)=>c&&c.increasedBy?{...n,[r.end]:n[r.end]+c.increasedBy[r.line]}:n,D1=(n,r)=>r&&r.shouldClipSubject?N1(r.pageMarginBox,n):pa(n);var kn=({page:n,withPlaceholder:r,axis:c,frame:d})=>{const u=S1(n.marginBox,d),f=w1(u,c,r),x=D1(f,d);return{page:n,withPlaceholder:r,active:x}},Bd=(n,r)=>{n.frame||re();const c=n.frame,d=Zt(r,c.scroll.initial),u=Rn(d),f={...c,scroll:{initial:c.scroll.initial,current:r,diff:{value:d,displacement:u},max:c.scroll.max}},x=kn({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:f});return{...n,frame:f,subject:x}};function gt(n,r=jh){let c=null;function d(...u){if(c&&c.lastThis===this&&r(u,c.lastArgs))return c.lastResult;const f=n.apply(this,u);return c={lastResult:f,lastArgs:u,lastThis:this},f}return d.clear=function(){c=null},d}const wh=gt(n=>n.reduce((r,c)=>(r[c.descriptor.id]=c,r),{})),Dh=gt(n=>n.reduce((r,c)=>(r[c.descriptor.id]=c,r),{})),Ri=gt(n=>Object.values(n)),E1=gt(n=>Object.values(n));var zn=gt((n,r)=>E1(r).filter(d=>n===d.descriptor.droppableId).sort((d,u)=>d.descriptor.index-u.descriptor.index));function Ud(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function zi(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var Li=gt((n,r)=>r.filter(c=>c.descriptor.id!==n.descriptor.id)),A1=({isMovingForward:n,draggable:r,destination:c,insideDestination:d,previousImpact:u})=>{if(!c.isCombineEnabled||!Ud(u))return null;function x(w){const C={type:"COMBINE",combine:{draggableId:w,droppableId:c.descriptor.id}};return{...u,at:C}}const b=u.displaced.all,h=b.length?b[0]:null;if(n)return h?x(h):null;const p=Li(r,d);if(!h){if(!p.length)return null;const w=p[p.length-1];return x(w.descriptor.id)}const N=p.findIndex(w=>w.descriptor.id===h);N===-1&&re();const g=N-1;if(g<0)return null;const y=p[g];return x(y.descriptor.id)},Ln=(n,r)=>n.descriptor.droppableId===r.descriptor.id;const Eh={point:Nt,value:0},qs={invisible:{},visible:{},all:[]},C1={displaced:qs,displacedBy:Eh,at:null};var da=(n,r)=>c=>n<=c&&c<=r,Ah=n=>{const r=da(n.top,n.bottom),c=da(n.left,n.right);return d=>{if(r(d.top)&&r(d.bottom)&&c(d.left)&&c(d.right))return!0;const f=r(d.top)||r(d.bottom),x=c(d.left)||c(d.right);if(f&&x)return!0;const h=d.top<n.top&&d.bottom>n.bottom,p=d.left<n.left&&d.right>n.right;return h&&p?!0:h&&x||p&&f}},T1=n=>{const r=da(n.top,n.bottom),c=da(n.left,n.right);return d=>r(d.top)&&r(d.bottom)&&c(d.left)&&c(d.right)};const Hd={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ch={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var O1=n=>r=>{const c=da(r.top,r.bottom),d=da(r.left,r.right);return u=>n===Hd?c(u.top)&&c(u.bottom):d(u.left)&&d(u.right)};const k1=(n,r)=>{const c=r.frame?r.frame.scroll.diff.displacement:Nt;return Ks(n,c)},_1=(n,r,c)=>r.subject.active?c(r.subject.active)(n):!1,M1=(n,r,c)=>c(r)(n),$d=({target:n,destination:r,viewport:c,withDroppableDisplacement:d,isVisibleThroughFrameFn:u})=>{const f=d?k1(n,r):n;return _1(f,r,u)&&M1(f,c,u)},R1=n=>$d({...n,isVisibleThroughFrameFn:Ah}),Th=n=>$d({...n,isVisibleThroughFrameFn:T1}),z1=n=>$d({...n,isVisibleThroughFrameFn:O1(n.destination.axis)}),L1=(n,r,c)=>{if(typeof c=="boolean")return c;if(!r)return!0;const{invisible:d,visible:u}=r;if(d[n])return!1;const f=u[n];return f?f.shouldAnimate:!0};function B1(n,r){const c=n.page.marginBox,d={top:r.point.y,right:0,bottom:0,left:r.point.x};return pa(zd(c,d))}function Is({afterDragging:n,destination:r,displacedBy:c,viewport:d,forceShouldAnimate:u,last:f}){return n.reduce(function(b,h){const p=B1(h,c),N=h.descriptor.id;if(b.all.push(N),!R1({target:p,destination:r,viewport:d,withDroppableDisplacement:!0}))return b.invisible[h.descriptor.id]=!0,b;const y=L1(N,f,u),w={draggableId:N,shouldAnimate:y};return b.visible[N]=w,b},{all:[],visible:{},invisible:{}})}function U1(n,r){if(!n.length)return 0;const c=n[n.length-1].descriptor.index;return r.inHomeList?c:c+1}function Rp({insideDestination:n,inHomeList:r,displacedBy:c,destination:d}){const u=U1(n,{inHomeList:r});return{displaced:qs,displacedBy:c,at:{type:"REORDER",destination:{droppableId:d.descriptor.id,index:u}}}}function Oi({draggable:n,insideDestination:r,destination:c,viewport:d,displacedBy:u,last:f,index:x,forceShouldAnimate:b}){const h=Ln(n,c);if(x==null)return Rp({insideDestination:r,inHomeList:h,displacedBy:u,destination:c});const p=r.find(C=>C.descriptor.index===x);if(!p)return Rp({insideDestination:r,inHomeList:h,displacedBy:u,destination:c});const N=Li(n,r),g=r.indexOf(p),y=N.slice(g);return{displaced:Is({afterDragging:y,destination:c,displacedBy:u,last:f,viewport:d.frame,forceShouldAnimate:b}),displacedBy:u,at:{type:"REORDER",destination:{droppableId:c.descriptor.id,index:x}}}}function hl(n,r){return!!r.effected[n]}var H1=({isMovingForward:n,destination:r,draggables:c,combine:d,afterCritical:u})=>{if(!r.isCombineEnabled)return null;const f=d.draggableId,b=c[f].descriptor.index;return hl(f,u)?n?b:b-1:n?b+1:b},$1=({isMovingForward:n,isInHomeList:r,insideDestination:c,location:d})=>{if(!c.length)return null;const u=d.index,f=n?u+1:u-1,x=c[0].descriptor.index,b=c[c.length-1].descriptor.index,h=r?b:b+1;return f<x||f>h?null:f},G1=({isMovingForward:n,isInHomeList:r,draggable:c,draggables:d,destination:u,insideDestination:f,previousImpact:x,viewport:b,afterCritical:h})=>{const p=x.at;if(p||re(),p.type==="REORDER"){const g=$1({isMovingForward:n,isInHomeList:r,location:p.destination,insideDestination:f});return g==null?null:Oi({draggable:c,insideDestination:f,destination:u,viewport:b,last:x.displaced,displacedBy:x.displacedBy,index:g})}const N=H1({isMovingForward:n,destination:u,displaced:x.displaced,draggables:d,combine:p.combine,afterCritical:h});return N==null?null:Oi({draggable:c,insideDestination:f,destination:u,viewport:b,last:x.displaced,displacedBy:x.displacedBy,index:N})},q1=({displaced:n,afterCritical:r,combineWith:c,displacedBy:d})=>{const u=!!(n.visible[c]||n.invisible[c]);return hl(c,r)?u?Nt:Rn(d.point):u?d.point:Nt},I1=({afterCritical:n,impact:r,draggables:c})=>{const d=zi(r);d||re();const u=d.draggableId,f=c[u].page.borderBox.center,x=q1({displaced:r.displaced,afterCritical:n,combineWith:u,displacedBy:r.displacedBy});return At(f,x)};const Oh=(n,r)=>r.margin[n.start]+r.borderBox[n.size]/2,V1=(n,r)=>r.margin[n.end]+r.borderBox[n.size]/2,Gd=(n,r,c)=>r[n.crossAxisStart]+c.margin[n.crossAxisStart]+c.borderBox[n.crossAxisSize]/2,zp=({axis:n,moveRelativeTo:r,isMoving:c})=>ql(n.line,r.marginBox[n.end]+Oh(n,c),Gd(n,r.marginBox,c)),Lp=({axis:n,moveRelativeTo:r,isMoving:c})=>ql(n.line,r.marginBox[n.start]-V1(n,c),Gd(n,r.marginBox,c)),Y1=({axis:n,moveInto:r,isMoving:c})=>ql(n.line,r.contentBox[n.start]+Oh(n,c),Gd(n,r.contentBox,c));var Q1=({impact:n,draggable:r,draggables:c,droppable:d,afterCritical:u})=>{const f=zn(d.descriptor.id,c),x=r.page,b=d.axis;if(!f.length)return Y1({axis:b,moveInto:d.page,isMoving:x});const{displaced:h,displacedBy:p}=n,N=h.all[0];if(N){const y=c[N];if(hl(N,u))return Lp({axis:b,moveRelativeTo:y.page,isMoving:x});const w=Di(y.page,p.point);return Lp({axis:b,moveRelativeTo:w,isMoving:x})}const g=f[f.length-1];if(g.descriptor.id===r.descriptor.id)return x.borderBox.center;if(hl(g.descriptor.id,u)){const y=Di(g.page,Rn(u.displacedBy.point));return zp({axis:b,moveRelativeTo:y,isMoving:x})}return zp({axis:b,moveRelativeTo:g.page,isMoving:x})},Ed=(n,r)=>{const c=n.frame;return c?At(r,c.scroll.diff.displacement):r};const K1=({impact:n,draggable:r,droppable:c,draggables:d,afterCritical:u})=>{const f=r.page.borderBox.center,x=n.at;return!c||!x?f:x.type==="REORDER"?Q1({impact:n,draggable:r,draggables:d,droppable:c,afterCritical:u}):I1({impact:n,draggables:d,afterCritical:u})};var Bi=n=>{const r=K1(n),c=n.droppable;return c?Ed(c,r):r},kh=(n,r)=>{const c=Zt(r,n.scroll.initial),d=Rn(c);return{frame:pa({top:r.y,bottom:r.y+n.frame.height,left:r.x,right:r.x+n.frame.width}),scroll:{initial:n.scroll.initial,max:n.scroll.max,current:r,diff:{value:c,displacement:d}}}};function Bp(n,r){return n.map(c=>r[c])}function X1(n,r){for(let c=0;c<r.length;c++){const d=r[c].visible[n];if(d)return d}return null}var Z1=({impact:n,viewport:r,destination:c,draggables:d,maxScrollChange:u})=>{const f=kh(r,At(r.scroll.current,u)),x=c.frame?Bd(c,At(c.frame.scroll.current,u)):c,b=n.displaced,h=Is({afterDragging:Bp(b.all,d),destination:c,displacedBy:n.displacedBy,viewport:f.frame,last:b,forceShouldAnimate:!1}),p=Is({afterDragging:Bp(b.all,d),destination:x,displacedBy:n.displacedBy,viewport:r.frame,last:b,forceShouldAnimate:!1}),N={},g={},y=[b,h,p];return b.all.forEach(C=>{const M=X1(C,y);if(M){g[C]=M;return}N[C]=!0}),{...n,displaced:{all:b.all,invisible:N,visible:g}}},J1=(n,r)=>At(n.scroll.diff.displacement,r),qd=({pageBorderBoxCenter:n,draggable:r,viewport:c})=>{const d=J1(c,n),u=Zt(d,r.page.borderBox.center);return At(r.client.borderBox.center,u)},_h=({draggable:n,destination:r,newPageBorderBoxCenter:c,viewport:d,withDroppableDisplacement:u,onlyOnMainAxis:f=!1})=>{const x=Zt(c,n.page.borderBox.center),h={target:Ks(n.page.borderBox,x),destination:r,withDroppableDisplacement:u,viewport:d};return f?z1(h):Th(h)},P1=({isMovingForward:n,draggable:r,destination:c,draggables:d,previousImpact:u,viewport:f,previousPageBorderBoxCenter:x,previousClientSelection:b,afterCritical:h})=>{if(!c.isEnabled)return null;const p=zn(c.descriptor.id,d),N=Ln(r,c),g=A1({isMovingForward:n,draggable:r,destination:c,insideDestination:p,previousImpact:u})||G1({isMovingForward:n,isInHomeList:N,draggable:r,draggables:d,destination:c,insideDestination:p,previousImpact:u,viewport:f,afterCritical:h});if(!g)return null;const y=Bi({impact:g,draggable:r,droppable:c,draggables:d,afterCritical:h});if(_h({draggable:r,destination:c,newPageBorderBoxCenter:y,viewport:f.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:qd({pageBorderBoxCenter:y,draggable:r,viewport:f}),impact:g,scrollJumpRequest:null};const C=Zt(y,x),M=Z1({impact:g,viewport:f,destination:c,draggables:d,maxScrollChange:C});return{clientSelection:b,impact:M,scrollJumpRequest:C}};const kt=n=>{const r=n.subject.active;return r||re(),r};var F1=({isMovingForward:n,pageBorderBoxCenter:r,source:c,droppables:d,viewport:u})=>{const f=c.subject.active;if(!f)return null;const x=c.axis,b=da(f[x.start],f[x.end]),h=Ri(d).filter(N=>N!==c).filter(N=>N.isEnabled).filter(N=>!!N.subject.active).filter(N=>Ah(u.frame)(kt(N))).filter(N=>{const g=kt(N);return n?f[x.crossAxisEnd]<g[x.crossAxisEnd]:g[x.crossAxisStart]<f[x.crossAxisStart]}).filter(N=>{const g=kt(N),y=da(g[x.start],g[x.end]);return b(g[x.start])||b(g[x.end])||y(f[x.start])||y(f[x.end])}).sort((N,g)=>{const y=kt(N)[x.crossAxisStart],w=kt(g)[x.crossAxisStart];return n?y-w:w-y}).filter((N,g,y)=>kt(N)[x.crossAxisStart]===kt(y[0])[x.crossAxisStart]);if(!h.length)return null;if(h.length===1)return h[0];const p=h.filter(N=>da(kt(N)[x.start],kt(N)[x.end])(r[x.line]));return p.length===1?p[0]:p.length>1?p.sort((N,g)=>kt(N)[x.start]-kt(g)[x.start])[0]:h.sort((N,g)=>{const y=_p(r,Mp(kt(N))),w=_p(r,Mp(kt(g)));return y!==w?y-w:kt(N)[x.start]-kt(g)[x.start]})[0]};const Up=(n,r)=>{const c=n.page.borderBox.center;return hl(n.descriptor.id,r)?Zt(c,r.displacedBy.point):c},W1=(n,r)=>{const c=n.page.borderBox;return hl(n.descriptor.id,r)?Ks(c,Rn(r.displacedBy.point)):c};var eN=({pageBorderBoxCenter:n,viewport:r,destination:c,insideDestination:d,afterCritical:u})=>d.filter(x=>Th({target:W1(x,u),destination:c,viewport:r.frame,withDroppableDisplacement:!0})).sort((x,b)=>{const h=Gs(n,Ed(c,Up(x,u))),p=Gs(n,Ed(c,Up(b,u)));return h<p?-1:p<h?1:x.descriptor.index-b.descriptor.index})[0]||null,Xs=gt(function(r,c){const d=c[r.line];return{value:d,point:ql(r.line,d)}});const tN=(n,r,c)=>{const d=n.axis;if(n.descriptor.mode==="virtual")return ql(d.line,r[d.line]);const u=n.subject.page.contentBox[d.size],h=zn(n.descriptor.id,c).reduce((p,N)=>p+N.client.marginBox[d.size],0)+r[d.line]-u;return h<=0?null:ql(d.line,h)},Mh=(n,r)=>({...n,scroll:{...n.scroll,max:r}}),Rh=(n,r,c)=>{const d=n.frame;Ln(r,n)&&re(),n.subject.withPlaceholder&&re();const u=Xs(n.axis,r.displaceBy).point,f=tN(n,u,c),x={placeholderSize:u,increasedBy:f,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!d){const N=kn({page:n.subject.page,withPlaceholder:x,axis:n.axis,frame:n.frame});return{...n,subject:N}}const b=f?At(d.scroll.max,f):d.scroll.max,h=Mh(d,b),p=kn({page:n.subject.page,withPlaceholder:x,axis:n.axis,frame:h});return{...n,subject:p,frame:h}},aN=n=>{const r=n.subject.withPlaceholder;r||re();const c=n.frame;if(!c){const x=kn({page:n.subject.page,axis:n.axis,frame:null,withPlaceholder:null});return{...n,subject:x}}const d=r.oldFrameMaxScroll;d||re();const u=Mh(c,d),f=kn({page:n.subject.page,axis:n.axis,frame:u,withPlaceholder:null});return{...n,subject:f,frame:u}};var lN=({previousPageBorderBoxCenter:n,moveRelativeTo:r,insideDestination:c,draggable:d,draggables:u,destination:f,viewport:x,afterCritical:b})=>{if(!r){if(c.length)return null;const g={displaced:qs,displacedBy:Eh,at:{type:"REORDER",destination:{droppableId:f.descriptor.id,index:0}}},y=Bi({impact:g,draggable:d,droppable:f,draggables:u,afterCritical:b}),w=Ln(d,f)?f:Rh(f,d,u);return _h({draggable:d,destination:w,newPageBorderBoxCenter:y,viewport:x.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?g:null}const h=n[f.axis.line]<=r.page.borderBox.center[f.axis.line],p=(()=>{const g=r.descriptor.index;return r.descriptor.id===d.descriptor.id||h?g:g+1})(),N=Xs(f.axis,d.displaceBy);return Oi({draggable:d,insideDestination:c,destination:f,viewport:x,displacedBy:N,last:qs,index:p})},nN=({isMovingForward:n,previousPageBorderBoxCenter:r,draggable:c,isOver:d,draggables:u,droppables:f,viewport:x,afterCritical:b})=>{const h=F1({isMovingForward:n,pageBorderBoxCenter:r,source:d,droppables:f,viewport:x});if(!h)return null;const p=zn(h.descriptor.id,u),N=eN({pageBorderBoxCenter:r,viewport:x,destination:h,insideDestination:p,afterCritical:b}),g=lN({previousPageBorderBoxCenter:r,destination:h,draggable:c,draggables:u,moveRelativeTo:N,insideDestination:p,viewport:x,afterCritical:b});if(!g)return null;const y=Bi({impact:g,draggable:c,droppable:h,draggables:u,afterCritical:b});return{clientSelection:qd({pageBorderBoxCenter:y,draggable:c,viewport:x}),impact:g,scrollJumpRequest:null}},Jt=n=>{const r=n.at;return r?r.type==="REORDER"?r.destination.droppableId:r.combine.droppableId:null};const sN=(n,r)=>{const c=Jt(n);return c?r[c]:null};var rN=({state:n,type:r})=>{const c=sN(n.impact,n.dimensions.droppables),d=!!c,u=n.dimensions.droppables[n.critical.droppable.id],f=c||u,x=f.axis.direction,b=x==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||x==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(b&&!d)return null;const h=r==="MOVE_DOWN"||r==="MOVE_RIGHT",p=n.dimensions.draggables[n.critical.draggable.id],N=n.current.page.borderBoxCenter,{draggables:g,droppables:y}=n.dimensions;return b?P1({isMovingForward:h,previousPageBorderBoxCenter:N,draggable:p,destination:f,draggables:g,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):nN({isMovingForward:h,previousPageBorderBoxCenter:N,draggable:p,isOver:f,draggables:g,droppables:y,viewport:n.viewport,afterCritical:n.afterCritical})};function Ul(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function zh(n){const r=da(n.top,n.bottom),c=da(n.left,n.right);return function(u){return r(u.y)&&c(u.x)}}function iN(n,r){return n.left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top}function cN({pageBorderBox:n,draggable:r,candidates:c}){const d=r.page.borderBox.center,u=c.map(f=>{const x=f.axis,b=ql(f.axis.line,n.center[x.line],f.page.borderBox.center[x.crossAxisLine]);return{id:f.descriptor.id,distance:Gs(d,b)}}).sort((f,x)=>x.distance-f.distance);return u[0]?u[0].id:null}function oN({pageBorderBox:n,draggable:r,droppables:c}){const d=Ri(c).filter(u=>{if(!u.isEnabled)return!1;const f=u.subject.active;if(!f||!iN(n,f))return!1;if(zh(f)(n.center))return!0;const x=u.axis,b=f.center[x.crossAxisLine],h=n[x.crossAxisStart],p=n[x.crossAxisEnd],N=da(f[x.crossAxisStart],f[x.crossAxisEnd]),g=N(h),y=N(p);return!g&&!y?!0:g?h<b:p>b});return d.length?d.length===1?d[0].descriptor.id:cN({pageBorderBox:n,draggable:r,candidates:d}):null}const Lh=(n,r)=>pa(Ks(n,r));var dN=(n,r)=>{const c=n.frame;return c?Lh(r,c.scroll.diff.value):r};function Bh({displaced:n,id:r}){return!!(n.visible[r]||n.invisible[r])}function uN({draggable:n,closest:r,inHomeList:c}){return r?c&&r.descriptor.index>n.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var fN=({pageBorderBoxWithDroppableScroll:n,draggable:r,destination:c,insideDestination:d,last:u,viewport:f,afterCritical:x})=>{const b=c.axis,h=Xs(c.axis,r.displaceBy),p=h.value,N=n[b.start],g=n[b.end],w=Li(r,d).find(M=>{const v=M.descriptor.id,S=M.page.borderBox.center[b.line],z=hl(v,x),T=Bh({displaced:u,id:v});return z?T?g<=S:N<S-p:T?g<=S+p:N<S})||null,C=uN({draggable:r,closest:w,inHomeList:Ln(r,c)});return Oi({draggable:r,insideDestination:d,destination:c,viewport:f,last:u,displacedBy:h,index:C})};const xN=4;var mN=({draggable:n,pageBorderBoxWithDroppableScroll:r,previousImpact:c,destination:d,insideDestination:u,afterCritical:f})=>{if(!d.isCombineEnabled)return null;const x=d.axis,b=Xs(d.axis,n.displaceBy),h=b.value,p=r[x.start],N=r[x.end],y=Li(n,u).find(C=>{const M=C.descriptor.id,v=C.page.borderBox,z=v[x.size]/xN,T=hl(M,f),k=Bh({displaced:c.displaced,id:M});return T?k?N>v[x.start]+z&&N<v[x.end]-z:p>v[x.start]-h+z&&p<v[x.end]-h-z:k?N>v[x.start]+h+z&&N<v[x.end]+h-z:p>v[x.start]+z&&p<v[x.end]-z});return y?{displacedBy:b,displaced:c.displaced,at:{type:"COMBINE",combine:{draggableId:y.descriptor.id,droppableId:d.descriptor.id}}}:null},Uh=({pageOffset:n,draggable:r,draggables:c,droppables:d,previousImpact:u,viewport:f,afterCritical:x})=>{const b=Lh(r.page.borderBox,n),h=oN({pageBorderBox:b,draggable:r,droppables:d});if(!h)return C1;const p=d[h],N=zn(p.descriptor.id,c),g=dN(p,b);return mN({pageBorderBoxWithDroppableScroll:g,draggable:r,previousImpact:u,destination:p,insideDestination:N,afterCritical:x})||fN({pageBorderBoxWithDroppableScroll:g,draggable:r,destination:p,insideDestination:N,last:u.displaced,viewport:f,afterCritical:x})},Id=(n,r)=>({...n,[r.descriptor.id]:r});const pN=({previousImpact:n,impact:r,droppables:c})=>{const d=Jt(n),u=Jt(r);if(!d||d===u)return c;const f=c[d];if(!f.subject.withPlaceholder)return c;const x=aN(f);return Id(c,x)};var hN=({draggable:n,draggables:r,droppables:c,previousImpact:d,impact:u})=>{const f=pN({previousImpact:d,impact:u,droppables:c}),x=Jt(u);if(!x)return f;const b=c[x];if(Ln(n,b)||b.subject.withPlaceholder)return f;const h=Rh(b,n,r);return Id(f,h)},zs=({state:n,clientSelection:r,dimensions:c,viewport:d,impact:u,scrollJumpRequest:f})=>{const x=d||n.viewport,b=c||n.dimensions,h=r||n.current.client.selection,p=Zt(h,n.initial.client.selection),N={offset:p,selection:h,borderBoxCenter:At(n.initial.client.borderBoxCenter,p)},g={selection:At(N.selection,x.scroll.current),borderBoxCenter:At(N.borderBoxCenter,x.scroll.current),offset:At(N.offset,x.scroll.diff.value)},y={client:N,page:g};if(n.phase==="COLLECTING")return{...n,dimensions:b,viewport:x,current:y};const w=b.draggables[n.critical.draggable.id],C=u||Uh({pageOffset:g.offset,draggable:w,draggables:b.draggables,droppables:b.droppables,previousImpact:n.impact,viewport:x,afterCritical:n.afterCritical}),M=hN({draggable:w,impact:C,previousImpact:n.impact,draggables:b.draggables,droppables:b.droppables});return{...n,current:y,dimensions:{draggables:b.draggables,droppables:M},impact:C,viewport:x,scrollJumpRequest:f||null,forceShouldAnimate:f?!1:null}};function yN(n,r){return n.map(c=>r[c])}var Hh=({impact:n,viewport:r,draggables:c,destination:d,forceShouldAnimate:u})=>{const f=n.displaced,x=yN(f.all,c),b=Is({afterDragging:x,destination:d,displacedBy:n.displacedBy,viewport:r.frame,forceShouldAnimate:u,last:f});return{...n,displaced:b}},$h=({impact:n,draggable:r,droppable:c,draggables:d,viewport:u,afterCritical:f})=>{const x=Bi({impact:n,draggable:r,draggables:d,droppable:c,afterCritical:f});return qd({pageBorderBoxCenter:x,draggable:r,viewport:u})},Gh=({state:n,dimensions:r,viewport:c})=>{n.movementMode!=="SNAP"&&re();const d=n.impact,u=c||n.viewport,f=r||n.dimensions,{draggables:x,droppables:b}=f,h=x[n.critical.draggable.id],p=Jt(d);p||re();const N=b[p],g=Hh({impact:d,viewport:u,destination:N,draggables:x}),y=$h({impact:g,draggable:h,droppable:N,draggables:x,viewport:u,afterCritical:n.afterCritical});return zs({impact:g,clientSelection:y,state:n,dimensions:f,viewport:u})},bN=n=>({index:n.index,droppableId:n.droppableId}),qh=({draggable:n,home:r,draggables:c,viewport:d})=>{const u=Xs(r.axis,n.displaceBy),f=zn(r.descriptor.id,c),x=f.indexOf(n);x===-1&&re();const b=f.slice(x+1),h=b.reduce((y,w)=>(y[w.descriptor.id]=!0,y),{}),p={inVirtualList:r.descriptor.mode==="virtual",displacedBy:u,effected:h};return{impact:{displaced:Is({afterDragging:b,destination:r,displacedBy:u,last:null,viewport:d.frame,forceShouldAnimate:!1}),displacedBy:u,at:{type:"REORDER",destination:bN(n.descriptor)}},afterCritical:p}},gN=(n,r)=>({draggables:n.draggables,droppables:Id(n.droppables,r)}),vN=({draggable:n,offset:r,initialWindowScroll:c})=>{const d=Di(n.client,r),u=Ei(d,c);return{...n,placeholder:{...n.placeholder,client:d},client:d,page:u}},NN=n=>{const r=n.frame;return r||re(),r},jN=({additions:n,updatedDroppables:r,viewport:c})=>{const d=c.scroll.diff.value;return n.map(u=>{const f=u.descriptor.droppableId,x=r[f],h=NN(x).scroll.diff.value,p=At(d,h);return vN({draggable:u,offset:p,initialWindowScroll:c.scroll.initial})})},SN=({state:n,published:r})=>{const c=r.modified.map(S=>{const z=n.dimensions.droppables[S.droppableId];return Bd(z,S.scroll)}),d={...n.dimensions.droppables,...wh(c)},u=Dh(jN({additions:r.additions,updatedDroppables:d,viewport:n.viewport})),f={...n.dimensions.draggables,...u};r.removals.forEach(S=>{delete f[S]});const x={droppables:d,draggables:f},b=Jt(n.impact),h=b?x.droppables[b]:null,p=x.draggables[n.critical.draggable.id],N=x.droppables[n.critical.droppable.id],{impact:g,afterCritical:y}=qh({draggable:p,home:N,draggables:f,viewport:n.viewport}),w=h&&h.isCombineEnabled?n.impact:g,C=Uh({pageOffset:n.current.page.offset,draggable:x.draggables[n.critical.draggable.id],draggables:x.draggables,droppables:x.droppables,previousImpact:w,viewport:n.viewport,afterCritical:y}),M={...n,phase:"DRAGGING",impact:C,onLiftImpact:g,dimensions:x,afterCritical:y,forceShouldAnimate:!1};return n.phase==="COLLECTING"?M:{...M,phase:"DROP_PENDING",reason:n.reason,isWaiting:!1}};const Ad=n=>n.movementMode==="SNAP",fd=(n,r,c)=>{const d=gN(n.dimensions,r);return!Ad(n)||c?zs({state:n,dimensions:d}):Gh({state:n,dimensions:d})};function xd(n){return n.isDragging&&n.movementMode==="SNAP"?{...n,scrollJumpRequest:null}:n}const Hp={phase:"IDLE",completed:null,shouldFlush:!1};var wN=(n=Hp,r)=>{if(r.type==="FLUSH")return{...Hp,shouldFlush:!0};if(r.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&re();const{critical:c,clientSelection:d,viewport:u,dimensions:f,movementMode:x}=r.payload,b=f.draggables[c.draggable.id],h=f.droppables[c.droppable.id],p={selection:d,borderBoxCenter:b.client.borderBox.center,offset:Nt},N={client:p,page:{selection:At(p.selection,u.scroll.initial),borderBoxCenter:At(p.selection,u.scroll.initial),offset:At(p.selection,u.scroll.diff.value)}},g=Ri(f.droppables).every(M=>!M.isFixedOnPage),{impact:y,afterCritical:w}=qh({draggable:b,home:h,draggables:f.draggables,viewport:u});return{phase:"DRAGGING",isDragging:!0,critical:c,movementMode:x,dimensions:f,initial:N,current:N,isWindowScrollAllowed:g,impact:y,afterCritical:w,onLiftImpact:y,viewport:u,scrollJumpRequest:null,forceShouldAnimate:null}}if(r.type==="COLLECTION_STARTING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"?n:(n.phase!=="DRAGGING"&&re(),{...n,phase:"COLLECTING"});if(r.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||re(),SN({state:n,published:r.payload});if(r.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;Ul(n)||re();const{client:c}=r.payload;return pl(c,n.current.client.selection)?n:zs({state:n,clientSelection:c,impact:Ad(n)?n.impact:null})}if(r.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return xd(n);Ul(n)||re();const{id:c,newScroll:d}=r.payload,u=n.dimensions.droppables[c];if(!u)return n;const f=Bd(u,d);return fd(n,f,!1)}if(r.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;Ul(n)||re();const{id:c,isEnabled:d}=r.payload,u=n.dimensions.droppables[c];u||re(),u.isEnabled===d&&re();const f={...u,isEnabled:d};return fd(n,f,!0)}if(r.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;Ul(n)||re();const{id:c,isCombineEnabled:d}=r.payload,u=n.dimensions.droppables[c];u||re(),u.isCombineEnabled===d&&re();const f={...u,isCombineEnabled:d};return fd(n,f,!0)}if(r.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;Ul(n)||re(),n.isWindowScrollAllowed||re();const c=r.payload.newScroll;if(pl(n.viewport.scroll.current,c))return xd(n);const d=kh(n.viewport,c);return Ad(n)?Gh({state:n,viewport:d}):zs({state:n,viewport:d})}if(r.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Ul(n))return n;const c=r.payload.maxScroll;if(pl(c,n.viewport.scroll.max))return n;const d={...n.viewport,scroll:{...n.viewport.scroll,max:c}};return{...n,viewport:d}}if(r.type==="MOVE_UP"||r.type==="MOVE_DOWN"||r.type==="MOVE_LEFT"||r.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&re();const c=rN({state:n,type:r.type});return c?zs({state:n,impact:c.impact,clientSelection:c.clientSelection,scrollJumpRequest:c.scrollJumpRequest}):n}if(r.type==="DROP_PENDING"){const c=r.payload.reason;return n.phase!=="COLLECTING"&&re(),{...n,phase:"DROP_PENDING",isWaiting:!0,reason:c}}if(r.type==="DROP_ANIMATE"){const{completed:c,dropDuration:d,newHomeClientOffset:u}=r.payload;return n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||re(),{phase:"DROP_ANIMATING",completed:c,dropDuration:d,newHomeClientOffset:u,dimensions:n.dimensions}}if(r.type==="DROP_COMPLETE"){const{completed:c}=r.payload;return{phase:"IDLE",completed:c,shouldFlush:!1}}return n};function Ie(n,r){return n instanceof Object&&"type"in n&&n.type===r}const DN=n=>({type:"BEFORE_INITIAL_CAPTURE",payload:n}),EN=n=>({type:"LIFT",payload:n}),AN=n=>({type:"INITIAL_PUBLISH",payload:n}),CN=n=>({type:"PUBLISH_WHILE_DRAGGING",payload:n}),TN=()=>({type:"COLLECTION_STARTING",payload:null}),ON=n=>({type:"UPDATE_DROPPABLE_SCROLL",payload:n}),kN=n=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}),_N=n=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}),Ih=n=>({type:"MOVE",payload:n}),MN=n=>({type:"MOVE_BY_WINDOW_SCROLL",payload:n}),RN=n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n}),zN=()=>({type:"MOVE_UP",payload:null}),LN=()=>({type:"MOVE_DOWN",payload:null}),BN=()=>({type:"MOVE_RIGHT",payload:null}),UN=()=>({type:"MOVE_LEFT",payload:null}),Vd=()=>({type:"FLUSH",payload:null}),HN=n=>({type:"DROP_ANIMATE",payload:n}),Yd=n=>({type:"DROP_COMPLETE",payload:n}),Vh=n=>({type:"DROP",payload:n}),$N=n=>({type:"DROP_PENDING",payload:n}),Yh=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var GN=n=>({getState:r,dispatch:c})=>d=>u=>{if(!Ie(u,"LIFT")){d(u);return}const{id:f,clientSelection:x,movementMode:b}=u.payload,h=r();h.phase==="DROP_ANIMATING"&&c(Yd({completed:h.completed})),r().phase!=="IDLE"&&re(),c(Vd()),c(DN({draggableId:f,movementMode:b}));const N={draggableId:f,scrollOptions:{shouldPublishImmediately:b==="SNAP"}},{critical:g,dimensions:y,viewport:w}=n.startPublishing(N);c(AN({critical:g,dimensions:y,clientSelection:x,movementMode:b,viewport:w}))},qN=n=>()=>r=>c=>{Ie(c,"INITIAL_PUBLISH")&&n.dragging(),Ie(c,"DROP_ANIMATE")&&n.dropping(c.payload.completed.result.reason),(Ie(c,"FLUSH")||Ie(c,"DROP_COMPLETE"))&&n.resting(),r(c)};const Qd={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Vs={opacity:{drop:0,combining:.7},scale:{drop:.75}},Qh={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},zl=`${Qh.outOfTheWay}s ${Qd.outOfTheWay}`,Ls={fluid:`opacity ${zl}`,snap:`transform ${zl}, opacity ${zl}`,drop:n=>{const r=`${n}s ${Qd.drop}`;return`transform ${r}, opacity ${r}`},outOfTheWay:`transform ${zl}`,placeholder:`height ${zl}, width ${zl}, margin ${zl}`},$p=n=>pl(n,Nt)?void 0:`translate(${n.x}px, ${n.y}px)`,Cd={moveTo:$p,drop:(n,r)=>{const c=$p(n);if(c)return r?`${c} scale(${Vs.scale.drop})`:c}},{minDropTime:Td,maxDropTime:Kh}=Qh,IN=Kh-Td,Gp=1500,VN=.6;var YN=({current:n,destination:r,reason:c})=>{const d=Gs(n,r);if(d<=0)return Td;if(d>=Gp)return Kh;const u=d/Gp,f=Td+IN*u,x=c==="CANCEL"?f*VN:f;return Number(x.toFixed(2))},QN=({impact:n,draggable:r,dimensions:c,viewport:d,afterCritical:u})=>{const{draggables:f,droppables:x}=c,b=Jt(n),h=b?x[b]:null,p=x[r.descriptor.droppableId],N=$h({impact:n,draggable:r,draggables:f,afterCritical:u,droppable:h||p,viewport:d});return Zt(N,r.client.borderBox.center)},KN=({draggables:n,reason:r,lastImpact:c,home:d,viewport:u,onLiftImpact:f})=>!c.at||r!=="DROP"?{impact:Hh({draggables:n,impact:f,destination:d,viewport:u,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:c.at.type==="REORDER"?{impact:c,didDropInsideDroppable:!0}:{impact:{...c,displaced:qs},didDropInsideDroppable:!0};const XN=({getState:n,dispatch:r})=>c=>d=>{if(!Ie(d,"DROP")){c(d);return}const u=n(),f=d.payload.reason;if(u.phase==="COLLECTING"){r($N({reason:f}));return}if(u.phase==="IDLE")return;u.phase==="DROP_PENDING"&&u.isWaiting&&re(),u.phase==="DRAGGING"||u.phase==="DROP_PENDING"||re();const b=u.critical,h=u.dimensions,p=h.draggables[u.critical.draggable.id],{impact:N,didDropInsideDroppable:g}=KN({reason:f,lastImpact:u.impact,afterCritical:u.afterCritical,onLiftImpact:u.onLiftImpact,home:u.dimensions.droppables[u.critical.droppable.id],viewport:u.viewport,draggables:u.dimensions.draggables}),y=g?Ud(N):null,w=g?zi(N):null,C={index:b.draggable.index,droppableId:b.droppable.id},M={draggableId:p.descriptor.id,type:p.descriptor.type,source:C,reason:f,mode:u.movementMode,destination:y,combine:w},v=QN({impact:N,draggable:p,dimensions:h,viewport:u.viewport,afterCritical:u.afterCritical}),S={critical:u.critical,afterCritical:u.afterCritical,result:M,impact:N};if(!(!pl(u.current.client.offset,v)||!!M.combine)){r(Yd({completed:S}));return}const T=YN({current:u.current.client.offset,destination:v,reason:f});r(HN({newHomeClientOffset:v,dropDuration:T,completed:S}))};var Xh=()=>({x:window.pageXOffset,y:window.pageYOffset});function ZN(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:r=>{r.target!==window&&r.target!==window.document||n()}}}function JN({onWindowScroll:n}){function r(){n(Xh())}const c=$s(r),d=ZN(c);let u=ml;function f(){return u!==ml}function x(){f()&&re(),u=oa(window,[d])}function b(){f()||re(),c.cancel(),u(),u=ml}return{start:x,stop:b,isActive:f}}const PN=n=>Ie(n,"DROP_COMPLETE")||Ie(n,"DROP_ANIMATE")||Ie(n,"FLUSH"),FN=n=>{const r=JN({onWindowScroll:c=>{n.dispatch(MN({newScroll:c}))}});return c=>d=>{!r.isActive()&&Ie(d,"INITIAL_PUBLISH")&&r.start(),r.isActive()&&PN(d)&&r.stop(),c(d)}};var WN=n=>{let r=!1,c=!1;const d=setTimeout(()=>{c=!0}),u=f=>{r||c||(r=!0,n(f),clearTimeout(d))};return u.wasCalled=()=>r,u},ej=()=>{const n=[],r=u=>{const f=n.findIndex(b=>b.timerId===u);f===-1&&re();const[x]=n.splice(f,1);x.callback()};return{add:u=>{const f=setTimeout(()=>r(f)),x={timerId:f,callback:u};n.push(x)},flush:()=>{if(!n.length)return;const u=[...n];n.length=0,u.forEach(f=>{clearTimeout(f.timerId),f.callback()})}}};const tj=(n,r)=>n==null&&r==null?!0:n==null||r==null?!1:n.droppableId===r.droppableId&&n.index===r.index,aj=(n,r)=>n==null&&r==null?!0:n==null||r==null?!1:n.draggableId===r.draggableId&&n.droppableId===r.droppableId,lj=(n,r)=>{if(n===r)return!0;const c=n.draggable.id===r.draggable.id&&n.draggable.droppableId===r.draggable.droppableId&&n.draggable.type===r.draggable.type&&n.draggable.index===r.draggable.index,d=n.droppable.id===r.droppable.id&&n.droppable.type===r.droppable.type;return c&&d},ks=(n,r)=>{r()},pi=(n,r)=>({draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:r});function md(n,r,c,d){if(!n){c(d(r));return}const u=WN(c);n(r,{announce:u}),u.wasCalled()||c(d(r))}var nj=(n,r)=>{const c=ej();let d=null;const u=(g,y)=>{d&&re(),ks("onBeforeCapture",()=>{const w=n().onBeforeCapture;w&&w({draggableId:g,mode:y})})},f=(g,y)=>{d&&re(),ks("onBeforeDragStart",()=>{const w=n().onBeforeDragStart;w&&w(pi(g,y))})},x=(g,y)=>{d&&re();const w=pi(g,y);d={mode:y,lastCritical:g,lastLocation:w.source,lastCombine:null},c.add(()=>{ks("onDragStart",()=>md(n().onDragStart,w,r,gi.onDragStart))})},b=(g,y)=>{const w=Ud(y),C=zi(y);d||re();const M=!lj(g,d.lastCritical);M&&(d.lastCritical=g);const v=!tj(d.lastLocation,w);v&&(d.lastLocation=w);const S=!aj(d.lastCombine,C);if(S&&(d.lastCombine=C),!M&&!v&&!S)return;const z={...pi(g,d.mode),combine:C,destination:w};c.add(()=>{ks("onDragUpdate",()=>md(n().onDragUpdate,z,r,gi.onDragUpdate))})},h=()=>{d||re(),c.flush()},p=g=>{d||re(),d=null,ks("onDragEnd",()=>md(n().onDragEnd,g,r,gi.onDragEnd))};return{beforeCapture:u,beforeStart:f,start:x,update:b,flush:h,drop:p,abort:()=>{if(!d)return;const g={...pi(d.lastCritical,d.mode),combine:null,destination:null,reason:"CANCEL"};p(g)}}},sj=(n,r)=>{const c=nj(n,r);return d=>u=>f=>{if(Ie(f,"BEFORE_INITIAL_CAPTURE")){c.beforeCapture(f.payload.draggableId,f.payload.movementMode);return}if(Ie(f,"INITIAL_PUBLISH")){const b=f.payload.critical;c.beforeStart(b,f.payload.movementMode),u(f),c.start(b,f.payload.movementMode);return}if(Ie(f,"DROP_COMPLETE")){const b=f.payload.completed.result;c.flush(),u(f),c.drop(b);return}if(u(f),Ie(f,"FLUSH")){c.abort();return}const x=d.getState();x.phase==="DRAGGING"&&c.update(x.critical,x.impact)}};const rj=n=>r=>c=>{if(!Ie(c,"DROP_ANIMATION_FINISHED")){r(c);return}const d=n.getState();d.phase!=="DROP_ANIMATING"&&re(),n.dispatch(Yd({completed:d.completed}))},ij=n=>{let r=null,c=null;function d(){c&&(cancelAnimationFrame(c),c=null),r&&(r(),r=null)}return u=>f=>{if((Ie(f,"FLUSH")||Ie(f,"DROP_COMPLETE")||Ie(f,"DROP_ANIMATION_FINISHED"))&&d(),u(f),!Ie(f,"DROP_ANIMATE"))return;const x={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){n.getState().phase==="DROP_ANIMATING"&&n.dispatch(Yh())}};c=requestAnimationFrame(()=>{c=null,r=oa(window,[x])})}};var cj=n=>()=>r=>c=>{(Ie(c,"DROP_COMPLETE")||Ie(c,"FLUSH")||Ie(c,"DROP_ANIMATE"))&&n.stopPublishing(),r(c)},oj=n=>{let r=!1;return()=>c=>d=>{if(Ie(d,"INITIAL_PUBLISH")){r=!0,n.tryRecordFocus(d.payload.critical.draggable.id),c(d),n.tryRestoreFocusRecorded();return}if(c(d),!!r){if(Ie(d,"FLUSH")){r=!1,n.tryRestoreFocusRecorded();return}if(Ie(d,"DROP_COMPLETE")){r=!1;const u=d.payload.completed.result;u.combine&&n.tryShiftRecord(u.draggableId,u.combine.draggableId),n.tryRestoreFocusRecorded()}}}};const dj=n=>Ie(n,"DROP_COMPLETE")||Ie(n,"DROP_ANIMATE")||Ie(n,"FLUSH");var uj=n=>r=>c=>d=>{if(dj(d)){n.stop(),c(d);return}if(Ie(d,"INITIAL_PUBLISH")){c(d);const u=r.getState();u.phase!=="DRAGGING"&&re(),n.start(u);return}c(d),n.scroll(r.getState())};const fj=n=>r=>c=>{if(r(c),!Ie(c,"PUBLISH_WHILE_DRAGGING"))return;const d=n.getState();d.phase==="DROP_PENDING"&&(d.isWaiting||n.dispatch(Vh({reason:d.reason})))},xj=dh;var mj=({dimensionMarshal:n,focusMarshal:r,styleMarshal:c,getResponders:d,announce:u,autoScroller:f})=>oh(wN,xj(u0(qN(c),cj(n),GN(n),XN,rj,ij,fj,uj(f),FN,oj(r),sj(d,u))));const pd=()=>({additions:{},removals:{},modified:{}});function pj({registry:n,callbacks:r}){let c=pd(),d=null;const u=()=>{d||(r.collectionStarting(),d=requestAnimationFrame(()=>{d=null;const{additions:h,removals:p,modified:N}=c,g=Object.keys(h).map(C=>n.draggable.getById(C).getDimension(Nt)).sort((C,M)=>C.descriptor.index-M.descriptor.index),y=Object.keys(N).map(C=>{const v=n.droppable.getById(C).callbacks.getScrollWhileDragging();return{droppableId:C,scroll:v}}),w={additions:g,removals:Object.keys(p),modified:y};c=pd(),r.publish(w)}))};return{add:h=>{const p=h.descriptor.id;c.additions[p]=h,c.modified[h.descriptor.droppableId]=!0,c.removals[p]&&delete c.removals[p],u()},remove:h=>{const p=h.descriptor;c.removals[p.id]=!0,c.modified[p.droppableId]=!0,c.additions[p.id]&&delete c.additions[p.id],u()},stop:()=>{d&&(cancelAnimationFrame(d),d=null,c=pd())}}}var Zh=({scrollHeight:n,scrollWidth:r,height:c,width:d})=>{const u=Zt({x:r,y:n},{x:d,y:c});return{x:Math.max(0,u.x),y:Math.max(0,u.y)}},Jh=()=>{const n=document.documentElement;return n||re(),n},Ph=()=>{const n=Jh();return Zh({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})},hj=()=>{const n=Xh(),r=Ph(),c=n.y,d=n.x,u=Jh(),f=u.clientWidth,x=u.clientHeight,b=d+f,h=c+x;return{frame:pa({top:c,left:d,right:b,bottom:h}),scroll:{initial:n,current:n,max:r,diff:{value:Nt,displacement:Nt}}}},yj=({critical:n,scrollOptions:r,registry:c})=>{const d=hj(),u=d.scroll.current,f=n.droppable,x=c.droppable.getAllByType(f.type).map(N=>N.callbacks.getDimensionAndWatchScroll(u,r)),b=c.draggable.getAllByType(n.draggable.type).map(N=>N.getDimension(u));return{dimensions:{draggables:Dh(b),droppables:wh(x)},critical:n,viewport:d}};function qp(n,r,c){return!(c.descriptor.id===r.id||c.descriptor.type!==r.type||n.droppable.getById(c.descriptor.droppableId).descriptor.mode!=="virtual")}var bj=(n,r)=>{let c=null;const d=pj({callbacks:{publish:r.publishWhileDragging,collectionStarting:r.collectionStarting},registry:n}),u=(y,w)=>{n.droppable.exists(y)||re(),c&&r.updateDroppableIsEnabled({id:y,isEnabled:w})},f=(y,w)=>{c&&(n.droppable.exists(y)||re(),r.updateDroppableIsCombineEnabled({id:y,isCombineEnabled:w}))},x=(y,w)=>{c&&(n.droppable.exists(y)||re(),r.updateDroppableScroll({id:y,newScroll:w}))},b=(y,w)=>{c&&n.droppable.getById(y).callbacks.scroll(w)},h=()=>{if(!c)return;d.stop();const y=c.critical.droppable;n.droppable.getAllByType(y.type).forEach(w=>w.callbacks.dragStopped()),c.unsubscribe(),c=null},p=y=>{c||re();const w=c.critical.draggable;y.type==="ADDITION"&&qp(n,w,y.value)&&d.add(y.value),y.type==="REMOVAL"&&qp(n,w,y.value)&&d.remove(y.value)};return{updateDroppableIsEnabled:u,updateDroppableIsCombineEnabled:f,scrollDroppable:b,updateDroppableScroll:x,startPublishing:y=>{c&&re();const w=n.draggable.getById(y.draggableId),C=n.droppable.getById(w.descriptor.droppableId),M={draggable:w.descriptor,droppable:C.descriptor},v=n.subscribe(p);return c={critical:M,unsubscribe:v},yj({critical:M,registry:n,scrollOptions:y.scrollOptions})},stopPublishing:h}},Fh=(n,r)=>n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===r?!1:n.completed.result.reason==="DROP",gj=n=>{window.scrollBy(n.x,n.y)};const vj=gt(n=>Ri(n).filter(r=>!(!r.isEnabled||!r.frame))),Nj=(n,r)=>vj(r).find(d=>(d.frame||re(),zh(d.frame.pageMarginBox)(n)))||null;var jj=({center:n,destination:r,droppables:c})=>{if(r){const u=c[r];return u.frame?u:null}return Nj(n,c)};const Ys={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n=>n**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Sj=(n,r,c=()=>Ys)=>{const d=c(),u=n[r.size]*d.startFromPercentage,f=n[r.size]*d.maxScrollAtPercentage;return{startScrollingFrom:u,maxScrollValueAt:f}},Wh=({startOfRange:n,endOfRange:r,current:c})=>{const d=r-n;return d===0?0:(c-n)/d},Kd=1,wj=(n,r,c=()=>Ys)=>{const d=c();if(n>r.startScrollingFrom)return 0;if(n<=r.maxScrollValueAt)return d.maxPixelScroll;if(n===r.startScrollingFrom)return Kd;const f=1-Wh({startOfRange:r.maxScrollValueAt,endOfRange:r.startScrollingFrom,current:n}),x=d.maxPixelScroll*d.ease(f);return Math.ceil(x)},Dj=(n,r,c)=>{const d=c(),u=d.durationDampening.accelerateAt,f=d.durationDampening.stopDampeningAt,x=r,b=f,p=Date.now()-x;if(p>=f)return n;if(p<u)return Kd;const N=Wh({startOfRange:u,endOfRange:b,current:p}),g=n*d.ease(N);return Math.ceil(g)},Ip=({distanceToEdge:n,thresholds:r,dragStartTime:c,shouldUseTimeDampening:d,getAutoScrollerOptions:u})=>{const f=wj(n,r,u);return f===0?0:d?Math.max(Dj(f,c,u),Kd):f},Vp=({container:n,distanceToEdges:r,dragStartTime:c,axis:d,shouldUseTimeDampening:u,getAutoScrollerOptions:f})=>{const x=Sj(n,d,f);return r[d.end]<r[d.start]?Ip({distanceToEdge:r[d.end],thresholds:x,dragStartTime:c,shouldUseTimeDampening:u,getAutoScrollerOptions:f}):-1*Ip({distanceToEdge:r[d.start],thresholds:x,dragStartTime:c,shouldUseTimeDampening:u,getAutoScrollerOptions:f})},Ej=({container:n,subject:r,proposedScroll:c})=>{const d=r.height>n.height,u=r.width>n.width;return!u&&!d?c:u&&d?null:{x:u?0:c.x,y:d?0:c.y}};const Aj=Sh(n=>n===0?0:n);var ey=({dragStartTime:n,container:r,subject:c,center:d,shouldUseTimeDampening:u,getAutoScrollerOptions:f})=>{const x={top:d.y-r.top,right:r.right-d.x,bottom:r.bottom-d.y,left:d.x-r.left},b=Vp({container:r,distanceToEdges:x,dragStartTime:n,axis:Hd,shouldUseTimeDampening:u,getAutoScrollerOptions:f}),h=Vp({container:r,distanceToEdges:x,dragStartTime:n,axis:Ch,shouldUseTimeDampening:u,getAutoScrollerOptions:f}),p=Aj({x:h,y:b});if(pl(p,Nt))return null;const N=Ej({container:r,subject:c,proposedScroll:p});return N?pl(N,Nt)?null:N:null};const Cj=Sh(n=>n===0?0:n>0?1:-1),Xd=(()=>{const n=(r,c)=>r<0?r:r>c?r-c:0;return({current:r,max:c,change:d})=>{const u=At(r,d),f={x:n(u.x,c.x),y:n(u.y,c.y)};return pl(f,Nt)?null:f}})(),ty=({max:n,current:r,change:c})=>{const d={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},u=Cj(c),f=Xd({max:d,current:r,change:u});return!f||u.x!==0&&f.x===0||u.y!==0&&f.y===0},Zd=(n,r)=>ty({current:n.scroll.current,max:n.scroll.max,change:r}),Tj=(n,r)=>{if(!Zd(n,r))return null;const c=n.scroll.max,d=n.scroll.current;return Xd({current:d,max:c,change:r})},Jd=(n,r)=>{const c=n.frame;return c?ty({current:c.scroll.current,max:c.scroll.max,change:r}):!1},Oj=(n,r)=>{const c=n.frame;return!c||!Jd(n,r)?null:Xd({current:c.scroll.current,max:c.scroll.max,change:r})};var kj=({viewport:n,subject:r,center:c,dragStartTime:d,shouldUseTimeDampening:u,getAutoScrollerOptions:f})=>{const x=ey({dragStartTime:d,container:n.frame,subject:r,center:c,shouldUseTimeDampening:u,getAutoScrollerOptions:f});return x&&Zd(n,x)?x:null},_j=({droppable:n,subject:r,center:c,dragStartTime:d,shouldUseTimeDampening:u,getAutoScrollerOptions:f})=>{const x=n.frame;if(!x)return null;const b=ey({dragStartTime:d,container:x.pageMarginBox,subject:r,center:c,shouldUseTimeDampening:u,getAutoScrollerOptions:f});return b&&Jd(n,b)?b:null},Yp=({state:n,dragStartTime:r,shouldUseTimeDampening:c,scrollWindow:d,scrollDroppable:u,getAutoScrollerOptions:f})=>{const x=n.current.page.borderBoxCenter,h=n.dimensions.draggables[n.critical.draggable.id].page.marginBox;if(n.isWindowScrollAllowed){const g=n.viewport,y=kj({dragStartTime:r,viewport:g,subject:h,center:x,shouldUseTimeDampening:c,getAutoScrollerOptions:f});if(y){d(y);return}}const p=jj({center:x,destination:Jt(n.impact),droppables:n.dimensions.droppables});if(!p)return;const N=_j({dragStartTime:r,droppable:p,subject:h,center:x,shouldUseTimeDampening:c,getAutoScrollerOptions:f});N&&u(p.descriptor.id,N)},Mj=({scrollWindow:n,scrollDroppable:r,getAutoScrollerOptions:c=()=>Ys})=>{const d=$s(n),u=$s(r);let f=null;const x=p=>{f||re();const{shouldUseTimeDampening:N,dragStartTime:g}=f;Yp({state:p,scrollWindow:d,scrollDroppable:u,dragStartTime:g,shouldUseTimeDampening:N,getAutoScrollerOptions:c})};return{start:p=>{f&&re();const N=Date.now();let g=!1;const y=()=>{g=!0};Yp({state:p,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:y,scrollDroppable:y,getAutoScrollerOptions:c}),f={dragStartTime:N,shouldUseTimeDampening:g},g&&x(p)},stop:()=>{f&&(d.cancel(),u.cancel(),f=null)},scroll:x}},Rj=({move:n,scrollDroppable:r,scrollWindow:c})=>{const d=(b,h)=>{const p=At(b.current.client.selection,h);n({client:p})},u=(b,h)=>{if(!Jd(b,h))return h;const p=Oj(b,h);if(!p)return r(b.descriptor.id,h),null;const N=Zt(h,p);return r(b.descriptor.id,N),Zt(h,N)},f=(b,h,p)=>{if(!b||!Zd(h,p))return p;const N=Tj(h,p);if(!N)return c(p),null;const g=Zt(p,N);return c(g),Zt(p,g)};return b=>{const h=b.scrollJumpRequest;if(!h)return;const p=Jt(b.impact);p||re();const N=u(b.dimensions.droppables[p],h);if(!N)return;const g=b.viewport,y=f(b.isWindowScrollAllowed,g,N);y&&d(b,y)}},zj=({scrollDroppable:n,scrollWindow:r,move:c,getAutoScrollerOptions:d})=>{const u=Mj({scrollWindow:r,scrollDroppable:n,getAutoScrollerOptions:d}),f=Rj({move:c,scrollWindow:r,scrollDroppable:n});return{scroll:h=>{if(!(d().disabled||h.phase!=="DRAGGING")){if(h.movementMode==="FLUID"){u.scroll(h);return}h.scrollJumpRequest&&f(h)}},start:u.start,stop:u.stop}};const _n="data-rfd",Mn=(()=>{const n=`${_n}-drag-handle`;return{base:n,draggableId:`${n}-draggable-id`,contextId:`${n}-context-id`}})(),Od=(()=>{const n=`${_n}-draggable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),Lj=(()=>{const n=`${_n}-droppable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),Qp={contextId:`${_n}-scroll-container-context-id`},Bj=n=>r=>`[${r}="${n}"]`,_s=(n,r)=>n.map(c=>{const d=c.styles[r];return d?`${c.selector} { ${d} }`:""}).join(" "),Uj="pointer-events: none;";var Hj=n=>{const r=Bj(n),c=(()=>{const b=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:r(Mn.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:b,dragging:Uj,dropAnimating:b}}})(),d=(()=>{const b=`
      transition: ${Ls.outOfTheWay};
    `;return{selector:r(Od.contextId),styles:{dragging:b,dropAnimating:b,userCancel:b}}})(),u={selector:r(Lj.contextId),styles:{always:"overflow-anchor: none;"}},x=[d,c,u,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:_s(x,"always"),resting:_s(x,"resting"),dragging:_s(x,"dragging"),dropAnimating:_s(x,"dropAnimating"),userCancel:_s(x,"userCancel")}};const Pt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?A.useLayoutEffect:A.useEffect,hd=()=>{const n=document.querySelector("head");return n||re(),n},Kp=n=>{const r=document.createElement("style");return n&&r.setAttribute("nonce",n),r.type="text/css",r};function $j(n,r){const c=Be(()=>Hj(n),[n]),d=A.useRef(null),u=A.useRef(null),f=he(gt(g=>{const y=u.current;y||re(),y.textContent=g}),[]),x=he(g=>{const y=d.current;y||re(),y.textContent=g},[]);Pt(()=>{!d.current&&!u.current||re();const g=Kp(r),y=Kp(r);return d.current=g,u.current=y,g.setAttribute(`${_n}-always`,n),y.setAttribute(`${_n}-dynamic`,n),hd().appendChild(g),hd().appendChild(y),x(c.always),f(c.resting),()=>{const w=C=>{const M=C.current;M||re(),hd().removeChild(M),C.current=null};w(d),w(u)}},[r,x,f,c.always,c.resting,n]);const b=he(()=>f(c.dragging),[f,c.dragging]),h=he(g=>{if(g==="DROP"){f(c.dropAnimating);return}f(c.userCancel)},[f,c.dropAnimating,c.userCancel]),p=he(()=>{u.current&&f(c.resting)},[f,c.resting]);return Be(()=>({dragging:b,dropping:h,resting:p}),[b,h,p])}function ay(n,r){return Array.from(n.querySelectorAll(r))}var ly=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window;function Ui(n){return n instanceof ly(n).HTMLElement}function Gj(n,r){const c=`[${Mn.contextId}="${n}"]`,d=ay(document,c);if(!d.length)return null;const u=d.find(f=>f.getAttribute(Mn.draggableId)===r);return!u||!Ui(u)?null:u}function qj(n){const r=A.useRef({}),c=A.useRef(null),d=A.useRef(null),u=A.useRef(!1),f=he(function(y,w){const C={id:y,focus:w};return r.current[y]=C,function(){const v=r.current;v[y]!==C&&delete v[y]}},[]),x=he(function(y){const w=Gj(n,y);w&&w!==document.activeElement&&w.focus()},[n]),b=he(function(y,w){c.current===y&&(c.current=w)},[]),h=he(function(){d.current||u.current&&(d.current=requestAnimationFrame(()=>{d.current=null;const y=c.current;y&&x(y)}))},[x]),p=he(function(y){c.current=null;const w=document.activeElement;w&&w.getAttribute(Mn.draggableId)===y&&(c.current=y)},[]);return Pt(()=>(u.current=!0,function(){u.current=!1;const y=d.current;y&&cancelAnimationFrame(y)}),[]),Be(()=>({register:f,tryRecordFocus:p,tryRestoreFocusRecorded:h,tryShiftRecord:b}),[f,p,h,b])}function Ij(){const n={draggables:{},droppables:{}},r=[];function c(g){return r.push(g),function(){const w=r.indexOf(g);w!==-1&&r.splice(w,1)}}function d(g){r.length&&r.forEach(y=>y(g))}function u(g){return n.draggables[g]||null}function f(g){const y=u(g);return y||re(),y}const x={register:g=>{n.draggables[g.descriptor.id]=g,d({type:"ADDITION",value:g})},update:(g,y)=>{const w=n.draggables[y.descriptor.id];w&&w.uniqueId===g.uniqueId&&(delete n.draggables[y.descriptor.id],n.draggables[g.descriptor.id]=g)},unregister:g=>{const y=g.descriptor.id,w=u(y);w&&g.uniqueId===w.uniqueId&&(delete n.draggables[y],n.droppables[g.descriptor.droppableId]&&d({type:"REMOVAL",value:g}))},getById:f,findById:u,exists:g=>!!u(g),getAllByType:g=>Object.values(n.draggables).filter(y=>y.descriptor.type===g)};function b(g){return n.droppables[g]||null}function h(g){const y=b(g);return y||re(),y}const p={register:g=>{n.droppables[g.descriptor.id]=g},unregister:g=>{const y=b(g.descriptor.id);y&&g.uniqueId===y.uniqueId&&delete n.droppables[g.descriptor.id]},getById:h,findById:b,exists:g=>!!b(g),getAllByType:g=>Object.values(n.droppables).filter(y=>y.descriptor.type===g)};function N(){n.draggables={},n.droppables={},r.length=0}return{draggable:x,droppable:p,subscribe:c,clean:N}}function Vj(){const n=Be(Ij,[]);return A.useEffect(()=>function(){n.clean()},[n]),n}var Pd=qe.createContext(null),ki=()=>{const n=document.body;return n||re(),n};const Yj={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Qj=n=>`rfd-announcement-${n}`;function Kj(n){const r=Be(()=>Qj(n),[n]),c=A.useRef(null);return A.useEffect(function(){const f=document.createElement("div");return c.current=f,f.id=r,f.setAttribute("aria-live","assertive"),f.setAttribute("aria-atomic","true"),Ai(f.style,Yj),ki().appendChild(f),function(){setTimeout(function(){const h=ki();h.contains(f)&&h.removeChild(f),f===c.current&&(c.current=null)})}},[r]),he(u=>{const f=c.current;if(f){f.textContent=u;return}},[])}const Xj={separator:"::"};function Fd(n,r=Xj){const c=qe.useId();return Be(()=>`${n}${r.separator}${c}`,[r.separator,n,c])}function Zj({contextId:n,uniqueId:r}){return`rfd-hidden-text-${n}-${r}`}function Jj({contextId:n,text:r}){const c=Fd("hidden-text",{separator:"-"}),d=Be(()=>Zj({contextId:n,uniqueId:c}),[c,n]);return A.useEffect(function(){const f=document.createElement("div");return f.id=d,f.textContent=r,f.style.display="none",ki().appendChild(f),function(){const b=ki();b.contains(f)&&b.removeChild(f)}},[d,r]),d}var Hi=qe.createContext(null);function ny(n){const r=A.useRef(n);return A.useEffect(()=>{r.current=n}),r}function Pj(){let n=null;function r(){return!!n}function c(x){return x===n}function d(x){n&&re();const b={abandon:x};return n=b,b}function u(){n||re(),n=null}function f(){n&&(n.abandon(),u())}return{isClaimed:r,isActive:c,claim:d,release:u,tryAbandon:f}}function Qs(n){return n.phase==="IDLE"||n.phase==="DROP_ANIMATING"?!1:n.isDragging}const Fj=9,Wj=13,Wd=27,sy=32,e2=33,t2=34,a2=35,l2=36,n2=37,s2=38,r2=39,i2=40,c2={[Wj]:!0,[Fj]:!0};var ry=n=>{c2[n.keyCode]&&n.preventDefault()};const $i=(()=>{const n="visibilitychange";return typeof document>"u"?n:[n,`ms${n}`,`webkit${n}`,`moz${n}`,`o${n}`].find(d=>`on${d}`in document)||n})(),iy=0,Xp=5;function o2(n,r){return Math.abs(r.x-n.x)>=Xp||Math.abs(r.y-n.y)>=Xp}const Zp={type:"IDLE"};function d2({cancel:n,completed:r,getPhase:c,setPhase:d}){return[{eventName:"mousemove",fn:u=>{const{button:f,clientX:x,clientY:b}=u;if(f!==iy)return;const h={x,y:b},p=c();if(p.type==="DRAGGING"){u.preventDefault(),p.actions.move(h);return}p.type!=="PENDING"&&re();const N=p.point;if(!o2(N,h))return;u.preventDefault();const g=p.actions.fluidLift(h);d({type:"DRAGGING",actions:g})}},{eventName:"mouseup",fn:u=>{const f=c();if(f.type!=="DRAGGING"){n();return}u.preventDefault(),f.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:u=>{c().type==="DRAGGING"&&u.preventDefault(),n()}},{eventName:"keydown",fn:u=>{if(c().type==="PENDING"){n();return}if(u.keyCode===Wd){u.preventDefault(),n();return}ry(u)}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{c().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:u=>{const f=c();if(f.type==="IDLE"&&re(),f.actions.shouldRespectForcePress()){n();return}u.preventDefault()}},{eventName:$i,fn:n}]}function u2(n){const r=A.useRef(Zp),c=A.useRef(ml),d=Be(()=>({eventName:"mousedown",fn:function(g){if(g.defaultPrevented||g.button!==iy||g.ctrlKey||g.metaKey||g.shiftKey||g.altKey)return;const y=n.findClosestDraggableId(g);if(!y)return;const w=n.tryGetLock(y,x,{sourceEvent:g});if(!w)return;g.preventDefault();const C={x:g.clientX,y:g.clientY};c.current(),p(w,C)}}),[n]),u=Be(()=>({eventName:"webkitmouseforcewillbegin",fn:N=>{if(N.defaultPrevented)return;const g=n.findClosestDraggableId(N);if(!g)return;const y=n.findOptionsForDraggable(g);y&&(y.shouldRespectForcePress||n.canGetLock(g)&&N.preventDefault())}}),[n]),f=he(function(){const g={passive:!1,capture:!0};c.current=oa(window,[u,d],g)},[u,d]),x=he(()=>{r.current.type!=="IDLE"&&(r.current=Zp,c.current(),f())},[f]),b=he(()=>{const N=r.current;x(),N.type==="DRAGGING"&&N.actions.cancel({shouldBlockNextClick:!0}),N.type==="PENDING"&&N.actions.abort()},[x]),h=he(function(){const g={capture:!0,passive:!1},y=d2({cancel:b,completed:x,getPhase:()=>r.current,setPhase:w=>{r.current=w}});c.current=oa(window,y,g)},[b,x]),p=he(function(g,y){r.current.type!=="IDLE"&&re(),r.current={type:"PENDING",point:y,actions:g},h()},[h]);Pt(function(){return f(),function(){c.current()}},[f])}function f2(){}const x2={[t2]:!0,[e2]:!0,[l2]:!0,[a2]:!0};function m2(n,r){function c(){r(),n.cancel()}function d(){r(),n.drop()}return[{eventName:"keydown",fn:u=>{if(u.keyCode===Wd){u.preventDefault(),c();return}if(u.keyCode===sy){u.preventDefault(),d();return}if(u.keyCode===i2){u.preventDefault(),n.moveDown();return}if(u.keyCode===s2){u.preventDefault(),n.moveUp();return}if(u.keyCode===r2){u.preventDefault(),n.moveRight();return}if(u.keyCode===n2){u.preventDefault(),n.moveLeft();return}if(x2[u.keyCode]){u.preventDefault();return}ry(u)}},{eventName:"mousedown",fn:c},{eventName:"mouseup",fn:c},{eventName:"click",fn:c},{eventName:"touchstart",fn:c},{eventName:"resize",fn:c},{eventName:"wheel",fn:c,options:{passive:!0}},{eventName:$i,fn:c}]}function p2(n){const r=A.useRef(f2),c=Be(()=>({eventName:"keydown",fn:function(f){if(f.defaultPrevented||f.keyCode!==sy)return;const x=n.findClosestDraggableId(f);if(!x)return;const b=n.tryGetLock(x,N,{sourceEvent:f});if(!b)return;f.preventDefault();let h=!0;const p=b.snapLift();r.current();function N(){h||re(),h=!1,r.current(),d()}r.current=oa(window,m2(p,N),{capture:!0,passive:!1})}}),[n]),d=he(function(){const f={passive:!1,capture:!0};r.current=oa(window,[c],f)},[c]);Pt(function(){return d(),function(){r.current()}},[d])}const yd={type:"IDLE"},h2=120,y2=.15;function b2({cancel:n,getPhase:r}){return[{eventName:"orientationchange",fn:n},{eventName:"resize",fn:n},{eventName:"contextmenu",fn:c=>{c.preventDefault()}},{eventName:"keydown",fn:c=>{if(r().type!=="DRAGGING"){n();return}c.keyCode===Wd&&c.preventDefault(),n()}},{eventName:$i,fn:n}]}function g2({cancel:n,completed:r,getPhase:c}){return[{eventName:"touchmove",options:{capture:!1},fn:d=>{const u=c();if(u.type!=="DRAGGING"){n();return}u.hasMoved=!0;const{clientX:f,clientY:x}=d.touches[0],b={x:f,y:x};d.preventDefault(),u.actions.move(b)}},{eventName:"touchend",fn:d=>{const u=c();if(u.type!=="DRAGGING"){n();return}d.preventDefault(),u.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:d=>{if(c().type!=="DRAGGING"){n();return}d.preventDefault(),n()}},{eventName:"touchforcechange",fn:d=>{const u=c();u.type==="IDLE"&&re();const f=d.touches[0];if(!f||!(f.force>=y2))return;const b=u.actions.shouldRespectForcePress();if(u.type==="PENDING"){b&&n();return}if(b){if(u.hasMoved){d.preventDefault();return}n();return}d.preventDefault()}},{eventName:$i,fn:n}]}function v2(n){const r=A.useRef(yd),c=A.useRef(ml),d=he(function(){return r.current},[]),u=he(function(w){r.current=w},[]),f=Be(()=>({eventName:"touchstart",fn:function(w){if(w.defaultPrevented)return;const C=n.findClosestDraggableId(w);if(!C)return;const M=n.tryGetLock(C,b,{sourceEvent:w});if(!M)return;const v=w.touches[0],{clientX:S,clientY:z}=v,T={x:S,y:z};c.current(),g(M,T)}}),[n]),x=he(function(){const w={capture:!0,passive:!1};c.current=oa(window,[f],w)},[f]),b=he(()=>{const y=r.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),u(yd),c.current(),x())},[x,u]),h=he(()=>{const y=r.current;b(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[b]),p=he(function(){const w={capture:!0,passive:!1},C={cancel:h,completed:b,getPhase:d},M=oa(window,g2(C),w),v=oa(window,b2(C),w);c.current=function(){M(),v()}},[h,d,b]),N=he(function(){const w=d();w.type!=="PENDING"&&re();const C=w.actions.fluidLift(w.point);u({type:"DRAGGING",actions:C,hasMoved:!1})},[d,u]),g=he(function(w,C){d().type!=="IDLE"&&re();const M=setTimeout(N,h2);u({type:"PENDING",point:C,actions:w,longPressTimerId:M}),p()},[p,d,u,N]);Pt(function(){return x(),function(){c.current();const C=d();C.type==="PENDING"&&(clearTimeout(C.longPressTimerId),u(yd))}},[d,x,u]),Pt(function(){return oa(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const N2=["input","button","textarea","select","option","optgroup","video","audio"];function cy(n,r){if(r==null)return!1;if(N2.includes(r.tagName.toLowerCase()))return!0;const d=r.getAttribute("contenteditable");return d==="true"||d===""?!0:r===n?!1:cy(n,r.parentElement)}function j2(n,r){const c=r.target;return Ui(c)?cy(n,c):!1}var S2=n=>pa(n.getBoundingClientRect()).center;function w2(n){return n instanceof ly(n).Element}const D2=(()=>{const n="matches";return typeof document>"u"?n:[n,"msMatchesSelector","webkitMatchesSelector"].find(d=>d in Element.prototype)||n})();function oy(n,r){return n==null?null:n[D2](r)?n:oy(n.parentElement,r)}function E2(n,r){return n.closest?n.closest(r):oy(n,r)}function A2(n){return`[${Mn.contextId}="${n}"]`}function C2(n,r){const c=r.target;if(!w2(c))return null;const d=A2(n),u=E2(c,d);return!u||!Ui(u)?null:u}function T2(n,r){const c=C2(n,r);return c?c.getAttribute(Mn.draggableId):null}function O2(n,r){const c=`[${Od.contextId}="${n}"]`,u=ay(document,c).find(f=>f.getAttribute(Od.id)===r);return!u||!Ui(u)?null:u}function k2(n){n.preventDefault()}function hi({expected:n,phase:r,isLockActive:c,shouldWarn:d}){return!(!c()||n!==r)}function dy({lockAPI:n,store:r,registry:c,draggableId:d}){if(n.isClaimed())return!1;const u=c.draggable.findById(d);return!(!u||!u.options.isEnabled||!Fh(r.getState(),d))}function _2({lockAPI:n,contextId:r,store:c,registry:d,draggableId:u,forceSensorStop:f,sourceEvent:x}){if(!dy({lockAPI:n,store:c,registry:d,draggableId:u}))return null;const h=d.draggable.getById(u),p=O2(r,h.descriptor.id);if(!p||x&&!h.options.canDragInteractiveElements&&j2(p,x))return null;const N=n.claim(f||ml);let g="PRE_DRAG";function y(){return h.options.shouldRespectForcePress}function w(){return n.isActive(N)}function C(R,j){hi({expected:R,phase:g,isLockActive:w,shouldWarn:!0})&&c.dispatch(j())}const M=C.bind(null,"DRAGGING");function v(R){function j(){n.release(),g="COMPLETED"}g!=="PRE_DRAG"&&(j(),re()),c.dispatch(EN(R.liftActionArgs)),g="DRAGGING";function B(q,ne={shouldBlockNextClick:!1}){if(R.cleanup(),ne.shouldBlockNextClick){const ce=oa(window,[{eventName:"click",fn:k2,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(ce)}j(),c.dispatch(Vh({reason:q}))}return{isActive:()=>hi({expected:"DRAGGING",phase:g,isLockActive:w,shouldWarn:!1}),shouldRespectForcePress:y,drop:q=>B("DROP",q),cancel:q=>B("CANCEL",q),...R.actions}}function S(R){const j=$s(q=>{M(()=>Ih({client:q}))});return{...v({liftActionArgs:{id:u,clientSelection:R,movementMode:"FLUID"},cleanup:()=>j.cancel(),actions:{move:j}}),move:j}}function z(){const R={moveUp:()=>M(zN),moveRight:()=>M(BN),moveDown:()=>M(LN),moveLeft:()=>M(UN)};return v({liftActionArgs:{id:u,clientSelection:S2(p),movementMode:"SNAP"},cleanup:ml,actions:R})}function T(){hi({expected:"PRE_DRAG",phase:g,isLockActive:w,shouldWarn:!0})&&n.release()}return{isActive:()=>hi({expected:"PRE_DRAG",phase:g,isLockActive:w,shouldWarn:!1}),shouldRespectForcePress:y,fluidLift:S,snapLift:z,abort:T}}const M2=[u2,p2,v2];function R2({contextId:n,store:r,registry:c,customSensors:d,enableDefaultSensors:u}){const f=[...u?M2:[],...d||[]],x=A.useState(()=>Pj())[0],b=he(function(v,S){Qs(v)&&!Qs(S)&&x.tryAbandon()},[x]);Pt(function(){let v=r.getState();return r.subscribe(()=>{const z=r.getState();b(v,z),v=z})},[x,r,b]),Pt(()=>x.tryAbandon,[x.tryAbandon]);const h=he(M=>dy({lockAPI:x,registry:c,store:r,draggableId:M}),[x,c,r]),p=he((M,v,S)=>_2({lockAPI:x,registry:c,contextId:n,store:r,draggableId:M,forceSensorStop:v||null,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null}),[n,x,c,r]),N=he(M=>T2(n,M),[n]),g=he(M=>{const v=c.draggable.findById(M);return v?v.options:null},[c.draggable]),y=he(function(){x.isClaimed()&&(x.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(Vd()))},[x,r]),w=he(()=>x.isClaimed(),[x]),C=Be(()=>({canGetLock:h,tryGetLock:p,findClosestDraggableId:N,findOptionsForDraggable:g,tryReleaseLock:y,isLockClaimed:w}),[h,p,N,g,y,w]);for(let M=0;M<f.length;M++)f[M](C)}const z2=n=>({onBeforeCapture:r=>{const c=()=>{n.onBeforeCapture&&n.onBeforeCapture(r)};_d.flushSync(c)},onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDragUpdate:n.onDragUpdate}),L2=n=>({...Ys,...n.autoScrollerOptions,durationDampening:{...Ys.durationDampening,...n.autoScrollerOptions}});function Ms(n){return n.current||re(),n.current}function B2(n){const{contextId:r,setCallbacks:c,sensors:d,nonce:u,dragHandleUsageInstructions:f}=n,x=A.useRef(null),b=ny(n),h=he(()=>z2(b.current),[b]),p=he(()=>L2(b.current),[b]),N=Kj(r),g=Jj({contextId:r,text:f}),y=$j(r,u),w=he(ce=>{Ms(x).dispatch(ce)},[]),C=Be(()=>Np({publishWhileDragging:CN,updateDroppableScroll:ON,updateDroppableIsEnabled:kN,updateDroppableIsCombineEnabled:_N,collectionStarting:TN},w),[w]),M=Vj(),v=Be(()=>bj(M,C),[M,C]),S=Be(()=>zj({scrollWindow:gj,scrollDroppable:v.scrollDroppable,getAutoScrollerOptions:p,...Np({move:Ih},w)}),[v.scrollDroppable,w,p]),z=qj(r),T=Be(()=>mj({announce:N,autoScroller:S,dimensionMarshal:v,focusMarshal:z,getResponders:h,styleMarshal:y}),[N,S,v,z,h,y]);x.current=T;const k=he(()=>{const ce=Ms(x);ce.getState().phase!=="IDLE"&&ce.dispatch(Vd())},[]),R=he(()=>{const ce=Ms(x).getState();return ce.phase==="DROP_ANIMATING"?!0:ce.phase==="IDLE"?!1:ce.isDragging},[]),j=Be(()=>({isDragging:R,tryAbort:k}),[R,k]);c(j);const B=he(ce=>Fh(Ms(x).getState(),ce),[]),q=he(()=>Ul(Ms(x).getState()),[]),ne=Be(()=>({marshal:v,focus:z,contextId:r,canLift:B,isMovementAllowed:q,dragHandleUsageInstructionsId:g,registry:M}),[r,v,g,z,B,q,M]);return R2({contextId:r,store:T,registry:M,customSensors:d||null,enableDefaultSensors:n.enableDefaultSensors!==!1}),A.useEffect(()=>k,[k]),qe.createElement(Hi.Provider,{value:ne},qe.createElement(c1,{context:Pd,store:T},n.children))}function U2(){return qe.useId()}function H2(n){const r=U2(),c=n.dragHandleUsageInstructions||gi.dragHandleUsageInstructions;return qe.createElement(p1,null,d=>qe.createElement(B2,{nonce:n.nonce,contextId:r,setCallbacks:d,dragHandleUsageInstructions:c,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd,autoScrollerOptions:n.autoScrollerOptions},n.children))}const Jp={dragging:5e3,dropAnimating:4500},$2=(n,r)=>r?Ls.drop(r.duration):n?Ls.snap:Ls.fluid,G2=(n,r)=>{if(n)return r?Vs.opacity.drop:Vs.opacity.combining},q2=n=>n.forceShouldAnimate!=null?n.forceShouldAnimate:n.mode==="SNAP";function I2(n){const c=n.dimension.client,{offset:d,combineWith:u,dropping:f}=n,x=!!u,b=q2(n),h=!!f,p=h?Cd.drop(d,x):Cd.moveTo(d);return{position:"fixed",top:c.marginBox.top,left:c.marginBox.left,boxSizing:"border-box",width:c.borderBox.width,height:c.borderBox.height,transition:$2(b,f),transform:p,opacity:G2(x,h),zIndex:h?Jp.dropAnimating:Jp.dragging,pointerEvents:"none"}}function V2(n){return{transform:Cd.moveTo(n.offset),transition:n.shouldAnimateDisplacement?void 0:"none"}}function Y2(n){return n.type==="DRAGGING"?I2(n):V2(n)}function Q2(n,r,c=Nt){const d=window.getComputedStyle(r),u=r.getBoundingClientRect(),f=yh(u,d),x=Ei(f,c),b={client:f,tagName:r.tagName.toLowerCase(),display:d.display},h={x:f.marginBox.width,y:f.marginBox.height};return{descriptor:n,placeholder:b,displaceBy:h,client:f,page:x}}function K2(n){const r=Fd("draggable"),{descriptor:c,registry:d,getDraggableRef:u,canDragInteractiveElements:f,shouldRespectForcePress:x,isEnabled:b}=n,h=Be(()=>({canDragInteractiveElements:f,shouldRespectForcePress:x,isEnabled:b}),[f,b,x]),p=he(w=>{const C=u();return C||re(),Q2(c,C,w)},[c,u]),N=Be(()=>({uniqueId:r,descriptor:c,options:h,getDimension:p}),[c,p,h,r]),g=A.useRef(N),y=A.useRef(!0);Pt(()=>(d.draggable.register(g.current),()=>d.draggable.unregister(g.current)),[d.draggable]),Pt(()=>{if(y.current){y.current=!1;return}const w=g.current;g.current=N,d.draggable.update(N,w)},[N,d.draggable])}var eu=qe.createContext(null);function _i(n){const r=A.useContext(n);return r||re(),r}function X2(n){n.preventDefault()}const Z2=n=>{const r=A.useRef(null),c=he((j=null)=>{r.current=j},[]),d=he(()=>r.current,[]),{contextId:u,dragHandleUsageInstructionsId:f,registry:x}=_i(Hi),{type:b,droppableId:h}=_i(eu),p=Be(()=>({id:n.draggableId,index:n.index,type:b,droppableId:h}),[n.draggableId,n.index,b,h]),{children:N,draggableId:g,isEnabled:y,shouldRespectForcePress:w,canDragInteractiveElements:C,isClone:M,mapped:v,dropAnimationFinished:S}=n;if(!M){const j=Be(()=>({descriptor:p,registry:x,getDraggableRef:d,canDragInteractiveElements:C,shouldRespectForcePress:w,isEnabled:y}),[p,x,d,C,w,y]);K2(j)}const z=Be(()=>y?{tabIndex:0,role:"button","aria-describedby":f,"data-rfd-drag-handle-draggable-id":g,"data-rfd-drag-handle-context-id":u,draggable:!1,onDragStart:X2}:null,[u,f,g,y]),T=he(j=>{v.type==="DRAGGING"&&v.dropping&&j.propertyName==="transform"&&_d.flushSync(S)},[S,v]),k=Be(()=>{const j=Y2(v),B=v.type==="DRAGGING"&&v.dropping?T:void 0;return{innerRef:c,draggableProps:{"data-rfd-draggable-context-id":u,"data-rfd-draggable-id":g,style:j,onTransitionEnd:B},dragHandleProps:z}},[u,z,g,v,T,c]),R=Be(()=>({draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}),[p.droppableId,p.id,p.index,p.type]);return qe.createElement(qe.Fragment,null,N(k,v.snapshot,R))};var uy=(n,r)=>n===r,fy=n=>{const{combine:r,destination:c}=n;return c?c.droppableId:r?r.droppableId:null};const J2=n=>n.combine?n.combine.draggableId:null,P2=n=>n.at&&n.at.type==="COMBINE"?n.at.combine.draggableId:null;function F2(){const n=gt((u,f)=>({x:u,y:f})),r=gt((u,f,x=null,b=null,h=null)=>({isDragging:!0,isClone:f,isDropAnimating:!!h,dropAnimation:h,mode:u,draggingOver:x,combineWith:b,combineTargetFor:null})),c=gt((u,f,x,b,h=null,p=null,N=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:h,combineWith:p,mode:f,offset:u,dimension:x,forceShouldAnimate:N,snapshot:r(f,b,h,p,null)}}));return(u,f)=>{if(Qs(u)){if(u.critical.draggable.id!==f.draggableId)return null;const x=u.current.client.offset,b=u.dimensions.draggables[f.draggableId],h=Jt(u.impact),p=P2(u.impact),N=u.forceShouldAnimate;return c(n(x.x,x.y),u.movementMode,b,f.isClone,h,p,N)}if(u.phase==="DROP_ANIMATING"){const x=u.completed;if(x.result.draggableId!==f.draggableId)return null;const b=f.isClone,h=u.dimensions.draggables[f.draggableId],p=x.result,N=p.mode,g=fy(p),y=J2(p),C={duration:u.dropDuration,curve:Qd.drop,moveTo:u.newHomeClientOffset,opacity:y?Vs.opacity.drop:null,scale:y?Vs.scale.drop:null};return{mapped:{type:"DRAGGING",offset:u.newHomeClientOffset,dimension:h,dropping:C,draggingOver:g,combineWith:y,mode:N,forceShouldAnimate:null,snapshot:r(N,b,g,y,C)}}}return null}}function xy(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const W2={mapped:{type:"SECONDARY",offset:Nt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:xy(null)}};function eS(){const n=gt((x,b)=>({x,y:b})),r=gt(xy),c=gt((x,b=null,h)=>({mapped:{type:"SECONDARY",offset:x,combineTargetFor:b,shouldAnimateDisplacement:h,snapshot:r(b)}})),d=x=>x?c(Nt,x,!0):null,u=(x,b,h,p)=>{const N=h.displaced.visible[x],g=!!(p.inVirtualList&&p.effected[x]),y=zi(h),w=y&&y.draggableId===x?b:null;if(!N){if(!g)return d(w);if(h.displaced.invisible[x])return null;const v=Rn(p.displacedBy.point),S=n(v.x,v.y);return c(S,w,!0)}if(g)return d(w);const C=h.displacedBy.point,M=n(C.x,C.y);return c(M,w,N.shouldAnimate)};return(x,b)=>{if(Qs(x))return x.critical.draggable.id===b.draggableId?null:u(b.draggableId,x.critical.draggable.id,x.impact,x.afterCritical);if(x.phase==="DROP_ANIMATING"){const h=x.completed;return h.result.draggableId===b.draggableId?null:u(b.draggableId,h.result.draggableId,h.impact,h.afterCritical)}return null}}const tS=()=>{const n=F2(),r=eS();return(d,u)=>n(d,u)||r(d,u)||W2},aS={dropAnimationFinished:Yh},lS=hh(tS,aS,null,{context:Pd,areStatePropsEqual:uy})(Z2);function my(n){return _i(eu).isUsingCloneFor===n.draggableId&&!n.isClone?null:qe.createElement(lS,n)}function Pp(n){const r=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,c=!!n.disableInteractiveElementBlocking,d=!!n.shouldRespectForcePress;return qe.createElement(my,Ai({},n,{isClone:!1,isEnabled:r,canDragInteractiveElements:c,shouldRespectForcePress:d}))}const py=n=>r=>n===r,nS=py("scroll"),sS=py("auto"),Fp=(n,r)=>r(n.overflowX)||r(n.overflowY),rS=n=>{const r=window.getComputedStyle(n),c={overflowX:r.overflowX,overflowY:r.overflowY};return Fp(c,nS)||Fp(c,sS)},iS=()=>!1,hy=n=>n==null?null:n===document.body?iS()?n:null:n===document.documentElement?null:rS(n)?n:hy(n.parentElement);var kd=n=>({x:n.scrollLeft,y:n.scrollTop});const yy=n=>n?window.getComputedStyle(n).position==="fixed"?!0:yy(n.parentElement):!1;var cS=n=>{const r=hy(n),c=yy(n);return{closestScrollable:r,isFixedOnPage:c}},oS=({descriptor:n,isEnabled:r,isCombineEnabled:c,isFixedOnPage:d,direction:u,client:f,page:x,closest:b})=>{const h=(()=>{if(!b)return null;const{scrollSize:y,client:w}=b,C=Zh({scrollHeight:y.scrollHeight,scrollWidth:y.scrollWidth,height:w.paddingBox.height,width:w.paddingBox.width});return{pageMarginBox:b.page.marginBox,frameClient:w,scrollSize:y,shouldClipSubject:b.shouldClipSubject,scroll:{initial:b.scroll,current:b.scroll,max:C,diff:{value:Nt,displacement:Nt}}}})(),p=u==="vertical"?Hd:Ch,N=kn({page:x,withPlaceholder:null,axis:p,frame:h});return{descriptor:n,isCombineEnabled:c,isFixedOnPage:d,axis:p,isEnabled:r,client:f,page:x,frame:h,subject:N}};const dS=(n,r)=>{const c=bh(n);if(!r||n!==r)return c;const d=c.paddingBox.top-r.scrollTop,u=c.paddingBox.left-r.scrollLeft,f=d+r.scrollHeight,x=u+r.scrollWidth,h=zd({top:d,right:x,bottom:f,left:u},c.border);return Ld({borderBox:h,margin:c.margin,border:c.border,padding:c.padding})};var uS=({ref:n,descriptor:r,env:c,windowScroll:d,direction:u,isDropDisabled:f,isCombineEnabled:x,shouldClipSubject:b})=>{const h=c.closestScrollable,p=dS(n,h),N=Ei(p,d),g=(()=>{if(!h)return null;const w=bh(h),C={scrollHeight:h.scrollHeight,scrollWidth:h.scrollWidth};return{client:w,page:Ei(w,d),scroll:kd(h),scrollSize:C,shouldClipSubject:b}})();return oS({descriptor:r,isEnabled:!f,isCombineEnabled:x,isFixedOnPage:c.isFixedOnPage,direction:u,client:p,page:N,closest:g})};const fS={passive:!1},xS={passive:!0};var Wp=n=>n.shouldPublishImmediately?fS:xS;const yi=n=>n&&n.env.closestScrollable||null;function mS(n){const r=A.useRef(null),c=_i(Hi),d=Fd("droppable"),{registry:u,marshal:f}=c,x=ny(n),b=Be(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),h=A.useRef(b),p=Be(()=>gt((k,R)=>{r.current||re();const j={x:k,y:R};f.updateDroppableScroll(b.id,j)}),[b.id,f]),N=he(()=>{const k=r.current;return!k||!k.env.closestScrollable?Nt:kd(k.env.closestScrollable)},[]),g=he(()=>{const k=N();p(k.x,k.y)},[N,p]),y=Be(()=>$s(g),[g]),w=he(()=>{const k=r.current,R=yi(k);if(k&&R||re(),k.scrollOptions.shouldPublishImmediately){g();return}y()},[y,g]),C=he((k,R)=>{r.current&&re();const j=x.current,B=j.getDroppableRef();B||re();const q=cS(B),ne={ref:B,descriptor:b,env:q,scrollOptions:R};r.current=ne;const ce=uS({ref:B,descriptor:b,env:q,windowScroll:k,direction:j.direction,isDropDisabled:j.isDropDisabled,isCombineEnabled:j.isCombineEnabled,shouldClipSubject:!j.ignoreContainerClipping}),H=q.closestScrollable;return H&&(H.setAttribute(Qp.contextId,c.contextId),H.addEventListener("scroll",w,Wp(ne.scrollOptions))),ce},[c.contextId,b,w,x]),M=he(()=>{const k=r.current,R=yi(k);return k&&R||re(),kd(R)},[]),v=he(()=>{const k=r.current;k||re();const R=yi(k);r.current=null,R&&(y.cancel(),R.removeAttribute(Qp.contextId),R.removeEventListener("scroll",w,Wp(k.scrollOptions)))},[w,y]),S=he(k=>{const R=r.current;R||re();const j=yi(R);j||re(),j.scrollTop+=k.y,j.scrollLeft+=k.x},[]),z=Be(()=>({getDimensionAndWatchScroll:C,getScrollWhileDragging:M,dragStopped:v,scroll:S}),[v,C,M,S]),T=Be(()=>({uniqueId:d,descriptor:b,callbacks:z}),[z,b,d]);Pt(()=>(h.current=T.descriptor,u.droppable.register(T),()=>{r.current&&v(),u.droppable.unregister(T)}),[z,b,v,T,f,u.droppable]),Pt(()=>{r.current&&f.updateDroppableIsEnabled(h.current.id,!n.isDropDisabled)},[n.isDropDisabled,f]),Pt(()=>{r.current&&f.updateDroppableIsCombineEnabled(h.current.id,n.isCombineEnabled)},[n.isCombineEnabled,f])}function bd(){}const eh={width:0,height:0,margin:j1},pS=({isAnimatingOpenOnMount:n,placeholder:r,animate:c})=>n||c==="close"?eh:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin},hS=({isAnimatingOpenOnMount:n,placeholder:r,animate:c})=>{const d=pS({isAnimatingOpenOnMount:n,placeholder:r,animate:c});return{display:r.display,boxSizing:"border-box",width:d.width,height:d.height,marginTop:d.margin.top,marginRight:d.margin.right,marginBottom:d.margin.bottom,marginLeft:d.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:c!=="none"?Ls.placeholder:null}},yS=n=>{const r=A.useRef(null),c=he(()=>{r.current&&(clearTimeout(r.current),r.current=null)},[]),{animate:d,onTransitionEnd:u,onClose:f,contextId:x}=n,[b,h]=A.useState(n.animate==="open");A.useEffect(()=>b?d!=="open"?(c(),h(!1),bd):r.current?bd:(r.current=setTimeout(()=>{r.current=null,h(!1)}),c):bd,[d,b,c]);const p=he(g=>{g.propertyName==="height"&&(u(),d==="close"&&f())},[d,f,u]),N=hS({isAnimatingOpenOnMount:b,animate:n.animate,placeholder:n.placeholder});return qe.createElement(n.placeholder.tagName,{style:N,"data-rfd-placeholder-context-id":x,onTransitionEnd:p,ref:n.innerRef})};var bS=qe.memo(yS);class gS extends qe.PureComponent{constructor(...r){super(...r),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(r,c){return r.shouldAnimate?r.on?{isVisible:!0,data:r.on,animate:"open"}:c.isVisible?{isVisible:!0,data:c.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!r.on,data:r.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const r={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(r)}}const vS=n=>{const r=A.useContext(Hi);r||re();const{contextId:c,isMovementAllowed:d}=r,u=A.useRef(null),f=A.useRef(null),{children:x,droppableId:b,type:h,mode:p,direction:N,ignoreContainerClipping:g,isDropDisabled:y,isCombineEnabled:w,snapshot:C,useClone:M,updateViewportMaxScroll:v,getContainerForClone:S}=n,z=he(()=>u.current,[]),T=he((H=null)=>{u.current=H},[]);he(()=>f.current,[]);const k=he((H=null)=>{f.current=H},[]),R=he(()=>{d()&&v({maxScroll:Ph()})},[d,v]);mS({droppableId:b,type:h,mode:p,direction:N,isDropDisabled:y,isCombineEnabled:w,ignoreContainerClipping:g,getDroppableRef:z});const j=Be(()=>qe.createElement(gS,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:H,data:K,animate:ee})=>qe.createElement(bS,{placeholder:K,onClose:H,innerRef:k,animate:ee,contextId:c,onTransitionEnd:R})),[c,R,n.placeholder,n.shouldAnimatePlaceholder,k]),B=Be(()=>({innerRef:T,placeholder:j,droppableProps:{"data-rfd-droppable-id":b,"data-rfd-droppable-context-id":c}}),[c,b,j,T]),q=M?M.dragging.draggableId:null,ne=Be(()=>({droppableId:b,type:h,isUsingCloneFor:q}),[b,q,h]);function ce(){if(!M)return null;const{dragging:H,render:K}=M,ee=qe.createElement(my,{draggableId:H.draggableId,index:H.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(de,ie)=>K(de,ie,H));return i0.createPortal(ee,S())}return qe.createElement(eu.Provider,{value:ne},x(B,C),ce())};function NS(){return document.body||re(),document.body}const th={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:NS},by=n=>{let r={...n},c;for(c in th)n[c]===void 0&&(r={...r,[c]:th[c]});return r},gd=(n,r)=>n===r.droppable.type,ah=(n,r)=>r.draggables[n.draggable.id],jS=()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r={...n,shouldAnimatePlaceholder:!1},c=gt(f=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}})),d=gt((f,x,b,h,p,N)=>{const g=p.descriptor.id;if(p.descriptor.droppableId===f){const C=N?{render:N,dragging:c(p.descriptor)}:null,M={isDraggingOver:b,draggingOverWith:b?g:null,draggingFromThisWith:g,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!1,snapshot:M,useClone:C}}if(!x)return r;if(!h)return n;const w={isDraggingOver:b,draggingOverWith:g,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:p.placeholder,shouldAnimatePlaceholder:!0,snapshot:w,useClone:null}});return(f,x)=>{const b=by(x),h=b.droppableId,p=b.type,N=!b.isDropDisabled,g=b.renderClone;if(Qs(f)){const y=f.critical;if(!gd(p,y))return r;const w=ah(y,f.dimensions),C=Jt(f.impact)===h;return d(h,N,C,C,w,g)}if(f.phase==="DROP_ANIMATING"){const y=f.completed;if(!gd(p,y.critical))return r;const w=ah(y.critical,f.dimensions);return d(h,N,fy(y.result)===h,Jt(y.impact)===h,w,g)}if(f.phase==="IDLE"&&f.completed&&!f.shouldFlush){const y=f.completed;if(!gd(p,y.critical))return r;const w=Jt(y.impact)===h,C=!!(y.impact.at&&y.impact.at.type==="COMBINE"),M=y.critical.droppable.id===h;return w?C?n:r:M?n:r}return r}},SS={updateViewportMaxScroll:RN},lh=hh(jS,SS,(n,r,c)=>({...by(c),...n,...r}),{context:Pd,areStatePropsEqual:uy})(vS),nh={1L:75,1L:80,2L:155,1L:80,2L:155,:90,:20,:20,:20,:20,:18.3,:20,:16.7,:20,:18.3,:45,:70,:70,:70,:70,:55,471:30,1795:75,:27.5,:25,:25,:30,:30,:27.5,:25,:20,:10,:20,:20,:25,:20,:20,:20,:20,:10,:20,:20,:20,:20,:20,:16.7,:20,1L:70,2L:140,:50,:70,:50,:20,400:16.7,1000:25,1000:40,2000:40,2000:60,1000:60,2000:100,500:50,1000:60},bi={1L:20,1L:20,2L:12,1L:20,2L:12,:20,:70,:70,:70,:12,:24,:20,:108,:40,:40,:15,:4,:4,:4,:4,:16,471:30,1795:9,:60,:20,:24,:15,:15,:24,:25,:15,:15,:15,:15,:24,:24,:24,:24,:15,:15,:15,:15,:15,:15,:15,:24,:15},Gi=(n,r)=>[...n].sort((c,d)=>{const u=Number(c.sortWeight)||999999,f=Number(d.sortWeight)||999999;return u!==f?u-f:String(c[r]||"").localeCompare(String(d[r]||""),"zh-Hant")}),Je=(n=new Date)=>{const r=new Date(n);return`${r.getFullYear()}-${String(r.getMonth()+1).padStart(2,"0")}-${String(r.getDate()).padStart(2,"0")}`};function wS({user:n,apiUrl:r,logActivity:c}){const[d,u]=A.useState([]),[f,x]=A.useState({1e3:0,500:0,100:0,50:0,10:0,5:0,1:0}),[b,h]=A.useState(5e3),[p,N]=A.useState({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0}),[g,y]=A.useState(""),[w,C]=A.useState("CASH"),[M,v]=A.useState(!1),[S,z]=A.useState(!1);A.useEffect(()=>{h(w==="CASH"?5e3:0)},[w]);const T=A.useCallback(async()=>{try{const O=await Se(r,"getProducts",{},n.token);if(console.log("Sales Page - Raw Products Data:",O),Array.isArray(O)){const L=O.filter(F=>(Number(F.stock)||0)>0||(Number(F.originalStock)||0)>0),J=Gi(L,"name");console.log("---  ---"),console.table(J.slice(0,10).map(F=>({:F.name,:F.sortWeight}))),u(J.map(F=>{const se=Number(F.price)||0,E=nh[F.name]!==void 0?nh[F.name]:null,V=`last_price_${F.id}`,Z=localStorage.getItem(V);let le=se;return E!==null&&(le=E),Z!==null&&(le=Number(Z)),{id:F.id,name:F.name,stock:Number(F.stock)||0,originalStock:Number(F.originalStock)||0,picked:0,original:0,returns:0,sold:0,price:le,subtotal:0,sortWeight:F.sortWeight,fromSheet:F._fromSheet}}))}else console.error("Sales Page - Data is not an array:",O)}catch(O){console.error("Fetch products failed",O),alert(": "+O.message)}},[r,n.token]);A.useEffect(()=>{(async()=>n?.token&&await T())()},[n.token,T]);const k=(O,L,J)=>{let F=Number(J);isNaN(F)&&(F=0),u(se=>se.map(E=>{if(E.id!==O)return E;let V=L==="picked"?F:E.picked||0,Z=L==="original"?F:E.original||0,le=L==="returns"?F:E.returns||0,oe=L==="price"?F:E.price||0;L==="price"&&localStorage.setItem(`last_price_${O}`,oe.toString()),V>E.stock&&(V=E.stock),V<0&&(V=0),Z>E.originalStock&&(Z=E.originalStock),Z<0&&(Z=0);const ue=V+Z;le>ue&&(le=ue),le<0&&(le=0);const P={...E,picked:V,original:Z,returns:le,price:oe};return P.sold=P.picked+P.original-P.returns,P.subtotal=P.sold*(P.price||0),P}))},R=async O=>{if(!O.destination)return;const L=Array.from(d),[J]=L.splice(O.source.index,1);L.splice(O.destination.index,0,J),u(L);try{const F=L.map(E=>E.id),se=await Se(r,"updateProductSortOrder",{productIds:F},n.token);console.log("Sort order synced:",se),se.success&&alert(`( ${se.updateCount} )`)}catch(F){console.error("Failed to sync sort order:",F),alert(""+F.message)}},j=O=>{const L=document.getElementById(O);L&&(L.focus(),L.select?.(),L.scrollIntoView({block:"nearest",behavior:"smooth"}))},B=(O,L,J,F="input-")=>{if(!["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(O.key))return;O.key.startsWith("Arrow")&&O.preventDefault();const E=["picked","original","returns","price"],V=E.indexOf(J);if(O.key==="Enter"){O.preventDefault();const le=["picked","original","returns","price"],oe=le.indexOf(J);if(oe<le.length-1&&oe!==-1){const ue=le[oe+1];j(`${F}${L}-${ue}`)}else L<d.length-1?j(`${F}${L+1}-picked`):j("input-cash-1000");return}let Z=null;O.key==="ArrowUp"?L>0&&(Z=`${F}${L-1}-${J}`):O.key==="ArrowDown"?L<d.length-1?Z=`${F}${L+1}-${J}`:Z="input-cash-1000":O.key==="ArrowLeft"?V>0?Z=`${F}${L}-${E[V-1]}`:L>0&&(Z=`${F}${L-1}-price`):O.key==="ArrowRight"&&(V<E.length-1?Z=`${F}${L}-${E[V+1]}`:L<d.length-1?Z=`${F}${L+1}-picked`:Z="input-cash-1000"),Z&&j(Z)},q=(O,L={})=>{const{next:J,prev:F,up:se,down:E,left:V,right:Z}=L;if(!["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(O.key))return;O.key.startsWith("Arrow")&&O.preventDefault();let oe=null;O.key==="Enter"?(O.preventDefault(),oe=J):O.key==="ArrowDown"?oe=E||J:O.key==="ArrowUp"?oe=se||F:O.key==="ArrowLeft"?oe=V||F:O.key==="ArrowRight"&&(oe=Z||J),oe?j(oe):(O.key==="ArrowUp"||O.key==="ArrowLeft")&&d.length>0&&j(`input-${d.length-1}-price`)},ne=d.reduce((O,L)=>O+(L.subtotal||0),0),H=Object.entries(f).reduce((O,[L,J])=>O+Number(L)*J,0)-b,K=Number(p.stall)+Number(p.cleaning)+Number(p.electricity)+Number(p.gas)+Number(p.parking)+Number(p.goods)+Number(p.bags)+Number(p.others)+Number(p.linePay),ee=w==="CREDIT",de=ee?ne:H+K+Number(p.serviceFee)-ne,ie=async()=>{if(!g.trim()){alert("");const L=document.getElementById("input-location");L&&L.focus();return}const O={salesRep:n.username,customer:g,paymentMethod:w,salesData:d.map(L=>({productId:L.id,picked:L.picked,original:L.original,returns:L.returns,sold:L.sold,unitPrice:L.price})),cashData:{totalCash:w==="CREDIT"?0:H,reserve:b},expenseData:{...p,finalTotal:de}};v(!0);try{await Se(r,"saveSales",O,n.token),c&&c({actionType:"DATA_EDIT",page:"",details:JSON.stringify({customer:g,paymentMethod:w,totalAmount:ee?ne:de,productCount:d.filter(L=>L.sold>0).length})}),alert(" Google Sheet"),window.location.reload()}catch(L){alert(": "+L.message)}finally{v(!1)}};return a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 h-full overflow-y-auto xl:overflow-hidden",children:[M&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:"..."})]}),a.jsxs("div",{className:"xl:col-span-2 glass-panel p-6 overflow-hidden flex flex-col h-auto min-h-[60vh] xl:h-[calc(100vh-10rem)]",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-[var(--text-primary)]",children:[a.jsx(nt,{size:20,className:"text-[var(--accent-blue)]"})," "]}),a.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-4 w-full md:w-auto",children:[a.jsxs("div",{className:"flex bg-[var(--bg-tertiary)] rounded-lg p-1 border border-[var(--border-primary)] self-start md:self-auto",children:[a.jsx("button",{onClick:()=>C("CASH"),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${w==="CASH"?"bg-emerald-500 text-white shadow-sm":"text-[var(--text-tertiary)] hover:text-[var(--text-secondary)]"}`,children:""}),a.jsx("button",{onClick:()=>C("CREDIT"),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${w==="CREDIT"?"bg-amber-500 text-white shadow-sm":"text-[var(--text-tertiary)] hover:text-[var(--text-secondary)]"}`,children:""})]}),a.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[a.jsx("label",{className:"text-sm text-[var(--text-secondary)] font-bold whitespace-nowrap",children:":"}),a.jsx("input",{id:"input-location",type:"text",className:"input-field py-1 px-3 w-full md:w-48",placeholder:"...",value:g,onChange:O=>y(O.target.value),onKeyDown:O=>{O.key==="Enter"&&(O.preventDefault(),j("input-m-0-picked")||j("input-0-picked"))}})]}),a.jsxs("button",{onClick:()=>z(!S),className:`flex items-center gap-2 px-3 py-1 text-xs font-bold rounded-lg border transition-all ${S?"bg-indigo-500 text-white border-indigo-500":"bg-[var(--bg-secondary)] text-[var(--text-secondary)] border-[var(--border-primary)] hover:border-[var(--accent-blue)]"}`,children:[a.jsx(Tv,{size:16}),S?"":""]})]})]}),a.jsx("div",{className:"flex-1 overflow-auto",children:a.jsxs(H2,{onDragEnd:R,children:[a.jsx(lh,{droppableId:"mobile-rows",isDropDisabled:!S,children:O=>a.jsxs("div",{...O.droppableProps,ref:O.innerRef,className:"md:hidden space-y-4",children:[d.map((L,J)=>a.jsx(Pp,{draggableId:String(L.id),index:J,isDragDisabled:!S,children:(F,se)=>a.jsxs("div",{ref:F.innerRef,...F.draggableProps,className:`bg-[var(--bg-secondary)] rounded-xl p-4 border border-[var(--border-primary)] ${se.isDragging?"shadow-2xl z-50 ring-2 ring-indigo-500":""}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[S&&a.jsx("div",{...F.dragHandleProps,className:"text-[var(--text-tertiary)] cursor-grab active:cursor-grabbing",children:a.jsx(fp,{size:20})}),a.jsx("div",{className:"font-bold text-[var(--text-primary)] text-lg",children:L.name})]}),a.jsxs("div",{className:"text-xs font-mono bg-[var(--bg-tertiary)] px-2 py-1 rounded border border-[var(--border-primary)]",children:[a.jsx("span",{className:"text-[var(--text-tertiary)] mr-1",children:""}),a.jsx("span",{className:"text-blue-500 font-bold",children:L.stock}),a.jsx("span",{className:"text-[var(--text-tertiary)] mx-1",children:"/"}),a.jsx("span",{className:"text-orange-500 font-bold",children:L.originalStock||0})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] text-center font-bold",children:""}),a.jsx("input",{id:`input-m-${J}-picked`,type:"number",className:"input-field text-center p-2 text-base font-bold",value:L.picked||"",onChange:E=>k(L.id,"picked",E.target.value),onKeyDown:E=>B(E,J,"picked","input-m-"),disabled:S})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] text-center font-bold",children:""}),a.jsx("input",{id:`input-m-${J}-original`,type:"number",className:"input-field text-center p-2 text-base font-bold",value:L.original||"",onChange:E=>k(L.id,"original",E.target.value),onKeyDown:E=>B(E,J,"original","input-m-"),disabled:S})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] text-center font-bold",children:""}),a.jsx("input",{id:`input-m-${J}-returns`,type:"number",className:"input-field text-center p-2 text-base font-bold text-red-600",value:L.returns||"",onChange:E=>k(L.id,"returns",E.target.value),onKeyDown:E=>B(E,J,"returns","input-m-"),disabled:S})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] text-center font-bold",children:""}),a.jsx("input",{id:`input-m-${J}-price`,type:"number",className:"input-field text-center p-2 text-base font-bold",value:L.price,onChange:E=>k(L.id,"price",E.target.value),onKeyDown:E=>B(E,J,"price","input-m-"),disabled:S})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-[var(--border-primary)]",children:[a.jsxs("div",{className:"text-xs text-[var(--text-secondary)]",children:[": ",a.jsx("span",{className:"font-bold text-blue-500 text-sm ml-1",children:L.sold})]}),a.jsxs("div",{className:"text-sm font-bold text-rose-600 font-mono",children:[a.jsx("span",{className:"text-xs text-[var(--text-tertiary)] font-normal mr-1",children:""}),"$",L.subtotal?.toLocaleString()]})]})]})},L.id)),O.placeholder]})}),a.jsxs("table",{className:"hidden md:table w-full text-left border-collapse",children:[a.jsx("thead",{className:"sticky top-0 bg-[var(--bg-secondary)] z-10 text-[var(--text-secondary)] text-xs uppercase font-bold border-b border-[var(--border-primary)]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 w-10"}),a.jsx("th",{className:"p-3",children:""}),a.jsx("th",{className:"p-3 w-20",children:""}),a.jsx("th",{className:"p-3 w-24",children:"(+)"}),a.jsx("th",{className:"p-3 w-24",children:"(+)"}),a.jsx("th",{className:"p-3 w-24",children:"(-)"}),a.jsx("th",{className:"p-3 w-20 text-center",children:""}),a.jsx("th",{className:"p-3 w-24",children:""}),a.jsx("th",{className:"p-3 w-28 text-right",children:""})]})}),a.jsx(lh,{droppableId:"desktop-rows",isDropDisabled:!S,children:O=>a.jsxs("tbody",{...O.droppableProps,ref:O.innerRef,className:"divide-y divide-[var(--border-primary)]",children:[d.map((L,J)=>a.jsx(Pp,{draggableId:String(L.id),index:J,isDragDisabled:!S,children:(F,se)=>a.jsxs("tr",{ref:F.innerRef,...F.draggableProps,className:`hover:bg-[var(--bg-hover)] transition-colors ${se.isDragging?"bg-[var(--bg-tertiary)] shadow-xl z-50":""}`,children:[a.jsx("td",{className:"p-3",children:S&&a.jsx("div",{...F.dragHandleProps,className:"text-[var(--text-tertiary)] cursor-grab active:cursor-grabbing",children:a.jsx(fp,{size:16})})}),a.jsx("td",{className:"p-3 font-medium text-[var(--text-primary)]",children:L.name}),a.jsxs("td",{className:"p-3 text-[var(--text-secondary)] font-mono tracking-wider",children:[a.jsx("span",{className:"text-blue-500",children:L.stock}),a.jsx("span",{className:"text-[var(--text-tertiary)] mx-1",children:"/"}),a.jsx("span",{className:"text-orange-500",children:L.originalStock||0})]}),a.jsx("td",{className:"p-3",children:a.jsx("input",{id:`input-${J}-picked`,type:"number",className:"input-field text-center p-1",value:L.picked||"",onChange:E=>k(L.id,"picked",E.target.value),onKeyDown:E=>B(E,J,"picked"),disabled:S})}),a.jsx("td",{className:"p-3",children:a.jsx("input",{id:`input-${J}-original`,type:"number",className:"input-field text-center p-1",value:L.original||"",onChange:E=>k(L.id,"original",E.target.value),onKeyDown:E=>B(E,J,"original"),disabled:S})}),a.jsx("td",{className:"p-3",children:a.jsx("input",{id:`input-${J}-returns`,type:"number",className:"input-field text-center p-1 text-red-600",value:L.returns||"",onChange:E=>k(L.id,"returns",E.target.value),onKeyDown:E=>B(E,J,"returns"),disabled:S})}),a.jsx("td",{className:"p-3 text-center font-bold text-blue-500",children:L.sold}),a.jsx("td",{className:"p-3",children:a.jsx("input",{id:`input-${J}-price`,type:"number",className:"input-field text-center p-1 w-20",value:L.price,onChange:E=>k(L.id,"price",E.target.value),onKeyDown:E=>B(E,J,"price"),disabled:S})}),a.jsxs("td",{className:"p-3 text-right font-mono text-rose-600",children:["$",L.subtotal?.toLocaleString()]})]})},L.id)),O.placeholder]})})]})]})}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-[var(--border-primary)] flex justify-between items-center bg-[var(--bg-secondary)] p-4 rounded-lg",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:" ()"}),a.jsxs("span",{className:"text-2xl font-bold text-rose-600",children:["$",ne.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex flex-col h-auto xl:h-[calc(100vh-10rem)] gap-6",children:[a.jsxs("div",{className:`flex-1 xl:overflow-y-auto pr-0 xl:pr-2 space-y-6 transition-opacity ${ee?"opacity-50 pointer-events-none grayscale":""}`,children:[a.jsxs("div",{className:"glass-panel p-6 relative",children:[ee&&a.jsx("div",{className:"absolute inset-0 z-50 cursor-not-allowed"}),a.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-[var(--text-primary)]",children:[a.jsx(nv,{size:20,className:"text-amber-500"})," "]}),a.jsxs("div",{className:"space-y-3",children:[[1e3,500,100,50,10,5,1].map((O,L,J)=>{const F=`input-cash-${O}`,se=L<J.length-1?`input-cash-${J[L+1]}`:"input-reserve",E=L>0?`input-cash-${J[L-1]}`:null;return a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"w-12 text-[var(--text-secondary)] font-mono text-right",children:O}),a.jsx("span",{className:"text-[var(--text-tertiary)]",children:"x"}),a.jsx("input",{id:F,type:"number",className:"input-field flex-1",placeholder:"0",value:f[O]||"",onChange:V=>x({...f,[O]:Number(V.target.value)}),onKeyDown:V=>q(V,{next:se,prev:E,right:se,left:E}),disabled:ee}),a.jsxs("span",{className:"w-20 text-right font-mono text-[var(--text-secondary)]",children:["$",(O*f[O]).toLocaleString()]})]},O)}),a.jsxs("div",{className:"border-t border-[var(--border-primary)] my-2 pt-2 flex items-center gap-4 text-red-500",children:[a.jsx("span",{className:"w-12 text-right",children:""}),a.jsx("span",{className:"text-[var(--text-tertiary)]",children:"-"}),a.jsx("input",{id:"input-reserve",type:"number",className:"input-field flex-1 border-red-900/50 focus:ring-red-500",value:b,onChange:O=>h(Number(O.target.value)),onKeyDown:O=>q(O,{next:"input-expense-stall",prev:"input-cash-1",right:"input-expense-stall",left:"input-cash-1"}),disabled:ee})]}),a.jsxs("div",{className:"bg-[var(--bg-secondary)] p-3 rounded flex justify-between items-center border border-[var(--border-primary)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:""}),a.jsxs("span",{className:"text-xl font-bold text-amber-500",children:["$",(ee?0:H).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"glass-panel p-6 relative",children:[ee&&a.jsx("div",{className:"absolute inset-0 z-50 cursor-not-allowed"}),a.jsx("h2",{className:"text-lg font-bold mb-4 text-rose-500",children:""}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["stall:","cleaning:","electricity:","gas:","parking:","goods:","bags:","others:"].map((O,L,J)=>{const[F,se]=O.split(":"),E=`input-expense-${F}`,Z=`input-expense-${L<J.length-1?J[L+1].split(":")[0]:"linePay"}`,le=L>0?`input-expense-${J[L-1].split(":")[0]}`:"input-reserve",oe=L>=2?J[L-2].split(":")[0]:null,ue=L<J.length-2?J[L+2].split(":")[0]:"linePay";return a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-[var(--text-secondary)] block mb-1",children:se}),a.jsx("input",{id:E,type:"number",className:"input-field text-sm",value:p[F]||"",onChange:P=>N({...p,[F]:Number(P.target.value)}),onKeyDown:P=>q(P,{next:Z,prev:le,right:Z,left:le,up:oe?`input-expense-${oe}`:"input-reserve",down:ue.startsWith("input-")?ue:`input-expense-${ue}`}),disabled:ee})]},F)})}),a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-[var(--text-secondary)] block mb-1",children:"Line Pay ()"}),a.jsx("input",{id:"input-expense-linePay",type:"number",className:"input-field border-green-200 text-green-600",value:p.linePay||"",onChange:O=>N({...p,linePay:Number(O.target.value)}),onKeyDown:O=>q(O,{next:"input-expense-serviceFee",prev:"input-expense-others",right:"input-expense-serviceFee",left:"input-expense-others",up:"input-expense-bags"}),disabled:ee})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-[var(--text-secondary)] block mb-1",children:" ()"}),a.jsx("input",{id:"input-expense-serviceFee",type:"number",className:"input-field border-red-200 text-red-600",value:p.serviceFee||"",onChange:O=>N({...p,serviceFee:Number(O.target.value)}),disabled:ee,onKeyDown:O=>q(O,{next:"btn-save-data",prev:"input-expense-linePay",right:"btn-save-data",left:"input-expense-linePay",up:"input-expense-others"})})]})]})]})]}),a.jsxs("div",{className:"p-6 glass-panel shadow-lg border-t-4 border-t-blue-600 opacity-100 pointer-events-auto",children:[a.jsx("div",{className:"text-sm text-[var(--text-secondary)] mb-1 font-bold",children:" ()"}),a.jsxs("div",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-700 to-indigo-700",children:["$",(ee?ne:de).toLocaleString()]}),a.jsxs("button",{id:"btn-save-data",onClick:ie,className:"btn-primary w-full mt-6 flex justify-center items-center gap-2 py-4 text-lg",children:[a.jsx(Us,{size:20})," "]})]})]})]})}function DS({user:n,apiUrl:r,logActivity:c}){const[d,u]=A.useState([]),[f,x]=A.useState(!0),[b,h]=A.useState(""),[p,N]=A.useState(!1),[g,y]=A.useState(null),[w,C]=A.useState("SCRAP"),[M,v]=A.useState(""),[S,z]=A.useState(""),[T,k]=A.useState({}),[R,j]=A.useState({}),[B,q]=A.useState({}),[ne,ce]=A.useState(!1),H=A.useCallback(async()=>{x(!0);try{const P=await Se(r,"getInventory",{},n.token);if(console.log("Inventory API Response:",P),Array.isArray(P)){const pe=P.filter(Ce=>{const me=Number(Ce.quantity);return!isNaN(me)&&me>0});console.log("Filtered Inventory:",pe);const ye=Gi(pe,"productName");console.log("Sorted Inventory:",ye),u(ye)}else console.error("Inventory data is not an array:",P),u([])}catch(P){console.error("Failed to fetch inventory:",P),alert(": "+P.message),u([])}finally{x(!1)}},[r,n.token]);A.useEffect(()=>{(async()=>{if(n?.token){await H();const pe=localStorage.getItem("safetyStocks");pe&&k(JSON.parse(pe));const ye=localStorage.getItem("customCaseSizes");ye&&q(JSON.parse(ye))}})()},[n.token,H]);const K=P=>{if(!P)return"-";const pe=new Date(P);return isNaN(pe.getTime())?String(P):pe.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})},ee=P=>{y(P),v(""),z(""),N(!0)},de=async()=>{if(!M||Number(M)<=0){alert("");return}if(!S.trim()){alert("");return}ce(!0);try{await Se(r,"adjustInventory",{batchId:g.batchId,type:w,quantity:Number(M),note:S},n.token),c&&c({actionType:"DATA_EDIT",page:"",details:JSON.stringify({type:"ADJUSTMENT",product:g.productName,adjustType:w,quantity:Number(M),note:S})}),alert(""),N(!1),H()}catch(P){alert(": "+P.message)}finally{ce(!1)}},ie=(P,pe)=>{const ye={...T,[P]:Number(pe)||0};k(ye),localStorage.setItem("safetyStocks",JSON.stringify(ye))},O=(P,pe)=>{j({...R,[P]:pe})},L=P=>{const pe=R[P];pe!==void 0&&ie(P,pe)},J=(P,pe)=>{const ye={...B,[P]:Number(pe)||0};q(ye),localStorage.setItem("customCaseSizes",JSON.stringify(ye))},F=P=>{const pe=document.getElementById(P);pe&&(pe.focus(),pe.select?.(),pe.scrollIntoView({block:"nearest",behavior:"smooth"}))},se=(P,pe,ye,Ce,me=!1)=>{const Le=Ce[pe],We=me?"m-":"";if(P.key==="Enter"||P.key==="ArrowRight"){if(P.preventDefault(),ye==="case")F(`${We}safety-input-${Le.productName}-${Le.batchId}`);else if(pe<Ce.length-1){const Oe=Ce[pe+1];F(`${We}case-input-${Oe.productName}-${Oe.batchId}`)}}else if(P.key==="ArrowLeft"){if(P.preventDefault(),ye==="safety")F(`${We}case-input-${Le.productName}-${Le.batchId}`);else if(pe>0){const Oe=Ce[pe-1];F(`${We}safety-input-${Oe.productName}-${Oe.batchId}`)}}else if(P.key==="ArrowDown"){if(P.preventDefault(),pe<Ce.length-1){const Oe=Ce[pe+1];F(`${We}${ye}-input-${Oe.productName}-${Oe.batchId}`)}}else if(P.key==="ArrowUp"&&(P.preventDefault(),pe>0)){const Oe=Ce[pe-1];F(`${We}${ye}-input-${Oe.productName}-${Oe.batchId}`)}},E=d.filter(P=>{const pe=String(P.productName||"").toLowerCase(),ye=b.toLowerCase();return pe.includes(ye)?!0:ye.length>6?String(P.batchId||"").toLowerCase().includes(ye):!1}),V=E.filter(P=>P.type==="STOCK"),Z=E.filter(P=>P.type!=="STOCK"),le={};d.forEach(P=>{le[P.productName]||(le[P.productName]=0),le[P.productName]+=Number(P.quantity)});const oe=(P,pe,ye,Ce)=>a.jsxs("div",{className:"hidden md:flex bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] p-6 flex-col shadow-sm",children:[a.jsxs("h3",{className:`text-lg font-bold mb-4 flex items-center gap-2 ${Ce}`,children:[a.jsx(ye,{size:20})," ",pe]}),a.jsx("div",{className:"rounded-lg border border-[var(--border-primary)] overflow-hidden",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-sm uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-center",children:" / "}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:f?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-6 text-center text-[var(--text-secondary)]",children:"..."})}):P.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-6 text-center text-[var(--text-secondary)]",children:""})}):P.map((me,Le)=>{const We=T[me.productName]||0,Oe=B[me.productName],ua=Oe!==void 0&&Oe!==0?Oe:bi[me.productName]||0,G=le[me.productName]||0,ge=We>0&&G<=We,Te=me.expiry?new Date(me.expiry):null,we=new Date;we.setHours(0,0,0,0);const it=new Date(we);it.setDate(we.getDate()+3);const Qe=Te&&Te>=we&&Te<=it,lt=Te&&Te<we;return a.jsxs("tr",{className:`hover:bg-[var(--bg-hover)] transition-colors ${ge?"bg-red-50/10":""} ${lt?"bg-rose-50/10":Qe?"bg-amber-50/10":""}`,children:[a.jsx("td",{className:"p-4 font-medium text-[var(--text-primary)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[ge&&a.jsx($l,{size:16,className:"text-red-400"}),me.productName]})}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"font-mono text-emerald-600 font-bold text-lg",children:me.quantity}),ua>0&&a.jsxs("span",{className:"text-blue-600 font-mono text-sm",children:["",(me.quantity/ua).toFixed(1)]})]})}),a.jsx("td",{className:"p-4 text-sm whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:lt?"text-rose-500 line-through":Qe?"text-amber-500 font-bold":"text-[var(--text-secondary)]",children:K(me.expiry)}),Qe&&a.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-700 border border-amber-200 px-1.5 py-0.5 rounded self-start flex items-center gap-1 font-bold",children:[a.jsx(On,{size:10})," "]}),lt&&a.jsxs("span",{className:"text-[10px] bg-rose-100 text-rose-700 border border-rose-200 px-1.5 py-0.5 rounded self-start flex items-center gap-1 font-bold",children:[a.jsx($l,{size:10})," "]})]})}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("input",{id:`case-input-${me.productName}-${me.batchId}`,type:"number",className:"input-field w-16 text-center text-xs p-1 border-blue-200/30",value:Oe!==void 0?Oe:bi[me.productName]||"",onChange:$e=>J(me.productName,$e.target.value),onKeyDown:$e=>se($e,Le,"case",P),placeholder:""})}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("input",{id:`safety-input-${me.productName}-${me.batchId}`,type:"number",className:"input-field w-16 text-center text-xs p-1 border-amber-200/30",value:R[me.productName]!==void 0?R[me.productName]:T[me.productName]||"",onChange:$e=>O(me.productName,$e.target.value),onBlur:()=>L(me.productName),onKeyDown:$e=>se($e,Le,"safety",P),placeholder:""})}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("button",{onClick:()=>ee(me),className:"btn-secondary text-xs px-3 py-1 flex items-center gap-1 mx-auto",children:[a.jsx(ji,{size:14})," "]})})]},Le)})})]})})]}),ue=(P,pe,ye,Ce)=>a.jsxs("div",{className:"md:hidden flex flex-col gap-4",children:[a.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${Ce} px-1`,children:[a.jsx(ye,{size:20})," ",pe]}),a.jsx("div",{className:"space-y-4",children:f?a.jsx("div",{className:"text-center py-8 text-[var(--text-secondary)]",children:"..."}):P.length===0?a.jsx("div",{className:"text-center py-8 text-[var(--text-secondary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:""}):P.map((me,Le)=>{const We=T[me.productName]||0,Oe=B[me.productName],ua=Oe!==void 0&&Oe!==0?Oe:bi[me.productName]||0,G=le[me.productName]||0,ge=We>0&&G<=We,Te=me.expiry?new Date(me.expiry):null,we=new Date;we.setHours(0,0,0,0);const it=new Date(we);it.setDate(we.getDate()+3);const Qe=Te&&Te>=we&&Te<=it,lt=Te&&Te<we;return a.jsxs("div",{className:`bg-[var(--bg-secondary)] rounded-xl p-4 border shadow-sm ${ge?"border-red-500/30 bg-red-500/5":"border-[var(--border-primary)]"}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-3 border-b border-[var(--border-primary)] pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[ge&&a.jsx($l,{size:18,className:"text-red-500"}),a.jsx("span",{className:"font-bold text-[var(--text-primary)] text-lg",children:me.productName})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-emerald-600 font-mono",children:me.quantity}),ua>0&&a.jsxs("div",{className:"text-xs text-blue-600 font-mono",children:["",(me.quantity/ua).toFixed(1)]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[a.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-2 rounded-lg",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)] uppercase font-bold block mb-1",children:""}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:`text-sm font-medium ${lt?"text-rose-600 line-through":Qe?"text-amber-600 font-bold":"text-slate-600"}`,children:K(me.expiry)}),Qe&&a.jsxs("span",{className:"text-[10px] text-amber-600 flex items-center gap-1 mt-0.5",children:[a.jsx(On,{size:10})," "]}),lt&&a.jsxs("span",{className:"text-[10px] text-rose-600 flex items-center gap-1 mt-0.5",children:[a.jsx($l,{size:10})," "]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-2 rounded-lg flex flex-col justify-between",children:[a.jsxs("div",{className:"flex items-center justify-between gap-1 mb-1",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)] uppercase font-bold",children:""}),a.jsx("input",{id:`m-case-input-${me.productName}-${me.batchId}`,type:"number",className:"w-12 text-center text-xs p-0.5 rounded border border-[var(--border-primary)] bg-[var(--bg-primary)] text-[var(--text-primary)]",value:Oe!==void 0?Oe:bi[me.productName]||"",onChange:$e=>J(me.productName,$e.target.value),onKeyDown:$e=>se($e,Le,"case",P,!0)})]}),a.jsxs("div",{className:"flex items-center justify-between gap-1",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)] uppercase font-bold",children:""}),a.jsx("input",{id:`m-safety-input-${me.productName}-${me.batchId}`,type:"number",className:"w-12 text-center text-xs p-0.5 rounded border border-[var(--border-primary)] bg-[var(--bg-primary)] text-[var(--text-primary)]",value:R[me.productName]!==void 0?R[me.productName]:T[me.productName]||"",onChange:$e=>O(me.productName,$e.target.value),onBlur:()=>L(me.productName),onKeyDown:$e=>se($e,Le,"safety",P,!0)})]})]})]}),a.jsxs("button",{onClick:()=>ee(me),className:"w-full btn-secondary py-2 flex items-center justify-center gap-2 text-sm",children:[a.jsx(ji,{size:16})," "]})]},Le)})})]});return a.jsxs("div",{className:"max-w-6xl mx-auto h-[calc(100vh-6rem)] flex flex-col p-4 gap-4",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-stretch md:items-center bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] shadow-sm gap-4",children:[a.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-[var(--text-primary)]",children:[a.jsx(Tn,{className:"text-blue-600"})," "]}),a.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[a.jsxs("div",{className:"relative flex-1 md:flex-none",children:[a.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full md:w-64",value:b,onChange:P=>h(P.target.value)})]}),a.jsx("button",{onClick:H,className:"btn-secondary p-2 whitespace-nowrap",title:"",children:a.jsx(nt,{size:20})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-6 pb-6",children:[oe(V,"",Tn,"text-blue-600"),ue(V,"",Tn,"text-blue-600"),oe(Z,"/",Ni,"text-orange-600"),ue(Z,"/",Ni,"text-orange-600")]}),p&&a.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:[ne&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),a.jsxs("div",{className:"glass-panel p-6 w-96 max-w-[90vw]",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-[var(--text-secondary)] block mb-1",children:""}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-[var(--bg-tertiary)] rounded-lg border border-[var(--border-primary)]",children:[a.jsx("div",{className:"text-[var(--text-primary)] font-bold",children:g?.productName}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-400",children:":"}),a.jsx("span",{className:"text-emerald-600 font-mono font-bold text-lg",children:g?.quantity})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:""}),a.jsxs("select",{className:"input-field w-full",value:w,onChange:P=>C(P.target.value),children:[a.jsx("option",{value:"SCRAP",children:""}),a.jsx("option",{value:"RETURN",children:""}),a.jsx("option",{value:"LOSS",children:""}),a.jsx("option",{value:"OTHER",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:""}),a.jsx("input",{id:"adjustment-qty-input",type:"number",className:"input-field w-full",value:M,onChange:P=>v(P.target.value),onKeyDown:P=>{(P.key==="Enter"||P.key==="ArrowDown")&&(P.preventDefault(),document.getElementById("adjustment-note-input")?.focus())},placeholder:"",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm text-slate-400 block mb-1",children:[" ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("textarea",{id:"adjustment-note-input",className:"input-field w-full",rows:"3",value:S,onChange:P=>z(P.target.value),onKeyDown:P=>{P.key==="Enter"?(P.preventDefault(),de()):P.key==="ArrowUp"&&(P.preventDefault(),document.getElementById("adjustment-qty-input")?.focus())},placeholder:"..."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:de,className:"btn-primary flex-1",children:""}),a.jsx("button",{onClick:()=>N(!1),className:"btn-secondary flex-1",children:""})]})]})]})]})]})}function ES({user:n,apiUrl:r,logActivity:c}){const d=new Date().getFullYear().toString(),[u,f]=A.useState([{id:Date.now(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:d,expiryMonth:"",expiryDay:""}]),[x,b]=A.useState({vendors:[],vendorProductMap:{}}),[h,p]=A.useState(!1),[N,g]=A.useState("CASH");A.useEffect(()=>{const T=async()=>{try{const k=await Se(r,"getPurchaseSuggestions",{},n.token);k.vendors&&b(k)}catch(k){console.error("Failed to fetch suggestions",k)}};n?.token&&T()},[n.token,r]);const y=T=>{if(T&&x.vendorProductMap[T])return x.vendorProductMap[T];const k=new Set;return Object.values(x.vendorProductMap||{}).forEach(R=>R.forEach(j=>k.add(j))),Array.from(k)},w=(T,k,R)=>{f(j=>j.map(B=>B.id===T?{...B,[k]:R}:B))},C=()=>{f(T=>[...T,{id:Date.now()+Math.random(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:d,expiryMonth:"",expiryDay:""}])},M=T=>{u.length>1&&f(k=>k.filter(R=>R.id!==T))},v=T=>{const k=document.getElementById(T);k&&(k.focus(),k.select?.(),k.scrollIntoView({block:"nearest",behavior:"smooth"}))},S=(T,k,R)=>{const B=T.target.id.includes("-m-")?"item-m-":"item-",q=["vendor","product","qty","price","year","month","day"],ne=q.indexOf(R);T.key==="Enter"||T.key==="ArrowRight"?(T.preventDefault(),ne<q.length-1?v(`${B}${k}-${q[ne+1]}`):k<u.length-1?v(`${B}${k+1}-vendor`):T.key==="Enter"&&(C(),setTimeout(()=>v(`${B}${k+1}-vendor`),50))):T.key==="ArrowLeft"?(T.preventDefault(),ne>0?v(`${B}${k}-${q[ne-1]}`):k>0&&v(`${B}${k-1}-day`)):T.key==="ArrowDown"?(T.preventDefault(),k<u.length-1&&v(`${B}${k+1}-${R}`)):T.key==="ArrowUp"&&(T.preventDefault(),k>0&&v(`${B}${k-1}-${R}`))},z=async T=>{T.preventDefault();for(let R=0;R<u.length;R++){const j=u[R];if(!j.vendor.trim()||!j.productName.trim()||!j.quantity||!j.unitPrice||!j.expiryYear||!j.expiryMonth||!j.expiryDay){alert(` ${R+1} 
`);return}}p(!0);const k=u.map(R=>{const j=R.expiryMonth.padStart(2,"0"),B=R.expiryDay.padStart(2,"0");return{vendor:R.vendor,productName:R.productName,quantity:Number(R.quantity),price:Number(R.unitPrice),expiry:`${R.expiryYear}-${j}-${B}`}});try{const R=await Se(r,"addPurchase",{items:k,operator:n.username,paymentMethod:N},n.token);c&&c({actionType:"DATA_EDIT",page:"",details:JSON.stringify({vendorCount:new Set(k.map(j=>j.vendor)).size,productCount:k.length,totalPrice:k.reduce((j,B)=>j+B.quantity*B.price,0),paymentMethod:N})}),alert(` ${R.count} `),f([{id:Date.now(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:d,expiryMonth:"",expiryDay:""}]),g("CASH")}catch(R){alert(": "+R.message)}finally{p(!1)}};return a.jsxs("div",{className:"max-w-[90rem] mx-auto p-4",children:[h&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:"..."})]}),a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold flex items-center gap-2 text-[var(--text-primary)]",children:""}),a.jsxs("div",{className:"flex bg-[var(--bg-tertiary)] p-1 rounded-lg border border-[var(--border-primary)]",children:[a.jsx("button",{onClick:()=>g("CASH"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${N==="CASH"?"bg-emerald-500 text-white shadow-sm":"text-[var(--text-tertiary)] hover:text-[var(--text-secondary)]"}`,children:""}),a.jsx("button",{onClick:()=>g("CREDIT"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${N==="CREDIT"?"bg-purple-600 text-white shadow-sm":"text-[var(--text-tertiary)] hover:text-[var(--text-secondary)]"}`,children:""})]})]}),a.jsxs("form",{onSubmit:z,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsx("h3",{className:"text-sm font-semibold text-[var(--text-secondary)] uppercase tracking-wider",children:""}),a.jsxs("span",{className:"text-xs text-[var(--text-tertiary)]",children:[" ",u.length," "]})]}),a.jsx("datalist",{id:"vendors-list",children:x.vendors.map((T,k)=>a.jsx("option",{value:T},k))}),u.map((T,k)=>{const R=y(T.vendor);return a.jsxs("div",{className:"group relative p-0 md:p-4 bg-transparent md:bg-[var(--bg-tertiary)] rounded-none md:rounded-xl border-b md:border border-[var(--border-primary)] hover:md:shadow-lg transition-all duration-200 mb-6 md:mb-0",children:[a.jsxs("div",{className:"md:absolute md:-left-2 md:top-1/2 md:-translate-y-1/2 mb-2 md:mb-0 flex items-center gap-2 md:block",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-500/10 border border-emerald-500/30 flex items-center justify-center",children:a.jsxs("span",{className:"text-[10px] font-bold text-emerald-600",children:[" ",k+1]})}),a.jsx("span",{className:"md:hidden text-sm font-bold text-[var(--text-secondary)]",children:""})]}),a.jsxs("div",{className:"md:hidden space-y-3 pb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),a.jsx("input",{id:`item-m-${k}-vendor`,list:"vendors-list",className:"input-field flex-1 py-1.5 px-3",placeholder:"",value:T.vendor,onChange:j=>w(T.id,"vendor",j.target.value),onKeyDown:j=>S(j,k,"vendor")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),a.jsx("input",{id:`item-m-${k}-product`,list:`products-list-${k}`,className:"input-field flex-1 py-1.5 px-3",placeholder:"",value:T.productName,onChange:j=>w(T.id,"productName",j.target.value),onKeyDown:j=>S(j,k,"product")}),a.jsx("datalist",{id:`products-list-${k}`,children:R.map((j,B)=>a.jsx("option",{value:j},B))})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),a.jsx("input",{id:`item-m-${k}-qty`,type:"number",className:"input-field flex-1 py-1.5 px-3",placeholder:"0",value:T.quantity,onChange:j=>w(T.id,"quantity",j.target.value),onKeyDown:j=>S(j,k,"qty")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),a.jsx("input",{id:`item-m-${k}-price`,type:"number",className:"input-field flex-1 py-1.5 px-3",placeholder:"0",value:T.unitPrice,onChange:j=>w(T.id,"unitPrice",j.target.value),onKeyDown:j=>S(j,k,"price")})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),a.jsxs("div",{className:"flex flex-1 gap-1 items-center",children:[a.jsx("input",{id:`item-m-${k}-year`,type:"number",className:"input-field flex-[2] py-1.5 px-1 text-center",placeholder:"YYYY",value:T.expiryYear,onChange:j=>w(T.id,"expiryYear",j.target.value),onKeyDown:j=>S(j,k,"year")}),a.jsx("span",{className:"text-slate-300",children:"/"}),a.jsx("input",{id:`item-m-${k}-month`,type:"number",className:"input-field flex-1 py-1.5 px-1 text-center",placeholder:"MM",value:T.expiryMonth,onChange:j=>w(T.id,"expiryMonth",j.target.value),onKeyDown:j=>S(j,k,"month")}),a.jsx("span",{className:"text-slate-300",children:"/"}),a.jsx("input",{id:`item-m-${k}-day`,type:"number",className:"input-field flex-1 py-1.5 px-1 text-center",placeholder:"DD",value:T.expiryDay,onChange:j=>w(T.id,"expiryDay",j.target.value),onKeyDown:j=>S(j,k,"day")}),u.length>1&&a.jsx("button",{type:"button",onClick:()=>M(T.id),className:"w-8 h-8 ml-1 rounded-lg bg-red-500/10 text-red-500 flex items-center justify-center border border-red-500/20",children:""})]})]})]}),a.jsxs("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[a.jsxs("div",{className:"col-span-12 md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-[var(--text-secondary)] mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${k}-vendor`,list:"vendors-list",className:"input-field w-full",placeholder:"",value:T.vendor,onChange:j=>w(T.id,"vendor",j.target.value),onKeyDown:j=>S(j,k,"vendor"),autoFocus:k===u.length-1})]}),a.jsxs("div",{className:"col-span-12 md:col-span-3",children:[a.jsx("label",{className:"text-xs font-semibold text-[var(--text-secondary)] mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${k}-product`,list:`products-list-${k}`,className:"input-field w-full",placeholder:"",value:T.productName,onChange:j=>w(T.id,"productName",j.target.value),onKeyDown:j=>S(j,k,"product")})]}),a.jsxs("div",{className:"col-span-6 md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-[var(--text-secondary)] mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${k}-qty`,type:"number",className:"input-field w-full text-center",placeholder:"0",value:T.quantity,onChange:j=>w(T.id,"quantity",j.target.value),onKeyDown:j=>S(j,k,"qty")})]}),a.jsxs("div",{className:"col-span-6 md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-[var(--text-secondary)] mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${k}-price`,type:"number",className:"input-field w-full text-center",placeholder:"0",value:T.unitPrice,onChange:j=>w(T.id,"unitPrice",j.target.value),onKeyDown:j=>S(j,k,"price")})]}),a.jsxs("div",{className:"col-span-12 md:col-span-3 grid grid-cols-[1fr_auto_1fr_auto_1fr_auto] gap-1 relative",children:[a.jsx("label",{className:"absolute -top-6 left-0 text-xs font-semibold text-[var(--text-secondary)] mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${k}-year`,className:"input-field w-full text-center font-mono px-1",placeholder:"YYYY",value:T.expiryYear,onChange:j=>w(T.id,"expiryYear",j.target.value),onKeyDown:j=>S(j,k,"year")}),a.jsx("span",{className:"text-[var(--text-tertiary)] self-center",children:"/"}),a.jsx("input",{id:`item-${k}-month`,className:"input-field w-full text-center font-mono px-1",placeholder:"MM",value:T.expiryMonth,onChange:j=>w(T.id,"expiryMonth",j.target.value),onKeyDown:j=>S(j,k,"month")}),a.jsx("span",{className:"text-[var(--text-tertiary)] self-center",children:"/"}),a.jsx("input",{id:`item-${k}-day`,type:"number",className:"input-field w-full text-center font-mono px-1",placeholder:"DD",value:T.expiryDay,onChange:j=>w(T.id,"expiryDay",j.target.value),onKeyDown:j=>S(j,k,"day")}),u.length>1&&a.jsx("button",{type:"button",onClick:()=>M(T.id),className:"w-8 h-8 ml-2 rounded-lg bg-red-500/10 text-red-500 hover:bg-red-500/20 transition-all flex items-center justify-center self-center",title:"",children:""})]})]})]},T.id)})]}),a.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-[var(--border-primary)]",children:[a.jsxs("button",{type:"button",onClick:C,className:"btn-secondary flex-1 py-4 text-base font-semibold flex items-center justify-center gap-2 hover:scale-105 transition-transform",children:[a.jsx("span",{className:"text-xl",children:""})," "]}),a.jsx("button",{type:"submit",disabled:h,className:"btn-primary flex-[2] py-4 text-lg font-bold shadow-lg shadow-emerald-100 hover:shadow-xl hover:shadow-emerald-200 hover:scale-105 transition-all flex items-center justify-center gap-2",children:h?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""})," ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xl",children:""})," "]})})]})]})]})]})}function AS({user:n,apiUrl:r}){const[c,d]=A.useState(Je()),[u,f]=A.useState(Je()),[x,b]=A.useState(""),[h,p]=A.useState(""),[N,g]=A.useState(!1),[y,w]=A.useState([]),[C,M]=A.useState([]),[v,S]=A.useState("SALES"),z=A.useCallback(async()=>{if(!(!c||!u)){g(!0);try{const H={startDate:c,endDate:u},K=n.role==="BOSS"||n.permissions&&n.permissions.includes("finance"),ee=[Se(r,"getSalesHistory",H,n.token)];K&&ee.push(Se(r,"getExpenditures",H,n.token));const de=await Promise.all(ee),ie=de[0],O=K?de[1]:[];let L=Array.isArray(ie)?ie:[];const J=x.trim().toLowerCase(),F=h.trim().toLowerCase();J&&(L=L.filter(E=>String(E.location||"").toLowerCase().includes(J))),F&&(L=L.filter(E=>String(E.salesRep||"").toLowerCase().includes(F))),w(L);let se=Array.isArray(O)?O:[];J&&(se=se.filter(E=>String(E.customer||"").toLowerCase().includes(J)||String(E.note||"").toLowerCase().includes(J))),F&&(se=se.filter(E=>String(E.salesRep||"").toLowerCase().includes(F))),se.forEach(E=>{const V=Number(E.stall||0)+Number(E.cleaning||0)+Number(E.electricity||0)+Number(E.gas||0)+Number(E.parking||0)+Number(E.goods||0)+Number(E.bags||0)+Number(E.others||0)+Number(E.vehicleMaintenance||0)+Number(E.salary||0)+Number(E.linePay||0)+Number(E.serviceFee||0)+Number(E.reserve||0);E.rowTotal=V,E.salaryAmount=Number(E.salary||0);const Z=Object.keys(E).find(oe=>{const ue=oe.toLowerCase().trim();return ue==="finaltotal"||ue.includes("")||ue.includes("")||ue.includes("")||ue.includes("")}),le=Number(Z?E[Z]:E.finalTotal||0);E.displayFinalTotal=le}),M(se)}catch(H){console.error(H),alert(": "+H.message)}finally{g(!1)}}},[c,u,x,h,n.token,r]);qe.useEffect(()=>{z()},[z]);const T=H=>{H.preventDefault(),z()},k=y?.reduce((H,K)=>H+(Number(K.totalAmount)||0),0)||0,R=y?.reduce((H,K)=>H+(Number(K.soldQty)||0),0)||0,j=C?.reduce((H,K)=>H+(K.rowTotal||0)-(K.salaryAmount||0),0)||0,B=C?.reduce((H,K)=>H+(Number(K.displayFinalTotal)||0),0)||0,q=k-j+B,ne=y?.reduce((H,K)=>{const ee=K.productName;return H[ee]||(H[ee]={name:K.productName,qty:0,amount:0}),H[ee].qty+=K.soldQty,H[ee].amount+=K.totalAmount,H},{}),ce=ne?Object.values(ne).sort((H,K)=>K.qty-H.qty):[];return a.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-[var(--border-primary)] pb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(Rs,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:""})]}),y&&a.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 md:gap-3 w-full md:w-auto",children:[a.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-amber-500/10 border border-amber-200/20 shadow-sm",children:[a.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-sm md:text-xl font-bold text-amber-700 text-center",children:["$",q.toLocaleString()]})]}),a.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-emerald-500/10 border border-emerald-200/20 shadow-sm",children:[a.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-sm md:text-xl font-bold text-emerald-700 text-center",children:["$",k.toLocaleString()]})]}),a.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-rose-500/10 border border-rose-200/20 shadow-sm",children:[a.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-sm md:text-xl font-bold text-rose-700 text-center",children:["$",j.toLocaleString()]})]}),a.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-cyan-500/10 border border-cyan-200/20 shadow-sm",children:[a.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-sm md:text-xl font-bold text-cyan-700 text-center",children:["$",B.toLocaleString()]})]}),a.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-blue-500/10 border border-blue-200/20 shadow-sm",children:[a.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-sm md:text-xl font-bold text-blue-700 text-center",children:R.toLocaleString()})]}),a.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-purple-500/10 border border-purple-200/20 shadow-sm",children:[a.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-sm md:text-xl font-bold text-purple-700 text-center",children:y.length})]})]})]}),a.jsxs("form",{onSubmit:T,className:"md:hidden mb-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),a.jsx("input",{type:"date",required:!0,className:"input-field flex-1 py-1.5 px-3",value:c,onChange:H=>d(H.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),a.jsx("input",{type:"date",required:!0,className:"input-field flex-1 py-1.5 px-3",value:u,onChange:H=>f(H.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field flex-1 py-1.5 px-3",value:x,onChange:H=>b(H.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),a.jsxs("div",{className:"flex flex-1 gap-2",children:[a.jsx("input",{type:"text",placeholder:"...",className:"input-field flex-1 py-1.5 px-3",value:h,onChange:H=>p(H.target.value)}),a.jsx("button",{type:"submit",disabled:N,className:"btn-primary px-4 py-1.5 flex items-center justify-center rounded-lg shadow-sm active:scale-95 transition-transform",children:a.jsx(vt,{size:18})})]})]})]}),a.jsx("form",{onSubmit:T,className:"hidden md:block mb-6 p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)] shadow-sm",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 md:contents",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase px-1",children:""}),a.jsx("input",{type:"date",required:!0,className:"input-field w-full",value:c,onChange:H=>d(H.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase px-1",children:""}),a.jsx("input",{type:"date",required:!0,className:"input-field w-full",value:u,onChange:H=>f(H.target.value)})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:x,onChange:H=>b(H.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:h,onChange:H=>p(H.target.value)})]}),a.jsxs("button",{type:"submit",disabled:N,className:"btn-primary py-2 px-6 flex items-center justify-center gap-2 self-end h-[42px] min-w-[100px]",children:[N?"...":a.jsx(vt,{size:18})," "]})]})]})}),y&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-xl border border-[var(--border-primary)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 bg-[var(--bg-tertiary)] border-b border-[var(--border-primary)]",children:a.jsxs("h3",{className:"font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(Tn,{size:16,className:"text-blue-600"})," "]})}),a.jsx("div",{className:"overflow-x-auto max-h-60",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-xs uppercase font-bold border-b border-[var(--border-primary)]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-secondary)]",children:ce.length>0?ce.map((H,K)=>a.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"p-4 text-[var(--text-primary)]",children:H.name}),a.jsx("td",{className:"p-4 text-right text-[var(--text-tertiary)]",children:H.qty}),a.jsxs("td",{className:"p-4 text-right text-emerald-600",children:["$",H.amount.toLocaleString()]})]},K)):a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"p-8 text-center text-[var(--text-secondary)]",children:""})})})]})})]}),a.jsxs("div",{className:"rounded-xl border border-[var(--border-primary)] overflow-hidden flex flex-col h-[600px]",children:[a.jsxs("div",{className:"px-4 py-3 bg-[var(--bg-tertiary)] border-b border-[var(--border-primary)] flex gap-4",children:[a.jsxs("button",{onClick:()=>S("SALES"),className:`font-bold flex items-center gap-2 pb-2 border-b-2 transition-colors ${v==="SALES"?"text-blue-600 border-blue-600":"text-[var(--text-secondary)] border-transparent hover:text-[var(--text-primary)]"}`,children:[a.jsx(fl,{size:16}),"  (",y.length,")"]}),a.jsxs("button",{onClick:()=>S("EXPENSES"),className:`font-bold flex items-center gap-2 pb-2 border-b-2 transition-colors ${v==="EXPENSES"?"text-rose-600 border-rose-600":"text-[var(--text-secondary)] border-transparent hover:text-[var(--text-primary)]"}`,children:[a.jsx(ht,{size:16}),"  (",C.length,")"]})]}),a.jsx("div",{className:"overflow-auto flex-1",children:v==="SALES"?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden divide-y divide-[var(--border-primary)]",children:y.map((H,K)=>a.jsxs("div",{className:"p-4 space-y-3 bg-[var(--bg-secondary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:"text-xs font-mono text-[var(--text-tertiary)]",children:new Date(H.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),a.jsxs("div",{className:"text-emerald-600 font-bold font-mono text-lg",children:["$",H.totalAmount]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-blue-500/10 text-blue-700 px-2 py-0.5 rounded-md",children:[a.jsx(xp,{size:12})," ",a.jsx("span",{className:"font-medium",children:H.location})]}),a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-tertiary)] text-[var(--text-secondary)] px-2 py-0.5 rounded-md",children:[a.jsx(xl,{size:12})," ",a.jsx("span",{children:H.salesRep})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-[var(--border-primary)]",children:[a.jsx("div",{className:"font-bold text-[var(--text-primary)]",children:H.productName}),a.jsxs("div",{className:"text-[var(--text-secondary)]",children:[": ",a.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:H.soldQty})]})]})]},K))}),a.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] sticky top-0 z-10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 font-medium w-48",children:""}),a.jsx("th",{className:"p-3 font-medium w-32",children:""}),a.jsx("th",{className:"p-3 font-medium w-32",children:""}),a.jsx("th",{className:"p-3 font-medium",children:""}),a.jsx("th",{className:"p-3 font-medium text-right w-24",children:""}),a.jsx("th",{className:"p-3 font-medium text-right w-32",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] text-[var(--text-secondary)] bg-[var(--bg-secondary)]",children:y.map((H,K)=>a.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"p-3 text-[var(--text-tertiary)]",children:new Date(H.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),a.jsx("td",{className:"p-3",children:H.location}),a.jsx("td",{className:"p-3",children:H.salesRep}),a.jsx("td",{className:"p-3 text-[var(--text-primary)]",children:H.productName}),a.jsx("td",{className:"p-3 text-right",children:H.soldQty}),a.jsxs("td",{className:"p-3 text-right",children:["$",H.totalAmount]})]},K))})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"md:hidden divide-y divide-[var(--border-primary)]",children:C.map((H,K)=>{const ee=[];return H.stall&&ee.push(` $${H.stall}`),H.cleaning&&ee.push(` $${H.cleaning}`),H.electricity&&ee.push(` $${H.electricity}`),H.gas&&ee.push(` $${H.gas}`),H.parking&&ee.push(` $${H.parking}`),H.goods&&ee.push(` $${H.goods}`),H.bags&&ee.push(` $${H.bags}`),H.others&&ee.push(` $${H.others}`),H.linePay&&ee.push(`Line Pay $${H.linePay}`),H.serviceFee&&ee.push(` $${H.serviceFee}`),H.reserve&&ee.push(` $${H.reserve}`),H.vehicleMaintenance&&ee.push(` $${H.vehicleMaintenance}`),H.salary&&ee.push(` $${H.salary}`),a.jsxs("div",{className:"p-4 space-y-3 bg-[var(--bg-secondary)] hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("div",{className:"text-xs font-mono text-[var(--text-tertiary)]",children:new Date(H.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("div",{className:"text-emerald-600 font-bold font-mono text-lg",children:["$",Number(H.displayFinalTotal).toLocaleString()]}),a.jsxs("div",{className:"text-[10px] text-[var(--text-tertiary)] font-mono",children:[": $",Number(H.rowTotal).toLocaleString()]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-amber-500/10 text-amber-700 px-2 py-0.5 rounded-md",children:[a.jsx(xp,{size:12})," ",a.jsx("span",{className:"font-medium",children:H.customer||H.note||"-"})]}),a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-tertiary)] text-[var(--text-secondary)] px-2 py-0.5 rounded-md",children:[a.jsx(xl,{size:12})," ",a.jsx("span",{children:H.salesRep})]})]}),a.jsxs("div",{className:"pt-2 border-t border-[var(--border-primary)]",children:[a.jsx("p",{className:"text-[10px] uppercase font-bold text-[var(--text-tertiary)] mb-1",children:""}),a.jsx("div",{className:"flex flex-wrap gap-1",children:ee.map((de,ie)=>a.jsx("span",{className:"text-[10px] bg-[var(--bg-tertiary)] text-[var(--text-secondary)] px-1.5 py-0.5 rounded border border-[var(--border-primary)]",children:de},ie))})]})]},K)})}),a.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] sticky top-0 z-10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 font-medium w-48",children:""}),a.jsx("th",{className:"p-3 font-medium w-32",children:"/"}),a.jsx("th",{className:"p-3 font-medium w-32",children:""}),a.jsx("th",{className:"p-3 font-medium",children:""}),a.jsx("th",{className:"p-3 font-medium text-right w-28",children:""}),a.jsx("th",{className:"p-3 font-medium text-right w-28 text-emerald-600",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] text-[var(--text-secondary)] bg-[var(--bg-secondary)]",children:C.map((H,K)=>{const ee=[];return H.stall&&ee.push(` $${H.stall}`),H.cleaning&&ee.push(` $${H.cleaning}`),H.electricity&&ee.push(` $${H.electricity}`),H.gas&&ee.push(` $${H.gas}`),H.parking&&ee.push(` $${H.parking}`),H.goods&&ee.push(` $${H.goods}`),H.bags&&ee.push(` $${H.bags}`),H.others&&ee.push(` $${H.others}`),H.linePay&&ee.push(`Line Pay $${H.linePay}`),H.serviceFee&&ee.push(` $${H.serviceFee}`),H.reserve&&ee.push(` $${H.reserve}`),H.vehicleMaintenance&&ee.push(` $${H.vehicleMaintenance}`),H.salary&&ee.push(` $${H.salary}`),a.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"p-3 text-[var(--text-tertiary)]",children:new Date(H.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),a.jsx("td",{className:"p-3 font-bold text-[var(--text-primary)]",children:H.customer||H.note||"-"}),a.jsx("td",{className:"p-3",children:H.salesRep}),a.jsx("td",{className:"p-3 text-xs text-[var(--text-tertiary)]",children:ee.join(", ")}),a.jsxs("td",{className:"p-3 text-right font-mono text-rose-600",children:["$",(H.rowTotal||0).toLocaleString()]}),a.jsxs("td",{className:"p-3 text-right font-mono font-bold text-emerald-600",children:["$",(Number(H.displayFinalTotal)||0).toLocaleString()]})]},K)})})]})]})})]})]})]})})}function CS({user:n,apiUrl:r}){const[c,d]=A.useState([]),[u,f]=A.useState(!1),[x,b]=A.useState(""),[h,p]=A.useState(""),[N,g]=A.useState(Je()),[y,w]=A.useState(Je()),C=qe.useCallback(async()=>{f(!0);try{const S=await Se(r,"getPurchaseHistory",{startDate:N,endDate:y},n.token);Array.isArray(S)&&d(S)}catch(S){console.error("Failed to fetch purchase history:",S)}finally{f(!1)}},[r,n.token,N,y]);A.useEffect(()=>{C()},[C]);const M=c.filter(S=>{const z=String(S.productName||"").toLowerCase(),T=String(S.vendorName||S.vendor||"").toLowerCase(),k=x.toLowerCase(),R=h.toLowerCase();return z.includes(k)&&T.includes(R)}),v=M.reduce((S,z)=>S+(Number(z.totalPrice)||0),0);return a.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex flex-row justify-between items-center mb-6 gap-2 md:gap-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(Sd,{className:"text-[var(--accent-blue)] w-6 h-6 md:w-auto md:h-auto"}),a.jsx("span",{className:"whitespace-nowrap",children:""})]}),a.jsx("p",{className:"text-[var(--text-secondary)] text-xs md:text-sm mt-1 hidden md:block",children:""})]}),a.jsxs("div",{className:"px-3 md:px-5 py-2 md:py-3 rounded-xl border border-[var(--border-primary)] bg-[var(--bg-secondary)] flex items-center gap-2 md:gap-3",children:[a.jsx("div",{className:"p-1.5 md:p-2 rounded-full bg-[var(--bg-tertiary)] text-emerald-500",children:a.jsx(ht,{size:16,className:"md:w-5 md:h-5"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold whitespace-nowrap",children:""}),a.jsxs("p",{className:"text-base md:text-xl font-bold text-emerald-500",children:["$",v.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"md:hidden mb-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),a.jsx("input",{type:"date",className:"input-field flex-1 py-1.5 px-3",value:N,onChange:S=>g(S.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),a.jsx("input",{type:"date",className:"input-field flex-1 py-1.5 px-3",value:y,onChange:S=>w(S.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),a.jsx("div",{className:"relative flex-1",children:a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full py-1.5 px-3",value:h,onChange:S=>p(S.target.value)})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),a.jsx("div",{className:"relative flex-1",children:a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full py-1.5 px-3",value:x,onChange:S=>b(S.target.value)})})]}),a.jsxs("button",{onClick:C,disabled:u,className:"btn-secondary w-full py-2 flex items-center justify-center gap-2 mt-2",children:[u?a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-slate-500 border-t-transparent rounded-full"}):a.jsx(nt,{size:18}),""]})]}),a.jsx("div",{className:"hidden md:block mb-6 p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)]",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:x,onChange:S=>b(S.target.value)})]})]}),a.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:h,onChange:S=>p(S.target.value)})]})]}),a.jsxs("div",{className:"w-full md:w-40 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:N,onChange:S=>g(S.target.value)})]}),a.jsxs("div",{className:"w-full md:w-40 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:y,onChange:S=>w(S.target.value)})]}),a.jsxs("button",{onClick:C,disabled:u,className:"btn-secondary h-[42px] flex items-center gap-2 whitespace-nowrap px-6",children:[a.jsx(nt,{size:18,className:u?"animate-spin":""})," "]})]})}),a.jsx("div",{className:"md:hidden space-y-4",children:u?a.jsx("div",{className:"text-center py-10 text-[var(--text-secondary)]",children:"..."}):M.length>0?M.map((S,z)=>a.jsxs("div",{className:"bg-[var(--bg-secondary)] rounded-xl p-4 border border-[var(--border-primary)] shadow-sm space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-start border-b border-[var(--border-primary)] pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[a.jsx(Na,{size:14,className:"text-[var(--accent-blue)]"}),a.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:S.date?new Date(S.date).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}):"-"}),a.jsx("span",{className:"text-xs text-[var(--text-tertiary)]",children:S.date?new Date(S.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]}),a.jsxs("div",{className:"text-lg font-bold text-emerald-600 font-mono",children:["$",(Number(S.totalPrice)||0).toLocaleString()]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-y-3 gap-x-2 text-sm",children:[a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-xs text-[var(--text-tertiary)] block mb-0.5",children:""}),a.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:S.vendorName||S.vendor||"-"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("span",{className:"text-xs text-[var(--text-tertiary)] block mb-0.5",children:""}),a.jsx("span",{className:"font-bold text-[var(--text-primary)] text-base",children:S.productName})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-[var(--text-tertiary)] block mb-0.5",children:""}),a.jsx("span",{className:"font-mono text-blue-500 font-bold",children:S.quantity})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-xs text-[var(--text-tertiary)] block mb-0.5",children:""}),a.jsxs("span",{className:"font-mono text-[var(--text-secondary)]",children:["$",(Number(S.unitPrice)||0).toLocaleString()]})]})]}),a.jsxs("div",{className:"pt-2 border-t border-[var(--border-primary)] flex justify-between items-center text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1 text-[var(--text-tertiary)] bg-[var(--bg-tertiary)] px-2 py-1 rounded",children:[a.jsx("span",{children:":"}),a.jsx("span",{className:"font-mono text-[var(--text-secondary)]",children:S.expiry?new Date(S.expiry).toLocaleDateString("zh-TW"):"-"})]}),a.jsxs("div",{className:"flex items-center gap-1 text-[var(--text-tertiary)]",children:[a.jsx(xl,{size:12}),a.jsx("span",{children:S.operator||"-"})]})]})]},z)):a.jsx("div",{className:"text-center py-10 text-[var(--text-secondary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:""})}),a.jsx("div",{className:"hidden md:block rounded-xl border border-[var(--border-primary)] overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-xs uppercase tracking-wider sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-primary)]",children:u?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-20 text-center text-[var(--text-secondary)]",children:"..."})}):M.length>0?M.map((S,z)=>a.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[a.jsx(Na,{size:14,className:"text-[var(--text-tertiary)] group-hover:text-[var(--accent-blue)] transition-colors"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-[var(--text-secondary)]",children:S.date?new Date(S.date).toLocaleDateString("zh-TW"):"-"}),a.jsx("span",{className:"text-xs text-[var(--text-tertiary)]",children:S.date?new Date(S.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]})]})}),a.jsx("td",{className:"p-4 text-[var(--text-secondary)]",children:S.vendorName||S.vendor||"-"}),a.jsx("td",{className:"p-4 font-medium text-[var(--text-primary)]",children:S.productName}),a.jsx("td",{className:"p-4 text-right font-mono text-blue-500",children:S.quantity}),a.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)]",children:["$",(Number(S.unitPrice)||0).toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-500",children:["$",(Number(S.totalPrice)||0).toLocaleString()]}),a.jsx("td",{className:"p-4 text-[var(--text-tertiary)] text-xs",children:S.expiry?new Date(S.expiry).toLocaleDateString("zh-TW"):"-"}),a.jsx("td",{className:"p-4 text-[var(--text-tertiary)]",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(xl,{size:12})," ",S.operator||"-"]})})]},z)):a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Bs,{size:32,className:"text-[var(--text-secondary)]"}),a.jsx("p",{className:"text-[var(--text-secondary)]",children:""})]})})})})]})})})]})})}function TS({user:n,apiUrl:r}){const[c,d]=A.useState([]),[u,f]=A.useState(!1),[x,b]=A.useState(""),[h,p]=A.useState("ALL"),[N,g]=A.useState(Je()),[y,w]=A.useState(Je()),C=qe.useCallback(async()=>{f(!0);try{const v=await Se(r,"getAdjustmentHistory",{startDate:N,endDate:y,productName:x},n.token);Array.isArray(v)&&d(v)}catch(v){console.error("Failed to fetch adjustment history:",v)}finally{f(!1)}},[r,n.token,N,y,x]);A.useEffect(()=>{C()},[C]);const M=c.filter(v=>{const S=String(v.productName||"").toLowerCase().includes(x.toLowerCase()),z=h==="ALL"||v.type===h;return S&&z});return a.jsx("div",{className:"max-w-7xl mx-auto p-4 md:p-6 animate-in fade-in duration-500",children:a.jsxs("div",{className:"glass-panel p-4 md:p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 pb-6 border-b border-[var(--border-primary)] gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/10 flex items-center justify-center shrink-0",children:a.jsx(Cn,{className:"text-blue-500",size:24})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)]",children:""}),a.jsx("p",{className:"text-[var(--text-tertiary)] text-xs mt-0.5",children:""})]})]}),a.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[a.jsxs("div",{className:"flex-1 md:flex-none glass-panel px-4 py-2 bg-[var(--bg-secondary)] border-[var(--border-primary)] flex flex-col items-center justify-center",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] uppercase font-bold tracking-wider",children:""}),a.jsx("p",{className:"text-xl font-bold text-blue-500",children:M.length})]}),a.jsxs("button",{onClick:C,disabled:u,className:"btn-secondary h-[46px] px-6 flex items-center justify-center gap-2 whitespace-nowrap",children:[a.jsx(nt,{size:18,className:u?"animate-spin":""}),a.jsx("span",{children:""})]})]})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)]",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:16}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-9 w-full h-10",value:x,onChange:v=>b(v.target.value)})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),a.jsxs("select",{value:h,onChange:v=>p(v.target.value),className:"input-field w-full h-10 px-2",children:[a.jsx("option",{value:"ALL",children:""}),a.jsx("option",{value:"SCRAP",children:""}),a.jsx("option",{value:"RETURN",children:""}),a.jsx("option",{value:"LOSS",children:""}),a.jsx("option",{value:"OTHER",children:""})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),a.jsx("input",{type:"date",className:"input-field w-full h-10",value:N,onChange:v=>g(v.target.value)})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),a.jsx("input",{type:"date",className:"input-field w-full h-10",value:y,onChange:v=>w(v.target.value)})]})]})}),a.jsx("div",{className:"hidden md:block rounded-xl border border-[var(--border-primary)] overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-tertiary)] text-[10px] uppercase tracking-wider sticky top-0 font-bold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:"/"}),a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3 text-right",children:""}),a.jsx("th",{className:"px-4 py-3",children:"/"}),a.jsx("th",{className:"px-4 py-3",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-primary)]",children:u?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-20 text-center text-[var(--text-tertiary)]",children:"..."})}):M.length>0?M.map((v,S)=>{const z={SCRAP:"",RETURN:"",LOSS:"",OTHER:""};return a.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex flex-col gap-0.5",children:[a.jsxs("div",{className:"flex items-center gap-1.5 text-[var(--text-secondary)] font-medium",children:[a.jsx(Na,{size:12,className:"text-[var(--text-tertiary)]"}),a.jsx("span",{children:v.date?new Date(v.date).toLocaleDateString("zh-TW"):"-"})]}),a.jsx("span",{className:"text-[11px] text-[var(--text-tertiary)] font-mono ml-4.5",children:v.date?new Date(v.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]})}),a.jsx("td",{className:"px-4 py-3 font-bold text-[var(--text-primary)]",children:v.productName}),a.jsx("td",{className:"px-4 py-3",children:a.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${v.type==="SCRAP"?"bg-rose-50 text-rose-600 border border-rose-100":v.type==="RETURN"?"bg-blue-50 text-blue-600 border border-blue-100":v.type==="LOSS"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] border border-[var(--border-primary)]"}`,children:z[v.type]||v.type})}),a.jsxs("td",{className:"px-4 py-3 text-right font-mono font-bold text-rose-500",children:["-",v.quantity]}),a.jsx("td",{className:"px-4 py-3 text-[var(--text-secondary)] text-xs max-w-xs truncate",title:v.note,children:v.note||"-"}),a.jsx("td",{className:"px-4 py-3 text-[var(--text-tertiary)] text-xs font-medium",children:v.operator||"-"})]},S)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(Bs,{size:32,className:"text-[var(--text-tertiary)] opacity-30"}),a.jsx("p",{className:"text-[var(--text-secondary)] font-medium",children:""})]})})})})]})})}),a.jsx("div",{className:"md:hidden space-y-3",children:u?a.jsx("div",{className:"text-center py-10 text-[var(--text-tertiary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:"..."}):M.length>0?M.map((v,S)=>{const z={SCRAP:"",RETURN:"",LOSS:"",OTHER:""};return a.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] p-3 shadow-sm flex flex-col gap-2",children:[a.jsxs("div",{className:"flex justify-between items-start border-b border-[var(--border-primary)] pb-2",children:[a.jsxs("div",{className:"flex flex-col gap-0.5",children:[a.jsxs("span",{className:"text-[var(--text-tertiary)] text-[10px] font-mono flex items-center gap-1",children:[a.jsx(Na,{size:10}),v.date?new Date(v.date).toLocaleDateString("zh-TW"):"-",a.jsx("span",{className:"ml-1",children:v.date?new Date(v.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]}),a.jsx("span",{className:`self-start px-2 py-0.5 rounded text-[10px] font-bold mt-1 ${v.type==="SCRAP"?"bg-rose-50 text-rose-600 border border-rose-100":v.type==="RETURN"?"bg-blue-50 text-blue-600 border border-blue-100":v.type==="LOSS"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] border border-[var(--border-primary)]"}`,children:z[v.type]||v.type})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase tracking-tighter",children:""}),a.jsxs("div",{className:"font-mono font-bold text-rose-500 text-base",children:["-",v.quantity]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-bold text-[var(--text-primary)]",children:v.productName}),a.jsxs("div",{className:"flex justify-between items-end gap-3",children:[a.jsxs("div",{className:"bg-[var(--bg-secondary)] p-2 rounded-lg flex-1 min-w-0",children:[a.jsx("span",{className:"text-[9px] text-[var(--text-tertiary)] font-bold uppercase block mb-0.5 tracking-wider",children:"/"}),a.jsx("p",{className:"text-xs text-[var(--text-secondary)] truncate",children:v.note||"-"})]}),a.jsxs("div",{className:"text-right shrink-0",children:[a.jsx("span",{className:"text-[9px] text-[var(--text-tertiary)] font-bold uppercase block mb-0.5 tracking-wider",children:""}),a.jsx("span",{className:"text-xs font-bold text-[var(--text-secondary)]",children:v.operator||"-"})]})]})]})]},S)}):a.jsxs("div",{className:"text-center py-10 text-[var(--text-tertiary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:[a.jsx(Bs,{size:24,className:"mx-auto mb-2 opacity-30"}),a.jsx("p",{className:"text-sm font-medium",children:""})]})})]})})}function OS({user:n,apiUrl:r}){const[c,d]=A.useState([]),[u,f]=A.useState(!1),[x,b]=A.useState(""),h=async()=>{f(!0);try{const y=await Se(r,"getInventoryValuation",{},n.token);if(console.log("Inventory Valuation Data:",y),Array.isArray(y)){const w=Gi(y,"name");d(w)}else console.error("Valuation data is not an array:",y),d([])}catch(y){console.error("Failed to fetch valuation:",y),alert(": "+y.message)}finally{f(!1)}};A.useEffect(()=>{n?.token&&h()},[n.token,r]);const p=c.filter(y=>String(y.name||"").toLowerCase().includes(x.toLowerCase())),N=p.reduce((y,w)=>y+(Number(w.totalValue)||0),0),g=p.reduce((y,w)=>y+(Number(w.totalQty)||0),0);return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(ht,{className:"text-amber-500"})," "]}),a.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex w-full md:w-auto gap-3",children:[a.jsxs("div",{className:"flex-1 bg-[var(--bg-secondary)] px-3 py-3 border border-[var(--border-primary)] rounded-xl shadow-sm text-center",children:[a.jsx("p",{className:"text-xs text-[var(--text-secondary)] uppercase font-bold",children:""}),a.jsxs("p",{className:"text-xl md:text-2xl font-bold text-amber-500 flex justify-center items-baseline gap-1",children:[a.jsx("span",{className:"text-sm opacity-50",children:"$"}),N.toLocaleString()]})]}),a.jsxs("div",{className:"flex-1 bg-[var(--bg-secondary)] px-3 py-3 border border-[var(--border-primary)] rounded-xl shadow-sm text-center",children:[a.jsx("p",{className:"text-xs text-[var(--text-secondary)] uppercase font-bold",children:""}),a.jsx("p",{className:"text-xl md:text-2xl font-bold text-blue-500",children:g.toLocaleString()})]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] flex gap-4 items-center shadow-sm",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-[var(--bg-primary)]",value:x,onChange:y=>b(y.target.value)})]}),a.jsxs("button",{onClick:h,disabled:u,className:"btn-secondary h-[42px] px-4 flex items-center gap-2",children:[a.jsx(nt,{size:18,className:u?"animate-spin":""})," "]})]}),a.jsx("div",{className:"hidden md:block bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] overflow-hidden shadow-sm",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-xs uppercase tracking-wider sticky top-0 font-bold border-b border-[var(--border-primary)]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:u?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-[var(--text-secondary)]",children:"..."})}):p.length>0?p.map((y,w)=>{const C=Number(y.totalQty)||0,M=Number(y.totalValue)||0,v=C>0?M/C:0,S=N>0?M/N*100:0;return a.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"p-4 font-medium text-[var(--text-primary)]",children:y.name}),a.jsx("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)]",children:C.toLocaleString()}),a.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)]",children:["$",v.toFixed(2)]}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-amber-500",children:["$",M.toLocaleString()]}),a.jsx("td",{className:"p-4 text-right w-24",children:a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{className:"text-xs text-[var(--text-secondary)] w-8",children:[S.toFixed(1),"%"]}),a.jsx("div",{className:"w-12 h-1.5 bg-[var(--bg-tertiary)] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-amber-500",style:{width:`${Math.min(S,100)}%`}})})]})})]},w)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(fl,{size:32,className:"text-[var(--text-secondary)]"}),a.jsx("p",{className:"text-[var(--text-secondary)]",children:""})]})})})})]})})}),a.jsx("div",{className:"md:hidden space-y-4",children:u?a.jsx("div",{className:"text-center py-8 text-[var(--text-secondary)]",children:"..."}):p.length>0?p.map((y,w)=>{const C=Number(y.totalQty)||0,M=Number(y.totalValue)||0,v=C>0?M/C:0,S=N>0?M/N*100:0;return a.jsxs("div",{className:"bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] p-4 shadow-sm flex flex-col gap-3",children:[a.jsxs("div",{className:"flex justify-between items-start border-b border-[var(--border-primary)] pb-2",children:[a.jsx("h3",{className:"font-bold text-[var(--text-primary)] text-lg",children:y.name}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-[var(--text-tertiary)]",children:""}),a.jsxs("div",{className:"font-bold text-amber-500 text-lg font-mono",children:["$",M.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[a.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-2 rounded-lg",children:[a.jsx("div",{className:"text-xs text-[var(--text-tertiary)] mb-1",children:""}),a.jsx("div",{className:"font-mono font-bold text-[var(--text-primary)]",children:C.toLocaleString()})]}),a.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-2 rounded-lg",children:[a.jsx("div",{className:"text-xs text-[var(--text-tertiary)] mb-1",children:""}),a.jsxs("div",{className:"font-mono text-[var(--text-secondary)]",children:["$",v.toFixed(0)]})]}),a.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-2 rounded-lg",children:[a.jsx("div",{className:"text-xs text-[var(--text-tertiary)] mb-1",children:""}),a.jsxs("div",{className:"font-mono text-[var(--text-secondary)]",children:[S.toFixed(1),"%"]})]})]}),a.jsx("div",{className:"w-full h-1.5 bg-[var(--bg-tertiary)] rounded-full overflow-hidden mt-1",children:a.jsx("div",{className:"h-full bg-amber-500 transition-all duration-500",style:{width:`${Math.min(S,100)}%`}})})]},w)}):a.jsxs("div",{className:"text-center py-8 text-[var(--text-secondary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:[a.jsx(fl,{size:24,className:"mx-auto mb-2 text-[var(--text-tertiary)]"}),a.jsx("p",{children:""})]})})]})}function kS({user:n,apiUrl:r,logActivity:c}){const[d,u]=A.useState([]),[f,x]=A.useState({}),[b,h]=A.useState(!0),[p,N]=A.useState(!1),[g,y]=A.useState(""),[w,C]=A.useState(!1),M=A.useCallback(K=>`${K.id}-${K.batchId||"no-batch"}`,[]),v=A.useCallback(async()=>{h(!0);try{const K=await Se(r,"getInventory",{},n.token);if(Array.isArray(K)){const ee=Gi(K,"productName");u(ee);const de={};ee.forEach(ie=>{ie.type==="STOCK"&&(de[M(ie)]={physicalQty:"",reason:"",accountability:""})}),x(de)}}catch(K){console.error("Failed to fetch inventory for stocktake:",K),alert("")}finally{h(!1)}},[r,n.token,M]);A.useEffect(()=>{n?.token&&v()},[n.token,v]);const S=(K,ee,de)=>{x(ie=>({...ie,[K]:{...ie[K],[ee]:de}}))},z=K=>{const ee=document.getElementById(K);ee&&(ee.focus(),ee.select?.(),ee.scrollIntoView({block:"nearest",behavior:"smooth"}))},T=(K,ee,de,ie,O=!1)=>{const L=ie[ee],J=M(L),F=f[J]||{},se=k(L.quantity,F.physicalQty),E=F.physicalQty!==""&&se!==0,V=["qty","reason","acc"],Z=V.indexOf(de),le=O?"m-":"";K.key==="ArrowRight"||K.key==="Enter"&&!K.shiftKey?(K.preventDefault(),de==="qty"&&!E?ee<ie.length-1&&z(`${le}qty-${M(ie[ee+1])}`):Z<V.length-1?z(`${le}${V[Z+1]}-${J}`):ee<ie.length-1&&z(`${le}qty-${M(ie[ee+1])}`)):K.key==="ArrowLeft"?(K.preventDefault(),Z>0&&z(`${le}${V[Z-1]}-${J}`)):K.key==="ArrowDown"?(K.preventDefault(),ee<ie.length-1&&z(`${le}${de}-${M(ie[ee+1])}`)):K.key==="ArrowUp"&&(K.preventDefault(),ee>0&&z(`${le}${de}-${M(ie[ee-1])}`))},k=(K,ee)=>ee===""||ee===void 0?0:Number(ee)-Number(K),R=()=>d.filter(K=>{if(K.type!=="STOCK")return!1;const ee=f[M(K)];return ee&&ee.physicalQty!==""}).map(K=>{const ee=f[M(K)],de=k(K.quantity,ee.physicalQty);return{productId:K.id,productName:K.productName,bookQty:Number(K.quantity),physicalQty:Number(ee.physicalQty),diff:de,reason:ee.reason,accountability:ee.accountability,batchId:K.batchId||""}}),j=async()=>{const K=d.filter(ie=>{if(ie.type!=="STOCK"||Number(ie.quantity)===0)return!1;const O=M(ie),L=f[O];return!L||L.physicalQty===""||L.physicalQty===void 0});if(K.length>0){alert(` ${K.length} 
`);const ie=M(K[0]);z(`qty-${ie}`);return}const ee=R();ee.length===0&&d.some(ie=>ie.type==="STOCK");const de=ee.find(ie=>ie.diff!==0&&(!ie.reason||!ie.accountability));if(de){alert(`${de.productName}`);const ie=M(de);f[ie].reason?document.getElementById(`acc-${ie}`)?.focus():document.getElementById(`reason-${ie}`)?.focus();return}if(confirm(` ${ee.length} `)){N(!0);try{await Se(r,"saveStocktake",{date:Je(),items:ee,operator:n.username},n.token),c&&c({actionType:"DATA_EDIT",page:"",details:JSON.stringify({itemCount:ee.length,hasDifferences:ee.some(ie=>ie.diff!==0),totalDiff:ee.reduce((ie,O)=>ie+Math.abs(O.diff),0)})}),alert(""),x({}),await v()}catch(ie){console.error("Stocktake submit failed:",ie),alert(": "+ie.message)}finally{N(!1)}}},B=d.filter(K=>!K||!w&&(Number(K.quantity)||0)===0?!1:String(K.productName||"").toLowerCase().includes(g.toLowerCase())),q=B.filter(K=>K.type==="STOCK"),ne=B.filter(K=>K.type!=="STOCK"),ce=(K,ee,de,ie,O)=>a.jsxs("div",{className:"hidden md:flex bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] p-6 flex-col shadow-sm",children:[a.jsxs("h3",{className:`text-lg font-bold mb-4 flex items-center gap-2 ${ie}`,children:[a.jsx(de,{size:20})," ",ee,!O&&a.jsx("span",{className:"text-xs text-[var(--text-secondary)] font-normal ml-2",children:""})]}),a.jsx("div",{className:"rounded-lg border border-[var(--border-primary)] overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-xs uppercase font-bold border-b border-[var(--border-primary)]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),O&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""})]})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:b?a.jsx("tr",{children:a.jsx("td",{colSpan:O?"6":"2",className:"p-6 text-center text-[var(--text-secondary)]",children:"..."})}):K.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:O?"6":"2",className:"p-6 text-center text-[var(--text-secondary)]",children:""})}):K.map((L,J)=>{if(!L)return null;const F=M(L),se=f[F]||{physicalQty:"",reason:"",accountability:n.username||""},E=k(L.quantity,se.physicalQty),V=!O&&Number(L.quantity)>0;return a.jsxs("tr",{className:`hover:bg-[var(--bg-hover)] transition-colors ${O&&E!==0&&se.physicalQty!==""?"bg-amber-500/10":V?"bg-orange-500/10 border-l-4 border-orange-500":""}`,children:[a.jsx("td",{className:`p-4 font-medium ${V?"text-orange-600 font-bold":"text-[var(--text-primary)]"}`,children:L.productName||""}),a.jsx("td",{className:`p-4 text-right font-mono ${V?"text-orange-500 font-bold text-lg":"text-[var(--text-secondary)]"}`,children:L.quantity}),O&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-4",children:a.jsx("input",{id:`qty-${F}`,type:"number",className:`input-field w-full text-right font-mono ${E!==0&&se.physicalQty!==""?"border-red-500 text-red-500":""}`,placeholder:"0",value:se.physicalQty,onChange:Z=>S(F,"physicalQty",Z.target.value),onKeyDown:Z=>T(Z,J,"qty",K),onWheel:Z=>Z.target.blur()})}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("span",{className:`inline-flex items-center gap-1 font-mono font-bold ${se.physicalQty===""||E===0?"text-green-500":"text-red-500 underline"}`,children:[se.physicalQty!==""?E>0?`+${E}`:E:0,se.physicalQty!==""&&E!==0&&a.jsx($l,{size:12})]})}),a.jsx("td",{className:"p-4",children:a.jsx("input",{id:`reason-${F}`,type:"text",disabled:se.physicalQty===""||E===0,className:`input-field w-full text-xs transition-all ${se.physicalQty!==""&&E!==0?"":"bg-[var(--bg-tertiary)] cursor-not-allowed opacity-50"}`,placeholder:E!==0&&se.physicalQty!==""?"...":"-",value:se.reason,onChange:Z=>S(F,"reason",Z.target.value),onKeyDown:Z=>T(Z,J,"reason",K)})}),a.jsx("td",{className:"p-4",children:a.jsx("input",{id:`acc-${F}`,type:"text",disabled:se.physicalQty===""||E===0,className:`input-field w-full text-xs transition-all ${se.physicalQty!==""&&E!==0?"":"bg-[var(--bg-tertiary)] cursor-not-allowed opacity-50"}`,placeholder:E!==0&&se.physicalQty!==""?"...":"-",value:se.accountability,onChange:Z=>S(F,"accountability",Z.target.value),onKeyDown:Z=>T(Z,J,"acc",K)})})]})]},F)})})]})})]}),H=(K,ee,de,ie,O)=>a.jsxs("div",{className:"md:hidden flex flex-col gap-4",children:[a.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${ie} px-1`,children:[a.jsx(de,{size:20})," ",ee,!O&&a.jsx("span",{className:"text-xs text-slate-500 font-normal ml-2",children:""})]}),a.jsx("div",{className:"space-y-4",children:b?a.jsx("div",{className:"text-center py-8 text-[var(--text-secondary)]",children:"..."}):K.length===0?a.jsx("div",{className:"text-center py-8 text-[var(--text-secondary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:""}):K.map((L,J)=>{if(!L)return null;const F=M(L),se=f[F]||{physicalQty:"",reason:"",accountability:n.username||""},E=k(L.quantity,se.physicalQty),V=se.physicalQty!==""&&E!==0,Z=!O&&Number(L.quantity)>0;return a.jsxs("div",{className:`bg-[var(--bg-secondary)] rounded-xl p-4 border shadow-sm space-y-3 ${O&&V?"border-amber-500/30 bg-amber-500/5":Z?"border-orange-500/30 bg-orange-500/5":"border-[var(--border-primary)]"}`,children:[a.jsxs("div",{className:"flex justify-between items-start border-b border-[var(--border-primary)] pb-2",children:[a.jsx("span",{className:`font-bold text-lg ${Z?"text-orange-600":"text-[var(--text-primary)]"}`,children:L.productName||""}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:""}),a.jsx("span",{className:`font-mono text-lg font-bold ${Z?"text-orange-500":"text-[var(--text-secondary)]"}`,children:L.quantity})]})]}),O&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] min-w-[70px]",children:":"}),a.jsx("input",{id:`m-qty-${F}`,type:"number",className:`input-field flex-1 text-right font-mono py-2 ${V?"border-red-500 text-red-500":""}`,placeholder:"",value:se.physicalQty,onChange:le=>S(F,"physicalQty",le.target.value),onKeyDown:le=>T(le,J,"qty",K,!0)}),a.jsx("div",{className:"w-12 text-right",children:a.jsx("span",{className:`font-mono font-bold ${se.physicalQty===""||!V?"text-slate-300":"text-red-500"}`,children:se.physicalQty!==""?E>0?`+${E}`:E:"-"})})]}),V&&a.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-3 rounded-lg border border-amber-500/20 space-y-3",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)]",children:""}),a.jsx("input",{id:`m-reason-${F}`,type:"text",className:"input-field w-full text-sm",placeholder:"...",value:se.reason,onChange:le=>S(F,"reason",le.target.value),onKeyDown:le=>T(le,J,"reason",K,!0)})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500",children:""}),a.jsx("input",{id:`m-acc-${F}`,type:"text",className:"input-field w-full text-sm",placeholder:"",value:se.accountability,onChange:le=>S(F,"accountability",le.target.value),onKeyDown:le=>T(le,J,"acc",K,!0)})]})]})]})]},F)})})]});return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)] relative",children:[p&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:"..."})]}),a.jsxs("div",{className:"hidden md:flex flex-col gap-6 shrink-0",children:[a.jsxs("div",{className:"flex justify-between items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(Hs,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:v,className:"btn-secondary h-[42px] px-4",title:"",children:a.jsx(pp,{size:18})}),a.jsx("button",{onClick:j,disabled:p,className:"btn-primary h-[42px] px-6 flex items-center gap-2",children:p?"...":a.jsxs(a.Fragment,{children:[a.jsx(Us,{size:18})," "]})})]})]}),a.jsxs("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] flex gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:g,onChange:K=>y(K.target.value)})]}),a.jsx("div",{className:"flex items-center gap-3 bg-[var(--bg-primary)] p-2 px-4 rounded-xl border border-[var(--border-primary)] shadow-sm shrink-0",children:a.jsxs("label",{className:"text-sm font-bold text-[var(--text-secondary)] flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:w,onChange:K=>C(K.target.checked)})," 0 "]})})]})]}),a.jsxs("div",{className:"md:hidden flex flex-col gap-3 shrink-0",children:[a.jsxs("h1",{className:"text-xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(Hs,{className:"text-blue-600"})," "]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:g,onChange:K=>y(K.target.value)})]}),a.jsx("button",{onClick:v,className:"btn-secondary px-3 flex items-center justify-center shrink-0",title:"",children:a.jsx(pp,{size:20})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 flex items-center justify-center gap-2 bg-[var(--bg-secondary)] px-3 py-2 rounded-xl border border-[var(--border-primary)] shadow-sm",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:w,onChange:K=>C(K.target.checked)}),a.jsx("span",{className:"text-xs font-bold text-[var(--text-secondary)]",children:" 0 "})]}),a.jsx("button",{onClick:j,disabled:p,className:"btn-primary flex-1 py-2 flex items-center justify-center gap-2 text-sm",children:p?"...":a.jsxs(a.Fragment,{children:[a.jsx(Us,{size:16})," "]})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-6 pb-6 w-full",children:[ce(q,"",Tn,"text-blue-600",!0),H(q,"",Tn,"text-blue-600",!0),ce(ne,"/",Ni,"text-orange-600",!1),H(ne,"/",Ni,"text-orange-600",!1)]})]})}function _S({user:n,apiUrl:r}){const[c,d]=A.useState([]),[u,f]=A.useState(!1),[x,b]=A.useState(""),[h,p]=A.useState(!0),[N,g]=A.useState(Je()),[y,w]=A.useState(Je()),C=qe.useCallback(async()=>{f(!0);try{const T=await Se(r,"getStocktakeHistory",{startDate:N,endDate:y,productName:x,diffOnly:h},n.token);Array.isArray(T)&&d(T)}catch(T){console.error("Failed to fetch stocktake history:",T)}finally{f(!1)}},[r,n.token,N,y,x,h]);A.useEffect(()=>{C()},[C]),A.useEffect(()=>{const T=()=>{if(document.hidden)return;const k=Je();if(N===y&&N!==k){const R=new Date;R.setDate(R.getDate()-1);const j=`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}-${String(R.getDate()).padStart(2,"0")}`;N===j&&(console.log("Detected stale date (yesterday), auto-updating to today:",k),g(k),w(k))}};return window.addEventListener("focus",T),document.addEventListener("visibilitychange",T),()=>{window.removeEventListener("focus",T),document.removeEventListener("visibilitychange",T)}},[N,y]);const M=c.filter(T=>String(T.productName||"").toLowerCase().includes(x.toLowerCase())),v=M.length,S=M.filter(T=>T.diff!==0).length,z=M.filter(T=>T.diff===0).length;return a.jsx("div",{className:"max-w-7xl mx-auto p-4 md:p-6 animate-in fade-in duration-500",children:a.jsxs("div",{className:"glass-panel p-4 md:p-6 text-[var(--text-primary)]",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-[var(--border-primary)] pb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/10 flex items-center justify-center shrink-0",children:a.jsx(Cn,{className:"text-blue-500",size:24})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)]",children:""}),a.jsx("p",{className:"text-[var(--text-tertiary)] text-xs mt-0.5",children:""})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 w-full md:w-auto md:flex md:gap-3",children:[a.jsxs("div",{className:"px-3 py-2 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)] flex flex-col items-center justify-center min-w-[80px]",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] uppercase font-bold tracking-wider",children:""}),a.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:v})]}),a.jsxs("div",{className:"px-3 py-2 rounded-xl bg-rose-50 border border-rose-100 flex flex-col items-center justify-center min-w-[80px]",children:[a.jsx("p",{className:"text-[10px] text-rose-500 uppercase font-bold tracking-wider",children:""}),a.jsx("p",{className:"text-lg font-bold text-rose-600",children:S})]}),a.jsxs("div",{className:"px-3 py-2 rounded-xl bg-emerald-50 border border-emerald-100 flex flex-col items-center justify-center min-w-[80px]",children:[a.jsx("p",{className:"text-[10px] text-emerald-500 uppercase font-bold tracking-wider",children:""}),a.jsx("p",{className:"text-lg font-bold text-emerald-600",children:z})]})]})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)]",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-12 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2 lg:col-span-4 space-y-1.5 w-full",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:16}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full h-10",value:x,onChange:T=>b(T.target.value)})]})]}),a.jsxs("div",{className:"md:col-span-1 lg:col-span-2 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),a.jsx("input",{type:"date",className:"input-field w-full h-10",value:N,onChange:T=>g(T.target.value)})]}),a.jsxs("div",{className:"md:col-span-1 lg:col-span-2 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),a.jsx("input",{type:"date",className:"input-field w-full h-10",value:y,onChange:T=>w(T.target.value)})]}),a.jsxs("div",{className:"md:col-span-2 lg:col-span-3 flex items-center gap-2",children:[a.jsxs("label",{className:"flex-1 flex items-center gap-2 px-3 py-2 rounded-xl bg-[var(--bg-primary)] border border-[var(--border-primary)] cursor-pointer hover:bg-[var(--bg-hover)] transition-colors h-10",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:T=>p(T.target.checked),className:"w-4 h-4 rounded border-[var(--border-primary)] text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-[11px] text-[var(--text-secondary)] font-bold whitespace-nowrap",children:""})]}),a.jsxs("button",{onClick:C,disabled:u,className:"btn-secondary h-10 px-4 flex items-center gap-2 whitespace-nowrap",children:[a.jsx(nt,{size:16,className:u?"animate-spin":""})," "]})]})]})}),a.jsx("div",{className:"hidden md:block rounded-xl border border-[var(--border-primary)] overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-tertiary)] text-[10px] uppercase tracking-wider sticky top-0 font-bold",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3",children:""}),a.jsx("th",{className:"px-4 py-3 text-right",children:"/"}),a.jsx("th",{className:"px-4 py-3 text-center",children:""}),a.jsx("th",{className:"px-4 py-3",children:"/"}),a.jsx("th",{className:"px-4 py-3",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-primary)]",children:u?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(nt,{className:"animate-spin text-blue-500"}),a.jsx("span",{className:"text-[var(--text-tertiary)] text-sm",children:"..."})]})})}):M.length>0?M.map((T,k)=>a.jsxs("tr",{className:`hover:bg-[var(--bg-hover)] transition-colors group ${T.diff!==0?"bg-amber-50/30":""}`,children:[a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex items-center gap-1.5 text-[var(--text-tertiary)] font-mono text-[11px]",children:[a.jsx(Na,{size:10}),T.date]})}),a.jsx("td",{className:"px-4 py-3 font-bold text-[var(--text-primary)]",children:T.productName}),a.jsx("td",{className:"px-4 py-3 text-right",children:a.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[a.jsxs("span",{className:"text-[10px] text-[var(--text-tertiary)] font-mono",children:[": ",T.bookQty]}),a.jsxs("span",{className:"text-sm text-blue-600 font-bold font-mono",children:[": ",T.physicalQty]})]})}),a.jsx("td",{className:"px-4 py-3 text-center",children:T.diff===0?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-bold border border-emerald-100",children:[a.jsx(jd,{size:10})," 0"]}):a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold border ${T.diff>0?"bg-blue-50 text-blue-600 border-blue-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:[a.jsx($l,{size:10}),T.diff>0?`+${T.diff}`:T.diff]})}),a.jsx("td",{className:"px-4 py-3",children:a.jsxs("div",{className:"flex flex-col gap-0.5 max-w-[150px]",children:[a.jsx("p",{className:"text-[11px] text-[var(--text-secondary)] truncate",title:T.reason,children:T.reason||"-"}),a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold",children:T.accountability||"-"})]})}),a.jsx("td",{className:"px-4 py-3 text-[var(--text-tertiary)] text-xs font-medium",children:T.operator||"-"})]},k)):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx(Bs,{size:32,className:"text-[var(--text-tertiary)] opacity-30"}),a.jsx("p",{className:"text-[var(--text-secondary)] font-medium",children:""})]})})})})]})})}),a.jsx("div",{className:"md:hidden space-y-3",children:u?a.jsx("div",{className:"text-center py-10 text-[var(--text-tertiary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:"..."}):M.length>0?M.map((T,k)=>a.jsxs("div",{className:`bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] p-3 shadow-sm flex flex-col gap-2 ${T.diff!==0?"bg-amber-50/20":""}`,children:[a.jsxs("div",{className:"flex justify-between items-start border-b border-[var(--border-primary)] pb-2",children:[a.jsxs("div",{className:"flex flex-col gap-0.5",children:[a.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-[var(--text-tertiary)] font-mono uppercase tracking-wider",children:[a.jsx(Na,{size:10}),T.date]}),a.jsx("h3",{className:"font-bold text-[var(--text-primary)] text-base",children:T.productName})]}),a.jsx("div",{className:"text-right",children:a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold border ${T.diff===0?"bg-emerald-50 text-emerald-600 border-emerald-100":T.diff>0?"bg-blue-50 text-blue-600 border-blue-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:[T.diff===0?a.jsx(jd,{size:10}):a.jsx($l,{size:10}),T.diff>0?`+${T.diff}`:T.diff]})})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center bg-[var(--bg-secondary)] p-2 rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[9px] text-[var(--text-tertiary)] font-bold uppercase tracking-wider",children:""}),a.jsx("div",{className:"font-mono font-medium text-[var(--text-secondary)]",children:T.bookQty})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[9px] text-[var(--text-tertiary)] font-bold uppercase tracking-wider",children:""}),a.jsx("div",{className:"font-mono font-bold text-blue-600 tracking-tighter",children:T.physicalQty})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-[9px] text-[var(--text-tertiary)] font-bold uppercase tracking-wider",children:""}),a.jsx("div",{className:`font-mono font-bold ${T.diff===0?"text-emerald-600":"text-rose-600"}`,children:T.diff})]})]}),(T.reason||T.accountability)&&a.jsxs("div",{className:"text-xs bg-[var(--bg-secondary)] p-2 rounded-lg text-[var(--text-secondary)] space-y-1 border border-[var(--border-primary)]",children:[T.reason&&a.jsxs("div",{children:[a.jsx("span",{className:"text-[var(--text-tertiary)] font-bold mr-2 uppercase text-[9px]",children:":"}),T.reason]}),T.accountability&&a.jsxs("div",{children:[a.jsx("span",{className:"text-[var(--text-tertiary)] font-bold mr-2 uppercase text-[9px]",children:":"}),T.accountability]})]}),a.jsx("div",{className:"flex justify-between items-center text-[10px] text-[var(--text-tertiary)] pt-1",children:a.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[": ",a.jsx("span",{className:"text-[var(--text-secondary)] font-bold",children:T.operator||"-"})]})})]},k)):a.jsxs("div",{className:"text-center py-10 text-[var(--text-tertiary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:[a.jsx(Bs,{size:24,className:"mx-auto mb-2 opacity-30"}),a.jsx("p",{className:"text-sm font-medium",children:""})]})})]})})}function MS({user:n,apiUrl:r}){const[c,d]=A.useState([]),[u,f]=A.useState(!1),[x,b]=A.useState(Je()),[h,p]=A.useState(Je()),[N,g]=A.useState(""),[y,w]=A.useState(""),[C,M]=A.useState(new Set),v=qe.useCallback(async()=>{f(!0);try{const j={};x&&(j.startDate=x),h&&(j.endDate=h);const B=await Se(r,"getReceivables",j,n.token);if(Array.isArray(B)){const q=B.sort((ne,ce)=>new Date(ce.date)-new Date(ne.date));d(q)}}catch(j){console.error("Failed to fetch data:",j),alert(": "+j.message)}finally{f(!1)}},[r,n.token,x,h]);A.useEffect(()=>{v()},[v]);const S=async j=>{if(confirm("")){f(!0);try{await Se(r,"markAsPaid",{recordId:j},n.token),alert(""),v()}catch(B){console.error("Failed to mark as paid:",B),alert(": "+B.message)}finally{f(!1)}}},z=j=>{const B=new Set(C);B.has(j)?B.delete(j):B.add(j),M(B)},T=j=>[j.salesRep,j.salesPerson,j.operator,j.Operator,j.buyer].find(ne=>ne&&String(ne).toLowerCase()!=="unknown")||"-",k=c.filter(j=>{const B=String(j.clientName||j.customer||j.location||"").toLowerCase(),q=String(T(j)).toLowerCase(),ne=!N||B.includes(N.toLowerCase()),ce=!y||q.includes(y.toLowerCase());return ne&&ce}),R=k.reduce((j,B)=>j+(Number(B.amount)||Number(B.total)||0),0);return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[a.jsxs("div",{className:"flex flex-row justify-between items-center gap-4",children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2 truncate",children:[a.jsx(ul,{className:"text-emerald-500 w-6 h-6 shrink-0"}),a.jsx("span",{className:"truncate",children:""})]})}),a.jsxs("div",{className:"glass-panel px-3 py-2 border-[var(--border-primary)] bg-[var(--bg-secondary)] shrink-0 flex flex-col items-end",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase tracking-wider",children:""}),a.jsxs("p",{className:"text-lg md:text-xl font-bold text-emerald-500",children:["$",R.toLocaleString()]})]})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)]",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-[var(--bg-primary)]",value:x,onChange:j=>b(j.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-[var(--bg-primary)]",value:h,onChange:j=>p(j.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:"/"}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full h-10",value:N,onChange:j=>g(j.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full h-10",value:y,onChange:j=>w(j.target.value)})]}),a.jsxs("button",{onClick:v,className:"btn-secondary h-10 px-6 flex items-center gap-2 justify-center w-full md:w-auto",children:[a.jsx(nt,{size:18})," "]})]})}),a.jsx("div",{className:"hidden md:block rounded-xl border border-[var(--border-primary)] overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-10"}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-primary)]",children:u?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-10 text-center text-[var(--text-secondary)]",children:"..."})}):k.length>0?k.map((j,B)=>a.jsxs(qe.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)] transition-colors cursor-pointer",onClick:()=>z(B),children:[a.jsx("td",{className:"p-4 text-[var(--text-tertiary)]",children:C.has(B)?a.jsx(vi,{size:16}):a.jsx(Gl,{size:16})}),a.jsx("td",{className:"p-4 text-[var(--text-secondary)]",children:(()=>{const q=j.serverTimestamp||j.timestamp||j.date,ne=new Date(q);return isNaN(ne.getTime())?"-":ne.toLocaleDateString("zh-TW")})()}),a.jsx("td",{className:"p-4 font-medium text-[var(--text-primary)]",children:j.clientName||j.customer||j.location||"-"}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-500",children:["$",(Number(j.amount)||Number(j.total)||0).toLocaleString()]}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${j.status==="PAID"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:j.status==="PAID"?"":""})}),a.jsx("td",{className:"p-4 text-center",onClick:q=>q.stopPropagation(),children:j.status!=="PAID"&&a.jsx("button",{onClick:()=>S(j.id),className:"btn-primary text-xs py-1 px-3",children:""})})]}),C.has(B)&&a.jsx("tr",{className:"bg-[var(--bg-secondary)]/50",children:a.jsx("td",{colSpan:"6",className:"p-4 pl-12",children:a.jsx("div",{className:"bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] border-b border-[var(--border-primary)]",children:[a.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-right font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-center font-medium",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:(j.items||j.products||j.salesData||[]).length>0?(j.items||j.products||j.salesData||[]).map((q,ne)=>a.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)]",children:[a.jsx("td",{className:"py-3 px-4 text-[var(--text-secondary)]",children:T(j)}),a.jsx("td",{className:"py-3 px-4 text-[var(--text-primary)] font-medium",children:q.productName||q.name||"-"}),a.jsxs("td",{className:"py-3 px-4 text-right text-[var(--text-secondary)] font-mono",children:["$",(Number(q.price)||Number(q.unitPrice)||0).toLocaleString()]}),a.jsx("td",{className:"py-3 px-4 text-center text-[var(--text-secondary)] font-mono",children:q.qty||q.soldQty||1})]},ne)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"py-4 text-center text-[var(--text-secondary)] italic",children:""})})})]})})})})]},B)):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-10 text-center text-[var(--text-secondary)]",children:""})})})]})}),a.jsx("div",{className:"md:hidden space-y-4",children:u?a.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:"..."}):k.length>0?k.map((j,B)=>a.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] p-4 shadow-sm",onClick:()=>z(B),children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-[var(--text-tertiary)] mb-1",children:(()=>{const q=j.serverTimestamp||j.timestamp||j.date,ne=new Date(q);return isNaN(ne.getTime())?"-":ne.toLocaleDateString("zh-TW")})()}),a.jsx("div",{className:"font-bold text-[var(--text-primary)] text-lg",children:j.clientName||j.customer||j.location||""}),a.jsxs("div",{className:"text-xs text-[var(--text-secondary)] mt-1",children:[": ",T(j)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-xl font-black font-mono text-emerald-500",children:["$",(Number(j.amount)||Number(j.total)||0).toLocaleString()]}),a.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-[10px] font-bold ${j.status==="PAID"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:j.status==="PAID"?"":""})]})]}),a.jsxs("div",{className:"pt-3 border-t border-[var(--border-primary)] flex items-center justify-between",children:[a.jsxs("button",{className:"text-[var(--text-tertiary)] flex items-center gap-1 text-xs",children:[C.has(B)?a.jsx(vi,{size:14}):a.jsx(Gl,{size:14}),""]}),j.status!=="PAID"&&a.jsx("button",{onClick:q=>{q.stopPropagation(),S(j.id)},className:"btn-primary text-xs py-1.5 px-4",children:""})]}),C.has(B)&&a.jsxs("div",{className:"mt-3 bg-[var(--bg-secondary)] rounded-lg p-3 text-sm space-y-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[(j.items||j.products||j.salesData||[]).map((q,ne)=>a.jsxs("div",{className:"flex justify-between items-center border-b border-[var(--border-primary)] last:border-0 pb-2 last:pb-0",children:[a.jsx("span",{className:"text-[var(--text-primary)]",children:q.productName||q.name}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"text-[var(--text-primary)] font-mono",children:["$",(Number(q.price)||0).toLocaleString()," x ",q.qty||1]})})]},ne)),!j.items&&!j.products&&!j.salesData&&a.jsx("div",{className:"text-[var(--text-tertiary)] text-center py-2 italic",children:""})]})]},B)):a.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:""})})]})}function RS({user:n,apiUrl:r}){const[c,d]=A.useState([]),[u,f]=A.useState(!1),[x,b]=A.useState(Je()),[h,p]=A.useState(Je()),[N,g]=A.useState(""),[y,w]=A.useState(""),[C,M]=A.useState(new Set),v=qe.useCallback(async()=>{f(!0);try{const j={};x&&(j.startDate=x),h&&(j.endDate=h);const B=await Se(r,"getPayables",j,n.token);if(Array.isArray(B)){const q=B.sort((ne,ce)=>new Date(ce.date)-new Date(ne.date));d(q)}}catch(j){console.error("Failed to fetch payables:",j)}finally{f(!1)}},[r,n.token,x,h]);A.useEffect(()=>{v()},[v]);const S=async j=>{if(confirm("")){f(!0);try{await Se(r,"markPayableAsPaid",{recordId:j},n.token),alert(""),v()}catch(B){console.error("Failed to mark as paid:",B),alert(": "+B.message)}finally{f(!1)}}},z=j=>{const B=new Set(C);B.has(j)?B.delete(j):B.add(j),M(B)},T=j=>j.operator||j.Operator||j.buyer||j.salesRep||j.salesPerson||"-",k=c.filter(j=>{const B=String(j.vendorName||j.vendor||"").toLowerCase(),q=String(T(j)).toLowerCase(),ne=!N||B.includes(N.toLowerCase()),ce=!y||q.includes(y.toLowerCase());return ne&&ce}),R=k.reduce((j,B)=>j+(Number(B.amount)||Number(B.total)||0),0);return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[a.jsxs("div",{className:"flex flex-row justify-between items-center gap-4",children:[a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2 truncate",children:[a.jsx(ul,{className:"text-rose-600 w-6 h-6 shrink-0"}),a.jsx("span",{className:"truncate",children:""})]})}),a.jsxs("div",{className:"glass-panel px-3 py-2 border-[var(--border-primary)] bg-[var(--bg-secondary)] shrink-0 flex flex-col items-end",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase tracking-wider",children:""}),a.jsxs("p",{className:"text-lg md:text-xl font-bold text-rose-500",children:["$",R.toLocaleString()]})]})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)]",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-[var(--bg-primary)]",value:x,onChange:j=>b(j.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-[var(--bg-primary)]",value:h,onChange:j=>p(j.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full h-10",value:N,onChange:j=>g(j.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full h-10",value:y,onChange:j=>w(j.target.value)})]}),a.jsxs("button",{onClick:v,className:"btn-secondary h-10 px-6 flex items-center gap-2 justify-center w-full md:w-auto",children:[a.jsx(nt,{size:18})," "]})]})}),a.jsx("div",{className:"hidden md:block rounded-xl border border-[var(--border-primary)] overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-10"}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-primary)]",children:u?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-10 text-center text-[var(--text-secondary)]",children:"..."})}):k.length>0?k.map((j,B)=>a.jsxs(qe.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)] transition-colors cursor-pointer",onClick:()=>z(B),children:[a.jsx("td",{className:"p-4 text-[var(--text-tertiary)]",children:C.has(B)?a.jsx(vi,{size:16}):a.jsx(Gl,{size:16})}),a.jsx("td",{className:"p-4 text-[var(--text-secondary)] text-center",children:(()=>{const q=j.serverTimestamp||j.timestamp||j.date,ne=new Date(q);return isNaN(ne.getTime())?"-":ne.toLocaleDateString("zh-TW")})()}),a.jsx("td",{className:"p-4 font-medium text-[var(--text-primary)]",children:j.vendorName||j.vendor||"-"}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-rose-500",children:["$",(Number(j.amount)||Number(j.total)||0).toLocaleString()]}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${j.status==="PAID"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:j.status==="PAID"?"":""})}),a.jsx("td",{className:"p-4 text-center",onClick:q=>q.stopPropagation(),children:j.status!=="PAID"&&a.jsx("button",{onClick:()=>S(j.id),className:"btn-primary text-xs py-1 px-3",children:""})})]}),C.has(B)&&a.jsx("tr",{className:"bg-[var(--bg-secondary)]/50",children:a.jsx("td",{colSpan:"6",className:"p-4 pl-12",children:a.jsx("div",{className:"bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-lg overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] border-b border-[var(--border-primary)]",children:[a.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-right font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-center font-medium",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:(j.items||j.products||[]).length>0?(j.items||j.products||[]).map((q,ne)=>a.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)]",children:[a.jsx("td",{className:"py-3 px-4 text-[var(--text-secondary)]",children:T(j)}),a.jsx("td",{className:"py-3 px-4 text-[var(--text-primary)] font-medium",children:q.productName||q.name||"-"}),a.jsxs("td",{className:"py-3 px-4 text-right text-[var(--text-secondary)] font-mono",children:["$",(Number(q.price)||Number(q.unitPrice)||0).toLocaleString()]}),a.jsx("td",{className:"py-3 px-4 text-center text-[var(--text-secondary)] font-mono",children:q.qty||q.quantity||1})]},ne)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"py-4 text-center text-[var(--text-secondary)] italic",children:""})})})]})})})})]},B)):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-10 text-center text-[var(--text-secondary)]",children:""})})})]})}),a.jsx("div",{className:"md:hidden space-y-4",children:u?a.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:"..."}):k.length>0?k.map((j,B)=>a.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] p-4 shadow-sm",onClick:()=>z(B),children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-[var(--text-tertiary)] mb-1",children:(()=>{const q=j.serverTimestamp||j.timestamp||j.date,ne=new Date(q);return isNaN(ne.getTime())?"-":ne.toLocaleDateString("zh-TW")})()}),a.jsx("div",{className:"font-bold text-[var(--text-primary)] text-lg",children:j.vendorName||j.vendor||""}),a.jsxs("div",{className:"text-xs text-[var(--text-secondary)] mt-1",children:[": ",T(j)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-xl font-black font-mono text-rose-500",children:["$",(Number(j.amount)||Number(j.total)||0).toLocaleString()]}),a.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-[10px] font-bold ${j.status==="PAID"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:j.status==="PAID"?"":""})]})]}),a.jsxs("div",{className:"pt-3 border-t border-[var(--border-primary)] flex items-center justify-between",children:[a.jsxs("button",{className:"text-[var(--text-tertiary)] flex items-center gap-1 text-xs",children:[C.has(B)?a.jsx(vi,{size:14}):a.jsx(Gl,{size:14}),""]}),j.status!=="PAID"&&a.jsx("button",{onClick:q=>{q.stopPropagation(),S(j.id)},className:"btn-primary text-xs py-1.5 px-4",children:""})]}),C.has(B)&&a.jsxs("div",{className:"mt-3 bg-[var(--bg-secondary)] rounded-lg p-3 text-sm space-y-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[(j.items||j.products||[]).map((q,ne)=>a.jsxs("div",{className:"flex justify-between items-center border-b border-[var(--border-primary)] last:border-0 pb-2 last:pb-0",children:[a.jsx("span",{className:"text-[var(--text-primary)]",children:q.productName||q.name}),a.jsx("div",{className:"text-right",children:a.jsxs("div",{className:"text-[var(--text-primary)] font-mono",children:["$",(Number(q.price)||0).toLocaleString()," x ",q.qty||1]})})]},ne)),!j.items&&!j.products&&a.jsx("div",{className:"text-[var(--text-tertiary)] text-center py-2 italic",children:""})]})]},B)):a.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:""})})]})}function zS({user:n,apiUrl:r}){const[c,d]=A.useState([]),[u,f]=A.useState({}),[x,b]=A.useState(!1),[h,p]=A.useState(Je()),[N,g]=A.useState(Je()),[y,w]=A.useState(""),C=async()=>{b(!0);try{const v=await Se(r,"getProducts",{},n.token),S={};Array.isArray(v)&&(v.forEach(T=>{S[T.id]=T.name}),f(S));const z=await Se(r,"getSalesRanking",{startDate:h,endDate:N},n.token);Array.isArray(z)?d(z):d([])}catch(v){console.error("Failed to fetch sales ranking:",v),alert("")}finally{b(!1)}};A.useEffect(()=>{n?.token&&C()},[n.token,r]);const M=c.filter(v=>{const S=u[v.productName]||v.productName;return String(S||"").toLowerCase().includes(y.toLowerCase())});return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(vd,{className:"text-[var(--accent-blue)]"})," "]}),a.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:""})]}),a.jsx("button",{onClick:C,disabled:x,className:"btn-secondary p-2 rounded-xl",children:a.jsx(nt,{size:20,className:x?"animate-spin":""})})]}),a.jsxs("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"date",className:"input-field flex-1 text-sm bg-[var(--bg-tertiary)]",value:h,onChange:v=>p(v.target.value)}),a.jsx("span",{className:"text-[var(--text-secondary)] font-bold hidden md:inline",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 text-sm bg-[var(--bg-tertiary)]",value:N,onChange:v=>g(v.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-[var(--bg-tertiary)]",value:y,onChange:v=>w(v.target.value)})]}),a.jsxs("button",{onClick:C,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[a.jsx(vt,{size:18})," "]})]}),a.jsx("div",{className:"bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsxs("div",{className:"overflow-y-auto flex-1",children:[a.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0 z-10 font-bold border-b border-[var(--border-primary)]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-16 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:x?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-[var(--text-tertiary)]",children:"..."})}):M.length>0?M.map((v,S)=>a.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"p-4 text-center font-mono",children:S<3?a.jsx("span",{className:`w-6 h-6 rounded-full inline-flex items-center justify-center text-[10px] font-bold shadow-sm ${S===0?"bg-amber-100 text-amber-700 border border-amber-200":S===1?"bg-slate-100 text-slate-600 border border-slate-200":"bg-orange-100 text-orange-700 border border-orange-200"}`,children:S+1}):S+1}),a.jsx("td",{className:"p-4 font-bold text-[var(--text-primary)]",children:u[v.productName]||v.productName}),a.jsx("td",{className:"p-4 text-right font-mono text-emerald-500",children:v.totalQty.toLocaleString()}),a.jsxs("td",{className:"p-4 text-right font-mono text-blue-500",children:["$",v.totalAmount.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)]",children:["$",(v.totalAmount/v.totalQty).toFixed(1)]})]},S)):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-[var(--text-secondary)]",children:""})})})]}),a.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:x?a.jsx("div",{className:"p-10 text-center text-slate-500",children:"..."}):M.length>0?M.map((v,S)=>a.jsxs("div",{className:"p-4 bg-[var(--bg-secondary)] active:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("div",{className:"flex justify-between items-start mb-2",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold shrink-0 shadow-sm ${S===0?"bg-amber-100 text-amber-700":S===1?"bg-slate-100 text-slate-600":S===2?"bg-orange-100 text-orange-700":"bg-slate-50 text-slate-400 border border-slate-100"}`,children:S+1}),a.jsx("div",{className:"text-sm font-bold text-[var(--text-primary)]",children:u[v.productName]||v.productName})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 pl-9",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:""}),a.jsx("p",{className:"text-xs font-mono font-bold text-emerald-600",children:v.totalQty.toLocaleString()})]}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:""}),a.jsxs("p",{className:"text-xs font-mono font-bold text-blue-600",children:["$",v.totalAmount.toLocaleString()]})]}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:""}),a.jsxs("p",{className:"text-xs font-mono font-bold text-slate-500",children:["$",(v.totalAmount/v.totalQty).toFixed(1)]})]})]})]},S)):a.jsx("div",{className:"p-10 text-center text-slate-500",children:""})})]})})]})}function LS({user:n,apiUrl:r}){const[c,d]=A.useState([]),[u,f]=A.useState(!1),[x,b]=A.useState(Je()),[h,p]=A.useState(Je()),[N,g]=A.useState(""),y=async()=>{f(!0);try{const C=await Se(r,"getCustomerRanking",{startDate:x,endDate:h},n.token);Array.isArray(C)?d(C):d([])}catch(C){console.error("Failed to fetch customer ranking:",C),alert("")}finally{f(!1)}};A.useEffect(()=>{n?.token&&y()},[n.token,r]);const w=c.filter(C=>String(C.customerName||"").toLowerCase().includes(N.toLowerCase()));return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(Si,{className:"text-purple-600"})," "]}),a.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:""})]}),a.jsx("button",{onClick:y,disabled:u,className:"btn-secondary p-2 rounded-xl",children:a.jsx(nt,{size:20,className:u?"animate-spin":""})})]}),a.jsxs("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"date",className:"input-field flex-1 text-sm",value:x,onChange:C=>b(C.target.value)}),a.jsx("span",{className:"text-[var(--text-secondary)] font-bold hidden md:inline",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 text-sm",value:h,onChange:C=>p(C.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:N,onChange:C=>g(C.target.value)})]}),a.jsxs("button",{onClick:y,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[a.jsx(vt,{size:18})," "]})]}),a.jsx("div",{className:"bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsxs("div",{className:"overflow-y-auto flex-1",children:[a.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0 z-10 font-bold border-b border-[var(--border-primary)]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-16 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:u?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-[var(--text-secondary)]",children:"..."})}):w.length>0?w.map((C,M)=>{const v=c.reduce((z,T)=>z+T.totalAmount,0),S=C.totalAmount/v*100;return a.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"p-4 text-center font-mono text-[var(--text-secondary)]",children:M+1}),a.jsx("td",{className:"p-4 font-bold text-[var(--text-primary)]",children:C.customerName}),a.jsx("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)]",children:C.transactionCount.toLocaleString()}),a.jsxs("td",{className:"p-4 text-right font-mono text-purple-700 font-bold",children:["$",C.totalAmount.toLocaleString()]}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("span",{className:"text-xs text-[var(--text-tertiary)]",children:[S.toFixed(1),"%"]}),a.jsx("div",{className:"w-16 h-1.5 bg-[var(--bg-tertiary)] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-purple-500",style:{width:`${S}%`}})})]})})]},M)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]}),a.jsx("div",{className:"md:hidden divide-y divide-[var(--border-primary)]",children:u?a.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:"..."}):w.length>0?w.map((C,M)=>{const v=c.reduce((z,T)=>z+T.totalAmount,0),S=C.totalAmount/v*100;return a.jsxs("div",{className:"p-4 bg-[var(--bg-secondary)] active:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"w-6 h-6 rounded-full bg-[var(--bg-tertiary)] border border-[var(--border-primary)] flex items-center justify-center text-[10px] font-bold text-[var(--text-tertiary)] shrink-0 shadow-sm",children:M+1}),a.jsx("div",{className:"text-sm font-bold text-[var(--text-primary)]",children:C.customerName})]}),a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsxs("span",{className:"text-xs font-mono font-bold text-purple-700",children:["$",C.totalAmount.toLocaleString()]}),a.jsxs("span",{className:"text-[10px] text-[var(--text-tertiary)] font-bold",children:[S.toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pl-9 mt-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),a.jsx("span",{className:"text-xs font-mono text-[var(--text-secondary)]",children:C.transactionCount.toLocaleString()})]}),a.jsx("div",{className:"w-24 h-1 bg-[var(--bg-tertiary)] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-purple-500",style:{width:`${S}%`}})})]})]},M)}):a.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:""})})]})})]})}function BS({user:n,apiUrl:r}){const[c,d]=A.useState([]),[u,f]=A.useState({}),[x,b]=A.useState(!1),[h,p]=A.useState(Je()),[N,g]=A.useState(Je()),[y,w]=A.useState(""),C=async()=>{b(!0);try{const k=await Se(r,"getProducts",{},n.token),R={};Array.isArray(k)&&(k.forEach(B=>{R[B.id]=B.name}),f(R));const j=await Se(r,"getProfitAnalysis",{startDate:h,endDate:N},n.token);Array.isArray(j)?d(j):d([])}catch(k){console.error("Failed to fetch profit analysis:",k),alert("")}finally{b(!1)}};A.useEffect(()=>{n?.token&&C()},[n.token,r]);const M=c.filter(k=>{const R=u[k.productName]||k.productName;return String(R||"").toLowerCase().includes(y.toLowerCase())}),v=M.reduce((k,R)=>k+R.revenue,0),S=M.reduce((k,R)=>k+R.cost,0),z=v-S,T=v>0?z/v*100:0;return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(fl,{className:"text-emerald-600"})," "]}),a.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex gap-2 md:gap-4",children:[a.jsxs("div",{className:"bg-emerald-50/10 px-3 py-1.5 md:px-4 md:py-2 border border-emerald-200/20 rounded-xl shadow-sm flex-1",children:[a.jsx("p",{className:"text-[8px] md:text-[10px] text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-sm md:text-xl font-bold text-emerald-600 text-center",children:["$",z.toLocaleString()]})]}),a.jsxs("div",{className:"bg-blue-50/10 px-3 py-1.5 md:px-4 md:py-2 border border-blue-200/20 rounded-xl shadow-sm flex-1",children:[a.jsx("p",{className:"text-[8px] md:text-[10px] text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-sm md:text-xl font-bold text-blue-600 text-center",children:[T.toFixed(1),"%"]})]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"date",className:"input-field flex-1 text-sm",value:h,onChange:k=>p(k.target.value)}),a.jsx("span",{className:"text-[var(--text-secondary)] font-bold hidden md:inline",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 text-sm",value:N,onChange:k=>g(k.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:y,onChange:k=>w(k.target.value)})]}),a.jsxs("button",{onClick:C,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[a.jsx(nt,{size:18,className:x?"animate-spin":""})," "]})]}),a.jsx("div",{className:"bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsxs("div",{className:"overflow-y-auto flex-1",children:[a.jsxs("table",{className:"hidden md:table w-full text-left text-sm border-collapse",children:[a.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0 z-10 font-bold border-b border-[var(--border-primary)]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 whitespace-nowrap",children:""}),a.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),a.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),a.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),a.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:x?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-[var(--text-secondary)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(nt,{className:"animate-spin text-emerald-500"}),a.jsx("span",{children:"..."})]})})}):M.length>0?M.map((k,R)=>{const j=k.revenue-k.cost,B=k.revenue>0?j/k.revenue*100:0,q=u[k.productName]||k.productName;return a.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"p-4 font-bold text-[var(--text-primary)]",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:q}),u[k.productName]&&a.jsxs("span",{className:"text-[10px] text-[var(--text-tertiary)] font-normal mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["ID: ",k.productName.substring(0,8),"..."]})]})}),a.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)]",children:["$",Math.round(k.revenue).toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono text-rose-600/80",children:["$",Math.round(k.cost).toLocaleString()]}),a.jsxs("td",{className:`p-4 text-right font-mono font-bold ${j>=0?"text-emerald-700":"text-rose-600"}`,children:[j<0?"-":"","$",Math.abs(Math.round(j)).toLocaleString()]}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold min-w-[50px] text-center ${B>=30?"bg-emerald-100 text-emerald-700 border border-emerald-200":B>=10?"bg-blue-100 text-blue-700 border border-blue-200":"bg-rose-100 text-rose-700 border border-rose-200"}`,children:[B.toFixed(1),"%"]})})]},R)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]}),a.jsx("div",{className:"md:hidden divide-y divide-[var(--border-primary)]",children:x?a.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)] italic",children:"..."}):M.length>0?M.map((k,R)=>{const j=k.revenue-k.cost,B=k.revenue>0?j/k.revenue*100:0,q=u[k.productName]||k.productName;return a.jsxs("div",{className:"p-4 bg-[var(--bg-secondary)] active:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("div",{className:"text-sm font-bold text-[var(--text-primary)] max-w-[65%] leading-tight",children:q}),a.jsxs("span",{className:`inline-block px-2 py-0.5 rounded text-[10px] font-bold ${B>=30?"bg-emerald-100 text-emerald-700":B>=10?"bg-blue-100 text-blue-700":"bg-rose-100 text-rose-700"}`,children:[B.toFixed(1),"%"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),a.jsxs("p",{className:"text-xs font-mono font-bold text-[var(--text-secondary)]",children:["$",Math.round(k.revenue).toLocaleString()]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),a.jsxs("p",{className:"text-xs font-mono font-bold text-rose-500/80",children:["$",Math.round(k.cost).toLocaleString()]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),a.jsxs("p",{className:`text-xs font-mono font-bold ${j>=0?"text-emerald-600":"text-rose-600"}`,children:["$",Math.abs(Math.round(j)).toLocaleString()]})]})]})]},R)}):a.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:""})})]})})]})}function US({user:n,apiUrl:r}){const[c,d]=A.useState([]),[u,f]=A.useState({}),[x,b]=A.useState(!1),[h,p]=A.useState(Je()),[N,g]=A.useState(Je()),[y,w]=A.useState(""),C=async()=>{b(!0);try{const v=await Se(r,"getProducts",{},n.token),S={};Array.isArray(v)&&(v.forEach(T=>{S[T.id]=T.name}),f(S));const z=await Se(r,"getTurnoverRate",{startDate:h,endDate:N},n.token);Array.isArray(z)?d(z):d([])}catch(v){console.error("Failed to fetch turnover rate:",v),alert("")}finally{b(!1)}};A.useEffect(()=>{n?.token&&C()},[n.token,r]);const M=c.filter(v=>{const S=u[v.productName]||v.productName;return String(S||"").toLowerCase().includes(y.toLowerCase())});return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(Hl,{className:"text-orange-600"})," "]}),a.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:" =  / "})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 bg-blue-50 px-3 py-1.5 rounded-lg border border-blue-200 shadow-sm font-bold",children:[a.jsx(Av,{size:14}),a.jsx("span",{children:""})]})]}),a.jsxs("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"date",className:"input-field flex-1 text-sm",value:h,onChange:v=>p(v.target.value)}),a.jsx("span",{className:"text-[var(--text-secondary)] font-bold hidden md:inline",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 text-sm",value:N,onChange:v=>g(v.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:y,onChange:v=>w(v.target.value)})]}),a.jsxs("button",{onClick:C,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[a.jsx(nt,{size:18})," "]})]}),a.jsx("div",{className:"bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsxs("div",{className:"overflow-y-auto flex-1",children:[a.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0 z-10 font-bold border-b border-[var(--border-primary)]",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:" (COGS)"}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:x?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-[var(--text-secondary)]",children:"..."})}):M.length>0?M.map((v,S)=>{const z=v.avgInventory>0?v.cogs/v.avgInventory:0;return a.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"p-4 font-bold text-[var(--text-primary)]",children:u[v.productName]||v.productName}),a.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)] font-bold",children:["$",v.cogs.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-tertiary)]",children:["$",v.avgInventory.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono text-orange-600 font-bold",children:[z.toFixed(2)," "]}),a.jsx("td",{className:"p-4 text-center",children:z>=4?a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-emerald-100 text-emerald-700 border border-emerald-200 uppercase",children:""}):z>=1?a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-blue-100 text-blue-700 border border-blue-200 uppercase",children:""}):a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-rose-100 text-rose-700 border border-rose-200 uppercase",children:""})})]},S)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]}),a.jsx("div",{className:"md:hidden divide-y divide-[var(--border-primary)]",children:x?a.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:"..."}):M.length>0?M.map((v,S)=>{const z=v.avgInventory>0?v.cogs/v.avgInventory:0;return a.jsxs("div",{className:"p-4 bg-[var(--bg-secondary)] active:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("div",{className:"text-sm font-bold text-[var(--text-primary)] leading-tight max-w-[70%]",children:u[v.productName]||v.productName}),z>=4?a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[9px] font-bold bg-emerald-100 text-emerald-700 border border-emerald-200",children:""}):z>=1?a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[9px] font-bold bg-blue-100 text-blue-700 border border-blue-200",children:""}):a.jsx("span",{className:"px-1.5 py-0.5 rounded text-[9px] font-bold bg-rose-100 text-rose-700 border border-rose-200",children:""})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),a.jsxs("p",{className:"text-[11px] font-mono font-bold text-[var(--text-secondary)]",children:["$",v.cogs.toLocaleString()]})]}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),a.jsxs("p",{className:"text-[11px] font-mono font-bold text-[var(--text-tertiary)]",children:["$",v.avgInventory.toLocaleString()]})]}),a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),a.jsxs("p",{className:"text-[11px] font-mono font-extrabold text-orange-600",children:[z.toFixed(2)," "]})]})]})]},S)}):a.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:""})})]})})]})}function HS({user:n,apiUrl:r}){const[c,d]=A.useState([]),[u,f]=A.useState(!1),[x,b]=A.useState(Je()),[h,p]=A.useState(Je()),[N,g]=A.useState(""),y=async()=>{f(!0);try{const S=await Se(r,"getExpenditures",{startDate:x,endDate:h},n.token);Array.isArray(S)?d(S):d([])}catch(S){console.error("Failed to fetch expenditures:",S)}finally{f(!1)}};A.useEffect(()=>{n?.token&&y()},[n.token,r]);const w=c.filter(S=>`${S.customer||""} ${S.salesRep||""} ${S.note||""}`.toLowerCase().includes(N.toLowerCase())),C=w.reduce((S,z)=>(S.stall+=Number(z.stall||0),S.cleaning+=Number(z.cleaning||0),S.electricity+=Number(z.electricity||0),S.gas+=Number(z.gas||0),S.parking+=Number(z.parking||0),S.goods+=Number(z.goods||0),S.bags+=Number(z.bags||0),S.others+=Number(z.others||0),S.serviceFee+=Number(z.serviceFee||0),S.linePay+=Number(z.linePay||0),S.finalTotal+=Number(z.finalTotal||0),S.vehicleMaintenance+=Number(z.vehicleMaintenance||0),S.salary+=Number(z.salary||0),S.reserve+=Number(z.reserve||0),S),{stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,serviceFee:0,linePay:0,finalTotal:0,vehicleMaintenance:0,salary:0,reserve:0}),M=C.stall+C.cleaning+C.electricity+C.gas+C.parking+C.bags+C.others+C.vehicleMaintenance+C.salary+C.serviceFee,v=[{key:"stall",label:"",color:"text-[var(--accent-blue)]"},{key:"cleaning",label:"",color:"text-indigo-600"},{key:"electricity",label:"",color:"text-amber-500"},{key:"gas",label:"",color:"text-orange-600"},{key:"parking",label:"",color:"text-[var(--text-secondary)]"},{key:"bags",label:"",color:"text-teal-600"},{key:"serviceFee",label:"",color:"text-rose-600"},{key:"others",label:"",color:"text-purple-600"},{key:"vehicleMaintenance",label:"",color:"text-indigo-600"},{key:"salary",label:"",color:"text-amber-500"}];return a.jsxs("div",{className:"max-w-7xl mx-auto p-3 md:p-4 space-y-3 md:space-y-4 flex flex-col h-full animate-in fade-in duration-500",children:[a.jsx("div",{className:"flex justify-between items-start gap-4 shrink-0",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ht,{className:"text-rose-500 shrink-0"}),a.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)] whitespace-nowrap",children:""})]}),a.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1 pl-8 md:pl-0 truncate",children:"(Cost Calculation) "})]})}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 shrink-0",children:[a.jsxs("div",{className:"glass-panel px-1 py-1.5 md:px-4 bg-[var(--bg-secondary)] border-[var(--border-primary)] flex flex-col justify-center items-center",children:[a.jsx("p",{className:"text-[9px] md:text-[10px] text-[var(--text-secondary)] uppercase font-bold text-center leading-tight",children:""}),a.jsxs("p",{className:"text-xs md:text-xl font-bold text-rose-500 text-center text-nowrap mt-0.5 md:mt-1",children:["$",M.toLocaleString()]})]}),a.jsxs("div",{className:"glass-panel px-1 py-1.5 md:px-4 bg-[var(--bg-secondary)] border-[var(--border-primary)] flex flex-col justify-center items-center",children:[a.jsx("p",{className:"text-[9px] md:text-[10px] text-[var(--text-secondary)] uppercase font-bold text-center leading-tight",children:""}),a.jsxs("p",{className:"text-xs md:text-xl font-bold text-emerald-500 text-center text-nowrap mt-0.5 md:mt-1",children:["$",C.goods.toLocaleString()]})]}),a.jsxs("div",{className:"glass-panel px-1 py-1.5 md:px-4 bg-[var(--bg-secondary)] border-[var(--border-primary)] flex flex-col justify-center items-center",children:[a.jsx("p",{className:"text-[9px] md:text-[10px] text-[var(--text-secondary)] uppercase font-bold text-center leading-tight",children:""}),a.jsxs("p",{className:"text-xs md:text-xl font-bold text-emerald-500 text-center text-nowrap mt-0.5 md:mt-1",children:["$",C.reserve.toLocaleString()]})]}),a.jsxs("div",{className:"glass-panel px-1 py-1.5 md:px-4 bg-[var(--bg-secondary)] border-[var(--border-primary)] flex flex-col justify-center items-center",children:[a.jsx("p",{className:"text-[9px] md:text-[10px] text-[var(--text-secondary)] uppercase font-bold text-center leading-tight",children:"Line Pay"}),a.jsxs("p",{className:"text-xs md:text-xl font-bold text-[var(--text-primary)] text-center text-nowrap mt-0.5 md:mt-1",children:["$",C.linePay.toLocaleString()]})]})]}),a.jsxs("div",{className:"p-3 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-3 bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:[a.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-row md:items-center gap-2 w-full",children:[a.jsx("div",{className:"space-y-1 w-full md:w-auto md:flex-1",children:a.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-[var(--bg-primary)] text-[var(--text-primary)] text-xs md:text-sm",value:x,onChange:S=>b(S.target.value)})}),a.jsx("span",{className:"text-[var(--text-tertiary)] font-bold text-center md:text-left self-center hidden md:block",children:""}),a.jsx("div",{className:"space-y-1 w-full md:w-auto md:flex-1",children:a.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-[var(--bg-primary)] text-[var(--text-primary)] text-xs md:text-sm",value:h,onChange:S=>p(S.target.value)})})]}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full h-10 text-[var(--text-primary)] bg-[var(--bg-primary)]",value:N,onChange:S=>g(S.target.value)})]}),a.jsxs("button",{onClick:y,className:"btn-primary w-full md:w-auto h-10 flex items-center justify-center gap-2",children:[a.jsx(nt,{size:18,className:u?"animate-spin":""})," "]})]}),a.jsx("div",{className:"grid grid-cols-5 md:grid-cols-10 gap-1.5 md:gap-2 shrink-0",children:v.map(S=>a.jsxs("div",{className:"p-1 px-0.5 md:p-2 bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-lg shadow-sm flex flex-col justify-center items-center h-12 md:h-14",children:[a.jsx("p",{className:"text-[9px] md:text-[10px] text-[var(--text-secondary)] font-bold uppercase truncate w-full text-center leading-tight",children:S.label}),a.jsxs("p",{className:`text-[10px] md:text-sm font-bold ${S.color} mt-0.5`,children:["$",C[S.key].toLocaleString()]})]},S.key))}),a.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-xl shadow-sm p-0 flex-1 border border-[var(--border-primary)] relative overflow-hidden",children:[a.jsx("div",{className:"hidden md:block h-full overflow-y-auto overflow-x-hidden custom-scrollbar",children:a.jsxs("table",{className:"w-full text-left text-[10px] md:text-sm border-separate border-spacing-0",children:[a.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0 z-30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-2 py-3 border-b border-[var(--border-primary)] bg-[var(--bg-secondary)] whitespace-nowrap",children:"//"}),a.jsx("th",{className:"px-2 py-3 text-right border-b border-[var(--border-primary)]",children:""}),a.jsx("th",{className:"px-2 py-3 text-right border-b border-[var(--border-primary)]",children:""}),a.jsx("th",{className:"px-2 py-3 text-right border-b border-[var(--border-primary)]",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:u?a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"p-20 text-center text-[var(--text-secondary)] font-medium",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(nt,{className:"animate-spin text-rose-500"}),a.jsx("span",{children:"..."})]})})}):w.length>0?w.map((S,z)=>a.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)] transition-colors group",children:[a.jsx("td",{className:"px-2 py-4 bg-[var(--bg-primary)] border-b border-[var(--border-primary)] group-hover:bg-[var(--bg-secondary)] transition-colors",children:a.jsxs("div",{className:"flex flex-col gap-0.5",children:[a.jsxs("div",{className:"text-[var(--text-secondary)] font-mono text-xs flex items-center gap-1.5 mb-1",children:[a.jsx(On,{size:12,className:"text-[var(--text-tertiary)]"}),(()=>{const T=S.date||S.serverTimestamp;if(!T)return"";const k=new Date(T);return isNaN(k.getTime())?String(T):k.toLocaleString("zh-TW",{hour12:!1})})()]}),a.jsxs("div",{className:"pl-5 flex flex-col gap-0.5",children:[a.jsx("div",{className:"text-sm font-bold text-[var(--text-primary)]",children:S.customer||S.note||""}),a.jsxs("div",{className:"text-[10px] text-[var(--text-secondary)] font-medium",children:[": ",S.salesRep||"-"]})]})]})}),a.jsx("td",{className:"px-2 py-4 text-right align-top",children:a.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1 text-[11px] content-start",children:[a.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",a.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(S.stall||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",a.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(S.cleaning||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",a.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(S.electricity||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",a.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(S.gas||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",a.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(S.parking||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",a.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(S.goods||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",a.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(S.bags||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",a.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(S.others||0).toLocaleString()]})]})]})}),a.jsx("td",{className:"px-2 py-4 text-right align-top",children:a.jsxs("div",{className:"flex flex-col gap-1.5 items-end",children:[a.jsxs("div",{className:"flex justify-between w-28 bg-[var(--bg-secondary)] px-2 py-0.5 rounded border border-emerald-100",children:[a.jsx("span",{className:"text-[9px] text-emerald-500/70 uppercase font-bold",children:"LP "}),a.jsxs("span",{className:"text-[11px] font-bold text-emerald-500",children:["+$",Number(S.linePay||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between w-28 bg-rose-50 px-2 py-0.5 rounded border border-rose-100",children:[a.jsx("span",{className:"text-[9px] text-rose-600/70 uppercase font-bold",children:""}),a.jsxs("span",{className:"text-[11px] font-bold text-rose-700",children:["-$",Number(S.serviceFee||0).toLocaleString()]})]})]})}),a.jsx("td",{className:"px-2 py-4 text-right align-top",children:a.jsxs("div",{className:"flex flex-col gap-1 text-xs items-end",children:[a.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",a.jsxs("span",{className:"text-indigo-600 font-bold",children:["$",Number(S.vehicleMaintenance||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",a.jsxs("span",{className:"text-amber-500 font-bold",children:["$",Number(S.salary||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",a.jsxs("span",{className:"text-purple-600 font-bold",children:["$",Number(S.reserve||0).toLocaleString()]})]})]})})]},z)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"p-20 text-center text-[var(--text-secondary)] font-medium",children:""})})})]})}),a.jsx("div",{className:"md:hidden h-full overflow-y-auto p-3 space-y-3 custom-scrollbar",children:u?a.jsxs("div",{className:"p-10 text-center text-[var(--text-secondary)] font-medium flex flex-col items-center gap-2",children:[a.jsx(nt,{className:"animate-spin text-rose-500"}),a.jsx("span",{children:"..."})]}):w.length>0?w.map((S,z)=>a.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] p-3 shadow-sm text-xs space-y-3",children:[a.jsx("div",{className:"flex justify-between items-start border-b border-[var(--border-primary)] pb-2",children:a.jsxs("div",{className:"flex flex-col gap-0.5",children:[a.jsx("div",{className:"font-bold text-[var(--text-primary)] text-sm",children:S.customer||S.note||""}),a.jsxs("div",{className:"text-[var(--text-secondary)] font-medium text-[10px]",children:[": ",S.salesRep||"-"]}),a.jsxs("div",{className:"text-[var(--text-tertiary)] font-mono text-[9px] flex items-center gap-1 mt-1",children:[a.jsx(On,{size:10}),(()=>{const T=S.date||S.serverTimestamp,k=new Date(T);return isNaN(k.getTime())?String(T):k.toLocaleString("zh-TW",{hour12:!1})})()]})]})}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),a.jsxs("div",{className:"space-y-0.5 text-[var(--text-secondary)]",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:""})," ",a.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(S.stall||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:""})," ",a.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(S.cleaning||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:""})," ",a.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(S.electricity||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:""})," ",a.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(S.gas||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:""})," ",a.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(S.parking||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:""})," ",a.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(S.goods||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:""})," ",a.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(S.bags||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:""})," ",a.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(S.others||0).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between items-center text-emerald-500 bg-[var(--bg-secondary)] px-1.5 py-0.5 rounded",children:[a.jsx("span",{children:"LP"})," ",a.jsxs("span",{className:"font-bold",children:["+$",Number(S.linePay||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between items-center text-rose-500 bg-[var(--bg-secondary)] px-1.5 py-0.5 rounded",children:[a.jsx("span",{children:""})," ",a.jsxs("span",{className:"font-bold",children:["-$",Number(S.serviceFee||0).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),a.jsxs("div",{className:"space-y-0.5 text-[var(--text-secondary)]",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-indigo-600",children:""})," ",a.jsxs("span",{className:"font-bold text-indigo-600",children:["$",Number(S.vehicleMaintenance||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-amber-500",children:""})," ",a.jsxs("span",{className:"font-bold text-amber-500",children:["$",Number(S.salary||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-purple-600",children:""})," ",a.jsxs("span",{className:"font-bold text-purple-600",children:["$",Number(S.reserve||0).toLocaleString()]})]})]})]})]})]})]},z)):a.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)] font-medium",children:""})})]})]})}function $S({user:n,apiUrl:r}){const[c,d]=A.useState(!1),[u,f]=A.useState(Je().substring(0,8)+"01"),[x,b]=A.useState(Je()),[h,p]=A.useState({revenue:0,cogs:0,grossProfit:0,expenses:{},totalExpenses:0,netIncome:0}),N=async()=>{d(!0);try{const[w,C]=await Promise.all([Se(r,"getProfitAnalysis",{startDate:u,endDate:x},n.token),Se(r,"getExpenditures",{startDate:u,endDate:x},n.token)]);let M=0,v=0;Array.isArray(w)&&w.forEach(T=>{M+=Number(T.revenue||0),v+=Number(T.cost||0)});let S=0;const z={stall:0,cleaning:0,electricity:0,gas:0,parking:0,bags:0,serviceFee:0,others:0,vehicleMaintenance:0,salary:0};Array.isArray(C)&&C.forEach(T=>{z.stall+=Number(T.stall||0),z.cleaning+=Number(T.cleaning||0),z.electricity+=Number(T.electricity||0),z.gas+=Number(T.gas||0),z.parking+=Number(T.parking||0),z.bags+=Number(T.bags||0),z.serviceFee+=Number(T.serviceFee||0),z.others+=Number(T.others||0),z.vehicleMaintenance+=Number(T.vehicleMaintenance||0),z.salary+=Number(T.salary||0)}),Object.values(z).forEach(T=>S+=T),p({revenue:M,cogs:v,grossProfit:M-v,expenses:z,totalExpenses:S,netIncome:M-v-S})}catch(w){console.error("Failed to fetch income statement data:",w),alert("")}finally{d(!1)}};A.useEffect(()=>{n?.token&&N()},[n.token,r]);const g=w=>`$${Math.round(w).toLocaleString()}`,y=(w,C)=>C===0?"0%":`${(w/C*100).toFixed(1)}%`;return a.jsxs("div",{className:"max-w-4xl mx-auto p-2 md:p-6 space-y-2 md:space-y-6 flex flex-col h-[calc(100dvh-6rem)] overflow-hidden",children:[a.jsxs("div",{className:"flex justify-between items-center shrink-0 gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nd,{className:"text-emerald-500 shrink-0 w-5 h-5 md:w-6 md:h-6"}),a.jsx("h1",{className:"text-lg md:text-2xl font-bold text-[var(--text-primary)] whitespace-nowrap",children:""})]}),a.jsxs("div",{className:"hidden md:block",children:[a.jsx("div",{className:"text-[var(--text-tertiary)] text-sm font-medium mt-0.5 inline ml-2",children:"(Income Statement)"}),a.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1 truncate",children:""})]})]}),a.jsx("button",{onClick:N,className:"btn-secondary p-1.5 md:p-2 rounded-lg md:rounded-xl shrink-0",children:a.jsx(nt,{size:16,className:`md:w-5 md:h-5 ${c?"animate-spin":""}`})})]}),a.jsxs("div",{className:"bg-[var(--bg-secondary)] p-2 md:p-4 rounded-xl border border-[var(--border-primary)] shrink-0 flex flex-col md:flex-row md:items-center gap-2 md:gap-4 shadow-sm",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(Na,{size:18,className:"text-[var(--text-tertiary)]"})}),a.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-row md:items-center gap-2 flex-1 w-full",children:[a.jsx("div",{className:"w-full md:w-auto md:flex-1",children:a.jsx("input",{type:"date",className:"input-field w-full h-8 md:h-10 appearance-none bg-[var(--bg-primary)] text-xs md:text-sm",value:u,onChange:w=>f(w.target.value)})}),a.jsx("span",{className:"text-[var(--text-secondary)] font-bold text-center md:text-left self-center hidden md:block",children:""}),a.jsx("div",{className:"w-full md:w-auto md:flex-1",children:a.jsx("input",{type:"date",className:"input-field w-full h-8 md:h-10 appearance-none bg-[var(--bg-primary)] text-xs md:text-sm",value:x,onChange:w=>b(w.target.value)})})]}),a.jsx("button",{onClick:N,className:"btn-primary h-8 md:h-10 px-6 w-full md:w-auto text-xs md:text-sm",children:""})]}),a.jsx("div",{className:"bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] overflow-hidden flex-1 flex flex-col shadow-sm min-h-0",children:a.jsx("div",{className:"flex-1 p-3 md:p-8",children:a.jsxs("div",{className:"space-y-4 md:space-y-6 max-w-2xl mx-auto font-mono text-sm md:text-base",children:[a.jsxs("div",{className:"space-y-1 md:space-y-2",children:[a.jsx("h3",{className:"text-emerald-500 font-bold text-base md:text-lg border-b border-[var(--border-primary)] pb-1 md:pb-2 mb-2 md:mb-4",children:" (Revenue)"}),a.jsxs("div",{className:"flex justify-between items-center text-xs md:text-base",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:""}),a.jsx("span",{className:"text-[var(--text-primary)] font-bold",children:g(h.revenue)})]}),a.jsxs("div",{className:"flex justify-between items-center text-rose-600 text-xs md:text-base",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(xv,{size:12,className:"md:w-3.5 md:h-3.5"})," "]}),a.jsxs("span",{children:["- ",g(h.cogs)]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-1 md:pt-2 border-t border-[var(--border-primary)] text-xs md:text-base",children:[a.jsx("span",{className:"text-emerald-500 font-bold",children:" (Gross Profit)"}),a.jsx("span",{className:"text-emerald-500 font-bold",children:g(h.grossProfit)})]}),a.jsxs("div",{className:"text-right text-[10px] md:text-xs text-[var(--text-secondary)]",children:[": ",y(h.grossProfit,h.revenue)]})]}),a.jsxs("div",{className:"space-y-1 md:space-y-2 mt-2 md:mt-8",children:[a.jsx("h3",{className:"text-amber-500 font-bold text-base md:text-lg border-b border-amber-200 pb-1 md:pb-2 mb-2 md:mb-4 whitespace-nowrap",children:" (Operating Expenses)"}),a.jsx("div",{className:"grid grid-cols-3 md:grid-cols-1 gap-2 md:gap-0",children:Object.entries(h.expenses).map(([w,C])=>{const M={stall:"",cleaning:"",electricity:"",gas:"",parking:"",bags:"",serviceFee:"",others:"",vehicleMaintenance:"",salary:""};return C===0?null:a.jsxs("div",{className:"flex flex-col md:flex-row justify-center md:justify-between items-center md:items-center text-[var(--text-secondary)] text-[10px] md:text-sm bg-[var(--bg-secondary)] md:bg-transparent p-1 md:p-0 rounded md:rounded-none",children:[a.jsx("span",{className:"font-medium",children:M[w]}),a.jsx("span",{className:"text-[var(--text-primary)] font-bold md:font-normal",children:g(C)})]},w)})}),a.jsxs("div",{className:"flex justify-between items-center pt-1 md:pt-2 border-t border-[var(--border-primary)] text-amber-500 mt-1 text-xs md:text-base",children:[a.jsx("span",{className:"font-bold",children:""}),a.jsxs("span",{className:"font-bold",children:["- ",g(h.totalExpenses)]})]})]}),a.jsxs("div",{className:"mt-2 md:mt-8 pt-2 md:pt-4 border-t-2 border-[var(--border-primary)]",children:[a.jsxs("div",{className:"flex justify-between items-center text-base md:text-xl",children:[a.jsx("span",{className:"text-[var(--text-primary)] font-bold",children:" (Net Income)"}),a.jsx("span",{className:`font-bold ${h.netIncome>=0?"text-emerald-500":"text-rose-600"}`,children:g(h.netIncome)})]}),a.jsxs("div",{className:"text-right text-[10px] md:text-sm text-[var(--text-secondary)] mt-0.5 md:mt-1",children:[": ",y(h.netIncome,h.revenue)]})]})]})})})]})}function GS({user:n,apiUrl:r}){const[c,d]=A.useState(!1),[u,f]=A.useState({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0,vehicleMaintenance:0,salary:0,reserve:0}),[x,b]=A.useState(""),h=async()=>{if(!x.trim()){alert("");const v=document.getElementById("input-expense-note");v&&(v.focus(),v.scrollIntoView({behavior:"smooth",block:"center"}));return}const C=Number(u.stall)+Number(u.cleaning)+Number(u.electricity)+Number(u.gas)+Number(u.parking)+Number(u.goods)+Number(u.bags)+Number(u.others)+Number(u.serviceFee)+Number(u.vehicleMaintenance)+Number(u.salary)+Number(u.reserve)+Number(u.linePay),M={note:x,salesRep:n.username,...u,finalTotal:C};d(!0);try{await Se(r,"saveExpenditure",M,n.token),alert(" Expenditures "),f({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0,vehicleMaintenance:0,salary:0,reserve:0}),b("")}catch(v){alert(": "+v.message)}finally{d(!1)}},p=w=>{const C=document.getElementById(w);C&&(C.focus(),C.select?.(),C.scrollIntoView({block:"nearest",behavior:"smooth"}))},N=(w,C)=>{const M=["note","stall","cleaning","electricity","gas","parking","goods","bags","others","linePay","serviceFee","vehicleMaintenance","salary","reserve"],v=M.indexOf(C);w.key==="Enter"||w.key==="ArrowRight"?(w.preventDefault(),v<M.length-1?p(`input-expense-${M[v+1]}`):w.key==="Enter"&&h()):w.key==="ArrowLeft"?(w.preventDefault(),v>0&&p(`input-expense-${M[v-1]}`)):w.key==="ArrowDown"?(w.preventDefault(),["stall","cleaning","electricity","gas","parking","goods"].includes(C)?p(`input-expense-${{stall:"electricity",cleaning:"gas",electricity:"parking",gas:"goods",parking:"bags",goods:"others"}[C]}`):v<M.length-1&&p(`input-expense-${M[v+1]}`)):w.key==="ArrowUp"&&(w.preventDefault(),["electricity","gas","parking","goods","bags","others"].includes(C)?p(`input-expense-${{electricity:"stall",gas:"cleaning",parking:"electricity",goods:"gas",bags:"parking",others:"goods"}[C]}`):v>0&&p(`input-expense-${M[v-1]}`))},y=Number(u.stall)+Number(u.cleaning)+Number(u.electricity)+Number(u.gas)+Number(u.parking)+Number(u.goods)+Number(u.bags)+Number(u.others)+Number(u.serviceFee)+Number(u.vehicleMaintenance)+Number(u.salary)+Number(u.reserve)+Number(u.linePay);return a.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6 space-y-6 animate-in fade-in duration-500 relative",children:[c&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-rose-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:"..."})]}),a.jsxs("div",{className:"flex flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2 truncate",children:[a.jsx("div",{className:"p-1.5 md:p-2 bg-rose-100 rounded-lg shrink-0",children:a.jsx(ht,{className:"text-rose-600 w-5 h-5 md:w-6 md:h-6"})}),""]}),a.jsx("p",{className:"text-[var(--text-secondary)] text-xs md:text-sm mt-1 truncate",children:""})]}),a.jsxs("div",{className:"bg-rose-50 px-3 md:px-6 py-2 md:py-3 border border-rose-200 rounded-xl shadow-sm shrink-0 flex flex-col items-end",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase tracking-wider",children:""}),a.jsxs("p",{className:"text-lg md:text-2xl font-black text-rose-600",children:["$",y.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 text-[var(--accent-blue)] font-bold",children:[a.jsx(hv,{size:18}),a.jsx("span",{children:""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-[var(--text-secondary)] font-bold block mb-2",children:" /  *"}),a.jsx("input",{id:"input-expense-note",type:"text",className:"input-field w-full text-lg py-3 bg-[var(--bg-primary)]",placeholder:"1/7 ...",value:x,onChange:w=>b(w.target.value),onKeyDown:w=>N(w,"note")})]})]}),a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6 text-emerald-500 font-bold",children:[a.jsx(ch,{size:18}),a.jsx("span",{children:""})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[{key:"stall",label:"",next:"cleaning"},{key:"cleaning",label:"",next:"electricity",prev:"stall"},{key:"electricity",label:"",next:"gas",prev:"cleaning"},{key:"gas",label:"",next:"parking",prev:"electricity"},{key:"parking",label:"",next:"goods",prev:"gas"},{key:"goods",label:"",next:"bags",prev:"parking"},{key:"bags",label:"",next:"others",prev:"goods"},{key:"others",label:"",next:"linePay",prev:"bags"}].map(w=>a.jsxs("div",{className:"flex items-center justify-between gap-4 p-2 hover:bg-[var(--bg-secondary)] rounded-lg transition-colors border-b border-[var(--border-primary)] last:border-0",children:[a.jsx("label",{className:"text-sm text-[var(--text-secondary)] font-medium whitespace-nowrap",children:w.label}),a.jsx("input",{id:`input-expense-${w.key}`,type:"number",className:"input-field text-right w-32 bg-[var(--bg-primary)]",value:u[w.key]||"",onChange:C=>f({...u,[w.key]:Number(C.target.value)}),onKeyDown:C=>N(C,w.key),onWheel:C=>C.target.blur()})]},w.key))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"glass-panel p-6 border-[var(--border-primary)]",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6 text-amber-500 font-bold",children:[a.jsx(gv,{size:18}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-[var(--text-secondary)] block mb-1",children:"Line Pay "}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"input-expense-linePay",type:"number",className:"input-field w-full pl-8 border-[var(--border-primary)] text-emerald-500 bg-[var(--bg-secondary)]",value:u.linePay||"",onChange:w=>f({...u,linePay:Number(w.target.value)}),onKeyDown:w=>N(w,"linePay"),onWheel:w=>w.target.blur()}),a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-emerald-500 font-bold",children:"+"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-[var(--text-secondary)] block mb-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"input-expense-serviceFee",type:"number",className:"input-field w-full pl-8 border-rose-200 text-rose-700 bg-rose-50",value:u.serviceFee||"",onChange:w=>f({...u,serviceFee:Number(w.target.value)}),onKeyDown:w=>N(w,"serviceFee"),onWheel:w=>w.target.blur()}),a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-rose-600 font-bold",children:"-"})]})]})]})]}),a.jsxs("div",{className:"glass-panel p-6 border-indigo-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6 text-indigo-600 font-bold",children:[a.jsx(Sd,{size:18}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("label",{className:"text-xs text-[var(--text-secondary)] flex items-center gap-2 font-bold",children:[a.jsx(Sd,{size:14})," "]}),a.jsx("input",{id:"input-expense-vehicleMaintenance",type:"number",className:"input-field w-28 text-right bg-[var(--bg-primary)]",value:u.vehicleMaintenance||"",onChange:w=>f({...u,vehicleMaintenance:Number(w.target.value)}),onKeyDown:w=>N(w,"vehicleMaintenance"),onWheel:w=>w.target.blur()})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("label",{className:"text-xs text-[var(--text-secondary)] flex items-center gap-2 font-bold",children:[a.jsx(Si,{size:14})," "]}),a.jsx("input",{id:"input-expense-salary",type:"number",className:"input-field w-28 text-right bg-[var(--bg-primary)]",value:u.salary||"",onChange:w=>f({...u,salary:Number(w.target.value)}),onKeyDown:w=>N(w,"salary"),onWheel:w=>w.target.blur()})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("label",{className:"text-xs text-[var(--text-secondary)] flex items-center gap-2 font-bold",children:[a.jsx(Hv,{size:14})," "]}),a.jsx("input",{id:"input-expense-reserve",type:"number",className:"input-field w-28 text-right bg-[var(--bg-primary)]",value:u.reserve||"",onChange:w=>f({...u,reserve:Number(w.target.value)}),onKeyDown:w=>N(w,"reserve"),onWheel:w=>w.target.blur()})]})]})]}),a.jsxs("button",{onClick:h,className:"btn-primary w-full py-4 text-lg font-black shadow-lg shadow-blue-100 hover:shadow-xl hover:shadow-blue-200 transition-all flex justify-center items-center gap-3 active:scale-95",children:[a.jsx(Us,{size:22})," "]}),a.jsx("p",{className:"text-center text-[var(--text-secondary)] text-[10px] uppercase font-bold tracking-tighter",children:"Data will be saved to Expenditures Sheet"})]})]})]})}function qS({user:n,apiUrl:r}){const[c,d]=A.useState([]),[u,f]=A.useState(!1),[x,b]=A.useState(!1),[h,p]=A.useState(""),[N,g]=A.useState({username:"",password:"",role:"VIEWER"}),[y,w]=A.useState(null),C=[{group:"",items:[{key:"sales_entry",label:""},{key:"sales_report",label:""}]},{group:"",items:[{key:"purchase_entry",label:""},{key:"purchase_history",label:""}]},{group:"",items:[{key:"inventory_adjust",label:""},{key:"inventory_stocktake",label:""},{key:"inventory_valuation",label:""},{key:"inventory_adjust_history",label:""},{key:"inventory_stocktake_history",label:""}]},{group:"",items:[{key:"finance_expenditure",label:""}]},{group:"",items:[{key:"finance_receivable",label:""},{key:"finance_payable",label:""},{key:"finance_income",label:""},{key:"finance_cost",label:""},{key:"finance_payroll",label:""}]},{group:"",items:[{key:"analytics_sales",label:""},{key:"analytics_customer",label:""},{key:"analytics_profit",label:""},{key:"analytics_turnover",label:""}]},{group:"",items:[{key:"system_config",label:""}]}],M=async()=>{if(!N.username||!N.password){alert("");return}b(!0),p(" ...");try{await Se(r,"addUser",N,n.token),g({username:"",password:"",role:"VIEWER"}),await S(),alert("")}catch(R){alert(": "+R.message)}finally{b(!1)}},v=async R=>{if(window.confirm(` ${R}?`)){b(!0),p(" ...");try{await Se(r,"deleteUser",{username:R},n.token),await S(),alert("")}catch(j){alert(": "+j.message)}finally{b(!1)}}},S=async()=>{f(!0);try{const R=await Se(r,"getUsers",{},n.token);if(Array.isArray(R)){const j=R.map(B=>{let q=B.permissions;if(typeof q=="string")try{q=JSON.parse(q)}catch(ne){console.error(`Failed to parse permissions for ${B.username}`,ne),q=[]}return{...B,permissions:Array.isArray(q)?q:[]}});d(j)}else console.warn("Backend returned non-array for users")}catch(R){console.error("Failed to fetch users:",R),alert("")}finally{f(!1)}};A.useEffect(()=>{n?.token&&S()},[n.token,r]);const z=async()=>{if(y){b(!0),p(" ...");try{await Se(r,"updateUserPermissions",{username:y.username,permissions:y.permissions},n.token),w(null),await S(),alert("")}catch(R){console.error(R),alert(": "+R.message)}finally{b(!1)}}},T=R=>{if(!y)return;const j=y.permissions||[];j.includes(R)?w({...y,permissions:j.filter(B=>B!==R)}):w({...y,permissions:[...j,R]})},k=R=>{if(!y)return;const j=y.permissions||[],B=R.map(ne=>ne.key);if(B.every(ne=>j.includes(ne)))w({...y,permissions:j.filter(ne=>!B.includes(ne))});else{const ne=j.filter(ce=>!B.includes(ce));w({...y,permissions:[...ne,...B]})}};return a.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[x&&a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-[2px] z-[60] flex items-center justify-center animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-[var(--bg-primary)] p-6 rounded-2xl shadow-xl flex flex-col items-center gap-4 min-w-[200px]",children:[a.jsx(nt,{className:"animate-spin text-[var(--accent-blue)]",size:32}),a.jsx("span",{className:"text-[var(--text-primary)] font-bold text-base",children:h})]})}),a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("h1",{className:"text-lg md:text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(va,{className:"text-rose-500",size:20})," "]}),a.jsx("p",{className:"text-[10px] md:text-sm text-[var(--text-tertiary)] font-medium",children:"(Permission Control)"})]}),a.jsx("button",{onClick:S,className:"btn-secondary p-2 rounded-xl",children:a.jsx(nt,{size:18,className:u?"animate-spin":""})})]}),a.jsxs("div",{className:"glass-panel p-4 md:p-6 border-l-4 border-l-emerald-500 shrink-0",children:[a.jsxs("h3",{className:"font-bold text-base md:text-lg mb-3 flex items-center gap-2 text-[var(--text-primary)]",children:[a.jsx(e0,{size:18,className:"text-emerald-500"})," "]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end relative",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-[var(--text-secondary)] uppercase font-bold px-1",children:" (Username)"}),a.jsx("input",{id:"input-new-username",type:"text",className:"input-field w-full",value:N.username,onChange:R=>g({...N,username:R.target.value}),onKeyDown:R=>{(R.key==="Enter"||R.key==="ArrowRight")&&(R.preventDefault(),document.getElementById("input-new-password")?.focus())},placeholder:""})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-[var(--text-secondary)] uppercase font-bold px-1",children:" (Password)"}),a.jsx("input",{id:"input-new-password",type:"password",className:"input-field w-full",value:N.password,onChange:R=>g({...N,password:R.target.value}),onKeyDown:R=>{R.key==="Enter"||R.key==="ArrowRight"?(R.preventDefault(),document.getElementById("input-new-role")?.focus()):R.key==="ArrowLeft"&&(R.preventDefault(),document.getElementById("input-new-username")?.focus())},placeholder:""})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-[var(--text-secondary)] uppercase font-bold px-1",children:" (Role)"}),a.jsxs("select",{id:"input-new-role",className:"input-field w-full",value:N.role,onChange:R=>g({...N,role:R.target.value}),onKeyDown:R=>{R.key==="Enter"||R.key==="ArrowRight"?(R.preventDefault(),document.getElementById("btn-add-user")?.focus()):R.key==="ArrowLeft"&&(R.preventDefault(),document.getElementById("input-new-password")?.focus())},children:[a.jsx("option",{value:"BOSS",children:" (BOSS)"}),a.jsx("option",{value:"ADMIN",children:" (ADMIN)"}),a.jsx("option",{value:"EMPLOYEE",children:" (EMPLOYEE)"}),a.jsx("option",{value:"VIEWER",children:" (VIEWER)"})]})]}),a.jsxs("button",{id:"btn-add-user",onClick:M,onKeyDown:R=>{R.key==="ArrowLeft"&&(R.preventDefault(),document.getElementById("input-new-role")?.focus())},className:"btn-primary flex justify-center items-center gap-2",disabled:u,children:[a.jsx(Us,{size:18})," "]})]})]}),a.jsx("div",{className:"glass-panel p-0 overflow-hidden flex-1 flex flex-col",children:a.jsxs("div",{className:"overflow-y-auto flex-1",children:[a.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0 z-10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:" (Username)"}),a.jsx("th",{className:"p-4",children:" (Role)"}),a.jsx("th",{className:"p-4 text-center",children:" (Status)"}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-primary)]",children:c.length>0?c.map((R,j)=>a.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)] transition-colors",children:[a.jsx("td",{className:"p-4 text-[var(--text-primary)] font-bold",children:R.username}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold border ${R.role==="BOSS"?"bg-amber-500/10 text-amber-500 border-amber-500/20":R.role==="ADMIN"?"bg-rose-500/10 text-rose-500 border-rose-500/20":R.role==="EMPLOYEE"?"bg-blue-500/10 text-blue-500 border-blue-500/20":(R.role==="VIEWER","bg-slate-500/10 text-[var(--text-secondary)] border-slate-500/20")}`,children:R.role})}),a.jsx("td",{className:"p-4 text-center",children:R.status==="ACTIVE"?a.jsxs("span",{className:"flex items-center justify-center gap-2 text-emerald-500 font-bold text-xs",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.3)]"})," ACTIVE"]}):a.jsxs("span",{className:"flex items-center justify-center gap-2 text-[var(--text-secondary)] font-bold text-xs",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-500"})," ",R.status||"UNKNOWN"]})}),a.jsx("td",{className:"p-4 text-center flex items-center justify-center gap-2",children:R.username!=="admin"&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{onClick:()=>{let B=Array.isArray(R.permissions)?[...R.permissions]:[];const q={sales:["sales_entry","sales_report"],purchase:["purchase_entry","purchase_history"],inventory:["inventory_adjust","inventory_stocktake","inventory_valuation","inventory_adjust_history","inventory_stocktake_history"],finance:["finance_expenditure","finance_receivable","finance_payable","finance_income","finance_cost"],analytics:["analytics_sales","analytics_customer","analytics_profit","analytics_turnover"],system:["system_config"],inventory_history:["inventory_adjust_history","inventory_stocktake_history"]};Object.keys(q).forEach(ne=>{B.includes(ne)&&(B=B.filter(ce=>ce!==ne),q[ne].forEach(ce=>{B.includes(ce)||B.push(ce)}))}),w({username:R.username,permissions:B})},className:"p-2 text-[var(--text-tertiary)] hover:text-[var(--accent-blue)] transition-colors",title:"",children:a.jsx(va,{size:16})}),a.jsx("button",{onClick:()=>v(R.username),className:"p-2 text-[var(--text-tertiary)] hover:text-rose-400 transition-colors",title:"",children:a.jsx(ji,{size:16})})]})})]},j)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"p-20 text-center text-[var(--text-secondary)]",children:u?"...":""})})})]}),a.jsx("div",{className:"md:hidden divide-y divide-[var(--border-primary)]",children:c.length>0?c.map((R,j)=>a.jsx("div",{className:"p-6 bg-[var(--bg-primary)] hover:bg-[var(--bg-secondary)] transition-colors border-b border-[var(--border-primary)] last:border-0 shadow-sm",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-lg font-extrabold text-[var(--text-primary)] leading-tight",children:R.username}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:`px-2.5 py-0.5 rounded text-[11px] font-bold border ${R.role==="BOSS"?"bg-amber-500/10 text-amber-500 border-amber-500/20":R.role==="ADMIN"?"bg-rose-500/10 text-rose-500 border-rose-500/20":R.role==="EMPLOYEE"?"bg-blue-500/10 text-blue-500 border-blue-500/20":"bg-slate-500/10 text-[var(--text-secondary)] border-slate-500/20"}`,children:R.role}),R.status==="ACTIVE"?a.jsxs("span",{className:"flex items-center gap-1.5 text-emerald-500 font-bold text-[11px]",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"})," ACTIVE"]}):a.jsxs("span",{className:"flex items-center gap-1.5 text-[var(--text-tertiary)] font-bold text-[11px]",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-300"})," ",R.status||"OFF"]})]})]}),R.username!=="admin"&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{let B=Array.isArray(R.permissions)?[...R.permissions]:[];const q={sales:["sales_entry","sales_report"],purchase:["purchase_entry","purchase_history"],inventory:["inventory_adjust","inventory_stocktake","inventory_valuation","inventory_adjust_history","inventory_stocktake_history"],finance:["finance_expenditure","finance_receivable","finance_payable","finance_income","finance_cost"],analytics:["analytics_sales","analytics_customer","analytics_profit","analytics_turnover"],system:["system_config"],inventory_history:["inventory_adjust_history","inventory_stocktake_history"]};Object.keys(q).forEach(ne=>{B.includes(ne)&&(B=B.filter(ce=>ce!==ne),q[ne].forEach(ce=>{B.includes(ce)||B.push(ce)}))}),w({username:R.username,permissions:B})},className:"w-12 h-12 flex items-center justify-center text-[var(--accent-blue)] bg-[var(--bg-secondary)] rounded-xl active:scale-90 transition-transform shadow-sm",children:a.jsx(va,{size:22})}),a.jsx("button",{onClick:()=>v(R.username),className:"w-12 h-12 flex items-center justify-center text-rose-500 bg-[var(--bg-secondary)] rounded-xl active:scale-90 transition-transform shadow-sm",children:a.jsx(ji,{size:22})})]})]})},j)):a.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:u?"...":""})})]})}),y&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-2xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-[var(--border-primary)] bg-[var(--bg-secondary)]",children:[a.jsxs("h3",{className:"text-xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(va,{className:"text-[var(--accent-blue)]"}),"  (",y.username,")"]}),a.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:" (BOSS )"})]}),a.jsx("div",{className:"p-6 space-y-6 max-h-[65vh] overflow-y-auto custom-scrollbar",children:C.map(R=>{const j=R.items.map(q=>q.key),B=j.every(q=>y.permissions?.includes(q));return j.some(q=>y.permissions?.includes(q)),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between px-1 cursor-pointer group/title",onClick:()=>k(R.items),children:[a.jsx("h4",{className:"text-xs font-bold text-[var(--text-tertiary)] uppercase tracking-widest flex items-center gap-2 group-hover/title:text-[var(--accent-blue)] transition-colors",children:R.group}),a.jsx("span",{className:"text-[10px] text-[var(--accent-blue)] font-bold opacity-0 group-hover/title:opacity-100 transition-opacity",children:B?"":""})]}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:R.items.map((q,ne)=>{const ce=`perm-item-${q.key}`,H=K=>{if(!["Enter"," ","ArrowDown","ArrowUp","ArrowRight","ArrowLeft"].includes(K.key))return;K.preventDefault();const de=[];C.forEach(O=>{O.items.forEach(L=>de.push(L.key))});const ie=de.indexOf(q.key);if(K.key==="Enter"||K.key===" "){if(T(q.key),ie<de.length-1){const O=de[ie+1];document.getElementById(`perm-item-${O}`)?.focus()}}else if(K.key==="ArrowDown"||K.key==="ArrowRight"){if(ie<de.length-1){const O=de[ie+1];document.getElementById(`perm-item-${O}`)?.focus()}}else if((K.key==="ArrowUp"||K.key==="ArrowLeft")&&ie>0){const O=de[ie-1];document.getElementById(`perm-item-${O}`)?.focus()}};return a.jsxs("label",{id:ce,tabIndex:"0",onKeyDown:H,className:`flex items-center gap-3 p-3 rounded-xl border transition-all cursor-pointer group outline-none ring-offset-2 focus:ring-2 focus:ring-[var(--accent-blue)]/50 ${y.permissions?.includes(q.key)?"bg-[var(--bg-secondary)] border-[var(--border-primary)] shadow-sm":"bg-[var(--bg-secondary)] border-[var(--border-primary)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:`w-5 h-5 rounded-lg border flex items-center justify-center transition-all ${y.permissions?.includes(q.key)?"bg-[var(--accent-blue)] border-[var(--accent-blue)] text-white scale-110":"bg-[var(--bg-primary)] border-[var(--border-primary)] group-hover:border-[var(--accent-blue)]/50"}`,children:y.permissions?.includes(q.key)&&a.jsx(Hs,{size:12,fill:"currentColor"})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:y.permissions?.includes(q.key),onChange:()=>T(q.key)}),a.jsx("span",{className:`text-sm transition-colors ${y.permissions?.includes(q.key)?"text-[var(--text-primary)] font-bold":"text-[var(--text-secondary)]"}`,children:q.label})]},q.key)})})]},R.group)})}),a.jsxs("div",{className:"p-6 border-t border-[var(--border-primary)] flex justify-end gap-3 bg-[var(--bg-secondary)]",children:[a.jsx("button",{onClick:()=>w(null),className:"px-4 py-2 rounded-lg text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-black/5 transition-colors",children:""}),a.jsx("button",{onClick:z,className:"btn-primary px-6 py-2",children:""})]})]})})]})}function IS({user:n,apiUrl:r}){const[c,d]=A.useState(new Date().getFullYear()),[u,f]=A.useState(new Date().getMonth()+1),[x,b]=A.useState(n.username),[h,p]=A.useState([]),[N,g]=A.useState(!1),[y,w]=A.useState(null),[C,M]=A.useState(null),[v,S]=A.useState("LEAVE"),[z,T]=A.useState(""),[k,R]=A.useState(""),[j,B]=A.useState(!1),[q,ne]=A.useState({baseSalary:0,attendanceBonus:0,insurance:0,monthlyOffDays:8,bonusTiers:"[]"}),[ce,H]=A.useState(!1),[K,ee]=A.useState(!1),[de,ie]=A.useState({profile:{joinedDate:"",birthday:"",identityId:"",contact:"",note:""},seniorityText:"",estimatedLeaveDays:0}),[O,L]=A.useState({joinedDate:"",birthday:"",identityId:"",contact:"",note:""}),J={baseSalary:A.useRef(null),attendanceBonus:A.useRef(null),monthlyOffDays:A.useRef(null),insurance:A.useRef(null),bonusTiers:A.useRef(null)},F={editValue:A.useRef(null),editNote:A.useRef(null)};A.useEffect(()=>{n.role==="BOSS"&&Se(r,"getUsers",{},n.token).then(ge=>p(ge)).catch(ge=>console.error(ge))},[n.role,n.token,r]);const se=A.useCallback(async()=>{g(!0);try{const G=await Se(r,"getPayrollData",{year:c,month:u,targetUser:x},n.token);G&&!G.error?(w(G),G.config&&ne({...G.config,bonusTiers:JSON.stringify(G.config.bonusTiers||[])})):console.error(G?.error)}catch(G){console.error(G),alert(": "+G.message)}finally{g(!1)}},[c,u,x,n.token]),E=A.useCallback(async()=>{try{const G=await Se(r,"getEmployeeProfile",{targetUser:x},n.token);G&&!G.error&&(ie(G),L(G.profile))}catch(G){console.error(G)}},[x,n.token,r]),V=async()=>{if(!y||!y.summary){alert("");return}const G=` ${x} 

: $${(y.summary.finalSalary||0).toLocaleString()}
: ${c}${u}`;if(confirm(G)){H(!0);try{await Se(r,"savePayrollToExpenditure",{targetUser:x,year:c,month:u,finalSalary:y.summary.finalSalary},n.token),alert("")}catch(ge){console.error("Save payroll failed:",ge),alert(": "+ge.message)}finally{H(!1)}}};A.useEffect(()=>{se(),E()},[se,E]);const Z=async()=>{if(C){H(!0);try{await Se(r,"saveDailyRecord",{date:C.date,username:x,type:v,value:v==="WORK"||v==="LEAVE"||v==="SPECIAL_LEAVE"||v==="SICK_LEAVE"?1:Number(z),note:k},n.token),M(null),se()}catch(G){alert(": "+G.message)}finally{H(!1)}}},le=async()=>{H(!0);try{await Se(r,"saveEmployeeProfile",{username:x,...O},n.token),ee(!1),E()}catch(G){alert(": "+G.message)}finally{H(!1)}},oe=async()=>{let G=[];try{G=JSON.parse(q.bonusTiers)}catch{alert(" (JSON Error)");return}H(!0);try{await Se(r,"savePayrollSettings",{targetUser:x,baseSalary:Number(q.baseSalary),attendanceBonus:Number(q.attendanceBonus),insurance:Number(q.insurance),monthlyOffDays:Number(q.monthlyOffDays),bonusTiers:G},n.token),B(!1),se()}catch(ge){alert(": "+ge.message)}finally{H(!1)}},ue=(G,ge)=>{const Te=["baseSalary","attendanceBonus","monthlyOffDays","insurance","bonusTiers"],we=Te.indexOf(ge);if(!(ge==="bonusTiers")&&(G.key==="ArrowUp"||G.key==="ArrowDown")&&G.preventDefault(),G.key==="Enter"){if(ge==="bonusTiers"&&!G.ctrlKey)return;G.preventDefault();const $e=Te[we+1];$e&&J[$e].current&&(J[$e].current.focus(),J[$e].current.select?.());return}const lt={baseSalary:{ArrowRight:"attendanceBonus",ArrowDown:"monthlyOffDays"},attendanceBonus:{ArrowLeft:"baseSalary",ArrowDown:"insurance"},monthlyOffDays:{ArrowRight:"insurance",ArrowUp:"baseSalary",ArrowDown:"bonusTiers"},insurance:{ArrowLeft:"monthlyOffDays",ArrowUp:"attendanceBonus",ArrowDown:"bonusTiers"},bonusTiers:{}}[ge]?.[G.key];lt&&J[lt].current&&(G.preventDefault(),J[lt].current.focus(),J[lt].current.select?.())},P=(G,ge)=>{if(G.key==="Enter"&&(G.preventDefault(),ge==="editType"?v==="LOSS"?F.editValue.current?.focus():F.editNote.current?.focus():ge==="editValue"?F.editNote.current?.focus():ge==="editNote"&&Z()),ge==="editType"&&(G.key==="ArrowLeft"||G.key==="ArrowRight")){G.preventDefault();const Te=["WORK","LEAVE","SPECIAL_LEAVE","SICK_LEAVE","LOSS"];let we=Te.indexOf(v);G.key==="ArrowLeft"&&(we=(we-1+Te.length)%Te.length),G.key==="ArrowRight"&&(we=(we+1)%Te.length),S(Te[we])}},ye=((G,ge)=>{const Te=new Date(G,ge,0).getDate();return Array.from({length:Te},(we,it)=>{const Qe=new Date(G,ge-1,it+1),lt=Qe.getTimezoneOffset()*6e4;return{date:new Date(Qe.getTime()-lt).toISOString().split("T")[0],day:it+1,weekday:["","","","","","",""][Qe.getDay()]}})})(c,u),Ce=y?.summary||{};let me=0,Le=0,We=0,Oe=0;ye.forEach(G=>{const ge=G.date,Te=y?.dailyData?.[ge]||0,we=y?.dailyRecords?.[ge]||{};Te>0?me++:we.isLeave?Le++:we.isSpecialLeave?We++:we.isSickLeave?Oe++:Le++});const ua=G=>{if(!G)return"";try{if(G instanceof Date)return`${G.getMonth()+1}${G.getDate()}`;const ge=String(G),Te=new Date(ge);if(!isNaN(Te.getTime()))return`${Te.getMonth()+1}${Te.getDate()}`;const we=ge.match(/(\d{1,2})[/-](\d{1,2})/);return we?`${we[1]}${we[2]}`:ge.replace(/[/.-]/g,"")+""}catch(ge){return console.error("Format err",ge),String(G)}};return a.jsxs("div",{className:"p-2 md:p-8 space-y-4 md:space-y-6 max-w-7xl mx-auto pb-24",children:[a.jsxs("div",{className:"md:hidden space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center px-1 mb-6",children:[a.jsxs("h1",{className:"text-xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(ht,{className:"text-[var(--accent-blue)]",size:24})," "]}),a.jsx("button",{onClick:se,className:"btn-secondary py-1 px-3 text-xs h-7 rounded-full border-[var(--border-primary)] text-[var(--text-secondary)]",children:""})]}),a.jsx("div",{className:"flex justify-center",children:a.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-lg border border-[var(--border-primary)] shadow-sm h-10 px-1 flex items-center gap-1 w-full max-w-[340px] justify-center",children:[a.jsx("select",{value:c,onChange:G=>d(Number(G.target.value)),className:"bg-transparent text-sm font-medium text-[var(--text-primary)] h-8 pl-2 pr-1 outline-none text-center",children:[2025,2026,2027].map(G=>a.jsxs("option",{value:G,children:[G,""]},G))}),a.jsx("div",{className:"w-px h-4 bg-slate-200"}),a.jsx("select",{value:u,onChange:G=>f(Number(G.target.value)),className:"bg-transparent text-sm font-bold text-[var(--accent-blue)] h-8 px-1 outline-none text-center w-16",children:Array.from({length:12},(G,ge)=>ge+1).map(G=>a.jsxs("option",{value:G,children:[G,""]},G))}),n.role==="BOSS"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-4 bg-slate-200"}),a.jsxs("select",{value:x,onChange:G=>b(G.target.value),className:"bg-transparent text-sm font-medium text-[var(--text-primary)] h-8 pl-1 pr-2 outline-none text-center min-w-[5rem]",children:[h.map(G=>a.jsx("option",{value:G.username,children:G.username},G.userid)),!h.some(G=>G.username===x)&&a.jsx("option",{value:x,children:x})]})]})]})}),n.role==="BOSS"&&a.jsx("div",{className:"flex justify-center",children:a.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-lg border border-[var(--border-primary)] shadow-sm h-10 px-1 flex items-center gap-1 w-full max-w-[340px] justify-center",children:[a.jsxs("button",{onClick:()=>B(!0),className:"h-8 px-2 text-xs font-medium text-[var(--text-secondary)] hover:bg-[var(--bg-secondary)] rounded-md flex items-center gap-1",children:[a.jsx(xl,{size:14})," "]}),a.jsx("div",{className:"w-px h-4 bg-slate-200"}),a.jsxs("button",{onClick:()=>ee(!0),className:"h-8 px-2 text-xs font-medium text-[var(--text-secondary)] hover:bg-[var(--bg-secondary)] rounded-md flex items-center gap-1",children:[a.jsx(Na,{size:14})," "]}),a.jsx("div",{className:"w-px h-4 bg-slate-200"}),a.jsxs("button",{onClick:V,disabled:ce||!y,className:"h-8 px-2 text-xs font-medium text-[var(--accent-blue)] hover:bg-[var(--bg-secondary)] rounded-md flex items-center gap-1 disabled:opacity-50",children:[a.jsx(ht,{size:14})," "]})]})}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-2 px-1 text-[10px]",children:[a.jsxs("span",{className:"bg-[var(--bg-secondary)] text-[var(--accent-blue)] px-2 py-0.5 rounded border border-[var(--border-primary)]",children:[": ",de.profile.joinedDate||"-"]}),a.jsxs("span",{className:"bg-[var(--bg-secondary)] text-indigo-500 px-2 py-0.5 rounded border border-[var(--border-primary)]",children:[": ",de.seniorityText]}),a.jsxs("span",{className:"bg-[var(--bg-secondary)] text-emerald-500 px-2 py-0.5 rounded border border-[var(--border-primary)]",children:[": ",de.estimatedLeaveDays-(y?.totalSpecialLeaveUsed||0),""]})]})]}),a.jsxs("div",{className:"hidden md:flex glass-panel p-6 flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[var(--accent-blue)] to-indigo-500 flex items-center gap-3",children:[a.jsx(ht,{})," "]}),a.jsx("p",{className:"text-[var(--text-tertiary)] text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("select",{value:c,onChange:G=>d(Number(G.target.value)),className:"input-field w-24",children:[2025,2026,2027].map(G=>a.jsxs("option",{value:G,children:[G,""]},G))}),a.jsx("select",{value:u,onChange:G=>f(Number(G.target.value)),className:"input-field w-20",children:Array.from({length:12},(G,ge)=>ge+1).map(G=>a.jsxs("option",{value:G,children:[G,""]},G))}),n.role==="BOSS"&&a.jsxs("select",{value:x,onChange:G=>b(G.target.value),className:"input-field w-32",children:[h.map(G=>a.jsx("option",{value:G.username,children:G.username},G.userid)),!h.some(G=>G.username===x)&&a.jsx("option",{value:x,children:x})]}),n.role==="BOSS"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>B(!0),className:"btn-secondary flex items-center gap-2",children:[a.jsx(xl,{size:16})," "]}),a.jsxs("button",{onClick:()=>ee(!0),className:"btn-secondary flex items-center gap-2 border-[var(--border-primary)] text-emerald-500 hover:bg-[var(--bg-secondary)]",children:[a.jsx(Na,{size:16})," "]}),a.jsxs("button",{onClick:V,disabled:ce||!y,className:"btn-secondary flex items-center gap-2 border-[var(--border-primary)] text-blue-700 hover:bg-[var(--bg-secondary)] disabled:opacity-50",children:[a.jsx(ht,{size:16})," ",ce?"...":""]})]}),a.jsx("button",{onClick:se,className:"btn-primary",children:""})]})]}),a.jsxs("div",{className:"hidden md:flex flex-wrap gap-4 px-2",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-secondary)] text-[var(--accent-blue)] px-3 py-1.5 rounded-full text-sm font-medium border border-[var(--border-primary)]",children:[a.jsx(Na,{size:14})," : ",de.profile.joinedDate||""]}),a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-secondary)] text-indigo-500 px-3 py-1.5 rounded-full text-sm font-medium border border-[var(--border-primary)]",children:[a.jsx(xl,{size:14})," : ",de.seniorityText]}),a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-secondary)] text-emerald-500 px-3 py-1.5 rounded-full text-sm font-medium border border-[var(--border-primary)]",children:[a.jsx(jd,{size:14})," :  ",de.estimatedLeaveDays,"  /  ",y?.totalSpecialLeaveUsed||0,"  /  ",de.estimatedLeaveDays-(y?.totalSpecialLeaveUsed||0)," "]})]}),n.role==="BOSS"&&y?.isBirthdayMonth&&a.jsx("div",{className:"px-1 md:px-2",children:a.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 border border-pink-100 rounded-xl p-3 md:p-4 flex items-center gap-3 md:gap-4 animate-bounce-subtle",children:[a.jsx("div",{className:"bg-[var(--bg-primary)] p-1.5 md:p-2 rounded-full shadow-sm text-lg md:text-2xl",children:""}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-rose-700 font-bold text-sm md:text-base",children:[" ",de.profile.birthday?`(${ua(de.profile.birthday)})`:"",""]}),a.jsx("p",{className:"text-rose-600/80 text-xs md:text-sm",children:""})]})]})}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 px-1 md:hidden",children:[a.jsx(Tt,{title:"",amount:y?.config?.baseSalary,color:"text-[var(--text-primary)]",isMobile:!0}),a.jsx(Tt,{title:"",amount:0,color:"text-indigo-600",isMobile:!0}),a.jsx(Tt,{title:"",amount:Ce.insurance,isDeduction:!0,color:"text-red-600",isMobile:!0,hoverContent:a.jsx("div",{className:"flex flex-col items-end",children:a.jsxs("p",{className:"text-xs font-bold text-emerald-500 font-mono",children:["$",(Ce.bonus||0).toLocaleString()]})})}),a.jsx(Tt,{title:"",amount:Ce.finalSalary,color:"text-[var(--accent-blue)]",isMobile:!0,className:"bg-[var(--bg-secondary)]/50 border-blue-100"})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 px-1 mt-2 md:hidden",children:[a.jsx(Tt,{title:"",amount:Ce.attendanceBonus,color:"text-yellow-600",isMobile:!0,hoverContent:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] leading-none mb-0.5",children:""}),a.jsxs("p",{className:"text-xs font-bold text-emerald-500",children:[me," "]})]})}),a.jsx(Tt,{title:"",amount:Le,isCurrency:!1,suffix:"",color:"text-[var(--text-secondary)]",isMobile:!0,hoverContent:a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] leading-none",children:""}),a.jsxs("p",{className:`text-xs font-bold ${(Ce.leaveCompensation||0)>=0?"text-[var(--accent-blue)]":"text-red-600"}`,children:["$",(Ce.leaveCompensation||0).toLocaleString()]})]})}),a.jsx(Tt,{title:"",amount:We,isCurrency:!1,suffix:"",color:"text-emerald-500",isMobile:!0}),a.jsx(Tt,{title:"",amount:Oe,isCurrency:!1,suffix:"",color:"text-amber-500",isMobile:!0,hoverContent:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] leading-none",children:""}),a.jsxs("p",{className:"text-xs font-bold text-red-600",children:["-$",(Oe*500).toLocaleString()]})]})})]}),a.jsxs("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-4 gap-4 px-2",children:[a.jsx(Tt,{title:"",amount:y?.config?.baseSalary,color:"text-[var(--text-primary)]"}),a.jsx(Tt,{title:"",amount:0,subtext:`: $${(Ce.sales||0).toLocaleString()}`,color:"text-indigo-600"}),a.jsx(Tt,{title:" ()",amount:Ce.insurance,isDeduction:!0,color:"text-red-600",hoverContent:a.jsx("div",{className:"flex flex-col items-end",children:a.jsxs("p",{className:"text-sm font-bold text-emerald-500 font-mono",children:["$",(Ce.bonus||0).toLocaleString()]})})}),a.jsx(Tt,{title:"",amount:Ce.finalSalary,color:"text-[var(--accent-blue)]",subtext:"/"})]}),a.jsxs("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-4 gap-4 mt-4 px-2",children:[a.jsx(Tt,{title:"",amount:Ce.attendanceBonus,color:"text-yellow-600",hoverContent:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-medium leading-none mb-1",children:""}),a.jsxs("p",{className:"text-sm font-bold text-emerald-500 font-mono",children:[me," "]})]})}),a.jsx(Tt,{title:"",amount:Le,isCurrency:!1,suffix:" ",color:"text-[var(--text-secondary)]",hoverContent:a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-medium leading-none mb-1",children:""}),a.jsxs("p",{className:"text-sm font-bold text-emerald-500 font-mono",children:[y?.config?.monthlyOffDays||0," "]})]}),a.jsxs("div",{className:"w-full border-t border-emerald-100 pt-1 mt-0.5",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-medium leading-none mb-1",children:""}),a.jsxs("p",{className:`text-sm font-bold font-mono ${(Ce.leaveCompensation||0)>=0?"text-[var(--accent-blue)]":"text-red-600"}`,children:[(Ce.leaveCompensation||0)>=0?"+":"-","$",Math.abs(Ce.leaveCompensation||0).toLocaleString()]})]})]})}),a.jsx(Tt,{title:"",amount:We,isCurrency:!1,suffix:" ",color:"text-emerald-500"}),a.jsx(Tt,{title:"",amount:Oe,isCurrency:!1,suffix:" ",color:"text-amber-500",hoverContent:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-medium leading-none mb-1",children:""}),a.jsxs("p",{className:"text-sm font-bold text-red-600 font-mono",children:["-$",(Oe*500).toLocaleString()]})]})})]}),a.jsx("div",{className:"px-1 md:px-2 mt-2 md:mt-4",children:a.jsxs("div",{className:"bg-[var(--bg-primary)] p-3 rounded-lg border border-red-100 flex justify-between items-center shadow-sm",children:[a.jsx("span",{className:"text-sm text-red-600 font-bold",children:"/"}),a.jsxs("span",{className:"text-lg font-bold text-red-600",children:["-$",(Ce.loss||0).toLocaleString()]})]})}),a.jsx("div",{className:"hidden md:block glass-panel overflow-hidden",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-sm",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-32",children:""}),a.jsx("th",{className:"p-4 w-24 text-center",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-right",children:"/"}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:ye.map(G=>{const ge=G.date,Te=y?.dailyData?.[ge]||0,we=y?.dailyRecords?.[ge]||{},it=Te>0;let Qe="",lt="text-yellow-500 bg-yellow-500/10 px-2 rounded font-medium";it?(Qe=" ()",lt="text-green-400 font-bold"):we.isLeave?(Qe="",lt="text-yellow-500 bg-yellow-500/10 px-2 rounded font-medium"):we.isSpecialLeave?(Qe="",lt="text-emerald-500 bg-emerald-500/10 px-2 rounded font-medium"):we.isSickLeave&&(Qe="",lt="text-amber-500 bg-amber-500/10 px-2 rounded font-medium");const $e=G.weekday===""||G.weekday==="";return a.jsxs("tr",{className:`hover:bg-[var(--bg-secondary)] transition-colors ${$e?"bg-[var(--bg-secondary)]/50":""}`,children:[a.jsx("td",{className:"p-4 font-mono text-[var(--text-secondary)]",children:ge}),a.jsx("td",{className:`p-4 text-center ${G.weekday===""?"text-red-600":"text-[var(--text-secondary)]"}`,children:G.weekday}),a.jsx("td",{className:"p-4 text-right font-mono text-emerald-500",children:Math.abs(Te)>.01?`$${Te.toLocaleString()}`:"-"}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:`text-sm ${lt}`,children:Qe})}),a.jsxs("td",{className:"p-4 text-right font-mono text-red-600",children:[Math.abs(we.loss||0)>.01?`-$${Math.abs(we.loss).toLocaleString()}`:"",we.note&&a.jsx("span",{className:"block text-xs text-[var(--text-secondary)]",children:we.note})]}),a.jsx("td",{className:"p-4 text-center",children:n.role==="BOSS"&&a.jsx("button",{onClick:()=>{M(G),S("LEAVE")},className:"text-xs btn-ghost text-blue-400 hover:text-blue-300",children:""})})]},ge)})})]})}),a.jsx("div",{className:"md:hidden space-y-2",children:ye.map(G=>{const ge=G.date,Te=ge.split("-"),we=`${Te[1]}/${Te[2]}`,it=y?.dailyData?.[ge]||0,Qe=y?.dailyRecords?.[ge]||{},lt=it>0;let $e="",dt="bg-yellow-100 text-yellow-700";lt?($e="",dt="bg-green-100 text-green-700"):Qe.isLeave?($e="",dt="bg-yellow-100 text-yellow-700"):Qe.isSpecialLeave?($e="",dt="bg-emerald-100 text-emerald-500"):Qe.isSickLeave&&($e="",dt="bg-amber-100 text-amber-700");const qi=G.weekday===""||G.weekday==="";return a.jsxs("div",{className:`bg-[var(--bg-primary)] rounded-lg border border-[var(--border-primary)] p-2 flex items-center shadow-sm text-xs ${qi?"bg-[var(--bg-secondary)]/50":""}`,children:[a.jsxs("div",{className:"w-14 items-center flex flex-col justify-center border-r border-[var(--border-primary)] pr-2 mr-2",children:[a.jsx("span",{className:`font-bold text-sm ${G.weekday===""?"text-rose-500":"text-[var(--text-primary)]"}`,children:we}),a.jsxs("span",{className:`text-[10px] ${G.weekday===""?"text-rose-400":"text-[var(--text-tertiary)]"}`,children:["",G.weekday]})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-1 items-center",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-[9px] text-[var(--text-tertiary)] mb-0.5",children:""}),a.jsx("p",{className:`font-bold ${it>0?"text-emerald-500":"text-slate-300"}`,children:it>0?`$${it.toLocaleString()}`:"-"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-[9px] text-[var(--text-tertiary)] mb-0.5",children:""}),a.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${dt}`,children:$e})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-[9px] text-[var(--text-tertiary)] mb-0.5",children:""}),a.jsx("p",{className:`font-bold ${Qe.loss?"text-red-500":"text-slate-300"}`,children:Qe.loss?`-$${Number(Qe.loss).toLocaleString()}`:"-"})]})]}),a.jsx("div",{className:"pl-2 ml-1 border-l border-[var(--border-primary)]",children:n.role==="BOSS"&&a.jsx("button",{onClick:()=>{M(G),S("LEAVE")},className:"w-8 h-8 flex items-center justify-center rounded-full bg-[var(--bg-secondary)] text-[var(--text-tertiary)] hover:bg-[var(--bg-secondary)] hover:text-blue-500",children:a.jsx("span",{className:"text-[10px]",children:""})})})]},ge)})}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"glass-panel w-full max-w-md p-6 animate-fadeIn",children:[a.jsxs("h3",{className:"text-xl font-bold mb-4",children:[C.date," (",C.weekday,") "]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-[var(--text-tertiary)] mb-2",children:" ()"}),a.jsx("div",{className:"flex bg-[var(--bg-secondary)] rounded p-1 border border-[var(--border-primary)] outline-none focus-within:ring-2 focus-within:ring-blue-500/20",tabIndex:"0",onKeyDown:G=>P(G,"editType"),children:[{id:"WORK",label:"",color:"bg-blue-600"},{id:"LEAVE",label:"",color:"bg-yellow-600"},{id:"SPECIAL_LEAVE",label:"",color:"bg-emerald-600"},{id:"SICK_LEAVE",label:"",color:"bg-amber-600"},{id:"LOSS",label:"/",color:"bg-red-600"}].map(G=>a.jsx("button",{className:`flex-1 py-2 rounded text-xs transition-all ${v===G.id?`${G.color} text-white shadow-sm`:"text-[var(--text-secondary)] hover:bg-slate-100"}`,onClick:()=>S(G.id),children:G.label},G.id))})]}),v==="LOSS"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-[var(--text-tertiary)] mb-1",children:" ()"}),a.jsx("input",{type:"number",className:"input-field w-full",placeholder:"-100",ref:F.editValue,value:z,onChange:G=>T(G.target.value),onKeyDown:G=>P(G,"editValue")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-[var(--text-tertiary)] mb-1",children:""}),a.jsx("input",{type:"text",className:"input-field w-full",placeholder:"...",ref:F.editNote,value:k,onChange:G=>R(G.target.value),onKeyDown:G=>P(G,"editNote")})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>M(null),className:"btn-secondary flex-1",disabled:ce,children:""}),a.jsx("button",{onClick:Z,className:"btn-primary flex-1",disabled:ce,children:ce?"...":""})]}),ce&&a.jsx("div",{className:"absolute inset-0 bg-[var(--bg-primary)]/60 backdrop-blur-[2px] z-10 flex items-center justify-center rounded-lg",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-sm font-medium text-[var(--accent-blue)]",children:"..."})]})})]})}),j&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"glass-panel w-full max-w-lg p-6 animate-fadeIn max-h-[90vh] overflow-y-auto",children:[a.jsxs("h3",{className:"text-xl font-bold mb-4",children:[" - ",x]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"number",className:"input-field w-full",ref:J.baseSalary,value:q.baseSalary,onChange:G=>ne({...q,baseSalary:G.target.value}),onKeyDown:G=>ue(G,"baseSalary")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"number",className:"input-field w-full",ref:J.attendanceBonus,value:q.attendanceBonus,onChange:G=>ne({...q,attendanceBonus:G.target.value}),onKeyDown:G=>ue(G,"attendanceBonus")})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"number",className:"input-field w-full",ref:J.monthlyOffDays,value:q.monthlyOffDays,onChange:G=>ne({...q,monthlyOffDays:G.target.value}),onKeyDown:G=>ue(G,"monthlyOffDays")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:" ()"}),a.jsx("input",{type:"number",className:"input-field w-full",ref:J.insurance,value:q.insurance,onChange:G=>ne({...q,insurance:G.target.value}),onKeyDown:G=>ue(G,"insurance")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:" (JSON)"}),a.jsx("textarea",{className:"input-field w-full font-mono text-xs h-32",ref:J.bonusTiers,value:q.bonusTiers,onChange:G=>ne({...q,bonusTiers:G.target.value}),onKeyDown:G=>ue(G,"bonusTiers"),placeholder:'[{"threshold": 50000, "bonus": 1000}]'}),a.jsx("p",{className:"text-xs text-[var(--text-tertiary)] mt-1",children:': `[{"threshold": , "bonus":  }]` ( Enter )'})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>B(!1),className:"btn-secondary flex-1",disabled:ce,children:""}),a.jsx("button",{onClick:oe,className:"btn-primary flex-1",disabled:ce,children:ce?"...":""})]}),ce&&a.jsx("div",{className:"absolute inset-0 bg-[var(--bg-primary)]/60 backdrop-blur-[2px] z-10 flex items-center justify-center rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),a.jsxs("span",{className:"text-sm font-medium text-[var(--accent-blue)] font-bold",children:["",a.jsx("br",{}),a.jsx("span",{className:"text-[10px] opacity-70",children:""})]})]})})]})}),K&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"glass-panel w-full max-w-lg p-6 animate-fadeIn",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold",children:[" - ",x]}),a.jsx("p",{className:"text-sm text-[var(--text-tertiary)] mt-1",children:""})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"block text-xs text-[var(--text-tertiary)] uppercase font-bold tracking-wider",children:""}),a.jsx("span",{className:"text-lg font-bold text-[var(--accent-blue)]",children:de.seniorityText})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"date",className:"input-field w-full",value:O.joinedDate,onChange:G=>L({...O,joinedDate:G.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:" (/)"}),a.jsx("input",{type:"text",placeholder:"05/20",className:"input-field w-full",value:O.birthday,onChange:G=>L({...O,birthday:G.target.value})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"/"}),a.jsx("input",{type:"text",className:"input-field w-full",placeholder:"A123456789",value:O.identityId,onChange:G=>L({...O,identityId:G.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"text",className:"input-field w-full",placeholder:"0912-345-678",value:O.contact,onChange:G=>L({...O,contact:G.target.value})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("textarea",{className:"input-field w-full h-24",placeholder:"...",value:O.note,onChange:G=>L({...O,note:G.target.value})})]}),a.jsxs("div",{className:"bg-[var(--bg-secondary)] border border-emerald-100 rounded-lg p-3 flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-emerald-800 font-medium",children:""}),a.jsxs("span",{className:"text-xl font-bold text-emerald-500 font-mono",children:[de.estimatedLeaveDays," "]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx("button",{onClick:()=>ee(!1),className:"btn-secondary flex-1",disabled:ce,children:""}),a.jsx("button",{onClick:le,className:"btn-primary flex-1",disabled:ce,children:ce?"...":""})]})]})})]})}function Tt({title:n,amount:r,subtext:c,color:d,isDeduction:u,isCurrency:f=!0,suffix:x="",hiddenAmount:b,hiddenTitle:h="",hoverContent:p,isMobile:N,className:g=""}){const[y,w]=A.useState(!1),C=()=>{(N||"ontouchstart"in window)&&w(!y)};return a.jsxs("div",{onClick:C,className:`
                relative overflow-hidden transition-all cursor-default border border-[var(--border-primary)] bg-[var(--bg-primary)]
                ${N?"h-16 p-2 rounded-lg flex flex-col justify-center items-center text-center shadow-sm":"h-28 p-4 rounded-xl flex flex-col justify-between glass-panel hover:border-blue-500"}
                ${g}
            `,onMouseEnter:()=>!N&&w(!0),onMouseLeave:()=>!N&&w(!1),children:[a.jsx("div",{className:`flex justify-between items-start z-10 w-full ${N?"justify-center":""}`,children:a.jsx("span",{className:`${N?"text-[10px]":"text-sm"} text-[var(--text-secondary)] font-bold`,children:n})}),a.jsxs("div",{className:`z-10 w-full ${N?"mt-1":""}`,children:[a.jsxs("span",{className:`${N?"text-xs":"text-2xl"} font-bold tracking-tight ${d}`,children:[u&&"-",f&&"$",(r||0).toLocaleString(),x]}),!N&&c&&a.jsx("p",{className:"text-xs text-[var(--text-secondary)] mt-1",children:c})]}),(b!==void 0||p)&&a.jsx("div",{className:`absolute top-0 right-0 p-1 md:p-2 transition-all duration-300 ${y?"translate-y-0 opacity-100":"-translate-y-full opacity-0"}`,children:a.jsx("div",{className:"bg-[var(--bg-primary)]/95 backdrop-blur shadow-sm border border-emerald-100 rounded px-1.5 py-0.5 text-right",children:p||a.jsxs(a.Fragment,{children:[h&&a.jsx("p",{className:"text-[8px] md:text-xs text-[var(--text-tertiary)] font-medium",children:h}),a.jsxs("p",{className:"text-xs md:text-sm font-bold text-emerald-500 font-mono",children:[f&&"$",(b||0).toLocaleString()]})]})})}),!N&&a.jsx("div",{className:`absolute -right-2 -bottom-2 w-16 h-16 rounded-full opacity-5 ${d?.replace("text-","bg-")||"bg-slate-400"}`})]})}function VS({user:n,apiUrl:r}){const[c,d]=A.useState([]),[u,f]=A.useState(!1),[x,b]=A.useState({startDate:Je(new Date(Date.now()-10080*60*1e3)),endDate:Je(new Date),username:"",actionType:""}),[h,p]=A.useState(null),N=[{value:"",label:""},{value:"LOGIN",label:""},{value:"LOGOUT",label:""},{value:"PAGE_VIEW",label:""},{value:"DATA_EDIT",label:""},{value:"ERROR",label:""}],g=async()=>{f(!0);try{const z=await Se(r,"getActivityLogs",x,n.token);d(Array.isArray(z)?z:[])}catch(z){console.error("Failed to fetch activity logs:",z),alert("")}finally{f(!1)}};A.useEffect(()=>{g()},[]);const y=z=>new Date(z).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),w={sales:"",inventory:"",purchase:"",report:"",purchaseHistory:"",adjustHistory:"",valuation:"",stocktake:"",stocktakeHistory:"",receivable:"",payable:"",salesRanking:"",customerRanking:"",profitAnalysis:"",turnoverRate:"",costCalculation:"",expenditureManagement:"",incomeStatement:"",permissionControl:"",payroll:"",activityLog:""},C=z=>w[z]||z||"-",M=z=>{if(!z)return"-";try{const T=JSON.parse(z),k={action:"",page:"",customer:"",totalAmount:"",paymentMethod:"",productCount:"",type:"",product:"",quantity:"",adjustType:"",vendorCount:"",totalPrice:"",itemCount:"",hasDifferences:"",totalDiff:"",note:"",recordId:"ID",vendor:"",targetUser:"",role:"",period:"",date:"",value:""};return Object.entries(T).map(([R,j])=>{const B=k[R]||R,q=typeof j=="object"?JSON.stringify(j):String(j);return`${B}: ${q}`}).join(`
`)}catch{return z}},v=z=>{const T=N.find(k=>k.value===z);return T?T.label:z},S=z=>{switch(z){case"LOGIN":return"bg-emerald-50 text-emerald-600 border-emerald-200";case"LOGOUT":return"bg-rose-50 text-rose-600 border-rose-200";case"PAGE_VIEW":return"bg-blue-50 text-blue-600 border-blue-200";case"DATA_EDIT":return"bg-amber-50 text-amber-600 border-amber-200";case"ERROR":return"bg-rose-100 text-rose-700 border-rose-300";default:return"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] border-[var(--border-primary)]"}};return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 h-[calc(100vh-6rem)] flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-lg md:text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[a.jsx(Hl,{className:"text-[var(--accent-blue)]",size:24}),""]}),a.jsx("p",{className:"text-xs md:text-sm text-[var(--text-secondary)] mt-1",children:""})]}),a.jsx("button",{onClick:g,className:"btn-secondary p-2 rounded-xl",disabled:u,children:a.jsx(nt,{size:18,className:u?"animate-spin":""})})]}),a.jsx("div",{className:"glass-panel p-4 shrink-0",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-[var(--text-secondary)] font-bold block mb-1",children:""}),a.jsx("input",{type:"date",value:x.startDate,onChange:z=>b({...x,startDate:z.target.value}),className:"input-field w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-[var(--text-secondary)] font-bold block mb-1",children:""}),a.jsx("input",{type:"date",value:x.endDate,onChange:z=>b({...x,endDate:z.target.value}),className:"input-field w-full"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-[var(--text-secondary)] font-bold block mb-1",children:""}),a.jsx("select",{value:x.actionType,onChange:z=>b({...x,actionType:z.target.value}),className:"input-field w-full",children:N.map(z=>a.jsx("option",{value:z.value,children:z.label},z.value))})]}),(n.role==="BOSS"||n.role==="ADMIN")&&a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-[var(--text-secondary)] font-bold block mb-1",children:""}),a.jsx("input",{type:"text",value:x.username,onChange:z=>b({...x,username:z.target.value}),placeholder:"",className:"input-field w-full"})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("button",{onClick:g,className:"btn-primary w-full flex items-center justify-center gap-2",disabled:u,children:[a.jsx(vt,{size:16}),""]})})]})}),a.jsxs("div",{className:"glass-panel flex-1 overflow-hidden flex flex-col",children:[a.jsx("div",{className:"p-4 border-b border-[var(--border-primary)]",children:a.jsxs("div",{className:"text-sm text-[var(--text-secondary)]",children:[" ",a.jsx("span",{className:"font-bold text-[var(--accent-blue)]",children:c.length})," "]})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:u?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(nt,{className:"animate-spin text-[var(--accent-blue)]",size:32})}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-[var(--text-tertiary)]",children:[a.jsx(Hl,{size:48,className:"mb-2"}),a.jsx("p",{children:""})]}):a.jsx("div",{className:"divide-y divide-[var(--border-primary)]",children:c.map((z,T)=>a.jsxs("div",{className:"p-4 hover:bg-[var(--bg-secondary)] transition-colors cursor-pointer",onClick:()=>p(h===T?null:T),children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold border ${S(z.actionType)}`,children:v(z.actionType)}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:z.username}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:y(z.timestamp)})]}),a.jsxs("div",{className:"text-sm text-[var(--text-secondary)]",children:[": ",a.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:C(z.page)})]})]}),a.jsx("button",{className:"text-[var(--text-tertiary)] hover:text-[var(--text-secondary)]",children:a.jsx(jv,{size:16})})]}),h===T&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-[var(--border-primary)] space-y-2 text-xs",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-[var(--text-tertiary)]",children:":"}),a.jsx("span",{className:"ml-2 font-medium text-[var(--text-secondary)]",children:z.screenResolution||"-"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-[var(--text-tertiary)]",children:"IP :"}),a.jsx("span",{className:"ml-2 font-medium text-[var(--text-secondary)]",children:z.ipAddress||"-"})]})]}),z.details&&a.jsxs("div",{children:[a.jsx("span",{className:"text-[var(--text-tertiary)]",children:":"}),a.jsx("pre",{className:"mt-1 p-2 bg-[var(--bg-tertiary)] text-[var(--text-secondary)] rounded text-xs overflow-x-auto whitespace-pre-wrap border border-[var(--border-primary)]",children:M(z.details)})]}),z.userAgent&&a.jsxs("div",{children:[a.jsx("span",{className:"text-[var(--text-tertiary)]",children:"User Agent:"}),a.jsx("div",{className:"mt-1 p-2 bg-[var(--bg-tertiary)] text-[var(--text-secondary)] rounded text-xs break-all border border-[var(--border-primary)]",children:z.userAgent})]})]})]},T))})})]})]})}const gy=A.createContext({theme:"light",actualTheme:"light",setTheme:()=>{},autoSchedule:{lightStart:"06:00",darkStart:"18:00",enabled:!1},setAutoSchedule:()=>{}}),YS=()=>A.useContext(gy),QS=({children:n})=>{const[r,c]=A.useState(()=>localStorage.getItem("theme")||"light"),[d,u]=A.useState(()=>{const N=localStorage.getItem("themeSchedule");return N?JSON.parse(N):{lightStart:"06:00",darkStart:"18:00",enabled:!1}}),[f,x]=A.useState("light"),b=()=>{if(r==="auto"&&d.enabled){const N=new Date,g=`${String(N.getHours()).padStart(2,"0")}:${String(N.getMinutes()).padStart(2,"0")}`,y=d.lightStart,w=d.darkStart;return g>=y&&g<w?"light":"dark"}return r==="auto"?"light":r},h=N=>{c(N),localStorage.setItem("theme",N)},p=N=>{u(N),localStorage.setItem("themeSchedule",JSON.stringify(N))};return A.useEffect(()=>{const N=b();x(N),document.documentElement.setAttribute("data-theme",N)},[r,d]),A.useEffect(()=>{if(r!=="auto"||!d.enabled)return;const N=setInterval(()=>{const g=b();g!==f&&(x(g),document.documentElement.setAttribute("data-theme",g))},6e4);return()=>clearInterval(N)},[r,d,f]),a.jsx(gy.Provider,{value:{theme:r,actualTheme:f,setTheme:h,autoSchedule:d,setAutoSchedule:p},children:n})};function KS(){const{theme:n,actualTheme:r,setTheme:c,autoSchedule:d,setAutoSchedule:u}=YS(),[f,x]=A.useState(!1),b=[{value:"light",label:"",icon:hp},{value:"dark",label:"",icon:mp},{value:"auto",label:"",icon:On}],h=(p,N)=>{u({...d,[p]:N})};return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[b.map(({value:p,label:N,icon:g})=>a.jsxs("button",{onClick:()=>c(p),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all flex items-center gap-1.5 ${n===p?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,title:N,children:[a.jsx(g,{size:14}),a.jsx("span",{className:"hidden md:inline",children:N})]},p)),n==="auto"&&a.jsx("button",{onClick:()=>x(!f),className:"p-1.5 rounded-md text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",title:"",children:a.jsx(ch,{size:14})})]}),f&&n==="auto"&&a.jsxs("div",{className:"absolute top-full right-0 mt-2 w-72 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl p-4 z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:[a.jsxs("h4",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 mb-3 flex items-center gap-2",children:[a.jsx(On,{size:16}),""]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:""}),a.jsx("input",{type:"checkbox",checked:d.enabled,onChange:p=>h("enabled",p.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs text-slate-500 dark:text-slate-400 block mb-1",children:[a.jsx(hp,{size:12,className:"inline mr-1"}),""]}),a.jsx("input",{type:"time",value:d.lightStart,onChange:p=>h("lightStart",p.target.value),disabled:!d.enabled,className:"w-full px-3 py-2 text-sm border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 disabled:opacity-50 disabled:cursor-not-allowed"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-xs text-slate-500 dark:text-slate-400 block mb-1",children:[a.jsx(mp,{size:12,className:"inline mr-1"}),""]}),a.jsx("input",{type:"time",value:d.darkStart,onChange:p=>h("darkStart",p.target.value),disabled:!d.enabled,className:"w-full px-3 py-2 text-sm border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 disabled:opacity-50 disabled:cursor-not-allowed"})]}),a.jsx("div",{className:"pt-2 border-t border-slate-200 dark:border-slate-700",children:a.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[": ",a.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:r==="light"?"":""})]})})]}),a.jsx("button",{onClick:()=>x(!1),className:"mt-3 w-full px-3 py-2 text-xs font-medium text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:""})]})]})}class XS{constructor(r={}){this.idleTimeout=r.idleTimeout||1800*1e3,this.onLogout=r.onLogout||(()=>{}),this.onIdle=r.onIdle||(()=>{}),this.onOnline=r.onOnline||(()=>{}),this.onOffline=r.onOffline||(()=>{}),this.idleTimer=null,this.lastActivity=Date.now(),this.isOnline=navigator.onLine,this.init()}init(){this.setupActivityListeners(),this.setupNetworkListeners(),this.resetIdleTimer()}setupActivityListeners(){["mousedown","mousemove","keypress","scroll","touchstart","click"].forEach(c=>{document.addEventListener(c,()=>this.handleActivity(),!0)})}handleActivity(){this.lastActivity=Date.now(),this.resetIdleTimer()}resetIdleTimer(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=setTimeout(()=>{this.handleIdle()},this.idleTimeout)}handleIdle(){console.log("",this.idleTimeout/1e3/60,""),this.onIdle(),this.logout("IDLE_TIMEOUT")}setupNetworkListeners(){window.addEventListener("online",()=>{console.log(""),this.isOnline=!0,this.onOnline()}),window.addEventListener("offline",()=>{console.log(""),this.isOnline=!1,this.onOffline()})}setupBeforeUnloadListener(){window.addEventListener("beforeunload",r=>{})}logout(r="MANUAL"){console.log(":",r),this.cleanup(),this.onLogout(r)}cleanup(){this.idleTimer&&clearTimeout(this.idleTimer)}destroy(){this.cleanup()}checkOnlineStatus(){return this.isOnline}getIdleTime(){return Date.now()-this.lastActivity}keepAlive(){this.handleActivity()}}const ZS=({user:n,apiUrl:r,enabled:c=!0})=>{const d=A.useRef([]),u=A.useRef(null),f=async(h,p={})=>{if(!c||!n?.token)return;let N=h,g=p;if(typeof h=="object"&&h!==null&&(N=h.actionType,g={...h},typeof g.details=="string"))try{const w=JSON.parse(g.details);Object.assign(g,w),delete g.details}catch{}const y={username:n.username,actionType:N||"UNKNOWN",page:g.page||window.location.pathname,details:JSON.stringify(g),timestamp:new Date().toISOString(),userAgent:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`};d.current.push(y),d.current.length>=10?b():x()},x=()=>{u.current||(u.current=setTimeout(()=>{b()},5e3))},b=async()=>{if(d.current.length===0)return;const h=[...d.current];d.current=[],u.current&&(clearTimeout(u.current),u.current=null);try{await Se(r,"logActivity",{logs:h},n.token)}catch(p){console.error("Failed to log activity:",p),d.current=[...h,...d.current]}};return A.useEffect(()=>{const h=()=>{if(d.current.length>0){const p=JSON.stringify({action:"logActivity",payload:{logs:d.current},token:n?.token});navigator.sendBeacon(r,p)}};return window.addEventListener("beforeunload",h),()=>{window.removeEventListener("beforeunload",h),b()}},[n?.token,r]),{logActivity:f,flushLogs:b,logLogin:()=>f("LOGIN",{timestamp:new Date().toISOString()}),logLogout:h=>f("LOGOUT",{reason:h}),logPageView:h=>f("PAGE_VIEW",{page:h}),logDataEdit:(h,p)=>f("DATA_EDIT",{action:h,data:p}),logError:h=>f("ERROR",{error:h.message,stack:h.stack})}},Fe="https://script.google.com/macros/s/AKfycbzIoBBRytN2Qja-AUSILlXwdAnbwnU6nfil9403HYHXJH_KrvDy3lC9rQ_U8dlP9AIt/exec";console.log("---  ---");console.log("Base URL:","/inventory-system/");Fe.includes("YOUR_SCRIPT_ID")?(console.error("  VITE_GAS_API_URL "),console.log(" GitHub Settings -> Secrets ")):console.log(" API URL :",Fe);console.log("------------------");const Ll=({label:n,icon:r,active:c,children:d,id:u,openDropdown:f,setOpenDropdown:x})=>{const b=f===u;return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:h=>{h.stopPropagation(),x(b?null:u)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all duration-200 ${c?"bg-blue-50 text-blue-600 border border-blue-200 shadow-sm":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)]"}`,children:[a.jsx(r,{size:18}),a.jsx("span",{className:"font-medium",children:n}),a.jsx(Gl,{size:14,className:`transition-transform duration-300 ${b?"rotate-180":""}`})]}),b&&a.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-[var(--bg-secondary)] backdrop-blur-xl border border-[var(--border-primary)] rounded-xl shadow-2xl py-2 z-[100] animate-in fade-in slide-in-from-top-2 duration-200",onClick:h=>h.stopPropagation(),children:a.jsx("div",{className:"flex flex-col gap-1 px-1",children:d})})]})},Ee=({label:n,onClick:r,active:c,icon:d})=>a.jsxs("button",{onClick:r,className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-all flex items-center gap-2 ${c?"text-blue-600 bg-blue-50 font-bold":"text-slate-500 hover:text-slate-900 hover:bg-slate-100"}`,children:[d&&a.jsx(d,{size:14}),n]}),Bl=({label:n,icon:r,children:c})=>{const[d,u]=A.useState(!1);return a.jsxs("div",{className:"border-b border-slate-100 last:border-0 border-l-4 border-l-transparent hover:border-l-blue-200 transition-all",children:[a.jsxs("button",{onClick:f=>{f.stopPropagation(),u(!d)},className:"w-full flex items-center justify-between p-3 text-slate-700 font-medium active:bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[r&&a.jsx(r,{size:18,className:"text-slate-400"}),a.jsx("span",{children:n})]}),a.jsx(Gl,{size:16,className:`text-slate-400 transition-transform duration-300 ${d?"rotate-180":""}`})]}),a.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${d?"grid-rows-[1fr] opacity-100 pb-2":"grid-rows-[0fr] opacity-0"}`,children:a.jsx("div",{className:"overflow-hidden bg-slate-50/50 rounded-lg mx-2 border border-slate-100/50",children:c})})]})};function JS(){const[n,r]=A.useState(null),[c,d]=A.useState("sales"),[u,f]=A.useState(null),[x,b]=A.useState(!1),[h,p]=A.useState(!1),[N,g]=A.useState(null),{logActivity:y,logLogin:w,logLogout:C,logPageView:M}=ZS({user:n,apiUrl:Fe,enabled:!!n});A.useEffect(()=>{if(n){const R=new XS({idleTimeout:18e5,onLogout:j=>{console.log("Session timeout:",j),C(j),k(),j==="IDLE_TIMEOUT"&&alert(",")},onOffline:()=>{p(!0)},onOnline:()=>{p(!1)}});return g(R),()=>R.destroy()}},[n]),A.useEffect(()=>{const R=sessionStorage.getItem("inventory_user");if(R){const B=JSON.parse(R);B&&typeof B.permissions>"u"?(console.warn("Detected stale user data (no permissions). Clearing session."),sessionStorage.removeItem("inventory_user"),r(null)):r(B)}const j=()=>{f(null),b(!1)};return window.addEventListener("click",j),()=>window.removeEventListener("click",j)},[]),A.useEffect(()=>{n&&c&&M(c)},[c,n]);const v=R=>{if(!n)return!1;if(n.role==="BOSS")return!0;let j=n.permissions;if(typeof j>"u"||j===null)j=[];else if(typeof j=="string")try{j=JSON.parse(j)}catch(B){console.error("Failed to parse permissions string:",B),j=[]}switch(Array.isArray(j)||(j=[]),R){case"sales":return j.includes("sales_entry")||j.includes("sales");case"report":return j.includes("sales_report")||j.includes("sales");case"purchase":return j.includes("purchase_entry")||j.includes("purchase");case"purchaseHistory":return j.includes("purchase_history")||j.includes("purchase");case"inventory":return j.includes("inventory_adjust");case"stocktake":return j.includes("inventory_stocktake");case"valuation":return j.includes("inventory_valuation");case"adjustHistory":return j.includes("inventory_adjust_history")||j.includes("inventory_history");case"stocktakeHistory":return j.includes("inventory_stocktake_history")||j.includes("inventory_history");case"expenditureManagement":return j.includes("finance_expenditure")||j.includes("finance");case"receivable":return j.includes("finance_receivable")||j.includes("finance");case"payable":return j.includes("finance_payable")||j.includes("finance");case"incomeStatement":return j.includes("finance_income")||j.includes("finance");case"costCalculation":return j.includes("finance_cost")||j.includes("finance");case"payroll":return j.includes("finance_payroll")||j.includes("finance");case"salesRanking":return j.includes("analytics_sales")||j.includes("analytics");case"customerRanking":return j.includes("analytics_customer")||j.includes("analytics");case"profitAnalysis":return j.includes("analytics_profit")||j.includes("analytics");case"turnoverRate":return j.includes("analytics_turnover")||j.includes("analytics");case"permissionControl":return j.includes("system_config")||j.includes("system");case"activityLog":return j.includes("system_activity_logs")||j.includes("system")||n.role==="BOSS"||n.role==="ADMIN";default:return!0}},S=R=>{v(R)?(d(R),f(null),b(!1)):console.warn(`Access denied for page: ${R}`)},z=R=>{r(R),sessionStorage.setItem("inventory_user",JSON.stringify(R))},T=qe.useRef(n);A.useEffect(()=>{!T.current&&n&&setTimeout(()=>{w&&w()},500),T.current=n},[n,w]);const k=()=>{C&&C("MANUAL"),r(null),sessionStorage.removeItem("inventory_user"),N&&N.destroy()};return Fe.includes("YOUR_SCRIPT_ID")?a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-red-50 text-red-900",children:[a.jsx(va,{size:64,className:"mb-4 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:""}),a.jsx("p",{className:"text-center max-w-md mb-6",children:" `VITE_GAS_API_URL`  GitHub Secrets  Actions "}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-200 font-mono text-xs w-full max-w-lg",children:[a.jsx("p",{className:"font-bold mb-2",children:""}),a.jsxs("p",{children:["GAS_API_URL: ",String(Fe)]}),a.jsxs("p",{children:["Base URL: ","/inventory-system/"]})]})]}):n?a.jsxs("div",{className:"min-h-screen flex flex-col",children:[h&&a.jsxs("div",{className:"bg-yellow-500 text-white text-center py-2 text-sm font-medium flex items-center justify-center gap-2",children:[a.jsx(s0,{size:16}),","]}),a.jsxs("header",{className:"h-16 border-b border-[var(--border-primary)] bg-[var(--bg-secondary)] backdrop-blur-md flex justify-between items-center px-6 sticky top-0 z-[60]",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("img",{src:"/inventory-system/logo.png",alt:"Logo",className:"h-10 w-auto object-contain"})}),a.jsxs("div",{className:"md:hidden relative",onClick:R=>R.stopPropagation(),children:[a.jsxs("button",{onClick:()=>b(!x),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-all ${x?"bg-blue-50 border-blue-200 text-blue-600 ring-2 ring-blue-100":"bg-[var(--bg-secondary)] border-[var(--border-primary)] text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("span",{className:"font-bold text-sm",children:""}),a.jsx(Gl,{size:16,className:`transition-transform duration-300 ${x?"rotate-180":""}`})]}),x&&a.jsx("div",{className:"fixed top-16 left-0 right-0 mx-auto mt-2 w-[90%] max-w-md bg-[var(--bg-secondary)] backdrop-blur-xl border border-[var(--border-primary)] rounded-2xl shadow-2xl overflow-y-auto max-h-[80vh] animate-in fade-in slide-in-from-top-4 duration-200 z-[100]",children:a.jsxs("div",{className:"p-2 flex flex-col",children:[(n.role==="BOSS"||v("sales")||v("report"))&&a.jsxs(Bl,{label:"",icon:mi,children:[v("sales")&&a.jsx(Ee,{label:"",icon:mi,onClick:()=>S("sales"),active:c==="sales"}),v("report")&&a.jsx(Ee,{label:"",icon:Rs,onClick:()=>S("report"),active:c==="report"})]}),(n.role==="BOSS"||v("purchase")||v("purchaseHistory"))&&a.jsxs(Bl,{label:"",icon:xi,children:[v("purchase")&&a.jsx(Ee,{label:"",icon:xi,onClick:()=>S("purchase"),active:c==="purchase"}),v("purchaseHistory")&&a.jsx(Ee,{label:"",icon:Cn,onClick:()=>S("purchaseHistory"),active:c==="purchaseHistory"})]}),(n.role==="BOSS"||v("inventory")||v("stocktake")||v("valuation")||v("adjustHistory")||v("stocktakeHistory"))&&a.jsxs(Bl,{label:"",icon:fi,children:[v("inventory")&&a.jsx(Ee,{label:"",icon:fi,onClick:()=>S("inventory"),active:c==="inventory"}),v("stocktake")&&a.jsx(Ee,{label:"",icon:Hs,onClick:()=>S("stocktake"),active:c==="stocktake"}),v("valuation")&&a.jsx(Ee,{label:"",icon:ht,onClick:()=>S("valuation"),active:c==="valuation"}),v("adjustHistory")&&a.jsx(Ee,{label:"",icon:Rs,onClick:()=>S("adjustHistory"),active:c==="adjustHistory"}),v("stocktakeHistory")&&a.jsx(Ee,{label:"",icon:Cn,onClick:()=>S("stocktakeHistory"),active:c==="stocktakeHistory"})]}),(n.role==="BOSS"||v("expenditureManagement"))&&a.jsx(Bl,{label:"",icon:ht,children:a.jsx(Ee,{label:"",icon:ht,onClick:()=>S("expenditureManagement"),active:c==="expenditureManagement"})}),(n.role==="BOSS"||v("receivable")||v("payable")||v("incomeStatement")||v("costCalculation")||v("payroll"))&&a.jsxs(Bl,{label:"",icon:ul,children:[v("receivable")&&a.jsx(Ee,{label:"",icon:ul,onClick:()=>S("receivable"),active:c==="receivable"}),v("payable")&&a.jsx(Ee,{label:"",icon:ul,onClick:()=>S("payable"),active:c==="payable"}),v("incomeStatement")&&a.jsx(Ee,{label:"",icon:Nd,onClick:()=>S("incomeStatement"),active:c==="incomeStatement"}),v("costCalculation")&&a.jsx(Ee,{label:"",icon:ht,onClick:()=>S("costCalculation"),active:c==="costCalculation"}),v("payroll")&&a.jsx(Ee,{label:"",icon:ht,onClick:()=>S("payroll"),active:c==="payroll"})]}),(n.role==="BOSS"||v("salesRanking")||v("customerRanking")||v("profitAnalysis")||v("turnoverRate"))&&a.jsxs(Bl,{label:"",icon:fl,children:[v("salesRanking")&&a.jsx(Ee,{label:"",icon:vd,onClick:()=>S("salesRanking"),active:c==="salesRanking"}),v("customerRanking")&&a.jsx(Ee,{label:"",icon:Si,onClick:()=>S("customerRanking"),active:c==="customerRanking"}),v("profitAnalysis")&&a.jsx(Ee,{label:"",icon:fl,onClick:()=>S("profitAnalysis"),active:c==="profitAnalysis"}),v("turnoverRate")&&a.jsx(Ee,{label:"",icon:Hl,onClick:()=>S("turnoverRate"),active:c==="turnoverRate"})]}),(n.role==="BOSS"||v("permissionControl")||v("activityLog"))&&a.jsxs(Bl,{label:"",icon:va,children:[v("permissionControl")&&a.jsx(Ee,{label:"",icon:va,onClick:()=>S("permissionControl"),active:c==="permissionControl"}),v("activityLog")&&a.jsx(Ee,{label:"",icon:Hl,onClick:()=>S("activityLog"),active:c==="activityLog"})]})]})})]}),a.jsxs("nav",{className:"hidden md:flex gap-1",children:[(n.role==="BOSS"||v("sales")||v("report"))&&a.jsxs(Ll,{id:"sales",label:"",icon:mi,openDropdown:u,setOpenDropdown:f,active:["sales","report"].includes(c),children:[v("sales")&&a.jsx(Ee,{label:"",icon:mi,onClick:()=>S("sales"),active:c==="sales"}),v("report")&&a.jsx(Ee,{label:"",icon:Rs,onClick:()=>S("report"),active:c==="report"})]}),(n.role==="BOSS"||v("purchase")||v("purchaseHistory"))&&a.jsxs(Ll,{id:"purchase",label:"",icon:xi,openDropdown:u,setOpenDropdown:f,active:["purchase","purchaseHistory"].includes(c),children:[v("purchase")&&a.jsx(Ee,{label:"",icon:xi,onClick:()=>S("purchase"),active:c==="purchase"}),v("purchaseHistory")&&a.jsx(Ee,{label:"",icon:Cn,onClick:()=>S("purchaseHistory"),active:c==="purchaseHistory"})]}),(n.role==="BOSS"||v("inventory")||v("stocktake")||v("valuation")||v("adjustHistory")||v("stocktakeHistory"))&&a.jsxs(Ll,{id:"inventory",label:"",icon:fi,openDropdown:u,setOpenDropdown:f,active:["inventory","stocktake","valuation","adjustHistory","stocktakeHistory"].includes(c),children:[v("inventory")&&a.jsx(Ee,{label:"",icon:fi,onClick:()=>S("inventory"),active:c==="inventory"}),v("stocktake")&&a.jsx(Ee,{label:"",icon:Hs,onClick:()=>S("stocktake"),active:c==="stocktake"}),v("valuation")&&a.jsx(Ee,{label:"",icon:ht,onClick:()=>S("valuation"),active:c==="valuation"}),a.jsx("div",{className:"my-1 border-t border-slate-100"}),v("adjustHistory")&&a.jsx(Ee,{label:"",icon:Rs,onClick:()=>S("adjustHistory"),active:c==="adjustHistory"}),v("stocktakeHistory")&&a.jsx(Ee,{label:"",icon:Cn,onClick:()=>S("stocktakeHistory"),active:c==="stocktakeHistory"})]}),(n.role==="BOSS"||v("expenditureManagement"))&&a.jsx(Ll,{id:"expenditure",label:"",icon:ht,openDropdown:u,setOpenDropdown:f,active:c==="expenditureManagement",children:a.jsx(Ee,{label:"",icon:ht,onClick:()=>S("expenditureManagement"),active:c==="expenditureManagement"})}),(n.role==="BOSS"||v("receivable")||v("payable")||v("incomeStatement")||v("costCalculation")||v("payroll"))&&a.jsxs(Ll,{id:"accounting",label:"",icon:ul,openDropdown:u,setOpenDropdown:f,active:["receivable","payable","incomeStatement","costCalculation","payroll"].includes(c),children:[v("receivable")&&a.jsx(Ee,{label:"",icon:ul,onClick:()=>S("receivable"),active:c==="receivable"}),v("payable")&&a.jsx(Ee,{label:"",icon:ul,onClick:()=>S("payable"),active:c==="payable"}),v("incomeStatement")&&a.jsx(Ee,{label:"",icon:Nd,onClick:()=>S("incomeStatement"),active:c==="incomeStatement"}),a.jsx("div",{className:"my-1 border-t border-slate-100"}),v("costCalculation")&&a.jsx(Ee,{label:"",icon:ht,onClick:()=>S("costCalculation"),active:c==="costCalculation"}),v("payroll")&&a.jsx(Ee,{label:"",icon:ht,onClick:()=>S("payroll"),active:c==="payroll"})]}),(n.role==="BOSS"||v("salesRanking")||v("customerRanking")||v("profitAnalysis")||v("turnoverRate"))&&a.jsxs(Ll,{id:"analytics",label:"",icon:fl,openDropdown:u,setOpenDropdown:f,active:["salesRanking","customerRanking","profitAnalysis","turnoverRate"].includes(c),children:[v("salesRanking")&&a.jsx(Ee,{label:"",icon:vd,onClick:()=>S("salesRanking"),active:c==="salesRanking"}),v("customerRanking")&&a.jsx(Ee,{label:"",icon:Si,onClick:()=>S("customerRanking"),active:c==="customerRanking"}),v("profitAnalysis")&&a.jsx(Ee,{label:"",icon:fl,onClick:()=>S("profitAnalysis"),active:c==="profitAnalysis"}),v("turnoverRate")&&a.jsx(Ee,{label:"",icon:Hl,onClick:()=>S("turnoverRate"),active:c==="turnoverRate"})]}),(n.role==="BOSS"||v("permissionControl")||v("activityLog"))&&a.jsxs(Ll,{id:"system",label:"",icon:va,openDropdown:u,setOpenDropdown:f,active:["permissionControl","activityLog"].includes(c),children:[v("permissionControl")&&a.jsx(Ee,{label:"",icon:va,onClick:()=>S("permissionControl"),active:c==="permissionControl"}),v("activityLog")&&a.jsx(Ee,{label:"",icon:Hl,onClick:()=>S("activityLog"),active:c==="activityLog"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(KS,{}),a.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[a.jsx("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 leading-none",children:n.username}),a.jsx("span",{className:"text-[10px] text-slate-400 dark:text-slate-500 uppercase font-bold tracking-tighter",children:n.role})]}),a.jsx("button",{onClick:k,className:"w-10 h-10 rounded-xl flex items-center justify-center text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all border border-transparent hover:border-red-100 dark:hover:border-red-800",title:"",children:a.jsx(Mv,{size:20})})]})]}),a.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-hidden",children:v(c)?a.jsxs(a.Fragment,{children:[c==="sales"&&a.jsx(wS,{user:n,apiUrl:Fe,logActivity:y}),c==="inventory"&&a.jsx(DS,{user:n,apiUrl:Fe,logActivity:y}),c==="purchase"&&a.jsx(ES,{user:n,apiUrl:Fe,logActivity:y}),c==="report"&&a.jsx(AS,{user:n,apiUrl:Fe,logActivity:y}),c==="purchaseHistory"&&a.jsx(CS,{user:n,apiUrl:Fe,logActivity:y}),c==="adjustHistory"&&a.jsx(TS,{user:n,apiUrl:Fe,logActivity:y}),c==="valuation"&&a.jsx(OS,{user:n,apiUrl:Fe,logActivity:y}),c==="stocktake"&&a.jsx(kS,{user:n,apiUrl:Fe,logActivity:y}),c==="stocktakeHistory"&&a.jsx(_S,{user:n,apiUrl:Fe,logActivity:y}),c==="receivable"&&a.jsx(MS,{user:n,apiUrl:Fe,logActivity:y}),c==="payable"&&a.jsx(RS,{user:n,apiUrl:Fe,logActivity:y}),c==="salesRanking"&&a.jsx(zS,{user:n,apiUrl:Fe,logActivity:y}),c==="customerRanking"&&a.jsx(LS,{user:n,apiUrl:Fe,logActivity:y}),c==="profitAnalysis"&&a.jsx(BS,{user:n,apiUrl:Fe,logActivity:y}),c==="turnoverRate"&&a.jsx(US,{user:n,apiUrl:Fe,logActivity:y}),c==="costCalculation"&&a.jsx(HS,{user:n,apiUrl:Fe,logActivity:y}),c==="expenditureManagement"&&a.jsx(GS,{user:n,apiUrl:Fe,logActivity:y}),c==="incomeStatement"&&a.jsx($S,{user:n,apiUrl:Fe,logActivity:y}),c==="permissionControl"&&a.jsx(qS,{user:n,apiUrl:Fe,logActivity:y}),c==="payroll"&&a.jsx(IS,{user:n,apiUrl:Fe,logActivity:y}),c==="activityLog"&&a.jsx(VS,{user:n,apiUrl:Fe})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[a.jsx(va,{size:64,className:"mb-4 text-slate-200"}),a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),a.jsx("p",{className:"mt-2",children:""}),a.jsx("button",{onClick:()=>d("sales"),className:"mt-6 px-4 py-2 bg-white hover:bg-slate-50 text-blue-600 rounded-lg transition-colors border border-slate-200 shadow-sm",children:""})]})})]}):a.jsx(r0,{onLogin:z,apiUrl:Fe})}function PS(){return a.jsx(QS,{children:a.jsx(JS,{})})}Kg.createRoot(document.getElementById("root")).render(a.jsx(A.StrictMode,{children:a.jsx(PS,{})}));
