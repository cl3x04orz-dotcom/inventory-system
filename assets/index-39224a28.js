(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}})();function om(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dm={exports:{}},qi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb=Symbol.for("react.transitional.element"),Ab=Symbol.for("react.fragment");function um(e,t,a){var l=null;if(a!==void 0&&(l=""+a),t.key!==void 0&&(l=""+t.key),"key"in t){a={};for(var s in t)s!=="key"&&(a[s]=t[s])}else a=t;return t=a.ref,{$$typeof:Eb,type:e,key:l,ref:t!==void 0?t:null,props:a}}qi.Fragment=Ab;qi.jsx=um;qi.jsxs=um;dm.exports=qi;var n=dm.exports,fm={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd=Symbol.for("react.transitional.element"),Tb=Symbol.for("react.portal"),kb=Symbol.for("react.fragment"),Ob=Symbol.for("react.strict_mode"),Mb=Symbol.for("react.profiler"),_b=Symbol.for("react.consumer"),zb=Symbol.for("react.context"),Rb=Symbol.for("react.forward_ref"),Lb=Symbol.for("react.suspense"),Bb=Symbol.for("react.memo"),xm=Symbol.for("react.lazy"),$b=Symbol.for("react.activity"),Vu=Symbol.iterator;function Ub(e){return e===null||typeof e!="object"?null:(e=Vu&&e[Vu]||e["@@iterator"],typeof e=="function"?e:null)}var mm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pm=Object.assign,hm={};function Ll(e,t,a){this.props=e,this.context=t,this.refs=hm,this.updater=a||mm}Ll.prototype.isReactComponent={};Ll.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ll.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ym(){}ym.prototype=Ll.prototype;function jd(e,t,a){this.props=e,this.context=t,this.refs=hm,this.updater=a||mm}var Sd=jd.prototype=new ym;Sd.constructor=jd;pm(Sd,Ll.prototype);Sd.isPureReactComponent=!0;var Yu=Array.isArray;function xo(){}var qe={H:null,A:null,T:null,S:null},bm=Object.prototype.hasOwnProperty;function wd(e,t,a){var l=a.ref;return{$$typeof:Nd,type:e,key:t,ref:l!==void 0?l:null,props:a}}function Hb(e,t){return wd(e.type,t,e.props)}function Dd(e){return typeof e=="object"&&e!==null&&e.$$typeof===Nd}function Gb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var Qu=/\/+/g;function pc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gb(""+e.key):t.toString(36)}function qb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(xo,xo):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Pn(e,t,a,l,s){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(r){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Nd:case Tb:i=!0;break;case xm:return i=e._init,Pn(i(e._payload),t,a,l,s)}}if(i)return s=s(e),i=l===""?"."+pc(e,0):l,Yu(s)?(a="",i!=null&&(a=i.replace(Qu,"$&/")+"/"),Pn(s,t,a,"",function(u){return u})):s!=null&&(Dd(s)&&(s=Hb(s,a+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(Qu,"$&/")+"/")+i)),t.push(s)),1;i=0;var c=l===""?".":l+":";if(Yu(e))for(var o=0;o<e.length;o++)l=e[o],r=c+pc(l,o),i+=Pn(l,t,a,r,s);else if(o=Ub(e),typeof o=="function")for(e=o.call(e),o=0;!(l=e.next()).done;)l=l.value,r=c+pc(l,o++),i+=Pn(l,t,a,r,s);else if(r==="object"){if(typeof e.then=="function")return Pn(qb(e),t,a,l,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function hr(e,t,a){if(e==null)return e;var l=[],s=0;return Pn(e,l,"","",function(r){return t.call(a,r,s++)}),l}function Ib(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vb={map:hr,forEach:function(e,t,a){hr(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return hr(e,function(){t++}),t},toArray:function(e){return hr(e,function(t){return t})||[]},only:function(e){if(!Dd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Activity=$b;de.Children=Vb;de.Component=Ll;de.Fragment=kb;de.Profiler=Mb;de.PureComponent=jd;de.StrictMode=Ob;de.Suspense=Lb;de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qe;de.__COMPILER_RUNTIME={__proto__:null,c:function(e){return qe.H.useMemoCache(e)}};de.cache=function(e){return function(){return e.apply(null,arguments)}};de.cacheSignal=function(){return null};de.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var l=pm({},e.props),s=e.key;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)!bm.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(l[r]=t[r]);var r=arguments.length-2;if(r===1)l.children=a;else if(1<r){for(var i=Array(r),c=0;c<r;c++)i[c]=arguments[c+2];l.children=i}return wd(e.type,s,l)};de.createContext=function(e){return e={$$typeof:zb,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:_b,_context:e},e};de.createElement=function(e,t,a){var l,s={},r=null;if(t!=null)for(l in t.key!==void 0&&(r=""+t.key),t)bm.call(t,l)&&l!=="key"&&l!=="__self"&&l!=="__source"&&(s[l]=t[l]);var i=arguments.length-2;if(i===1)s.children=a;else if(1<i){for(var c=Array(i),o=0;o<i;o++)c[o]=arguments[o+2];s.children=c}if(e&&e.defaultProps)for(l in i=e.defaultProps,i)s[l]===void 0&&(s[l]=i[l]);return wd(e,r,s)};de.createRef=function(){return{current:null}};de.forwardRef=function(e){return{$$typeof:Rb,render:e}};de.isValidElement=Dd;de.lazy=function(e){return{$$typeof:xm,_payload:{_status:-1,_result:e},_init:Ib}};de.memo=function(e,t){return{$$typeof:Bb,type:e,compare:t===void 0?null:t}};de.startTransition=function(e){var t=qe.T,a={};qe.T=a;try{var l=e(),s=qe.S;s!==null&&s(a,l),typeof l=="object"&&l!==null&&typeof l.then=="function"&&l.then(xo,Ku)}catch(r){Ku(r)}finally{t!==null&&a.types!==null&&(t.types=a.types),qe.T=t}};de.unstable_useCacheRefresh=function(){return qe.H.useCacheRefresh()};de.use=function(e){return qe.H.use(e)};de.useActionState=function(e,t,a){return qe.H.useActionState(e,t,a)};de.useCallback=function(e,t){return qe.H.useCallback(e,t)};de.useContext=function(e){return qe.H.useContext(e)};de.useDebugValue=function(){};de.useDeferredValue=function(e,t){return qe.H.useDeferredValue(e,t)};de.useEffect=function(e,t){return qe.H.useEffect(e,t)};de.useEffectEvent=function(e){return qe.H.useEffectEvent(e)};de.useId=function(){return qe.H.useId()};de.useImperativeHandle=function(e,t,a){return qe.H.useImperativeHandle(e,t,a)};de.useInsertionEffect=function(e,t){return qe.H.useInsertionEffect(e,t)};de.useLayoutEffect=function(e,t){return qe.H.useLayoutEffect(e,t)};de.useMemo=function(e,t){return qe.H.useMemo(e,t)};de.useOptimistic=function(e,t){return qe.H.useOptimistic(e,t)};de.useReducer=function(e,t,a){return qe.H.useReducer(e,t,a)};de.useRef=function(e){return qe.H.useRef(e)};de.useState=function(e){return qe.H.useState(e)};de.useSyncExternalStore=function(e,t,a){return qe.H.useSyncExternalStore(e,t,a)};de.useTransition=function(){return qe.H.useTransition()};de.version="19.2.3";fm.exports=de;var S=fm.exports;const Ce=om(S);var gm={exports:{}},Ii={},vm={exports:{}},Nm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,z){var G=L.length;L.push(z);e:for(;0<G;){var C=G-1>>>1,$=L[C];if(0<s($,z))L[C]=z,L[G]=$,G=C;else break e}}function a(L){return L.length===0?null:L[0]}function l(L){if(L.length===0)return null;var z=L[0],G=L.pop();if(G!==z){L[0]=G;e:for(var C=0,$=L.length,H=$>>>1;C<H;){var ne=2*(C+1)-1,F=L[ne],re=ne+1,$e=L[re];if(0>s(F,G))re<$&&0>s($e,F)?(L[C]=$e,L[re]=G,C=re):(L[C]=F,L[ne]=G,C=ne);else if(re<$&&0>s($e,G))L[C]=$e,L[re]=G,C=re;else break e}}return z}function s(L,z){var G=L.sortIndex-z.sortIndex;return G!==0?G:L.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var i=Date,c=i.now();e.unstable_now=function(){return i.now()-c}}var o=[],u=[],p=1,m=null,d=3,x=!1,N=!1,w=!1,b=!1,f=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;function v(L){for(var z=a(u);z!==null;){if(z.callback===null)l(u);else if(z.startTime<=L)l(u),z.sortIndex=z.expirationTime,t(o,z);else break;z=a(u)}}function j(L){if(w=!1,v(L),!N)if(a(o)!==null)N=!0,y||(y=!0,U());else{var z=a(u);z!==null&&ae(j,z.startTime-L)}}var y=!1,D=-1,E=5,O=-1;function B(){return b?!0:!(e.unstable_now()-O<E)}function X(){if(b=!1,y){var L=e.unstable_now();O=L;var z=!0;try{e:{N=!1,w&&(w=!1,g(D),D=-1),x=!0;var G=d;try{t:{for(v(L),m=a(o);m!==null&&!(m.expirationTime>L&&B());){var C=m.callback;if(typeof C=="function"){m.callback=null,d=m.priorityLevel;var $=C(m.expirationTime<=L);if(L=e.unstable_now(),typeof $=="function"){m.callback=$,v(L),z=!0;break t}m===a(o)&&l(o),v(L)}else l(o);m=a(o)}if(m!==null)z=!0;else{var H=a(u);H!==null&&ae(j,H.startTime-L),z=!1}}break e}finally{m=null,d=G,x=!1}z=void 0}}finally{z?U():y=!1}}}var U;if(typeof h=="function")U=function(){h(X)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,te=V.port2;V.port1.onmessage=X,U=function(){te.postMessage(null)}}else U=function(){f(X,0)};function ae(L,z){D=f(function(){L(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(L){switch(d){case 1:case 2:case 3:var z=3;break;default:z=d}var G=d;d=z;try{return L()}finally{d=G}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var G=d;d=L;try{return z()}finally{d=G}},e.unstable_scheduleCallback=function(L,z,G){var C=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?C+G:C):G=C,L){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=G+$,L={id:p++,callback:z,priorityLevel:L,startTime:G,expirationTime:$,sortIndex:-1},G>C?(L.sortIndex=G,t(u,L),a(o)===null&&L===a(u)&&(w?(g(D),D=-1):w=!0,ae(j,G-C))):(L.sortIndex=$,t(o,L),N||x||(N=!0,y||(y=!0,U()))),L},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(L){var z=d;return function(){var G=d;d=z;try{return L.apply(this,arguments)}finally{d=G}}}})(Nm);vm.exports=Nm;var Yb=vm.exports,jm={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb=S;function Sm(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ha(){}var Et={d:{f:Ha,r:function(){throw Error(Sm(522))},D:Ha,C:Ha,L:Ha,m:Ha,X:Ha,S:Ha,M:Ha},p:0,findDOMNode:null},Kb=Symbol.for("react.portal");function Xb(e,t,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kb,key:l==null?null:""+l,children:e,containerInfo:t,implementation:a}}var fs=Qb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Vi(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Et;At.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Sm(299));return Xb(e,t,null,a)};At.flushSync=function(e){var t=fs.T,a=Et.p;try{if(fs.T=null,Et.p=2,e)return e()}finally{fs.T=t,Et.p=a,Et.d.f()}};At.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Et.d.C(e,t))};At.prefetchDNS=function(e){typeof e=="string"&&Et.d.D(e)};At.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,l=Vi(a,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Et.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:l,integrity:s,fetchPriority:r}):a==="script"&&Et.d.X(e,{crossOrigin:l,integrity:s,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};At.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=Vi(t.as,t.crossOrigin);Et.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Et.d.M(e)};At.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,l=Vi(a,t.crossOrigin);Et.d.L(e,a,{crossOrigin:l,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};At.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=Vi(t.as,t.crossOrigin);Et.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Et.d.m(e)};At.requestFormReset=function(e){Et.d.r(e)};At.unstable_batchedUpdates=function(e,t){return e(t)};At.useFormState=function(e,t,a){return fs.H.useFormState(e,t,a)};At.useFormStatus=function(){return fs.H.useHostTransitionStatus()};At.version="19.2.3";function wm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wm)}catch(e){console.error(e)}}wm(),jm.exports=At;var Yi=jm.exports;const Zb=om(Yi);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ct=Yb,Dm=S,Pb=Yi;function R(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Cm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tr(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Em(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Am(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xu(e){if(tr(e)!==e)throw Error(R(188))}function Fb(e){var t=e.alternate;if(!t){if(t=tr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var a=e,l=t;;){var s=a.return;if(s===null)break;var r=s.alternate;if(r===null){if(l=s.return,l!==null){a=l;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===a)return Xu(s),e;if(r===l)return Xu(s),t;r=r.sibling}throw Error(R(188))}if(a.return!==l.return)a=s,l=r;else{for(var i=!1,c=s.child;c;){if(c===a){i=!0,a=s,l=r;break}if(c===l){i=!0,l=s,a=r;break}c=c.sibling}if(!i){for(c=r.child;c;){if(c===a){i=!0,a=r,l=s;break}if(c===l){i=!0,l=r,a=s;break}c=c.sibling}if(!i)throw Error(R(189))}}if(a.alternate!==l)throw Error(R(190))}if(a.tag!==3)throw Error(R(188));return a.stateNode.current===a?e:t}function Tm(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Tm(e),t!==null)return t;e=e.sibling}return null}var Ie=Object.assign,Jb=Symbol.for("react.element"),yr=Symbol.for("react.transitional.element"),ss=Symbol.for("react.portal"),el=Symbol.for("react.fragment"),km=Symbol.for("react.strict_mode"),mo=Symbol.for("react.profiler"),Om=Symbol.for("react.consumer"),Aa=Symbol.for("react.context"),Cd=Symbol.for("react.forward_ref"),po=Symbol.for("react.suspense"),ho=Symbol.for("react.suspense_list"),Ed=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),yo=Symbol.for("react.activity"),Wb=Symbol.for("react.memo_cache_sentinel"),Zu=Symbol.iterator;function Kl(e){return e===null||typeof e!="object"?null:(e=Zu&&e[Zu]||e["@@iterator"],typeof e=="function"?e:null)}var eg=Symbol.for("react.client.reference");function bo(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===eg?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case el:return"Fragment";case mo:return"Profiler";case km:return"StrictMode";case po:return"Suspense";case ho:return"SuspenseList";case yo:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ss:return"Portal";case Aa:return e.displayName||"Context";case Om:return(e._context.displayName||"Context")+".Consumer";case Cd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ed:return t=e.displayName||null,t!==null?t:bo(e.type)||"Memo";case Ga:t=e._payload,e=e._init;try{return bo(e(t))}catch{}}return null}var rs=Array.isArray,se=Dm.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae=Pb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,kn={pending:!1,data:null,method:null,action:null},go=[],tl=-1;function ba(e){return{current:e}}function ut(e){0>tl||(e.current=go[tl],go[tl]=null,tl--)}function Ue(e,t){tl++,go[tl]=e.current,e.current=t}var ha=ba(null),Ts=ba(null),en=ba(null),ei=ba(null);function ti(e,t){switch(Ue(en,t),Ue(Ts,e),Ue(ha,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ax(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ax(t),e=Fh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ut(ha),Ue(ha,e)}function Nl(){ut(ha),ut(Ts),ut(en)}function vo(e){e.memoizedState!==null&&Ue(ei,e);var t=ha.current,a=Fh(t,e.type);t!==a&&(Ue(Ts,e),Ue(ha,a))}function ai(e){Ts.current===e&&(ut(ha),ut(Ts)),ei.current===e&&(ut(ei),Hs._currentValue=kn)}var hc,Pu;function wn(e){if(hc===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);hc=t&&t[1]||"",Pu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hc+e+Pu}var yc=!1;function bc(e,t){if(!e||yc)return"";yc=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(x){var d=x}Reflect.construct(e,[],m)}else{try{m.call()}catch(x){d=x}e.call(m.prototype)}}else{try{throw Error()}catch(x){d=x}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(x){if(x&&d&&typeof x.stack=="string")return[x.stack,d.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=l.DetermineComponentFrameRoot(),i=r[0],c=r[1];if(i&&c){var o=i.split(`
`),u=c.split(`
`);for(s=l=0;l<o.length&&!o[l].includes("DetermineComponentFrameRoot");)l++;for(;s<u.length&&!u[s].includes("DetermineComponentFrameRoot");)s++;if(l===o.length||s===u.length)for(l=o.length-1,s=u.length-1;1<=l&&0<=s&&o[l]!==u[s];)s--;for(;1<=l&&0<=s;l--,s--)if(o[l]!==u[s]){if(l!==1||s!==1)do if(l--,s--,0>s||o[l]!==u[s]){var p=`
`+o[l].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=l&&0<=s);break}}}finally{yc=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?wn(a):""}function tg(e,t){switch(e.tag){case 26:case 27:case 5:return wn(e.type);case 16:return wn("Lazy");case 13:return e.child!==t&&t!==null?wn("Suspense Fallback"):wn("Suspense");case 19:return wn("SuspenseList");case 0:case 15:return bc(e.type,!1);case 11:return bc(e.type.render,!1);case 1:return bc(e.type,!0);case 31:return wn("Activity");default:return""}}function Fu(e){try{var t="",a=null;do t+=tg(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var No=Object.prototype.hasOwnProperty,Ad=ct.unstable_scheduleCallback,gc=ct.unstable_cancelCallback,ag=ct.unstable_shouldYield,ng=ct.unstable_requestPaint,Gt=ct.unstable_now,lg=ct.unstable_getCurrentPriorityLevel,Mm=ct.unstable_ImmediatePriority,_m=ct.unstable_UserBlockingPriority,ni=ct.unstable_NormalPriority,sg=ct.unstable_LowPriority,zm=ct.unstable_IdlePriority,rg=ct.log,ig=ct.unstable_setDisableYieldValue,ar=null,qt=null;function Xa(e){if(typeof rg=="function"&&ig(e),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(ar,e)}catch{}}var It=Math.clz32?Math.clz32:dg,cg=Math.log,og=Math.LN2;function dg(e){return e>>>=0,e===0?32:31-(cg(e)/og|0)|0}var br=256,gr=262144,vr=4194304;function Dn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qi(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var s=0,r=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var c=l&134217727;return c!==0?(l=c&~r,l!==0?s=Dn(l):(i&=c,i!==0?s=Dn(i):a||(a=c&~e,a!==0&&(s=Dn(a))))):(c=l&~r,c!==0?s=Dn(c):i!==0?s=Dn(i):a||(a=l&~e,a!==0&&(s=Dn(a)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,a=t&-t,r>=a||r===32&&(a&4194048)!==0)?t:s}function nr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ug(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rm(){var e=vr;return vr<<=1,!(vr&62914560)&&(vr=4194304),e}function vc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function lr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fg(e,t,a,l,s,r){var i=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var c=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(a=i&~a;0<a;){var p=31-It(a),m=1<<p;c[p]=0,o[p]=-1;var d=u[p];if(d!==null)for(u[p]=null,p=0;p<d.length;p++){var x=d[p];x!==null&&(x.lane&=-536870913)}a&=~m}l!==0&&Lm(e,l,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(i&~t))}function Lm(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-It(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Bm(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-It(a),s=1<<l;s&t|e[l]&t&&(e[l]|=t),a&=~s}}function $m(e,t){var a=t&-t;return a=a&42?1:Td(a),a&(e.suspendedLanes|t)?0:a}function Td(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function kd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Um(){var e=Ae.p;return e!==0?e:(e=window.event,e===void 0?32:cy(e.type))}function Ju(e,t){var a=Ae.p;try{return Ae.p=e,t()}finally{Ae.p=a}}var bn=Math.random().toString(36).slice(2),yt="__reactFiber$"+bn,zt="__reactProps$"+bn,Bl="__reactContainer$"+bn,jo="__reactEvents$"+bn,xg="__reactListeners$"+bn,mg="__reactHandles$"+bn,Wu="__reactResources$"+bn,sr="__reactMarker$"+bn;function Od(e){delete e[yt],delete e[zt],delete e[jo],delete e[xg],delete e[mg]}function al(e){var t=e[yt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Bl]||a[yt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=ix(e);e!==null;){if(a=e[yt])return a;e=ix(e)}return t}e=a,a=e.parentNode}return null}function $l(e){if(e=e[yt]||e[Bl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function is(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(R(33))}function xl(e){var t=e[Wu];return t||(t=e[Wu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function dt(e){e[sr]=!0}var Hm=new Set,Gm={};function In(e,t){jl(e,t),jl(e+"Capture",t)}function jl(e,t){for(Gm[e]=t,e=0;e<t.length;e++)Hm.add(t[e])}var pg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ef={},tf={};function hg(e){return No.call(tf,e)?!0:No.call(ef,e)?!1:pg.test(e)?tf[e]=!0:(ef[e]=!0,!1)}function $r(e,t,a){if(hg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Nr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Na(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yg(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var s=l.get,r=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){a=""+i,r.call(this,i)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function So(e){if(!e._valueTracker){var t=qm(e)?"checked":"value";e._valueTracker=yg(e,t,""+e[t])}}function Im(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=qm(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bg=/[\n"\\]/g;function ea(e){return e.replace(bg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wo(e,t,a,l,s,r,i,c){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ft(t)):e.value!==""+Ft(t)&&(e.value=""+Ft(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?Do(e,i,Ft(t)):a!=null?Do(e,i,Ft(a)):l!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+Ft(c):e.removeAttribute("name")}function Vm(e,t,a,l,s,r,i,c){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||a!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){So(e);return}a=a!=null?""+Ft(a):"",t=t!=null?""+Ft(t):a,c||t===e.value||(e.value=t),e.defaultValue=t}l=l??s,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=c?e.checked:!!l,e.defaultChecked=!!l,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),So(e)}function Do(e,t,a){t==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ml(e,t,a,l){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ft(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,l&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ym(e,t,a){if(t!=null&&(t=""+Ft(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ft(a):""}function Qm(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(R(92));if(rs(l)){if(1<l.length)throw Error(R(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Ft(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),So(e)}function Sl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var gg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function af(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||gg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Km(e,t,a){if(t!=null&&typeof t!="object")throw Error(R(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var s in t)l=t[s],t.hasOwnProperty(s)&&a[s]!==l&&af(e,s,l)}else for(var r in t)t.hasOwnProperty(r)&&af(e,r,t[r])}function Md(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ng=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ur(e){return Ng.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ta(){}var Co=null;function _d(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nl=null,pl=null;function nf(e){var t=$l(e);if(t&&(e=t.stateNode)){var a=e[zt]||null;e:switch(e=t.stateNode,t.type){case"input":if(wo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ea(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var s=l[zt]||null;if(!s)throw Error(R(90));wo(l,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Im(l)}break e;case"textarea":Ym(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ml(e,!!a.multiple,t,!1)}}}var Nc=!1;function Xm(e,t,a){if(Nc)return e(t,a);Nc=!0;try{var l=e(t);return l}finally{if(Nc=!1,(nl!==null||pl!==null)&&(lc(),nl&&(t=nl,e=pl,pl=nl=null,nf(t),e)))for(t=0;t<e.length;t++)nf(e[t])}}function ks(e,t){var a=e.stateNode;if(a===null)return null;var l=a[zt]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(R(231,t,typeof a));return a}var za=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eo=!1;if(za)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{Eo=!1}var Za=null,zd=null,Hr=null;function Zm(){if(Hr)return Hr;var e,t=zd,a=t.length,l,s="value"in Za?Za.value:Za.textContent,r=s.length;for(e=0;e<a&&t[e]===s[e];e++);var i=a-e;for(l=1;l<=i&&t[a-l]===s[r-l];l++);return Hr=s.slice(e,1<l?1-l:void 0)}function Gr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jr(){return!0}function lf(){return!1}function Rt(e){function t(a,l,s,r,i){this._reactName=a,this._targetInst=s,this.type=l,this.nativeEvent=r,this.target=i,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(a=e[c],this[c]=a?a(r):r[c]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?jr:lf,this.isPropagationStopped=lf,this}return Ie(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=jr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=jr)},persist:function(){},isPersistent:jr}),t}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=Rt(Vn),rr=Ie({},Vn,{view:0,detail:0}),jg=Rt(rr),jc,Sc,Zl,Xi=Ie({},rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zl&&(Zl&&e.type==="mousemove"?(jc=e.screenX-Zl.screenX,Sc=e.screenY-Zl.screenY):Sc=jc=0,Zl=e),jc)},movementY:function(e){return"movementY"in e?e.movementY:Sc}}),sf=Rt(Xi),Sg=Ie({},Xi,{dataTransfer:0}),wg=Rt(Sg),Dg=Ie({},rr,{relatedTarget:0}),wc=Rt(Dg),Cg=Ie({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Eg=Rt(Cg),Ag=Ie({},Vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tg=Rt(Ag),kg=Ie({},Vn,{data:0}),rf=Rt(kg),Og={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_g={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_g[e])?!!t[e]:!1}function Rd(){return zg}var Rg=Ie({},rr,{key:function(e){if(e.key){var t=Og[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Gr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rd,charCode:function(e){return e.type==="keypress"?Gr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lg=Rt(Rg),Bg=Ie({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cf=Rt(Bg),$g=Ie({},rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rd}),Ug=Rt($g),Hg=Ie({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gg=Rt(Hg),qg=Ie({},Xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ig=Rt(qg),Vg=Ie({},Vn,{newState:0,oldState:0}),Yg=Rt(Vg),Qg=[9,13,27,32],Ld=za&&"CompositionEvent"in window,xs=null;za&&"documentMode"in document&&(xs=document.documentMode);var Kg=za&&"TextEvent"in window&&!xs,Pm=za&&(!Ld||xs&&8<xs&&11>=xs),of=String.fromCharCode(32),df=!1;function Fm(e,t){switch(e){case"keyup":return Qg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ll=!1;function Xg(e,t){switch(e){case"compositionend":return Jm(t);case"keypress":return t.which!==32?null:(df=!0,of);case"textInput":return e=t.data,e===of&&df?null:e;default:return null}}function Zg(e,t){if(ll)return e==="compositionend"||!Ld&&Fm(e,t)?(e=Zm(),Hr=zd=Za=null,ll=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pm&&t.locale!=="ko"?null:t.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pg[e.type]:t==="textarea"}function Wm(e,t,a,l){nl?pl?pl.push(l):pl=[l]:nl=l,t=ji(t,"onChange"),0<t.length&&(a=new Ki("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var ms=null,Os=null;function Fg(e){Xh(e,0)}function Zi(e){var t=is(e);if(Im(t))return e}function ff(e,t){if(e==="change")return t}var ep=!1;if(za){var Dc;if(za){var Cc="oninput"in document;if(!Cc){var xf=document.createElement("div");xf.setAttribute("oninput","return;"),Cc=typeof xf.oninput=="function"}Dc=Cc}else Dc=!1;ep=Dc&&(!document.documentMode||9<document.documentMode)}function mf(){ms&&(ms.detachEvent("onpropertychange",tp),Os=ms=null)}function tp(e){if(e.propertyName==="value"&&Zi(Os)){var t=[];Wm(t,Os,e,_d(e)),Xm(Fg,t)}}function Jg(e,t,a){e==="focusin"?(mf(),ms=t,Os=a,ms.attachEvent("onpropertychange",tp)):e==="focusout"&&mf()}function Wg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zi(Os)}function e0(e,t){if(e==="click")return Zi(t)}function t0(e,t){if(e==="input"||e==="change")return Zi(t)}function a0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:a0;function Ms(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var s=a[l];if(!No.call(t,s)||!Kt(e[s],t[s]))return!1}return!0}function pf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hf(e,t){var a=pf(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=pf(a)}}function ap(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ap(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function np(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=li(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=li(e.document)}return t}function Bd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var n0=za&&"documentMode"in document&&11>=document.documentMode,sl=null,Ao=null,ps=null,To=!1;function yf(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;To||sl==null||sl!==li(l)||(l=sl,"selectionStart"in l&&Bd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ps&&Ms(ps,l)||(ps=l,l=ji(Ao,"onSelect"),0<l.length&&(t=new Ki("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=sl)))}function vn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var rl={animationend:vn("Animation","AnimationEnd"),animationiteration:vn("Animation","AnimationIteration"),animationstart:vn("Animation","AnimationStart"),transitionrun:vn("Transition","TransitionRun"),transitionstart:vn("Transition","TransitionStart"),transitioncancel:vn("Transition","TransitionCancel"),transitionend:vn("Transition","TransitionEnd")},Ec={},lp={};za&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function Yn(e){if(Ec[e])return Ec[e];if(!rl[e])return e;var t=rl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in lp)return Ec[e]=t[a];return e}var sp=Yn("animationend"),rp=Yn("animationiteration"),ip=Yn("animationstart"),l0=Yn("transitionrun"),s0=Yn("transitionstart"),r0=Yn("transitioncancel"),cp=Yn("transitionend"),op=new Map,ko="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ko.push("scrollEnd");function ua(e,t){op.set(e,t),In(t,[e])}var si=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pt=[],il=0,$d=0;function Pi(){for(var e=il,t=$d=il=0;t<e;){var a=Pt[t];Pt[t++]=null;var l=Pt[t];Pt[t++]=null;var s=Pt[t];Pt[t++]=null;var r=Pt[t];if(Pt[t++]=null,l!==null&&s!==null){var i=l.pending;i===null?s.next=s:(s.next=i.next,i.next=s),l.pending=s}r!==0&&dp(a,s,r)}}function Fi(e,t,a,l){Pt[il++]=e,Pt[il++]=t,Pt[il++]=a,Pt[il++]=l,$d|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Ud(e,t,a,l){return Fi(e,t,a,l),ri(e)}function Qn(e,t){return Fi(e,null,null,t),ri(e)}function dp(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var s=!1,r=e.return;r!==null;)r.childLanes|=a,l=r.alternate,l!==null&&(l.childLanes|=a),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-It(a),e=r.hiddenUpdates,l=e[s],l===null?e[s]=[t]:l.push(t),t.lane=a|536870912),r):null}function ri(e){if(50<ws)throw ws=0,Fo=null,Error(R(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var cl={};function i0(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,t,a,l){return new i0(e,t,a,l)}function Hd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oa(e,t){var a=e.alternate;return a===null?(a=$t(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function up(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,a,l,s,r){var i=0;if(l=e,typeof e=="function")Hd(e)&&(i=1);else if(typeof e=="string")i=fv(e,a,ha.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case yo:return e=$t(31,a,t,s),e.elementType=yo,e.lanes=r,e;case el:return On(a.children,s,r,t);case km:i=8,s|=24;break;case mo:return e=$t(12,a,t,s|2),e.elementType=mo,e.lanes=r,e;case po:return e=$t(13,a,t,s),e.elementType=po,e.lanes=r,e;case ho:return e=$t(19,a,t,s),e.elementType=ho,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Aa:i=10;break e;case Om:i=9;break e;case Cd:i=11;break e;case Ed:i=14;break e;case Ga:i=16,l=null;break e}i=29,a=Error(R(130,e===null?"null":typeof e,"")),l=null}return t=$t(i,a,t,s),t.elementType=e,t.type=l,t.lanes=r,t}function On(e,t,a,l){return e=$t(7,e,l,t),e.lanes=a,e}function Ac(e,t,a){return e=$t(6,e,null,t),e.lanes=a,e}function fp(e){var t=$t(18,null,null,0);return t.stateNode=e,t}function Tc(e,t,a){return t=$t(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bf=new WeakMap;function ta(e,t){if(typeof e=="object"&&e!==null){var a=bf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Fu(t)},bf.set(e,t),t)}return{value:e,source:t,stack:Fu(t)}}var ol=[],dl=0,ii=null,_s=0,Jt=[],Wt=0,xn=null,xa=1,ma="";function Ca(e,t){ol[dl++]=_s,ol[dl++]=ii,ii=e,_s=t}function xp(e,t,a){Jt[Wt++]=xa,Jt[Wt++]=ma,Jt[Wt++]=xn,xn=e;var l=xa;e=ma;var s=32-It(l)-1;l&=~(1<<s),a+=1;var r=32-It(t)+s;if(30<r){var i=s-s%5;r=(l&(1<<i)-1).toString(32),l>>=i,s-=i,xa=1<<32-It(t)+s|a<<s|l,ma=r+e}else xa=1<<r|a<<s|l,ma=e}function Gd(e){e.return!==null&&(Ca(e,1),xp(e,1,0))}function qd(e){for(;e===ii;)ii=ol[--dl],ol[dl]=null,_s=ol[--dl],ol[dl]=null;for(;e===xn;)xn=Jt[--Wt],Jt[Wt]=null,ma=Jt[--Wt],Jt[Wt]=null,xa=Jt[--Wt],Jt[Wt]=null}function mp(e,t){Jt[Wt++]=xa,Jt[Wt++]=ma,Jt[Wt++]=xn,xa=t.id,ma=t.overflow,xn=e}var bt=null,Ge=null,ve=!1,tn=null,aa=!1,Oo=Error(R(519));function mn(e){var t=Error(R(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zs(ta(t,e)),Oo}function gf(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[yt]=e,t[zt]=l,a){case"dialog":he("cancel",t),he("close",t);break;case"iframe":case"object":case"embed":he("load",t);break;case"video":case"audio":for(a=0;a<$s.length;a++)he($s[a],t);break;case"source":he("error",t);break;case"img":case"image":case"link":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"input":he("invalid",t),Vm(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":he("invalid",t);break;case"textarea":he("invalid",t),Qm(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||Ph(t.textContent,a)?(l.popover!=null&&(he("beforetoggle",t),he("toggle",t)),l.onScroll!=null&&he("scroll",t),l.onScrollEnd!=null&&he("scrollend",t),l.onClick!=null&&(t.onclick=Ta),t=!0):t=!1,t||mn(e,!0)}function vf(e){for(bt=e.return;bt;)switch(bt.tag){case 5:case 31:case 13:aa=!1;return;case 27:case 3:aa=!0;return;default:bt=bt.return}}function Xn(e){if(e!==bt)return!1;if(!ve)return vf(e),ve=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ad(e.type,e.memoizedProps)),a=!a),a&&Ge&&mn(e),vf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));Ge=rx(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));Ge=rx(e)}else t===27?(t=Ge,gn(e.type)?(e=rd,rd=null,Ge=e):Ge=t):Ge=bt?sa(e.stateNode.nextSibling):null;return!0}function Ln(){Ge=bt=null,ve=!1}function kc(){var e=tn;return e!==null&&(Mt===null?Mt=e:Mt.push.apply(Mt,e),tn=null),e}function zs(e){tn===null?tn=[e]:tn.push(e)}var Mo=ba(null),Kn=null,ka=null;function Va(e,t,a){Ue(Mo,t._currentValue),t._currentValue=a}function Ma(e){e._currentValue=Mo.current,ut(Mo)}function _o(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function zo(e,t,a,l){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var i=s.child;r=r.firstContext;e:for(;r!==null;){var c=r;r=s;for(var o=0;o<t.length;o++)if(c.context===t[o]){r.lanes|=a,c=r.alternate,c!==null&&(c.lanes|=a),_o(r.return,a,e),l||(i=null);break e}r=c.next}}else if(s.tag===18){if(i=s.return,i===null)throw Error(R(341));i.lanes|=a,r=i.alternate,r!==null&&(r.lanes|=a),_o(i,a,e),i=null}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}}function Ul(e,t,a,l){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var i=s.alternate;if(i===null)throw Error(R(387));if(i=i.memoizedProps,i!==null){var c=s.type;Kt(s.pendingProps.value,i.value)||(e!==null?e.push(c):e=[c])}}else if(s===ei.current){if(i=s.alternate,i===null)throw Error(R(387));i.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Hs):e=[Hs])}s=s.return}e!==null&&zo(t,e,a,l),t.flags|=262144}function ci(e){for(e=e.firstContext;e!==null;){if(!Kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bn(e){Kn=e,ka=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gt(e){return pp(Kn,e)}function Sr(e,t){return Kn===null&&Bn(e),pp(e,t)}function pp(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ka===null){if(e===null)throw Error(R(308));ka=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ka=ka.next=t;return a}var c0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},o0=ct.unstable_scheduleCallback,d0=ct.unstable_NormalPriority,lt={$$typeof:Aa,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Id(){return{controller:new c0,data:new Map,refCount:0}}function ir(e){e.refCount--,e.refCount===0&&o0(d0,function(){e.controller.abort()})}var hs=null,Ro=0,wl=0,hl=null;function u0(e,t){if(hs===null){var a=hs=[];Ro=0,wl=mu(),hl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ro++,t.then(Nf,Nf),t}function Nf(){if(--Ro===0&&hs!==null){hl!==null&&(hl.status="fulfilled");var e=hs;hs=null,wl=0,hl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function f0(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(l.status="rejected",l.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),l}var jf=se.S;se.S=function(e,t){Th=Gt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&u0(e,t),jf!==null&&jf(e,t)};var Mn=ba(null);function Vd(){var e=Mn.current;return e!==null?e:Be.pooledCache}function Ir(e,t){t===null?Ue(Mn,Mn.current):Ue(Mn,t.pool)}function hp(){var e=Vd();return e===null?null:{parent:lt._currentValue,pool:e}}var Hl=Error(R(460)),Yd=Error(R(474)),Ji=Error(R(542)),oi={then:function(){}};function Sf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yp(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Ta,Ta),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Df(e),e;default:if(typeof t.status=="string")t.then(Ta,Ta);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(R(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=l}},function(l){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Df(e),e}throw _n=t,Hl}}function Cn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(_n=a,Hl):a}}var _n=null;function wf(){if(_n===null)throw Error(R(459));var e=_n;return _n=null,e}function Df(e){if(e===Hl||e===Ji)throw Error(R(483))}var yl=null,Rs=0;function wr(e){var t=Rs;return Rs+=1,yl===null&&(yl=[]),yp(yl,e,t)}function Pl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Dr(e,t){throw t.$$typeof===Jb?Error(R(525)):(e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function bp(e){function t(f,g){if(e){var h=f.deletions;h===null?(f.deletions=[g],f.flags|=16):h.push(g)}}function a(f,g){if(!e)return null;for(;g!==null;)t(f,g),g=g.sibling;return null}function l(f){for(var g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(f,g){return f=Oa(f,g),f.index=0,f.sibling=null,f}function r(f,g,h){return f.index=h,e?(h=f.alternate,h!==null?(h=h.index,h<g?(f.flags|=67108866,g):h):(f.flags|=67108866,g)):(f.flags|=1048576,g)}function i(f){return e&&f.alternate===null&&(f.flags|=67108866),f}function c(f,g,h,v){return g===null||g.tag!==6?(g=Ac(h,f.mode,v),g.return=f,g):(g=s(g,h),g.return=f,g)}function o(f,g,h,v){var j=h.type;return j===el?p(f,g,h.props.children,v,h.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ga&&Cn(j)===g.type)?(g=s(g,h.props),Pl(g,h),g.return=f,g):(g=qr(h.type,h.key,h.props,null,f.mode,v),Pl(g,h),g.return=f,g)}function u(f,g,h,v){return g===null||g.tag!==4||g.stateNode.containerInfo!==h.containerInfo||g.stateNode.implementation!==h.implementation?(g=Tc(h,f.mode,v),g.return=f,g):(g=s(g,h.children||[]),g.return=f,g)}function p(f,g,h,v,j){return g===null||g.tag!==7?(g=On(h,f.mode,v,j),g.return=f,g):(g=s(g,h),g.return=f,g)}function m(f,g,h){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Ac(""+g,f.mode,h),g.return=f,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case yr:return h=qr(g.type,g.key,g.props,null,f.mode,h),Pl(h,g),h.return=f,h;case ss:return g=Tc(g,f.mode,h),g.return=f,g;case Ga:return g=Cn(g),m(f,g,h)}if(rs(g)||Kl(g))return g=On(g,f.mode,h,null),g.return=f,g;if(typeof g.then=="function")return m(f,wr(g),h);if(g.$$typeof===Aa)return m(f,Sr(f,g),h);Dr(f,g)}return null}function d(f,g,h,v){var j=g!==null?g.key:null;if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return j!==null?null:c(f,g,""+h,v);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case yr:return h.key===j?o(f,g,h,v):null;case ss:return h.key===j?u(f,g,h,v):null;case Ga:return h=Cn(h),d(f,g,h,v)}if(rs(h)||Kl(h))return j!==null?null:p(f,g,h,v,null);if(typeof h.then=="function")return d(f,g,wr(h),v);if(h.$$typeof===Aa)return d(f,g,Sr(f,h),v);Dr(f,h)}return null}function x(f,g,h,v,j){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return f=f.get(h)||null,c(g,f,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yr:return f=f.get(v.key===null?h:v.key)||null,o(g,f,v,j);case ss:return f=f.get(v.key===null?h:v.key)||null,u(g,f,v,j);case Ga:return v=Cn(v),x(f,g,h,v,j)}if(rs(v)||Kl(v))return f=f.get(h)||null,p(g,f,v,j,null);if(typeof v.then=="function")return x(f,g,h,wr(v),j);if(v.$$typeof===Aa)return x(f,g,h,Sr(g,v),j);Dr(g,v)}return null}function N(f,g,h,v){for(var j=null,y=null,D=g,E=g=0,O=null;D!==null&&E<h.length;E++){D.index>E?(O=D,D=null):O=D.sibling;var B=d(f,D,h[E],v);if(B===null){D===null&&(D=O);break}e&&D&&B.alternate===null&&t(f,D),g=r(B,g,E),y===null?j=B:y.sibling=B,y=B,D=O}if(E===h.length)return a(f,D),ve&&Ca(f,E),j;if(D===null){for(;E<h.length;E++)D=m(f,h[E],v),D!==null&&(g=r(D,g,E),y===null?j=D:y.sibling=D,y=D);return ve&&Ca(f,E),j}for(D=l(D);E<h.length;E++)O=x(D,f,E,h[E],v),O!==null&&(e&&O.alternate!==null&&D.delete(O.key===null?E:O.key),g=r(O,g,E),y===null?j=O:y.sibling=O,y=O);return e&&D.forEach(function(X){return t(f,X)}),ve&&Ca(f,E),j}function w(f,g,h,v){if(h==null)throw Error(R(151));for(var j=null,y=null,D=g,E=g=0,O=null,B=h.next();D!==null&&!B.done;E++,B=h.next()){D.index>E?(O=D,D=null):O=D.sibling;var X=d(f,D,B.value,v);if(X===null){D===null&&(D=O);break}e&&D&&X.alternate===null&&t(f,D),g=r(X,g,E),y===null?j=X:y.sibling=X,y=X,D=O}if(B.done)return a(f,D),ve&&Ca(f,E),j;if(D===null){for(;!B.done;E++,B=h.next())B=m(f,B.value,v),B!==null&&(g=r(B,g,E),y===null?j=B:y.sibling=B,y=B);return ve&&Ca(f,E),j}for(D=l(D);!B.done;E++,B=h.next())B=x(D,f,E,B.value,v),B!==null&&(e&&B.alternate!==null&&D.delete(B.key===null?E:B.key),g=r(B,g,E),y===null?j=B:y.sibling=B,y=B);return e&&D.forEach(function(U){return t(f,U)}),ve&&Ca(f,E),j}function b(f,g,h,v){if(typeof h=="object"&&h!==null&&h.type===el&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case yr:e:{for(var j=h.key;g!==null;){if(g.key===j){if(j=h.type,j===el){if(g.tag===7){a(f,g.sibling),v=s(g,h.props.children),v.return=f,f=v;break e}}else if(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ga&&Cn(j)===g.type){a(f,g.sibling),v=s(g,h.props),Pl(v,h),v.return=f,f=v;break e}a(f,g);break}else t(f,g);g=g.sibling}h.type===el?(v=On(h.props.children,f.mode,v,h.key),v.return=f,f=v):(v=qr(h.type,h.key,h.props,null,f.mode,v),Pl(v,h),v.return=f,f=v)}return i(f);case ss:e:{for(j=h.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===h.containerInfo&&g.stateNode.implementation===h.implementation){a(f,g.sibling),v=s(g,h.children||[]),v.return=f,f=v;break e}else{a(f,g);break}else t(f,g);g=g.sibling}v=Tc(h,f.mode,v),v.return=f,f=v}return i(f);case Ga:return h=Cn(h),b(f,g,h,v)}if(rs(h))return N(f,g,h,v);if(Kl(h)){if(j=Kl(h),typeof j!="function")throw Error(R(150));return h=j.call(h),w(f,g,h,v)}if(typeof h.then=="function")return b(f,g,wr(h),v);if(h.$$typeof===Aa)return b(f,g,Sr(f,h),v);Dr(f,h)}return typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint"?(h=""+h,g!==null&&g.tag===6?(a(f,g.sibling),v=s(g,h),v.return=f,f=v):(a(f,g),v=Ac(h,f.mode,v),v.return=f,f=v),i(f)):a(f,g)}return function(f,g,h,v){try{Rs=0;var j=b(f,g,h,v);return yl=null,j}catch(D){if(D===Hl||D===Ji)throw D;var y=$t(29,D,null,f.mode);return y.lanes=v,y.return=f,y}finally{}}}var $n=bp(!0),gp=bp(!1),qa=!1;function Qd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function an(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nn(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,Ee&2){var s=l.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),l.pending=t,t=ri(e),dp(e,null,a),t}return Fi(e,l,t,a),ri(e)}function ys(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Bm(e,a)}}function Oc(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var s=null,r=null;if(a=a.firstBaseUpdate,a!==null){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};r===null?s=r=i:r=r.next=i,a=a.next}while(a!==null);r===null?s=r=t:r=r.next=t}else s=r=t;a={baseState:l.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Bo=!1;function bs(){if(Bo){var e=hl;if(e!==null)throw e}}function gs(e,t,a,l){Bo=!1;var s=e.updateQueue;qa=!1;var r=s.firstBaseUpdate,i=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var o=c,u=o.next;o.next=null,i===null?r=u:i.next=u,i=o;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==i&&(c===null?p.firstBaseUpdate=u:c.next=u,p.lastBaseUpdate=o))}if(r!==null){var m=s.baseState;i=0,p=u=o=null,c=r;do{var d=c.lane&-536870913,x=d!==c.lane;if(x?(be&d)===d:(l&d)===d){d!==0&&d===wl&&(Bo=!0),p!==null&&(p=p.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var N=e,w=c;d=t;var b=a;switch(w.tag){case 1:if(N=w.payload,typeof N=="function"){m=N.call(b,m,d);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=w.payload,d=typeof N=="function"?N.call(b,m,d):N,d==null)break e;m=Ie({},m,d);break e;case 2:qa=!0}}d=c.callback,d!==null&&(e.flags|=64,x&&(e.flags|=8192),x=s.callbacks,x===null?s.callbacks=[d]:x.push(d))}else x={lane:d,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(u=p=x,o=m):p=p.next=x,i|=d;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;x=c,c=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(1);p===null&&(o=m),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=p,r===null&&(s.shared.lanes=0),hn|=i,e.lanes=i,e.memoizedState=m}}function vp(e,t){if(typeof e!="function")throw Error(R(191,e));e.call(t)}function Np(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vp(a[e],t)}var Dl=ba(null),di=ba(0);function Cf(e,t){e=$a,Ue(di,e),Ue(Dl,t),$a=e|t.baseLanes}function $o(){Ue(di,$a),Ue(Dl,Dl.current)}function Kd(){$a=di.current,ut(Dl),ut(di)}var Xt=ba(null),la=null;function Ya(e){var t=e.alternate;Ue(We,We.current&1),Ue(Xt,e),la===null&&(t===null||Dl.current!==null||t.memoizedState!==null)&&(la=e)}function Uo(e){Ue(We,We.current),Ue(Xt,e),la===null&&(la=e)}function jp(e){e.tag===22?(Ue(We,We.current),Ue(Xt,e),la===null&&(la=e)):Qa()}function Qa(){Ue(We,We.current),Ue(Xt,Xt.current)}function Bt(e){ut(Xt),la===e&&(la=null),ut(We)}var We=ba(0);function ui(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ld(a)||sd(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra=0,fe=null,ze=null,at=null,fi=!1,bl=!1,Un=!1,xi=0,Ls=0,gl=null,x0=0;function Ke(){throw Error(R(321))}function Xd(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Kt(e[a],t[a]))return!1;return!0}function Zd(e,t,a,l,s,r){return Ra=r,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,se.H=e===null||e.memoizedState===null?Wp:ru,Un=!1,r=a(l,s),Un=!1,bl&&(r=wp(t,a,l,s)),Sp(e),r}function Sp(e){se.H=Bs;var t=ze!==null&&ze.next!==null;if(Ra=0,at=ze=fe=null,fi=!1,Ls=0,gl=null,t)throw Error(R(300));e===null||st||(e=e.dependencies,e!==null&&ci(e)&&(st=!0))}function wp(e,t,a,l){fe=e;var s=0;do{if(bl&&(gl=null),Ls=0,bl=!1,25<=s)throw Error(R(301));if(s+=1,at=ze=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}se.H=eh,r=t(a,l)}while(bl);return r}function m0(){var e=se.H,t=e.useState()[0];return t=typeof t.then=="function"?cr(t):t,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(fe.flags|=1024),t}function Pd(){var e=xi!==0;return xi=0,e}function Fd(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Jd(e){if(fi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fi=!1}Ra=0,at=ze=fe=null,bl=!1,Ls=xi=0,gl=null}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?fe.memoizedState=at=e:at=at.next=e,at}function et(){if(ze===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=at===null?fe.memoizedState:at.next;if(t!==null)at=t,ze=e;else{if(e===null)throw fe.alternate===null?Error(R(467)):Error(R(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},at===null?fe.memoizedState=at=e:at=at.next=e}return at}function Wi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cr(e){var t=Ls;return Ls+=1,gl===null&&(gl=[]),e=yp(gl,e,t),t=fe,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,se.H=t===null||t.memoizedState===null?Wp:ru),e}function ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cr(e);if(e.$$typeof===Aa)return gt(e)}throw Error(R(438,String(e)))}function Wd(e){var t=null,a=fe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Wi(),fe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=Wb;return t.index++,a}function La(e,t){return typeof t=="function"?t(e):t}function Vr(e){var t=et();return eu(t,ze,e)}function eu(e,t,a){var l=e.queue;if(l===null)throw Error(R(311));l.lastRenderedReducer=a;var s=e.baseQueue,r=l.pending;if(r!==null){if(s!==null){var i=s.next;s.next=r.next,r.next=i}t.baseQueue=s=r,l.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var c=i=null,o=null,u=t,p=!1;do{var m=u.lane&-536870913;if(m!==u.lane?(be&m)===m:(Ra&m)===m){var d=u.revertLane;if(d===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),m===wl&&(p=!0);else if((Ra&d)===d){u=u.next,d===wl&&(p=!0);continue}else m={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(c=o=m,i=r):o=o.next=m,fe.lanes|=d,hn|=d;m=u.action,Un&&a(r,m),r=u.hasEagerState?u.eagerState:a(r,m)}else d={lane:m,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(c=o=d,i=r):o=o.next=d,fe.lanes|=m,hn|=m;u=u.next}while(u!==null&&u!==t);if(o===null?i=r:o.next=c,!Kt(r,e.memoizedState)&&(st=!0,p&&(a=hl,a!==null)))throw a;e.memoizedState=r,e.baseState=i,e.baseQueue=o,l.lastRenderedState=r}return s===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Mc(e){var t=et(),a=t.queue;if(a===null)throw Error(R(311));a.lastRenderedReducer=e;var l=a.dispatch,s=a.pending,r=t.memoizedState;if(s!==null){a.pending=null;var i=s=s.next;do r=e(r,i.action),i=i.next;while(i!==s);Kt(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),a.lastRenderedState=r}return[r,l]}function Dp(e,t,a){var l=fe,s=et(),r=ve;if(r){if(a===void 0)throw Error(R(407));a=a()}else a=t();var i=!Kt((ze||s).memoizedState,a);if(i&&(s.memoizedState=a,st=!0),s=s.queue,tu(Ap.bind(null,l,s,e),[e]),s.getSnapshot!==t||i||at!==null&&at.memoizedState.tag&1){if(l.flags|=2048,Cl(9,{destroy:void 0},Ep.bind(null,l,s,a,t),null),Be===null)throw Error(R(349));r||Ra&127||Cp(l,t,a)}return a}function Cp(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=fe.updateQueue,t===null?(t=Wi(),fe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ep(e,t,a,l){t.value=a,t.getSnapshot=l,Tp(t)&&kp(e)}function Ap(e,t,a){return a(function(){Tp(t)&&kp(e)})}function Tp(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Kt(e,a)}catch{return!0}}function kp(e){var t=Qn(e,2);t!==null&&_t(t,e,2)}function Ho(e){var t=Ct();if(typeof e=="function"){var a=e;if(e=a(),Un){Xa(!0);try{a()}finally{Xa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:e},t}function Op(e,t,a,l){return e.baseState=a,eu(e,ze,typeof l=="function"?l:La)}function p0(e,t,a,l,s){if(ac(e))throw Error(R(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){r.listeners.push(i)}};se.T!==null?a(!0):r.isTransition=!1,l(r),a=t.pending,a===null?(r.next=t.pending=r,Mp(t,r)):(r.next=a.next,t.pending=a.next=r)}}function Mp(e,t){var a=t.action,l=t.payload,s=e.state;if(t.isTransition){var r=se.T,i={};se.T=i;try{var c=a(s,l),o=se.S;o!==null&&o(i,c),Ef(e,t,c)}catch(u){Go(e,t,u)}finally{r!==null&&i.types!==null&&(r.types=i.types),se.T=r}}else try{r=a(s,l),Ef(e,t,r)}catch(u){Go(e,t,u)}}function Ef(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Af(e,t,l)},function(l){return Go(e,t,l)}):Af(e,t,a)}function Af(e,t,a){t.status="fulfilled",t.value=a,_p(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Mp(e,a)))}function Go(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,_p(t),t=t.next;while(t!==l)}e.action=null}function _p(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function zp(e,t){return t}function Tf(e,t){if(ve){var a=Be.formState;if(a!==null){e:{var l=fe;if(ve){if(Ge){t:{for(var s=Ge,r=aa;s.nodeType!==8;){if(!r){s=null;break t}if(s=sa(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Ge=sa(s.nextSibling),l=s.data==="F!";break e}}mn(l)}l=!1}l&&(t=a[0])}}return a=Ct(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zp,lastRenderedState:t},a.queue=l,a=Pp.bind(null,fe,l),l.dispatch=a,l=Ho(!1),r=su.bind(null,fe,!1,l.queue),l=Ct(),s={state:t,dispatch:null,action:e,pending:null},l.queue=s,a=p0.bind(null,fe,s,r,a),s.dispatch=a,l.memoizedState=e,[t,a,!1]}function kf(e){var t=et();return Rp(t,ze,e)}function Rp(e,t,a){if(t=eu(e,t,zp)[0],e=Vr(La)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=cr(t)}catch(i){throw i===Hl?Ji:i}else l=t;t=et();var s=t.queue,r=s.dispatch;return a!==t.memoizedState&&(fe.flags|=2048,Cl(9,{destroy:void 0},h0.bind(null,s,a),null)),[l,r,e]}function h0(e,t){e.action=t}function Of(e){var t=et(),a=ze;if(a!==null)return Rp(t,a,e);et(),t=t.memoizedState,a=et();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Cl(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=fe.updateQueue,t===null&&(t=Wi(),fe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function Lp(){return et().memoizedState}function Yr(e,t,a,l){var s=Ct();fe.flags|=e,s.memoizedState=Cl(1|t,{destroy:void 0},a,l===void 0?null:l)}function tc(e,t,a,l){var s=et();l=l===void 0?null:l;var r=s.memoizedState.inst;ze!==null&&l!==null&&Xd(l,ze.memoizedState.deps)?s.memoizedState=Cl(t,r,a,l):(fe.flags|=e,s.memoizedState=Cl(1|t,r,a,l))}function Mf(e,t){Yr(8390656,8,e,t)}function tu(e,t){tc(2048,8,e,t)}function y0(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=Wi(),fe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Bp(e){var t=et().memoizedState;return y0({ref:t,nextImpl:e}),function(){if(Ee&2)throw Error(R(440));return t.impl.apply(void 0,arguments)}}function $p(e,t){return tc(4,2,e,t)}function Up(e,t){return tc(4,4,e,t)}function Hp(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gp(e,t,a){a=a!=null?a.concat([e]):null,tc(4,4,Hp.bind(null,t,e),a)}function au(){}function qp(e,t){var a=et();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&Xd(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function Ip(e,t){var a=et();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&Xd(t,l[1]))return l[0];if(l=e(),Un){Xa(!0);try{e()}finally{Xa(!1)}}return a.memoizedState=[l,t],l}function nu(e,t,a){return a===void 0||Ra&1073741824&&!(be&261930)?e.memoizedState=t:(e.memoizedState=a,e=Oh(),fe.lanes|=e,hn|=e,a)}function Vp(e,t,a,l){return Kt(a,t)?a:Dl.current!==null?(e=nu(e,a,l),Kt(e,t)||(st=!0),e):!(Ra&42)||Ra&1073741824&&!(be&261930)?(st=!0,e.memoizedState=a):(e=Oh(),fe.lanes|=e,hn|=e,t)}function Yp(e,t,a,l,s){var r=Ae.p;Ae.p=r!==0&&8>r?r:8;var i=se.T,c={};se.T=c,su(e,!1,t,a);try{var o=s(),u=se.S;if(u!==null&&u(c,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var p=f0(o,l);vs(e,t,p,Vt(e))}else vs(e,t,l,Vt(e))}catch(m){vs(e,t,{then:function(){},status:"rejected",reason:m},Vt())}finally{Ae.p=r,i!==null&&c.types!==null&&(i.types=c.types),se.T=i}}function b0(){}function qo(e,t,a,l){if(e.tag!==5)throw Error(R(476));var s=Qp(e).queue;Yp(e,s,t,kn,a===null?b0:function(){return Kp(e),a(l)})}function Qp(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:kn,baseState:kn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:kn},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:La,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Kp(e){var t=Qp(e);t.next===null&&(t=e.alternate.memoizedState),vs(e,t.next.queue,{},Vt())}function lu(){return gt(Hs)}function Xp(){return et().memoizedState}function Zp(){return et().memoizedState}function g0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Vt();e=an(a);var l=nn(t,e,a);l!==null&&(_t(l,t,a),ys(l,t,a)),t={cache:Id()},e.payload=t;return}t=t.return}}function v0(e,t,a){var l=Vt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ac(e)?Fp(t,a):(a=Ud(e,t,a,l),a!==null&&(_t(a,e,l),Jp(a,t,l)))}function Pp(e,t,a){var l=Vt();vs(e,t,a,l)}function vs(e,t,a,l){var s={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(ac(e))Fp(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var i=t.lastRenderedState,c=r(i,a);if(s.hasEagerState=!0,s.eagerState=c,Kt(c,i))return Fi(e,t,s,0),Be===null&&Pi(),!1}catch{}finally{}if(a=Ud(e,t,s,l),a!==null)return _t(a,e,l),Jp(a,t,l),!0}return!1}function su(e,t,a,l){if(l={lane:2,revertLane:mu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ac(e)){if(t)throw Error(R(479))}else t=Ud(e,a,l,2),t!==null&&_t(t,e,2)}function ac(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Fp(e,t){bl=fi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Jp(e,t,a){if(a&4194048){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,Bm(e,a)}}var Bs={readContext:gt,use:ec,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};Bs.useEffectEvent=Ke;var Wp={readContext:gt,use:ec,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Mf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Yr(4194308,4,Hp.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Yr(4194308,4,e,t)},useInsertionEffect:function(e,t){Yr(4,2,e,t)},useMemo:function(e,t){var a=Ct();t=t===void 0?null:t;var l=e();if(Un){Xa(!0);try{e()}finally{Xa(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Ct();if(a!==void 0){var s=a(t);if(Un){Xa(!0);try{a(t)}finally{Xa(!1)}}}else s=t;return l.memoizedState=l.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},l.queue=e,e=e.dispatch=v0.bind(null,fe,e),[l.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:function(e){e=Ho(e);var t=e.queue,a=Pp.bind(null,fe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:au,useDeferredValue:function(e,t){var a=Ct();return nu(a,e,t)},useTransition:function(){var e=Ho(!1);return e=Yp.bind(null,fe,e.queue,!0,!1),Ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=fe,s=Ct();if(ve){if(a===void 0)throw Error(R(407));a=a()}else{if(a=t(),Be===null)throw Error(R(349));be&127||Cp(l,t,a)}s.memoizedState=a;var r={value:a,getSnapshot:t};return s.queue=r,Mf(Ap.bind(null,l,r,e),[e]),l.flags|=2048,Cl(9,{destroy:void 0},Ep.bind(null,l,r,a,t),null),a},useId:function(){var e=Ct(),t=Be.identifierPrefix;if(ve){var a=ma,l=xa;a=(l&~(1<<32-It(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=xi++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=x0++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:lu,useFormState:Tf,useActionState:Tf,useOptimistic:function(e){var t=Ct();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=su.bind(null,fe,!0,a),a.dispatch=t,[e,t]},useMemoCache:Wd,useCacheRefresh:function(){return Ct().memoizedState=g0.bind(null,fe)},useEffectEvent:function(e){var t=Ct(),a={impl:e};return t.memoizedState=a,function(){if(Ee&2)throw Error(R(440));return a.impl.apply(void 0,arguments)}}},ru={readContext:gt,use:ec,useCallback:qp,useContext:gt,useEffect:tu,useImperativeHandle:Gp,useInsertionEffect:$p,useLayoutEffect:Up,useMemo:Ip,useReducer:Vr,useRef:Lp,useState:function(){return Vr(La)},useDebugValue:au,useDeferredValue:function(e,t){var a=et();return Vp(a,ze.memoizedState,e,t)},useTransition:function(){var e=Vr(La)[0],t=et().memoizedState;return[typeof e=="boolean"?e:cr(e),t]},useSyncExternalStore:Dp,useId:Xp,useHostTransitionStatus:lu,useFormState:kf,useActionState:kf,useOptimistic:function(e,t){var a=et();return Op(a,ze,e,t)},useMemoCache:Wd,useCacheRefresh:Zp};ru.useEffectEvent=Bp;var eh={readContext:gt,use:ec,useCallback:qp,useContext:gt,useEffect:tu,useImperativeHandle:Gp,useInsertionEffect:$p,useLayoutEffect:Up,useMemo:Ip,useReducer:Mc,useRef:Lp,useState:function(){return Mc(La)},useDebugValue:au,useDeferredValue:function(e,t){var a=et();return ze===null?nu(a,e,t):Vp(a,ze.memoizedState,e,t)},useTransition:function(){var e=Mc(La)[0],t=et().memoizedState;return[typeof e=="boolean"?e:cr(e),t]},useSyncExternalStore:Dp,useId:Xp,useHostTransitionStatus:lu,useFormState:Of,useActionState:Of,useOptimistic:function(e,t){var a=et();return ze!==null?Op(a,ze,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Wd,useCacheRefresh:Zp};eh.useEffectEvent=Bp;function _c(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:Ie({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Io={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Vt(),s=an(l);s.payload=t,a!=null&&(s.callback=a),t=nn(e,s,l),t!==null&&(_t(t,e,l),ys(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Vt(),s=an(l);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=nn(e,s,l),t!==null&&(_t(t,e,l),ys(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Vt(),l=an(a);l.tag=2,t!=null&&(l.callback=t),t=nn(e,l,a),t!==null&&(_t(t,e,a),ys(t,e,a))}};function _f(e,t,a,l,s,r,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,r,i):t.prototype&&t.prototype.isPureReactComponent?!Ms(a,l)||!Ms(s,r):!0}function zf(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function Hn(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=Ie({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}function th(e){si(e)}function ah(e){console.error(e)}function nh(e){si(e)}function mi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Rf(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Vo(e,t,a){return a=an(a),a.tag=3,a.payload={element:null},a.callback=function(){mi(e,t)},a}function lh(e){return e=an(e),e.tag=3,e}function sh(e,t,a,l){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var r=l.value;e.payload=function(){return s(r)},e.callback=function(){Rf(t,a,l)}}var i=a.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){Rf(t,a,l),typeof s!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var c=l.stack;this.componentDidCatch(l.value,{componentStack:c!==null?c:""})})}function N0(e,t,a,l,s){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Ul(t,a,s,!0),a=Xt.current,a!==null){switch(a.tag){case 31:case 13:return la===null?gi():a.alternate===null&&Xe===0&&(Xe=3),a.flags&=-257,a.flags|=65536,a.lanes=s,l===oi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Vc(e,l,s)),!1;case 22:return a.flags|=65536,l===oi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Vc(e,l,s)),!1}throw Error(R(435,a.tag))}return Vc(e,l,s),gi(),!1}if(ve)return t=Xt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,l!==Oo&&(e=Error(R(422),{cause:l}),zs(ta(e,a)))):(l!==Oo&&(t=Error(R(423),{cause:l}),zs(ta(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,l=ta(l,a),s=Vo(e.stateNode,l,s),Oc(e,s),Xe!==4&&(Xe=2)),!1;var r=Error(R(520),{cause:l});if(r=ta(r,a),Ss===null?Ss=[r]:Ss.push(r),Xe!==4&&(Xe=2),t===null)return!0;l=ta(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=Vo(a.stateNode,l,e),Oc(a,e),!1;case 1:if(t=a.type,r=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(ln===null||!ln.has(r))))return a.flags|=65536,s&=-s,a.lanes|=s,s=lh(s),sh(s,e,a,l),Oc(a,s),!1}a=a.return}while(a!==null);return!1}var iu=Error(R(461)),st=!1;function ht(e,t,a,l){t.child=e===null?gp(t,null,a,l):$n(t,e.child,a,l)}function Lf(e,t,a,l,s){a=a.render;var r=t.ref;if("ref"in l){var i={};for(var c in l)c!=="ref"&&(i[c]=l[c])}else i=l;return Bn(t),l=Zd(e,t,a,i,r,s),c=Pd(),e!==null&&!st?(Fd(e,t,s),Ba(e,t,s)):(ve&&c&&Gd(t),t.flags|=1,ht(e,t,l,s),t.child)}function Bf(e,t,a,l,s){if(e===null){var r=a.type;return typeof r=="function"&&!Hd(r)&&r.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=r,rh(e,t,r,l,s)):(e=qr(a.type,null,l,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!cu(e,s)){var i=r.memoizedProps;if(a=a.compare,a=a!==null?a:Ms,a(i,l)&&e.ref===t.ref)return Ba(e,t,s)}return t.flags|=1,e=Oa(r,l),e.ref=t.ref,e.return=t,t.child=e}function rh(e,t,a,l,s){if(e!==null){var r=e.memoizedProps;if(Ms(r,l)&&e.ref===t.ref)if(st=!1,t.pendingProps=l=r,cu(e,s))e.flags&131072&&(st=!0);else return t.lanes=e.lanes,Ba(e,t,s)}return Yo(e,t,a,l,s)}function ih(e,t,a,l){var s=l.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|a:a,e!==null){for(l=t.child=e.child,s=0;l!==null;)s=s|l.lanes|l.childLanes,l=l.sibling;l=s&~r}else l=0,t.child=null;return $f(e,t,r,a,l)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ir(t,r!==null?r.cachePool:null),r!==null?Cf(t,r):$o(),jp(t);else return l=t.lanes=536870912,$f(e,t,r!==null?r.baseLanes|a:a,a,l)}else r!==null?(Ir(t,r.cachePool),Cf(t,r),Qa(),t.memoizedState=null):(e!==null&&Ir(t,null),$o(),Qa());return ht(e,t,s,a),t.child}function cs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $f(e,t,a,l,s){var r=Vd();return r=r===null?null:{parent:lt._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&Ir(t,null),$o(),jp(t),e!==null&&Ul(e,t,l,!0),t.childLanes=s,null}function Qr(e,t){return t=pi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Uf(e,t,a){return $n(t,e.child,null,a),e=Qr(t,t.pendingProps),e.flags|=2,Bt(t),t.memoizedState=null,e}function j0(e,t,a){var l=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ve){if(l.mode==="hidden")return e=Qr(t,l),t.lanes=536870912,cs(null,e);if(Uo(t),(e=Ge)?(e=Wh(e,aa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xn!==null?{id:xa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},a=fp(e),a.return=t,t.child=a,bt=t,Ge=null)):e=null,e===null)throw mn(t);return t.lanes=536870912,null}return Qr(t,l)}var r=e.memoizedState;if(r!==null){var i=r.dehydrated;if(Uo(t),s)if(t.flags&256)t.flags&=-257,t=Uf(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(R(558));else if(st||Ul(e,t,a,!1),s=(a&e.childLanes)!==0,st||s){if(l=Be,l!==null&&(i=$m(l,a),i!==0&&i!==r.retryLane))throw r.retryLane=i,Qn(e,i),_t(l,e,i),iu;gi(),t=Uf(e,t,a)}else e=r.treeContext,Ge=sa(i.nextSibling),bt=t,ve=!0,tn=null,aa=!1,e!==null&&mp(t,e),t=Qr(t,l),t.flags|=4096;return t}return e=Oa(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Kr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(R(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Yo(e,t,a,l,s){return Bn(t),a=Zd(e,t,a,l,void 0,s),l=Pd(),e!==null&&!st?(Fd(e,t,s),Ba(e,t,s)):(ve&&l&&Gd(t),t.flags|=1,ht(e,t,a,s),t.child)}function Hf(e,t,a,l,s,r){return Bn(t),t.updateQueue=null,a=wp(t,l,a,s),Sp(e),l=Pd(),e!==null&&!st?(Fd(e,t,r),Ba(e,t,r)):(ve&&l&&Gd(t),t.flags|=1,ht(e,t,a,r),t.child)}function Gf(e,t,a,l,s){if(Bn(t),t.stateNode===null){var r=cl,i=a.contextType;typeof i=="object"&&i!==null&&(r=gt(i)),r=new a(l,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Io,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=l,r.state=t.memoizedState,r.refs={},Qd(t),i=a.contextType,r.context=typeof i=="object"&&i!==null?gt(i):cl,r.state=t.memoizedState,i=a.getDerivedStateFromProps,typeof i=="function"&&(_c(t,a,i,l),r.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(i=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),i!==r.state&&Io.enqueueReplaceState(r,r.state,null),gs(t,l,r,s),bs(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){r=t.stateNode;var c=t.memoizedProps,o=Hn(a,c);r.props=o;var u=r.context,p=a.contextType;i=cl,typeof p=="object"&&p!==null&&(i=gt(p));var m=a.getDerivedStateFromProps;p=typeof m=="function"||typeof r.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,p||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(c||u!==i)&&zf(t,r,l,i),qa=!1;var d=t.memoizedState;r.state=d,gs(t,l,r,s),bs(),u=t.memoizedState,c||d!==u||qa?(typeof m=="function"&&(_c(t,a,m,l),u=t.memoizedState),(o=qa||_f(t,a,o,l,d,u,i))?(p||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=u),r.props=l,r.state=u,r.context=i,l=o):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{r=t.stateNode,Lo(e,t),i=t.memoizedProps,p=Hn(a,i),r.props=p,m=t.pendingProps,d=r.context,u=a.contextType,o=cl,typeof u=="object"&&u!==null&&(o=gt(u)),c=a.getDerivedStateFromProps,(u=typeof c=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(i!==m||d!==o)&&zf(t,r,l,o),qa=!1,d=t.memoizedState,r.state=d,gs(t,l,r,s),bs();var x=t.memoizedState;i!==m||d!==x||qa||e!==null&&e.dependencies!==null&&ci(e.dependencies)?(typeof c=="function"&&(_c(t,a,c,l),x=t.memoizedState),(p=qa||_f(t,a,p,l,d,x,o)||e!==null&&e.dependencies!==null&&ci(e.dependencies))?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(l,x,o),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(l,x,o)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=x),r.props=l,r.state=x,r.context=o,l=p):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),l=!1)}return r=l,Kr(e,t),l=(t.flags&128)!==0,r||l?(r=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&l?(t.child=$n(t,e.child,null,s),t.child=$n(t,null,a,s)):ht(e,t,a,s),t.memoizedState=r.state,e=t.child):e=Ba(e,t,s),e}function qf(e,t,a,l){return Ln(),t.flags|=256,ht(e,t,a,l),t.child}var zc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rc(e){return{baseLanes:e,cachePool:hp()}}function Lc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ut),e}function ch(e,t,a){var l=t.pendingProps,s=!1,r=(t.flags&128)!==0,i;if((i=r)||(i=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),i&&(s=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(ve){if(s?Ya(t):Qa(),(e=Ge)?(e=Wh(e,aa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:xn!==null?{id:xa,overflow:ma}:null,retryLane:536870912,hydrationErrors:null},a=fp(e),a.return=t,t.child=a,bt=t,Ge=null)):e=null,e===null)throw mn(t);return sd(e)?t.lanes=32:t.lanes=536870912,null}var c=l.children;return l=l.fallback,s?(Qa(),s=t.mode,c=pi({mode:"hidden",children:c},s),l=On(l,s,a,null),c.return=t,l.return=t,c.sibling=l,t.child=c,l=t.child,l.memoizedState=Rc(a),l.childLanes=Lc(e,i,a),t.memoizedState=zc,cs(null,l)):(Ya(t),Qo(t,c))}var o=e.memoizedState;if(o!==null&&(c=o.dehydrated,c!==null)){if(r)t.flags&256?(Ya(t),t.flags&=-257,t=Bc(e,t,a)):t.memoizedState!==null?(Qa(),t.child=e.child,t.flags|=128,t=null):(Qa(),c=l.fallback,s=t.mode,l=pi({mode:"visible",children:l.children},s),c=On(c,s,a,null),c.flags|=2,l.return=t,c.return=t,l.sibling=c,t.child=l,$n(t,e.child,null,a),l=t.child,l.memoizedState=Rc(a),l.childLanes=Lc(e,i,a),t.memoizedState=zc,t=cs(null,l));else if(Ya(t),sd(c)){if(i=c.nextSibling&&c.nextSibling.dataset,i)var u=i.dgst;i=u,l=Error(R(419)),l.stack="",l.digest=i,zs({value:l,source:null,stack:null}),t=Bc(e,t,a)}else if(st||Ul(e,t,a,!1),i=(a&e.childLanes)!==0,st||i){if(i=Be,i!==null&&(l=$m(i,a),l!==0&&l!==o.retryLane))throw o.retryLane=l,Qn(e,l),_t(i,e,l),iu;ld(c)||gi(),t=Bc(e,t,a)}else ld(c)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,Ge=sa(c.nextSibling),bt=t,ve=!0,tn=null,aa=!1,e!==null&&mp(t,e),t=Qo(t,l.children),t.flags|=4096);return t}return s?(Qa(),c=l.fallback,s=t.mode,o=e.child,u=o.sibling,l=Oa(o,{mode:"hidden",children:l.children}),l.subtreeFlags=o.subtreeFlags&65011712,u!==null?c=Oa(u,c):(c=On(c,s,a,null),c.flags|=2),c.return=t,l.return=t,l.sibling=c,t.child=l,cs(null,l),l=t.child,c=e.child.memoizedState,c===null?c=Rc(a):(s=c.cachePool,s!==null?(o=lt._currentValue,s=s.parent!==o?{parent:o,pool:o}:s):s=hp(),c={baseLanes:c.baseLanes|a,cachePool:s}),l.memoizedState=c,l.childLanes=Lc(e,i,a),t.memoizedState=zc,cs(e.child,l)):(Ya(t),a=e.child,e=a.sibling,a=Oa(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a)}function Qo(e,t){return t=pi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function pi(e,t){return e=$t(22,e,null,t),e.lanes=0,e}function Bc(e,t,a){return $n(t,e.child,null,a),e=Qo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function If(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),_o(e.return,t,a)}function $c(e,t,a,l,s,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:s,treeForkCount:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=a,i.tailMode=s,i.treeForkCount=r)}function oh(e,t,a){var l=t.pendingProps,s=l.revealOrder,r=l.tail;l=l.children;var i=We.current,c=(i&2)!==0;if(c?(i=i&1|2,t.flags|=128):i&=1,Ue(We,i),ht(e,t,l,a),l=ve?_s:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&If(e,a,t);else if(e.tag===19)If(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&ui(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),$c(t,!1,s,a,r,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ui(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}$c(t,!0,a,null,r,l);break;case"together":$c(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Ba(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),hn|=t.lanes,!(a&t.childLanes))if(e!==null){if(Ul(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,a=Oa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Oa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function cu(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&ci(e)))}function S0(e,t,a){switch(t.tag){case 3:ti(t,t.stateNode.containerInfo),Va(t,lt,e.memoizedState.cache),Ln();break;case 27:case 5:vo(t);break;case 4:ti(t,t.stateNode.containerInfo);break;case 10:Va(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uo(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ya(t),t.flags|=128,null):a&t.child.childLanes?ch(e,t,a):(Ya(t),e=Ba(e,t,a),e!==null?e.sibling:null);Ya(t);break;case 19:var s=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Ul(e,t,a,!1),l=(a&t.childLanes)!==0),s){if(l)return oh(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(We,We.current),l)break;return null;case 22:return t.lanes=0,ih(e,t,a,t.pendingProps);case 24:Va(t,lt,e.memoizedState.cache)}return Ba(e,t,a)}function dh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!cu(e,a)&&!(t.flags&128))return st=!1,S0(e,t,a);st=!!(e.flags&131072)}else st=!1,ve&&t.flags&1048576&&xp(t,_s,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Cn(t.elementType),t.type=e,typeof e=="function")Hd(e)?(l=Hn(e,l),t.tag=1,t=Gf(null,t,e,l,a)):(t.tag=0,t=Yo(null,t,e,l,a));else{if(e!=null){var s=e.$$typeof;if(s===Cd){t.tag=11,t=Lf(null,t,e,l,a);break e}else if(s===Ed){t.tag=14,t=Bf(null,t,e,l,a);break e}}throw t=bo(e)||e,Error(R(306,t,""))}}return t;case 0:return Yo(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,s=Hn(l,t.pendingProps),Gf(e,t,l,s,a);case 3:e:{if(ti(t,t.stateNode.containerInfo),e===null)throw Error(R(387));l=t.pendingProps;var r=t.memoizedState;s=r.element,Lo(e,t),gs(t,l,null,a);var i=t.memoizedState;if(l=i.cache,Va(t,lt,l),l!==r.cache&&zo(t,[lt],a,!0),bs(),l=i.element,r.isDehydrated)if(r={element:l,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=qf(e,t,l,a);break e}else if(l!==s){s=ta(Error(R(424)),t),zs(s),t=qf(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=sa(e.firstChild),bt=t,ve=!0,tn=null,aa=!0,a=gp(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ln(),l===s){t=Ba(e,t,a);break e}ht(e,t,l,a)}t=t.child}return t;case 26:return Kr(e,t),e===null?(a=ox(t.type,null,t.pendingProps,null))?t.memoizedState=a:ve||(a=t.type,e=t.pendingProps,l=Si(en.current).createElement(a),l[yt]=t,l[zt]=e,Nt(l,a,e),dt(l),t.stateNode=l):t.memoizedState=ox(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return vo(t),e===null&&ve&&(l=t.stateNode=ey(t.type,t.pendingProps,en.current),bt=t,aa=!0,s=Ge,gn(t.type)?(rd=s,Ge=sa(l.firstChild)):Ge=s),ht(e,t,t.pendingProps.children,a),Kr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ve&&((s=l=Ge)&&(l=W0(l,t.type,t.pendingProps,aa),l!==null?(t.stateNode=l,bt=t,Ge=sa(l.firstChild),aa=!1,s=!0):s=!1),s||mn(t)),vo(t),s=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,l=r.children,ad(s,r)?l=null:i!==null&&ad(s,i)&&(t.flags|=32),t.memoizedState!==null&&(s=Zd(e,t,m0,null,null,a),Hs._currentValue=s),Kr(e,t),ht(e,t,l,a),t.child;case 6:return e===null&&ve&&((e=a=Ge)&&(a=ev(a,t.pendingProps,aa),a!==null?(t.stateNode=a,bt=t,Ge=null,e=!0):e=!1),e||mn(t)),null;case 13:return ch(e,t,a);case 4:return ti(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=$n(t,null,l,a):ht(e,t,l,a),t.child;case 11:return Lf(e,t,t.type,t.pendingProps,a);case 7:return ht(e,t,t.pendingProps,a),t.child;case 8:return ht(e,t,t.pendingProps.children,a),t.child;case 12:return ht(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Va(t,t.type,l.value),ht(e,t,l.children,a),t.child;case 9:return s=t.type._context,l=t.pendingProps.children,Bn(t),s=gt(s),l=l(s),t.flags|=1,ht(e,t,l,a),t.child;case 14:return Bf(e,t,t.type,t.pendingProps,a);case 15:return rh(e,t,t.type,t.pendingProps,a);case 19:return oh(e,t,a);case 31:return j0(e,t,a);case 22:return ih(e,t,a,t.pendingProps);case 24:return Bn(t),l=gt(lt),e===null?(s=Vd(),s===null&&(s=Be,r=Id(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=a),s=r),t.memoizedState={parent:l,cache:s},Qd(t),Va(t,lt,s)):(e.lanes&a&&(Lo(e,t),gs(t,null,null,a),bs()),s=e.memoizedState,r=t.memoizedState,s.parent!==l?(s={parent:l,cache:l},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Va(t,lt,l)):(l=r.cache,Va(t,lt,l),l!==s.cache&&zo(t,[lt],a,!0))),ht(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(R(156,t.tag))}function ja(e){e.flags|=4}function Uc(e,t,a,l,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(zh())e.flags|=8192;else throw _n=oi,Yd}else e.flags&=-16777217}function Vf(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!ny(t))if(zh())e.flags|=8192;else throw _n=oi,Yd}function Cr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Rm():536870912,e.lanes|=t,El|=t)}function Fl(e,t){if(!ve)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags&65011712,l|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,l|=s.subtreeFlags,l|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function w0(e,t,a){var l=t.pendingProps;switch(qd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return He(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Ma(lt),Nl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xn(t)?ja(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,kc())),He(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(ja(t),r!==null?(He(t),Vf(t,r)):(He(t),Uc(t,s,null,l,a))):r?r!==e.memoizedState?(ja(t),He(t),Vf(t,r)):(He(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&ja(t),He(t),Uc(t,s,e,l,a)),null;case 27:if(ai(t),a=en.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ja(t);else{if(!l){if(t.stateNode===null)throw Error(R(166));return He(t),null}e=ha.current,Xn(t)?gf(t):(e=ey(s,l,a),t.stateNode=e,ja(t))}return He(t),null;case 5:if(ai(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ja(t);else{if(!l){if(t.stateNode===null)throw Error(R(166));return He(t),null}if(r=ha.current,Xn(t))gf(t);else{var i=Si(en.current);switch(r){case 1:r=i.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=i.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=i.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=i.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=i.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof l.is=="string"?i.createElement("select",{is:l.is}):i.createElement("select"),l.multiple?r.multiple=!0:l.size&&(r.size=l.size);break;default:r=typeof l.is=="string"?i.createElement(s,{is:l.is}):i.createElement(s)}}r[yt]=t,r[zt]=l;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)r.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=r;e:switch(Nt(r,s,l),s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ja(t)}}return He(t),Uc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ja(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(R(166));if(e=en.current,Xn(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,s=bt,s!==null)switch(s.tag){case 27:case 5:l=s.memoizedProps}e[yt]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ph(e.nodeValue,a)),e||mn(t,!0)}else e=Si(e).createTextNode(l),e[yt]=t,t.stateNode=e}return He(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=Xn(t),a!==null){if(e===null){if(!l)throw Error(R(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(557));e[yt]=t}else Ln(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),e=!1}else a=kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Bt(t),t):(Bt(t),null);if(t.flags&128)throw Error(R(558))}return He(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Xn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!s)throw Error(R(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(R(317));s[yt]=t}else Ln(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;He(t),s=!1}else s=kc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Bt(t),t):(Bt(t),null)}return Bt(t),t.flags&128?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,s=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(s=l.alternate.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==s&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Cr(t,t.updateQueue),He(t),null);case 4:return Nl(),e===null&&pu(t.stateNode.containerInfo),He(t),null;case 10:return Ma(t.type),He(t),null;case 19:if(ut(We),l=t.memoizedState,l===null)return He(t),null;if(s=(t.flags&128)!==0,r=l.rendering,r===null)if(s)Fl(l,!1);else{if(Xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=ui(e),r!==null){for(t.flags|=128,Fl(l,!1),e=r.updateQueue,t.updateQueue=e,Cr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)up(a,e),a=a.sibling;return Ue(We,We.current&1|2),ve&&Ca(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Gt()>yi&&(t.flags|=128,s=!0,Fl(l,!1),t.lanes=4194304)}else{if(!s)if(e=ui(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Cr(t,e),Fl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!r.alternate&&!ve)return He(t),null}else 2*Gt()-l.renderingStartTime>yi&&a!==536870912&&(t.flags|=128,s=!0,Fl(l,!1),t.lanes=4194304);l.isBackwards?(r.sibling=t.child,t.child=r):(e=l.last,e!==null?e.sibling=r:t.child=r,l.last=r)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Gt(),e.sibling=null,a=We.current,Ue(We,s?a&1|2:a&1),ve&&Ca(t,l.treeForkCount),e):(He(t),null);case 22:case 23:return Bt(t),Kd(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?a&536870912&&!(t.flags&128)&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),a=t.updateQueue,a!==null&&Cr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&ut(Mn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ma(lt),He(t),null;case 25:return null;case 30:return null}throw Error(R(156,t.tag))}function D0(e,t){switch(qd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ma(lt),Nl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ai(t),null;case 31:if(t.memoizedState!==null){if(Bt(t),t.alternate===null)throw Error(R(340));Ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Bt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ut(We),null;case 4:return Nl(),null;case 10:return Ma(t.type),null;case 22:case 23:return Bt(t),Kd(),e!==null&&ut(Mn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ma(lt),null;case 25:return null;default:return null}}function uh(e,t){switch(qd(t),t.tag){case 3:Ma(lt),Nl();break;case 26:case 27:case 5:ai(t);break;case 4:Nl();break;case 31:t.memoizedState!==null&&Bt(t);break;case 13:Bt(t);break;case 19:ut(We);break;case 10:Ma(t.type);break;case 22:case 23:Bt(t),Kd(),e!==null&&ut(Mn);break;case 24:Ma(lt)}}function or(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var s=l.next;a=s;do{if((a.tag&e)===e){l=void 0;var r=a.create,i=a.inst;l=r(),i.destroy=l}a=a.next}while(a!==s)}}catch(c){Me(t,t.return,c)}}function pn(e,t,a){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var r=s.next;l=r;do{if((l.tag&e)===e){var i=l.inst,c=i.destroy;if(c!==void 0){i.destroy=void 0,s=t;var o=a,u=c;try{u()}catch(p){Me(s,o,p)}}}l=l.next}while(l!==r)}}catch(p){Me(t,t.return,p)}}function fh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Np(t,a)}catch(l){Me(e,e.return,l)}}}function xh(e,t,a){a.props=Hn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Me(e,t,l)}}function Ns(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(s){Me(e,t,s)}}function pa(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(s){Me(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){Me(e,t,s)}else a.current=null}function mh(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(s){Me(e,e.return,s)}}function Hc(e,t,a){try{var l=e.stateNode;K0(l,e.type,a,t),l[zt]=t}catch(s){Me(e,e.return,s)}}function ph(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gn(e.type)||e.tag===4}function Gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ko(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ta));else if(l!==4&&(l===27&&gn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ko(e,t,a),e=e.sibling;e!==null;)Ko(e,t,a),e=e.sibling}function hi(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&gn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(hi(e,t,a),e=e.sibling;e!==null;)hi(e,t,a),e=e.sibling}function hh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Nt(t,l,a),t[yt]=e,t[zt]=a}catch(r){Me(e,e.return,r)}}var Ea=!1,nt=!1,qc=!1,Yf=typeof WeakSet=="function"?WeakSet:Set,ot=null;function C0(e,t){if(e=e.containerInfo,ed=Ei,e=np(e),Bd(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var s=l.anchorOffset,r=l.focusNode;l=l.focusOffset;try{a.nodeType,r.nodeType}catch{a=null;break e}var i=0,c=-1,o=-1,u=0,p=0,m=e,d=null;t:for(;;){for(var x;m!==a||s!==0&&m.nodeType!==3||(c=i+s),m!==r||l!==0&&m.nodeType!==3||(o=i+l),m.nodeType===3&&(i+=m.nodeValue.length),(x=m.firstChild)!==null;)d=m,m=x;for(;;){if(m===e)break t;if(d===a&&++u===s&&(c=i),d===r&&++p===l&&(o=i),(x=m.nextSibling)!==null)break;m=d,d=m.parentNode}m=x}a=c===-1||o===-1?null:{start:c,end:o}}else a=null}a=a||{start:0,end:0}}else a=null;for(td={focusedElem:e,selectionRange:a},Ei=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){switch(t=ot,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)s=e[a],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,a=t,s=r.memoizedProps,r=r.memoizedState,l=a.stateNode;try{var N=Hn(a.type,s);e=l.getSnapshotBeforeUpdate(N,r),l.__reactInternalSnapshotBeforeUpdate=e}catch(w){Me(a,a.return,w)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)nd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(R(163))}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function yh(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wa(e,a),l&4&&or(5,a);break;case 1:if(wa(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(i){Me(a,a.return,i)}else{var s=Hn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){Me(a,a.return,i)}}l&64&&fh(a),l&512&&Ns(a,a.return);break;case 3:if(wa(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Np(e,t)}catch(i){Me(a,a.return,i)}}break;case 27:t===null&&l&4&&hh(a);case 26:case 5:wa(e,a),t===null&&l&4&&mh(a),l&512&&Ns(a,a.return);break;case 12:wa(e,a);break;case 31:wa(e,a),l&4&&vh(e,a);break;case 13:wa(e,a),l&4&&Nh(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=R0.bind(null,a),tv(e,a))));break;case 22:if(l=a.memoizedState!==null||Ea,!l){t=t!==null&&t.memoizedState!==null||nt,s=Ea;var r=nt;Ea=l,(nt=t)&&!r?Da(e,a,(a.subtreeFlags&8772)!==0):wa(e,a),Ea=s,nt=r}break;case 30:break;default:wa(e,a)}}function bh(e){var t=e.alternate;t!==null&&(e.alternate=null,bh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Od(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,Ot=!1;function Sa(e,t,a){for(a=a.child;a!==null;)gh(e,t,a),a=a.sibling}function gh(e,t,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ar,a)}catch{}switch(a.tag){case 26:nt||pa(a,t),Sa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nt||pa(a,t);var l=Ve,s=Ot;gn(a.type)&&(Ve=a.stateNode,Ot=!1),Sa(e,t,a),Ds(a.stateNode),Ve=l,Ot=s;break;case 5:nt||pa(a,t);case 6:if(l=Ve,s=Ot,Ve=null,Sa(e,t,a),Ve=l,Ot=s,Ve!==null)if(Ot)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(a.stateNode)}catch(r){Me(a,t,r)}else try{Ve.removeChild(a.stateNode)}catch(r){Me(a,t,r)}break;case 18:Ve!==null&&(Ot?(e=Ve,lx(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ol(e)):lx(Ve,a.stateNode));break;case 4:l=Ve,s=Ot,Ve=a.stateNode.containerInfo,Ot=!0,Sa(e,t,a),Ve=l,Ot=s;break;case 0:case 11:case 14:case 15:pn(2,a,t),nt||pn(4,a,t),Sa(e,t,a);break;case 1:nt||(pa(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&xh(a,t,l)),Sa(e,t,a);break;case 21:Sa(e,t,a);break;case 22:nt=(l=nt)||a.memoizedState!==null,Sa(e,t,a),nt=l;break;default:Sa(e,t,a)}}function vh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ol(e)}catch(a){Me(t,t.return,a)}}}function Nh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ol(e)}catch(a){Me(t,t.return,a)}}function E0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Yf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Yf),t;default:throw Error(R(435,e.tag))}}function Er(e,t){var a=E0(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var s=L0.bind(null,e,l);l.then(s,s)}})}function Tt(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var s=a[l],r=e,i=t,c=i;e:for(;c!==null;){switch(c.tag){case 27:if(gn(c.type)){Ve=c.stateNode,Ot=!1;break e}break;case 5:Ve=c.stateNode,Ot=!1;break e;case 3:case 4:Ve=c.stateNode.containerInfo,Ot=!0;break e}c=c.return}if(Ve===null)throw Error(R(160));gh(r,i,s),Ve=null,Ot=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)jh(t,e),t=t.sibling}var oa=null;function jh(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),kt(e),l&4&&(pn(3,e,e.return),or(3,e),pn(5,e,e.return));break;case 1:Tt(t,e),kt(e),l&512&&(nt||a===null||pa(a,a.return)),l&64&&Ea&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var s=oa;if(Tt(t,e),kt(e),l&512&&(nt||a===null||pa(a,a.return)),l&4){var r=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(l){case"title":r=s.getElementsByTagName("title")[0],(!r||r[sr]||r[yt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(l),s.head.insertBefore(r,s.querySelector("head > title"))),Nt(r,l,a),r[yt]=e,dt(r),l=r;break e;case"link":var i=ux("link","href",s).get(l+(a.href||""));if(i){for(var c=0;c<i.length;c++)if(r=i[c],r.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&r.getAttribute("rel")===(a.rel==null?null:a.rel)&&r.getAttribute("title")===(a.title==null?null:a.title)&&r.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){i.splice(c,1);break t}}r=s.createElement(l),Nt(r,l,a),s.head.appendChild(r);break;case"meta":if(i=ux("meta","content",s).get(l+(a.content||""))){for(c=0;c<i.length;c++)if(r=i[c],r.getAttribute("content")===(a.content==null?null:""+a.content)&&r.getAttribute("name")===(a.name==null?null:a.name)&&r.getAttribute("property")===(a.property==null?null:a.property)&&r.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&r.getAttribute("charset")===(a.charSet==null?null:a.charSet)){i.splice(c,1);break t}}r=s.createElement(l),Nt(r,l,a),s.head.appendChild(r);break;default:throw Error(R(468,l))}r[yt]=e,dt(r),l=r}e.stateNode=l}else fx(s,e.type,e.stateNode);else e.stateNode=dx(s,l,e.memoizedProps);else r!==l?(r===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):r.count--,l===null?fx(s,e.type,e.stateNode):dx(s,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Hc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tt(t,e),kt(e),l&512&&(nt||a===null||pa(a,a.return)),a!==null&&l&4&&Hc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tt(t,e),kt(e),l&512&&(nt||a===null||pa(a,a.return)),e.flags&32){s=e.stateNode;try{Sl(s,"")}catch(N){Me(e,e.return,N)}}l&4&&e.stateNode!=null&&(s=e.memoizedProps,Hc(e,s,a!==null?a.memoizedProps:s)),l&1024&&(qc=!0);break;case 6:if(Tt(t,e),kt(e),l&4){if(e.stateNode===null)throw Error(R(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(N){Me(e,e.return,N)}}break;case 3:if(Pr=null,s=oa,oa=wi(t.containerInfo),Tt(t,e),oa=s,kt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ol(t.containerInfo)}catch(N){Me(e,e.return,N)}qc&&(qc=!1,Sh(e));break;case 4:l=oa,oa=wi(e.stateNode.containerInfo),Tt(t,e),kt(e),oa=l;break;case 12:Tt(t,e),kt(e);break;case 31:Tt(t,e),kt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Er(e,l)));break;case 13:Tt(t,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nc=Gt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Er(e,l)));break;case 22:s=e.memoizedState!==null;var o=a!==null&&a.memoizedState!==null,u=Ea,p=nt;if(Ea=u||s,nt=p||o,Tt(t,e),nt=p,Ea=u,kt(e),l&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||o||Ea||nt||En(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){o=a=t;try{if(r=o.stateNode,s)i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{c=o.stateNode;var m=o.memoizedProps.style,d=m!=null&&m.hasOwnProperty("display")?m.display:null;c.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(N){Me(o,o.return,N)}}}else if(t.tag===6){if(a===null){o=t;try{o.stateNode.nodeValue=s?"":o.memoizedProps}catch(N){Me(o,o.return,N)}}}else if(t.tag===18){if(a===null){o=t;try{var x=o.stateNode;s?sx(x,!0):sx(o.stateNode,!1)}catch(N){Me(o,o.return,N)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Er(e,a))));break;case 19:Tt(t,e),kt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Er(e,l)));break;case 30:break;case 21:break;default:Tt(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(ph(l)){a=l;break}l=l.return}if(a==null)throw Error(R(160));switch(a.tag){case 27:var s=a.stateNode,r=Gc(e);hi(e,r,s);break;case 5:var i=a.stateNode;a.flags&32&&(Sl(i,""),a.flags&=-33);var c=Gc(e);hi(e,c,i);break;case 3:case 4:var o=a.stateNode.containerInfo,u=Gc(e);Ko(e,u,o);break;default:throw Error(R(161))}}catch(p){Me(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Sh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)yh(e,t.alternate,t),t=t.sibling}function En(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:pn(4,t,t.return),En(t);break;case 1:pa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&xh(t,t.return,a),En(t);break;case 27:Ds(t.stateNode);case 26:case 5:pa(t,t.return),En(t);break;case 22:t.memoizedState===null&&En(t);break;case 30:En(t);break;default:En(t)}e=e.sibling}}function Da(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,s=e,r=t,i=r.flags;switch(r.tag){case 0:case 11:case 15:Da(s,r,a),or(4,r);break;case 1:if(Da(s,r,a),l=r,s=l.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(u){Me(l,l.return,u)}if(l=r,s=l.updateQueue,s!==null){var c=l.stateNode;try{var o=s.shared.hiddenCallbacks;if(o!==null)for(s.shared.hiddenCallbacks=null,s=0;s<o.length;s++)vp(o[s],c)}catch(u){Me(l,l.return,u)}}a&&i&64&&fh(r),Ns(r,r.return);break;case 27:hh(r);case 26:case 5:Da(s,r,a),a&&l===null&&i&4&&mh(r),Ns(r,r.return);break;case 12:Da(s,r,a);break;case 31:Da(s,r,a),a&&i&4&&vh(s,r);break;case 13:Da(s,r,a),a&&i&4&&Nh(s,r);break;case 22:r.memoizedState===null&&Da(s,r,a),Ns(r,r.return);break;case 30:break;default:Da(s,r,a)}t=t.sibling}}function ou(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ir(a))}function du(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ir(e))}function ca(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wh(e,t,a,l),t=t.sibling}function wh(e,t,a,l){var s=t.flags;switch(t.tag){case 0:case 11:case 15:ca(e,t,a,l),s&2048&&or(9,t);break;case 1:ca(e,t,a,l);break;case 3:ca(e,t,a,l),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ir(e)));break;case 12:if(s&2048){ca(e,t,a,l),e=t.stateNode;try{var r=t.memoizedProps,i=r.id,c=r.onPostCommit;typeof c=="function"&&c(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){Me(t,t.return,o)}}else ca(e,t,a,l);break;case 31:ca(e,t,a,l);break;case 13:ca(e,t,a,l);break;case 23:break;case 22:r=t.stateNode,i=t.alternate,t.memoizedState!==null?r._visibility&2?ca(e,t,a,l):js(e,t):r._visibility&2?ca(e,t,a,l):(r._visibility|=2,Fn(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),s&2048&&ou(i,t);break;case 24:ca(e,t,a,l),s&2048&&du(t.alternate,t);break;default:ca(e,t,a,l)}}function Fn(e,t,a,l,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,i=t,c=a,o=l,u=i.flags;switch(i.tag){case 0:case 11:case 15:Fn(r,i,c,o,s),or(8,i);break;case 23:break;case 22:var p=i.stateNode;i.memoizedState!==null?p._visibility&2?Fn(r,i,c,o,s):js(r,i):(p._visibility|=2,Fn(r,i,c,o,s)),s&&u&2048&&ou(i.alternate,i);break;case 24:Fn(r,i,c,o,s),s&&u&2048&&du(i.alternate,i);break;default:Fn(r,i,c,o,s)}t=t.sibling}}function js(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,s=l.flags;switch(l.tag){case 22:js(a,l),s&2048&&ou(l.alternate,l);break;case 24:js(a,l),s&2048&&du(l.alternate,l);break;default:js(a,l)}t=t.sibling}}var os=8192;function Zn(e,t,a){if(e.subtreeFlags&os)for(e=e.child;e!==null;)Dh(e,t,a),e=e.sibling}function Dh(e,t,a){switch(e.tag){case 26:Zn(e,t,a),e.flags&os&&e.memoizedState!==null&&xv(a,oa,e.memoizedState,e.memoizedProps);break;case 5:Zn(e,t,a);break;case 3:case 4:var l=oa;oa=wi(e.stateNode.containerInfo),Zn(e,t,a),oa=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=os,os=16777216,Zn(e,t,a),os=l):Zn(e,t,a));break;default:Zn(e,t,a)}}function Ch(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Jl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ot=l,Ah(l,e)}Ch(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Eh(e),e=e.sibling}function Eh(e){switch(e.tag){case 0:case 11:case 15:Jl(e),e.flags&2048&&pn(9,e,e.return);break;case 3:Jl(e);break;case 12:Jl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Xr(e)):Jl(e);break;default:Jl(e)}}function Xr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ot=l,Ah(l,e)}Ch(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:pn(8,t,t.return),Xr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Xr(t));break;default:Xr(t)}e=e.sibling}}function Ah(e,t){for(;ot!==null;){var a=ot;switch(a.tag){case 0:case 11:case 15:pn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ir(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ot=l;else e:for(a=e;ot!==null;){l=ot;var s=l.sibling,r=l.return;if(bh(l),l===a){ot=null;break e}if(s!==null){s.return=r,ot=s;break e}ot=r}}}var A0={getCacheForType:function(e){var t=gt(lt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return gt(lt).controller.signal}},T0=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Be=null,ye=null,be=0,Oe=0,Lt=null,Pa=!1,Gl=!1,uu=!1,$a=0,Xe=0,hn=0,zn=0,fu=0,Ut=0,El=0,Ss=null,Mt=null,Xo=!1,nc=0,Th=0,yi=1/0,bi=null,ln=null,it=0,sn=null,Al=null,_a=0,Zo=0,Po=null,kh=null,ws=0,Fo=null;function Vt(){return Ee&2&&be!==0?be&-be:se.T!==null?mu():Um()}function Oh(){if(Ut===0)if(!(be&536870912)||ve){var e=gr;gr<<=1,!(gr&3932160)&&(gr=262144),Ut=e}else Ut=536870912;return e=Xt.current,e!==null&&(e.flags|=32),Ut}function _t(e,t,a){(e===Be&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Tl(e,0),Fa(e,be,Ut,!1)),lr(e,a),(!(Ee&2)||e!==Be)&&(e===Be&&(!(Ee&2)&&(zn|=a),Xe===4&&Fa(e,be,Ut,!1)),ga(e))}function Mh(e,t,a){if(Ee&6)throw Error(R(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||nr(e,t),s=l?M0(e,t):Ic(e,t,!0),r=l;do{if(s===0){Gl&&!l&&Fa(e,t,0,!1);break}else{if(a=e.current.alternate,r&&!k0(a)){s=Ic(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var c=e;s=Ss;var o=c.current.memoizedState.isDehydrated;if(o&&(Tl(c,i).flags|=256),i=Ic(c,i,!1),i!==2){if(uu&&!o){c.errorRecoveryDisabledLanes|=r,zn|=r,s=4;break e}r=Mt,Mt=s,r!==null&&(Mt===null?Mt=r:Mt.push.apply(Mt,r))}s=i}if(r=!1,s!==2)continue}}if(s===1){Tl(e,0),Fa(e,t,0,!0);break}e:{switch(l=e,r=s,r){case 0:case 1:throw Error(R(345));case 4:if((t&4194048)!==t)break;case 6:Fa(l,t,Ut,!Pa);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(R(329))}if((t&62914560)===t&&(s=nc+300-Gt(),10<s)){if(Fa(l,t,Ut,!Pa),Qi(l,0,!0)!==0)break e;_a=t,l.timeoutHandle=Jh(Qf.bind(null,l,a,Mt,bi,Xo,t,Ut,zn,El,Pa,r,"Throttled",-0,0),s);break e}Qf(l,a,Mt,bi,Xo,t,Ut,zn,El,Pa,r,null,-0,0)}}break}while(1);ga(e)}function Qf(e,t,a,l,s,r,i,c,o,u,p,m,d,x){if(e.timeoutHandle=-1,m=t.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ta},Dh(t,r,m);var N=(r&62914560)===r?nc-Gt():(r&4194048)===r?Th-Gt():0;if(N=mv(m,N),N!==null){_a=r,e.cancelPendingCommit=N(Xf.bind(null,e,t,r,a,l,s,i,c,o,p,m,null,d,x)),Fa(e,r,i,!u);return}}Xf(e,t,r,a,l,s,i,c,o)}function k0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var s=a[l],r=s.getSnapshot;s=s.value;try{if(!Kt(r(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fa(e,t,a,l){t&=~fu,t&=~zn,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var s=t;0<s;){var r=31-It(s),i=1<<r;l[r]=-1,s&=~i}a!==0&&Lm(e,a,t)}function lc(){return Ee&6?!0:(dr(0,!1),!1)}function xu(){if(ye!==null){if(Oe===0)var e=ye.return;else e=ye,ka=Kn=null,Jd(e),yl=null,Rs=0,e=ye;for(;e!==null;)uh(e.alternate,e),e=e.return;ye=null}}function Tl(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,P0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_a=0,xu(),Be=e,ye=a=Oa(e.current,null),be=t,Oe=0,Lt=null,Pa=!1,Gl=nr(e,t),uu=!1,El=Ut=fu=zn=hn=Xe=0,Mt=Ss=null,Xo=!1,t&8&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var s=31-It(l),r=1<<s;t|=e[s],l&=~r}return $a=t,Pi(),a}function _h(e,t){fe=null,se.H=Bs,t===Hl||t===Ji?(t=wf(),Oe=3):t===Yd?(t=wf(),Oe=4):Oe=t===iu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Lt=t,ye===null&&(Xe=1,mi(e,ta(t,e.current)))}function zh(){var e=Xt.current;return e===null?!0:(be&4194048)===be?la===null:(be&62914560)===be||be&536870912?e===la:!1}function Rh(){var e=se.H;return se.H=Bs,e===null?Bs:e}function Lh(){var e=se.A;return se.A=A0,e}function gi(){Xe=4,Pa||(be&4194048)!==be&&Xt.current!==null||(Gl=!0),!(hn&134217727)&&!(zn&134217727)||Be===null||Fa(Be,be,Ut,!1)}function Ic(e,t,a){var l=Ee;Ee|=2;var s=Rh(),r=Lh();(Be!==e||be!==t)&&(bi=null,Tl(e,t)),t=!1;var i=Xe;e:do try{if(Oe!==0&&ye!==null){var c=ye,o=Lt;switch(Oe){case 8:xu(),i=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(t=!0);var u=Oe;if(Oe=0,Lt=null,ul(e,c,o,u),a&&Gl){i=0;break e}break;default:u=Oe,Oe=0,Lt=null,ul(e,c,o,u)}}O0(),i=Xe;break}catch(p){_h(e,p)}while(1);return t&&e.shellSuspendCounter++,ka=Kn=null,Ee=l,se.H=s,se.A=r,ye===null&&(Be=null,be=0,Pi()),i}function O0(){for(;ye!==null;)Bh(ye)}function M0(e,t){var a=Ee;Ee|=2;var l=Rh(),s=Lh();Be!==e||be!==t?(bi=null,yi=Gt()+500,Tl(e,t)):Gl=nr(e,t);e:do try{if(Oe!==0&&ye!==null){t=ye;var r=Lt;t:switch(Oe){case 1:Oe=0,Lt=null,ul(e,t,r,1);break;case 2:case 9:if(Sf(r)){Oe=0,Lt=null,Kf(t);break}t=function(){Oe!==2&&Oe!==9||Be!==e||(Oe=7),ga(e)},r.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Sf(r)?(Oe=0,Lt=null,Kf(t)):(Oe=0,Lt=null,ul(e,t,r,7));break;case 5:var i=null;switch(ye.tag){case 26:i=ye.memoizedState;case 5:case 27:var c=ye;if(i?ny(i):c.stateNode.complete){Oe=0,Lt=null;var o=c.sibling;if(o!==null)ye=o;else{var u=c.return;u!==null?(ye=u,sc(u)):ye=null}break t}}Oe=0,Lt=null,ul(e,t,r,5);break;case 6:Oe=0,Lt=null,ul(e,t,r,6);break;case 8:xu(),Xe=6;break e;default:throw Error(R(462))}}_0();break}catch(p){_h(e,p)}while(1);return ka=Kn=null,se.H=l,se.A=s,Ee=a,ye!==null?0:(Be=null,be=0,Pi(),Xe)}function _0(){for(;ye!==null&&!ag();)Bh(ye)}function Bh(e){var t=dh(e.alternate,e,$a);e.memoizedProps=e.pendingProps,t===null?sc(e):ye=t}function Kf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Hf(a,t,t.pendingProps,t.type,void 0,be);break;case 11:t=Hf(a,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:Jd(t);default:uh(a,t),t=ye=up(t,$a),t=dh(a,t,$a)}e.memoizedProps=e.pendingProps,t===null?sc(e):ye=t}function ul(e,t,a,l){ka=Kn=null,Jd(t),yl=null,Rs=0;var s=t.return;try{if(N0(e,s,t,a,be)){Xe=1,mi(e,ta(a,e.current)),ye=null;return}}catch(r){if(s!==null)throw ye=s,r;Xe=1,mi(e,ta(a,e.current)),ye=null;return}t.flags&32768?(ve||l===1?e=!0:Gl||be&536870912?e=!1:(Pa=e=!0,(l===2||l===9||l===3||l===6)&&(l=Xt.current,l!==null&&l.tag===13&&(l.flags|=16384))),$h(t,e)):sc(t)}function sc(e){var t=e;do{if(t.flags&32768){$h(t,Pa);return}e=t.return;var a=w0(t.alternate,t,$a);if(a!==null){ye=a;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Xe===0&&(Xe=5)}function $h(e,t){do{var a=D0(e.alternate,e);if(a!==null){a.flags&=32767,ye=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=a}while(e!==null);Xe=6,ye=null}function Xf(e,t,a,l,s,r,i,c,o){e.cancelPendingCommit=null;do rc();while(it!==0);if(Ee&6)throw Error(R(327));if(t!==null){if(t===e.current)throw Error(R(177));if(r=t.lanes|t.childLanes,r|=$d,fg(e,a,r,i,c,o),e===Be&&(ye=Be=null,be=0),Al=t,sn=e,_a=a,Zo=r,Po=s,kh=l,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,B0(ni,function(){return Ih(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,t.subtreeFlags&13878||l){l=se.T,se.T=null,s=Ae.p,Ae.p=2,i=Ee,Ee|=4;try{C0(e,t,a)}finally{Ee=i,Ae.p=s,se.T=l}}it=1,Uh(),Hh(),Gh()}}function Uh(){if(it===1){it=0;var e=sn,t=Al,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=se.T,se.T=null;var l=Ae.p;Ae.p=2;var s=Ee;Ee|=4;try{jh(t,e);var r=td,i=np(e.containerInfo),c=r.focusedElem,o=r.selectionRange;if(i!==c&&c&&c.ownerDocument&&ap(c.ownerDocument.documentElement,c)){if(o!==null&&Bd(c)){var u=o.start,p=o.end;if(p===void 0&&(p=u),"selectionStart"in c)c.selectionStart=u,c.selectionEnd=Math.min(p,c.value.length);else{var m=c.ownerDocument||document,d=m&&m.defaultView||window;if(d.getSelection){var x=d.getSelection(),N=c.textContent.length,w=Math.min(o.start,N),b=o.end===void 0?w:Math.min(o.end,N);!x.extend&&w>b&&(i=b,b=w,w=i);var f=hf(c,w),g=hf(c,b);if(f&&g&&(x.rangeCount!==1||x.anchorNode!==f.node||x.anchorOffset!==f.offset||x.focusNode!==g.node||x.focusOffset!==g.offset)){var h=m.createRange();h.setStart(f.node,f.offset),x.removeAllRanges(),w>b?(x.addRange(h),x.extend(g.node,g.offset)):(h.setEnd(g.node,g.offset),x.addRange(h))}}}}for(m=[],x=c;x=x.parentNode;)x.nodeType===1&&m.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<m.length;c++){var v=m[c];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}Ei=!!ed,td=ed=null}finally{Ee=s,Ae.p=l,se.T=a}}e.current=t,it=2}}function Hh(){if(it===2){it=0;var e=sn,t=Al,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=se.T,se.T=null;var l=Ae.p;Ae.p=2;var s=Ee;Ee|=4;try{yh(e,t.alternate,t)}finally{Ee=s,Ae.p=l,se.T=a}}it=3}}function Gh(){if(it===4||it===3){it=0,ng();var e=sn,t=Al,a=_a,l=kh;t.subtreeFlags&10256||t.flags&10256?it=5:(it=0,Al=sn=null,qh(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ln=null),kd(a),t=t.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ar,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=se.T,s=Ae.p,Ae.p=2,se.T=null;try{for(var r=e.onRecoverableError,i=0;i<l.length;i++){var c=l[i];r(c.value,{componentStack:c.stack})}}finally{se.T=t,Ae.p=s}}_a&3&&rc(),ga(e),s=e.pendingLanes,a&261930&&s&42?e===Fo?ws++:(ws=0,Fo=e):ws=0,dr(0,!1)}}function qh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ir(t)))}function rc(){return Uh(),Hh(),Gh(),Ih()}function Ih(){if(it!==5)return!1;var e=sn,t=Zo;Zo=0;var a=kd(_a),l=se.T,s=Ae.p;try{Ae.p=32>a?32:a,se.T=null,a=Po,Po=null;var r=sn,i=_a;if(it=0,Al=sn=null,_a=0,Ee&6)throw Error(R(331));var c=Ee;if(Ee|=4,Eh(r.current),wh(r,r.current,i,a),Ee=c,dr(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ar,r)}catch{}return!0}finally{Ae.p=s,se.T=l,qh(e,t)}}function Zf(e,t,a){t=ta(a,t),t=Vo(e.stateNode,t,2),e=nn(e,t,2),e!==null&&(lr(e,2),ga(e))}function Me(e,t,a){if(e.tag===3)Zf(e,e,a);else for(;t!==null;){if(t.tag===3){Zf(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ln===null||!ln.has(l))){e=ta(a,e),a=lh(2),l=nn(t,a,2),l!==null&&(sh(a,l,t,e),lr(l,2),ga(l));break}}t=t.return}}function Vc(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new T0;var s=new Set;l.set(t,s)}else s=l.get(t),s===void 0&&(s=new Set,l.set(t,s));s.has(a)||(uu=!0,s.add(a),e=z0.bind(null,e,t,a),t.then(e,e))}function z0(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(be&a)===a&&(Xe===4||Xe===3&&(be&62914560)===be&&300>Gt()-nc?!(Ee&2)&&Tl(e,0):fu|=a,El===be&&(El=0)),ga(e)}function Vh(e,t){t===0&&(t=Rm()),e=Qn(e,t),e!==null&&(lr(e,t),ga(e))}function R0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Vh(e,a)}function L0(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(R(314))}l!==null&&l.delete(t),Vh(e,a)}function B0(e,t){return Ad(e,t)}var vi=null,Jn=null,Jo=!1,Ni=!1,Yc=!1,Ja=0;function ga(e){e!==Jn&&e.next===null&&(Jn===null?vi=Jn=e:Jn=Jn.next=e),Ni=!0,Jo||(Jo=!0,U0())}function dr(e,t){if(!Yc&&Ni){Yc=!0;do for(var a=!1,l=vi;l!==null;){if(!t)if(e!==0){var s=l.pendingLanes;if(s===0)var r=0;else{var i=l.suspendedLanes,c=l.pingedLanes;r=(1<<31-It(42|e)+1)-1,r&=s&~(i&~c),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(a=!0,Pf(l,r))}else r=be,r=Qi(l,l===Be?r:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),!(r&3)||nr(l,r)||(a=!0,Pf(l,r));l=l.next}while(a);Yc=!1}}function $0(){Yh()}function Yh(){Ni=Jo=!1;var e=0;Ja!==0&&Z0()&&(e=Ja);for(var t=Gt(),a=null,l=vi;l!==null;){var s=l.next,r=Qh(l,t);r===0?(l.next=null,a===null?vi=s:a.next=s,s===null&&(Jn=a)):(a=l,(e!==0||r&3)&&(Ni=!0)),l=s}it!==0&&it!==5||dr(e,!1),Ja!==0&&(Ja=0)}function Qh(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var i=31-It(r),c=1<<i,o=s[i];o===-1?(!(c&a)||c&l)&&(s[i]=ug(c,t)):o<=t&&(e.expiredLanes|=c),r&=~c}if(t=Be,a=be,a=Qi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&gc(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||nr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&gc(l),kd(a)){case 2:case 8:a=_m;break;case 32:a=ni;break;case 268435456:a=zm;break;default:a=ni}return l=Kh.bind(null,e),a=Ad(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&gc(l),e.callbackPriority=2,e.callbackNode=null,2}function Kh(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(rc()&&e.callbackNode!==a)return null;var l=be;return l=Qi(e,e===Be?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Mh(e,l,t),Qh(e,Gt()),e.callbackNode!=null&&e.callbackNode===a?Kh.bind(null,e):null)}function Pf(e,t){if(rc())return null;Mh(e,t,!0)}function U0(){F0(function(){Ee&6?Ad(Mm,$0):Yh()})}function mu(){if(Ja===0){var e=wl;e===0&&(e=br,br<<=1,!(br&261888)&&(br=256)),Ja=e}return Ja}function Ff(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ur(""+e)}function Jf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function H0(e,t,a,l,s){if(t==="submit"&&a&&a.stateNode===s){var r=Ff((s[zt]||null).action),i=l.submitter;i&&(t=(t=i[zt]||null)?Ff(t.formAction):i.getAttribute("formAction"),t!==null&&(r=t,i=null));var c=new Ki("action","action",null,l,s);e.push({event:c,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ja!==0){var o=i?Jf(s,i):new FormData(s);qo(a,{pending:!0,data:o,method:s.method,action:r},null,o)}}else typeof r=="function"&&(c.preventDefault(),o=i?Jf(s,i):new FormData(s),qo(a,{pending:!0,data:o,method:s.method,action:r},r,o))},currentTarget:s}]})}}for(var Qc=0;Qc<ko.length;Qc++){var Kc=ko[Qc],G0=Kc.toLowerCase(),q0=Kc[0].toUpperCase()+Kc.slice(1);ua(G0,"on"+q0)}ua(sp,"onAnimationEnd");ua(rp,"onAnimationIteration");ua(ip,"onAnimationStart");ua("dblclick","onDoubleClick");ua("focusin","onFocus");ua("focusout","onBlur");ua(l0,"onTransitionRun");ua(s0,"onTransitionStart");ua(r0,"onTransitionCancel");ua(cp,"onTransitionEnd");jl("onMouseEnter",["mouseout","mouseover"]);jl("onMouseLeave",["mouseout","mouseover"]);jl("onPointerEnter",["pointerout","pointerover"]);jl("onPointerLeave",["pointerout","pointerover"]);In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));In("onBeforeInput",["compositionend","keypress","textInput","paste"]);In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($s));function Xh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],s=l.event;l=l.listeners;e:{var r=void 0;if(t)for(var i=l.length-1;0<=i;i--){var c=l[i],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==r&&s.isPropagationStopped())break e;r=c,s.currentTarget=u;try{r(s)}catch(p){si(p)}s.currentTarget=null,r=o}else for(i=0;i<l.length;i++){if(c=l[i],o=c.instance,u=c.currentTarget,c=c.listener,o!==r&&s.isPropagationStopped())break e;r=c,s.currentTarget=u;try{r(s)}catch(p){si(p)}s.currentTarget=null,r=o}}}}function he(e,t){var a=t[jo];a===void 0&&(a=t[jo]=new Set);var l=e+"__bubble";a.has(l)||(Zh(t,e,2,!1),a.add(l))}function Xc(e,t,a){var l=0;t&&(l|=4),Zh(a,e,l,t)}var Ar="_reactListening"+Math.random().toString(36).slice(2);function pu(e){if(!e[Ar]){e[Ar]=!0,Hm.forEach(function(a){a!=="selectionchange"&&(I0.has(a)||Xc(a,!1,e),Xc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ar]||(t[Ar]=!0,Xc("selectionchange",!1,t))}}function Zh(e,t,a,l){switch(cy(t)){case 2:var s=yv;break;case 8:s=bv;break;default:s=gu}a=s.bind(null,t,a,e),s=void 0,!Eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),l?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function Zc(e,t,a,l,s){var r=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var i=l.tag;if(i===3||i===4){var c=l.stateNode.containerInfo;if(c===s)break;if(i===4)for(i=l.return;i!==null;){var o=i.tag;if((o===3||o===4)&&i.stateNode.containerInfo===s)return;i=i.return}for(;c!==null;){if(i=al(c),i===null)return;if(o=i.tag,o===5||o===6||o===26||o===27){l=r=i;continue e}c=c.parentNode}}l=l.return}Xm(function(){var u=r,p=_d(a),m=[];e:{var d=op.get(e);if(d!==void 0){var x=Ki,N=e;switch(e){case"keypress":if(Gr(a)===0)break e;case"keydown":case"keyup":x=Lg;break;case"focusin":N="focus",x=wc;break;case"focusout":N="blur",x=wc;break;case"beforeblur":case"afterblur":x=wc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Ug;break;case sp:case rp:case ip:x=Eg;break;case cp:x=Gg;break;case"scroll":case"scrollend":x=jg;break;case"wheel":x=Ig;break;case"copy":case"cut":case"paste":x=Tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=cf;break;case"toggle":case"beforetoggle":x=Yg}var w=(t&4)!==0,b=!w&&(e==="scroll"||e==="scrollend"),f=w?d!==null?d+"Capture":null:d;w=[];for(var g=u,h;g!==null;){var v=g;if(h=v.stateNode,v=v.tag,v!==5&&v!==26&&v!==27||h===null||f===null||(v=ks(g,f),v!=null&&w.push(Us(g,v,h))),b)break;g=g.return}0<w.length&&(d=new x(d,N,null,a,p),m.push({event:d,listeners:w}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",d&&a!==Co&&(N=a.relatedTarget||a.fromElement)&&(al(N)||N[Bl]))break e;if((x||d)&&(d=p.window===p?p:(d=p.ownerDocument)?d.defaultView||d.parentWindow:window,x?(N=a.relatedTarget||a.toElement,x=u,N=N?al(N):null,N!==null&&(b=tr(N),w=N.tag,N!==b||w!==5&&w!==27&&w!==6)&&(N=null)):(x=null,N=u),x!==N)){if(w=sf,v="onMouseLeave",f="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(w=cf,v="onPointerLeave",f="onPointerEnter",g="pointer"),b=x==null?d:is(x),h=N==null?d:is(N),d=new w(v,g+"leave",x,a,p),d.target=b,d.relatedTarget=h,v=null,al(p)===u&&(w=new w(f,g+"enter",N,a,p),w.target=h,w.relatedTarget=b,v=w),b=v,x&&N)t:{for(w=V0,f=x,g=N,h=0,v=f;v;v=w(v))h++;v=0;for(var j=g;j;j=w(j))v++;for(;0<h-v;)f=w(f),h--;for(;0<v-h;)g=w(g),v--;for(;h--;){if(f===g||g!==null&&f===g.alternate){w=f;break t}f=w(f),g=w(g)}w=null}else w=null;x!==null&&Wf(m,d,x,w,!1),N!==null&&b!==null&&Wf(m,b,N,w,!0)}}e:{if(d=u?is(u):window,x=d.nodeName&&d.nodeName.toLowerCase(),x==="select"||x==="input"&&d.type==="file")var y=ff;else if(uf(d))if(ep)y=t0;else{y=Wg;var D=Jg}else x=d.nodeName,!x||x.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?u&&Md(u.elementType)&&(y=ff):y=e0;if(y&&(y=y(e,u))){Wm(m,y,a,p);break e}D&&D(e,d,u),e==="focusout"&&u&&d.type==="number"&&u.memoizedProps.value!=null&&Do(d,"number",d.value)}switch(D=u?is(u):window,e){case"focusin":(uf(D)||D.contentEditable==="true")&&(sl=D,Ao=u,ps=null);break;case"focusout":ps=Ao=sl=null;break;case"mousedown":To=!0;break;case"contextmenu":case"mouseup":case"dragend":To=!1,yf(m,a,p);break;case"selectionchange":if(n0)break;case"keydown":case"keyup":yf(m,a,p)}var E;if(Ld)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else ll?Fm(e,a)&&(O="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(O="onCompositionStart");O&&(Pm&&a.locale!=="ko"&&(ll||O!=="onCompositionStart"?O==="onCompositionEnd"&&ll&&(E=Zm()):(Za=p,zd="value"in Za?Za.value:Za.textContent,ll=!0)),D=ji(u,O),0<D.length&&(O=new rf(O,e,null,a,p),m.push({event:O,listeners:D}),E?O.data=E:(E=Jm(a),E!==null&&(O.data=E)))),(E=Kg?Xg(e,a):Zg(e,a))&&(O=ji(u,"onBeforeInput"),0<O.length&&(D=new rf("onBeforeInput","beforeinput",null,a,p),m.push({event:D,listeners:O}),D.data=E)),H0(m,e,u,a,p)}Xh(m,t)})}function Us(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ji(e,t){for(var a=t+"Capture",l=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=ks(e,a),s!=null&&l.unshift(Us(e,s,r)),s=ks(e,t),s!=null&&l.push(Us(e,s,r))),e.tag===3)return l;e=e.return}return[]}function V0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wf(e,t,a,l,s){for(var r=t._reactName,i=[];a!==null&&a!==l;){var c=a,o=c.alternate,u=c.stateNode;if(c=c.tag,o!==null&&o===l)break;c!==5&&c!==26&&c!==27||u===null||(o=u,s?(u=ks(a,r),u!=null&&i.unshift(Us(a,u,o))):s||(u=ks(a,r),u!=null&&i.push(Us(a,u,o)))),a=a.return}i.length!==0&&e.push({event:t,listeners:i})}var Y0=/\r\n?/g,Q0=/\u0000|\uFFFD/g;function ex(e){return(typeof e=="string"?e:""+e).replace(Y0,`
`).replace(Q0,"")}function Ph(e,t){return t=ex(t),ex(e)===t}function _e(e,t,a,l,s,r){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Sl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Sl(e,""+l);break;case"className":Nr(e,"class",l);break;case"tabIndex":Nr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nr(e,a,l);break;case"style":Km(e,l,r);break;case"data":if(t!=="object"){Nr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ur(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(a==="formAction"?(t!=="input"&&_e(e,t,"name",s.name,s,null),_e(e,t,"formEncType",s.formEncType,s,null),_e(e,t,"formMethod",s.formMethod,s,null),_e(e,t,"formTarget",s.formTarget,s,null)):(_e(e,t,"encType",s.encType,s,null),_e(e,t,"method",s.method,s,null),_e(e,t,"target",s.target,s,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ur(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ta);break;case"onScroll":l!=null&&he("scroll",e);break;case"onScrollEnd":l!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(R(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(R(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ur(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":he("beforetoggle",e),he("toggle",e),$r(e,"popover",l);break;case"xlinkActuate":Na(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Na(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Na(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Na(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Na(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Na(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Na(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Na(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Na(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$r(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vg.get(a)||a,$r(e,a,l))}}function Wo(e,t,a,l,s,r){switch(a){case"style":Km(e,l,r);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(R(61));if(a=l.__html,a!=null){if(s.children!=null)throw Error(R(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Sl(e,l):(typeof l=="number"||typeof l=="bigint")&&Sl(e,""+l);break;case"onScroll":l!=null&&he("scroll",e);break;case"onScrollEnd":l!=null&&he("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ta);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gm.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),r=e[zt]||null,r=r!=null?r[a]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof l=="function")){typeof r!="function"&&r!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,s);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):$r(e,a,l)}}}function Nt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var l=!1,s=!1,r;for(r in a)if(a.hasOwnProperty(r)){var i=a[r];if(i!=null)switch(r){case"src":l=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:_e(e,t,r,i,a,null)}}s&&_e(e,t,"srcSet",a.srcSet,a,null),l&&_e(e,t,"src",a.src,a,null);return;case"input":he("invalid",e);var c=r=i=s=null,o=null,u=null;for(l in a)if(a.hasOwnProperty(l)){var p=a[l];if(p!=null)switch(l){case"name":s=p;break;case"type":i=p;break;case"checked":o=p;break;case"defaultChecked":u=p;break;case"value":r=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(R(137,t));break;default:_e(e,t,l,p,a,null)}}Vm(e,r,c,o,u,i,s,!1);return;case"select":he("invalid",e),l=i=r=null;for(s in a)if(a.hasOwnProperty(s)&&(c=a[s],c!=null))switch(s){case"value":r=c;break;case"defaultValue":i=c;break;case"multiple":l=c;default:_e(e,t,s,c,a,null)}t=r,a=i,e.multiple=!!l,t!=null?ml(e,!!l,t,!1):a!=null&&ml(e,!!l,a,!0);return;case"textarea":he("invalid",e),r=s=l=null;for(i in a)if(a.hasOwnProperty(i)&&(c=a[i],c!=null))switch(i){case"value":l=c;break;case"defaultValue":s=c;break;case"children":r=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(R(91));break;default:_e(e,t,i,c,a,null)}Qm(e,l,s,r);return;case"option":for(o in a)if(a.hasOwnProperty(o)&&(l=a[o],l!=null))switch(o){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:_e(e,t,o,l,a,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(l=0;l<$s.length;l++)he($s[l],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(l=a[u],l!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:_e(e,t,u,l,a,null)}return;default:if(Md(t)){for(p in a)a.hasOwnProperty(p)&&(l=a[p],l!==void 0&&Wo(e,t,p,l,a,void 0));return}}for(c in a)a.hasOwnProperty(c)&&(l=a[c],l!=null&&_e(e,t,c,l,a,null))}function K0(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,i=null,c=null,o=null,u=null,p=null;for(x in a){var m=a[x];if(a.hasOwnProperty(x)&&m!=null)switch(x){case"checked":break;case"value":break;case"defaultValue":o=m;default:l.hasOwnProperty(x)||_e(e,t,x,null,l,m)}}for(var d in l){var x=l[d];if(m=a[d],l.hasOwnProperty(d)&&(x!=null||m!=null))switch(d){case"type":r=x;break;case"name":s=x;break;case"checked":u=x;break;case"defaultChecked":p=x;break;case"value":i=x;break;case"defaultValue":c=x;break;case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(R(137,t));break;default:x!==m&&_e(e,t,d,x,l,m)}}wo(e,i,c,o,u,p,r,s);return;case"select":x=i=c=d=null;for(r in a)if(o=a[r],a.hasOwnProperty(r)&&o!=null)switch(r){case"value":break;case"multiple":x=o;default:l.hasOwnProperty(r)||_e(e,t,r,null,l,o)}for(s in l)if(r=l[s],o=a[s],l.hasOwnProperty(s)&&(r!=null||o!=null))switch(s){case"value":d=r;break;case"defaultValue":c=r;break;case"multiple":i=r;default:r!==o&&_e(e,t,s,r,l,o)}t=c,a=i,l=x,d!=null?ml(e,!!a,d,!1):!!l!=!!a&&(t!=null?ml(e,!!a,t,!0):ml(e,!!a,a?[]:"",!1));return;case"textarea":x=d=null;for(c in a)if(s=a[c],a.hasOwnProperty(c)&&s!=null&&!l.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:_e(e,t,c,null,l,s)}for(i in l)if(s=l[i],r=a[i],l.hasOwnProperty(i)&&(s!=null||r!=null))switch(i){case"value":d=s;break;case"defaultValue":x=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(R(91));break;default:s!==r&&_e(e,t,i,s,l,r)}Ym(e,d,x);return;case"option":for(var N in a)if(d=a[N],a.hasOwnProperty(N)&&d!=null&&!l.hasOwnProperty(N))switch(N){case"selected":e.selected=!1;break;default:_e(e,t,N,null,l,d)}for(o in l)if(d=l[o],x=a[o],l.hasOwnProperty(o)&&d!==x&&(d!=null||x!=null))switch(o){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:_e(e,t,o,d,l,x)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in a)d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w)&&_e(e,t,w,null,l,d);for(u in l)if(d=l[u],x=a[u],l.hasOwnProperty(u)&&d!==x&&(d!=null||x!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(R(137,t));break;default:_e(e,t,u,d,l,x)}return;default:if(Md(t)){for(var b in a)d=a[b],a.hasOwnProperty(b)&&d!==void 0&&!l.hasOwnProperty(b)&&Wo(e,t,b,void 0,l,d);for(p in l)d=l[p],x=a[p],!l.hasOwnProperty(p)||d===x||d===void 0&&x===void 0||Wo(e,t,p,d,l,x);return}}for(var f in a)d=a[f],a.hasOwnProperty(f)&&d!=null&&!l.hasOwnProperty(f)&&_e(e,t,f,null,l,d);for(m in l)d=l[m],x=a[m],!l.hasOwnProperty(m)||d===x||d==null&&x==null||_e(e,t,m,d,l,x)}function tx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var s=a[l],r=s.transferSize,i=s.initiatorType,c=s.duration;if(r&&c&&tx(i)){for(i=0,c=s.responseEnd,l+=1;l<a.length;l++){var o=a[l],u=o.startTime;if(u>c)break;var p=o.transferSize,m=o.initiatorType;p&&tx(m)&&(o=o.responseEnd,i+=p*(o<c?1:(c-u)/(o-u)))}if(--l,t+=8*(r+i)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ed=null,td=null;function Si(e){return e.nodeType===9?e:e.ownerDocument}function ax(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ad(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pc=null;function Z0(){var e=window.event;return e&&e.type==="popstate"?e===Pc?!1:(Pc=e,!0):(Pc=null,!1)}var Jh=typeof setTimeout=="function"?setTimeout:void 0,P0=typeof clearTimeout=="function"?clearTimeout:void 0,nx=typeof Promise=="function"?Promise:void 0,F0=typeof queueMicrotask=="function"?queueMicrotask:typeof nx<"u"?function(e){return nx.resolve(null).then(e).catch(J0)}:Jh;function J0(e){setTimeout(function(){throw e})}function gn(e){return e==="head"}function lx(e,t){var a=t,l=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(s),Ol(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ds(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ds(a);for(var r=a.firstChild;r;){var i=r.nextSibling,c=r.nodeName;r[sr]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&r.rel.toLowerCase()==="stylesheet"||a.removeChild(r),r=i}}else a==="body"&&Ds(e.ownerDocument.body);a=s}while(a);Ol(t)}function sx(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function nd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nd(a),Od(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function W0(e,t,a,l){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[sr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=sa(e.nextSibling),e===null)break}return null}function ev(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=sa(e.nextSibling),e===null))return null;return e}function Wh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=sa(e.nextSibling),e===null))return null;return e}function ld(e){return e.data==="$?"||e.data==="$~"}function sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function sa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var rd=null;function rx(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return sa(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function ix(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function ey(e,t,a){switch(t=Si(a),e){case"html":if(e=t.documentElement,!e)throw Error(R(452));return e;case"head":if(e=t.head,!e)throw Error(R(453));return e;case"body":if(e=t.body,!e)throw Error(R(454));return e;default:throw Error(R(451))}}function Ds(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Od(e)}var ia=new Map,cx=new Set;function wi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ua=Ae.d;Ae.d={f:av,r:nv,D:lv,C:sv,L:rv,m:iv,X:ov,S:cv,M:dv};function av(){var e=Ua.f(),t=lc();return e||t}function nv(e){var t=$l(e);t!==null&&t.tag===5&&t.type==="form"?Kp(t):Ua.r(e)}var ql=typeof document>"u"?null:document;function ty(e,t,a){var l=ql;if(l&&typeof t=="string"&&t){var s=ea(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),cx.has(s)||(cx.add(s),e={rel:e,crossOrigin:a,href:t},l.querySelector(s)===null&&(t=l.createElement("link"),Nt(t,"link",e),dt(t),l.head.appendChild(t)))}}function lv(e){Ua.D(e),ty("dns-prefetch",e,null)}function sv(e,t){Ua.C(e,t),ty("preconnect",e,t)}function rv(e,t,a){Ua.L(e,t,a);var l=ql;if(l&&e&&t){var s='link[rel="preload"][as="'+ea(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+ea(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+ea(a.imageSizes)+'"]')):s+='[href="'+ea(e)+'"]';var r=s;switch(t){case"style":r=kl(e);break;case"script":r=Il(e)}ia.has(r)||(e=Ie({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ia.set(r,e),l.querySelector(s)!==null||t==="style"&&l.querySelector(ur(r))||t==="script"&&l.querySelector(fr(r))||(t=l.createElement("link"),Nt(t,"link",e),dt(t),l.head.appendChild(t)))}}function iv(e,t){Ua.m(e,t);var a=ql;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+ea(l)+'"][href="'+ea(e)+'"]',r=s;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Il(e)}if(!ia.has(r)&&(e=Ie({rel:"modulepreload",href:e},t),ia.set(r,e),a.querySelector(s)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(fr(r)))return}l=a.createElement("link"),Nt(l,"link",e),dt(l),a.head.appendChild(l)}}}function cv(e,t,a){Ua.S(e,t,a);var l=ql;if(l&&e){var s=xl(l).hoistableStyles,r=kl(e);t=t||"default";var i=s.get(r);if(!i){var c={loading:0,preload:null};if(i=l.querySelector(ur(r)))c.loading=5;else{e=Ie({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ia.get(r))&&hu(e,a);var o=i=l.createElement("link");dt(o),Nt(o,"link",e),o._p=new Promise(function(u,p){o.onload=u,o.onerror=p}),o.addEventListener("load",function(){c.loading|=1}),o.addEventListener("error",function(){c.loading|=2}),c.loading|=4,Zr(i,t,l)}i={type:"stylesheet",instance:i,count:1,state:c},s.set(r,i)}}}function ov(e,t){Ua.X(e,t);var a=ql;if(a&&e){var l=xl(a).hoistableScripts,s=Il(e),r=l.get(s);r||(r=a.querySelector(fr(s)),r||(e=Ie({src:e,async:!0},t),(t=ia.get(s))&&yu(e,t),r=a.createElement("script"),dt(r),Nt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(s,r))}}function dv(e,t){Ua.M(e,t);var a=ql;if(a&&e){var l=xl(a).hoistableScripts,s=Il(e),r=l.get(s);r||(r=a.querySelector(fr(s)),r||(e=Ie({src:e,async:!0,type:"module"},t),(t=ia.get(s))&&yu(e,t),r=a.createElement("script"),dt(r),Nt(r,"link",e),a.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},l.set(s,r))}}function ox(e,t,a,l){var s=(s=en.current)?wi(s):null;if(!s)throw Error(R(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=kl(a.href),a=xl(s).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=kl(a.href);var r=xl(s).hoistableStyles,i=r.get(e);if(i||(s=s.ownerDocument||s,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,i),(r=s.querySelector(ur(e)))&&!r._p&&(i.instance=r,i.state.loading=5),ia.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ia.set(e,a),r||uv(s,e,a,i.state))),t&&l===null)throw Error(R(528,""));return i}if(t&&l!==null)throw Error(R(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Il(a),a=xl(s).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,e))}}function kl(e){return'href="'+ea(e)+'"'}function ur(e){return'link[rel="stylesheet"]['+e+"]"}function ay(e){return Ie({},e,{"data-precedence":e.precedence,precedence:null})}function uv(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Nt(t,"link",a),dt(t),e.head.appendChild(t))}function Il(e){return'[src="'+ea(e)+'"]'}function fr(e){return"script[async]"+e}function dx(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+ea(a.href)+'"]');if(l)return t.instance=l,dt(l),l;var s=Ie({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),dt(l),Nt(l,"style",s),Zr(l,a.precedence,e),t.instance=l;case"stylesheet":s=kl(a.href);var r=e.querySelector(ur(s));if(r)return t.state.loading|=4,t.instance=r,dt(r),r;l=ay(a),(s=ia.get(s))&&hu(l,s),r=(e.ownerDocument||e).createElement("link"),dt(r);var i=r;return i._p=new Promise(function(c,o){i.onload=c,i.onerror=o}),Nt(r,"link",l),t.state.loading|=4,Zr(r,a.precedence,e),t.instance=r;case"script":return r=Il(a.src),(s=e.querySelector(fr(r)))?(t.instance=s,dt(s),s):(l=a,(s=ia.get(r))&&(l=Ie({},a),yu(l,s)),e=e.ownerDocument||e,s=e.createElement("script"),dt(s),Nt(s,"link",l),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(R(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(l=t.instance,t.state.loading|=4,Zr(l,a.precedence,e));return t.instance}function Zr(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=l.length?l[l.length-1]:null,r=s,i=0;i<l.length;i++){var c=l[i];if(c.dataset.precedence===t)r=c;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function hu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Pr=null;function ux(e,t,a){if(Pr===null){var l=new Map,s=Pr=new Map;s.set(a,l)}else s=Pr,l=s.get(a),l||(l=new Map,s.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var r=a[s];if(!(r[sr]||r[yt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var i=r.getAttribute(t)||"";i=e+i;var c=l.get(i);c?c.push(r):l.set(i,[r])}}return l}function fx(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function fv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function ny(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function xv(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var s=kl(l.href),r=t.querySelector(ur(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Di.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=r,dt(r);return}r=t.ownerDocument||t,l=ay(l),(s=ia.get(s))&&hu(l,s),r=r.createElement("link"),dt(r);var i=r;i._p=new Promise(function(c,o){i.onload=c,i.onerror=o}),Nt(r,"link",l),a.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=Di.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Fc=0;function mv(e,t){return e.stylesheets&&e.count===0&&Fr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Fr(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&Fc===0&&(Fc=62500*X0());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Fr(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>Fc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(s)}}:null}function Di(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ci=null;function Fr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ci=new Map,t.forEach(pv,e),Ci=null,Di.call(e))}function pv(e,t){if(!(t.state.loading&4)){var a=Ci.get(e);if(a)var l=a.get(null);else{a=new Map,Ci.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var i=s[r];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(a.set(i.dataset.precedence,i),l=i)}l&&a.set(null,l)}s=t.instance,i=s.getAttribute("data-precedence"),r=a.get(i)||l,r===l&&a.set(null,s),a.set(i,s),this.count++,l=Di.bind(this),s.addEventListener("load",l),s.addEventListener("error",l),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Hs={$$typeof:Aa,Provider:null,Consumer:null,_currentValue:kn,_currentValue2:kn,_threadCount:0};function hv(e,t,a,l,s,r,i,c,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vc(0),this.hiddenUpdates=vc(null),this.identifierPrefix=l,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function ly(e,t,a,l,s,r,i,c,o,u,p,m){return e=new hv(e,t,a,i,o,u,p,m,c),t=1,r===!0&&(t|=24),r=$t(3,null,null,t),e.current=r,r.stateNode=e,t=Id(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:l,isDehydrated:a,cache:t},Qd(r),e}function sy(e){return e?(e=cl,e):cl}function ry(e,t,a,l,s,r){s=sy(s),l.context===null?l.context=s:l.pendingContext=s,l=an(t),l.payload={element:a},r=r===void 0?null:r,r!==null&&(l.callback=r),a=nn(e,l,t),a!==null&&(_t(a,e,t),ys(a,e,t))}function xx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function bu(e,t){xx(e,t),(e=e.alternate)&&xx(e,t)}function iy(e){if(e.tag===13||e.tag===31){var t=Qn(e,67108864);t!==null&&_t(t,e,67108864),bu(e,67108864)}}function mx(e){if(e.tag===13||e.tag===31){var t=Vt();t=Td(t);var a=Qn(e,t);a!==null&&_t(a,e,t),bu(e,t)}}var Ei=!0;function yv(e,t,a,l){var s=se.T;se.T=null;var r=Ae.p;try{Ae.p=2,gu(e,t,a,l)}finally{Ae.p=r,se.T=s}}function bv(e,t,a,l){var s=se.T;se.T=null;var r=Ae.p;try{Ae.p=8,gu(e,t,a,l)}finally{Ae.p=r,se.T=s}}function gu(e,t,a,l){if(Ei){var s=id(l);if(s===null)Zc(e,t,l,Ai,a),px(e,l);else if(vv(s,e,t,a,l))l.stopPropagation();else if(px(e,l),t&4&&-1<gv.indexOf(e)){for(;s!==null;){var r=$l(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var i=Dn(r.pendingLanes);if(i!==0){var c=r;for(c.pendingLanes|=2,c.entangledLanes|=2;i;){var o=1<<31-It(i);c.entanglements[1]|=o,i&=~o}ga(r),!(Ee&6)&&(yi=Gt()+500,dr(0,!1))}}break;case 31:case 13:c=Qn(r,2),c!==null&&_t(c,r,2),lc(),bu(r,2)}if(r=id(l),r===null&&Zc(e,t,l,Ai,a),r===s)break;s=r}s!==null&&l.stopPropagation()}else Zc(e,t,l,null,a)}}function id(e){return e=_d(e),vu(e)}var Ai=null;function vu(e){if(Ai=null,e=al(e),e!==null){var t=tr(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Em(t),e!==null)return e;e=null}else if(a===31){if(e=Am(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ai=e,null}function cy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lg()){case Mm:return 2;case _m:return 8;case ni:case sg:return 32;case zm:return 268435456;default:return 32}default:return 32}}var cd=!1,rn=null,cn=null,on=null,Gs=new Map,qs=new Map,Ka=[],gv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function px(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":cn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(t.pointerId)}}function Wl(e,t,a,l,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:r,targetContainers:[s]},t!==null&&(t=$l(t),t!==null&&iy(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function vv(e,t,a,l,s){switch(t){case"focusin":return rn=Wl(rn,e,t,a,l,s),!0;case"dragenter":return cn=Wl(cn,e,t,a,l,s),!0;case"mouseover":return on=Wl(on,e,t,a,l,s),!0;case"pointerover":var r=s.pointerId;return Gs.set(r,Wl(Gs.get(r)||null,e,t,a,l,s)),!0;case"gotpointercapture":return r=s.pointerId,qs.set(r,Wl(qs.get(r)||null,e,t,a,l,s)),!0}return!1}function oy(e){var t=al(e.target);if(t!==null){var a=tr(t);if(a!==null){if(t=a.tag,t===13){if(t=Em(a),t!==null){e.blockedOn=t,Ju(e.priority,function(){mx(a)});return}}else if(t===31){if(t=Am(a),t!==null){e.blockedOn=t,Ju(e.priority,function(){mx(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=id(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Co=l,a.target.dispatchEvent(l),Co=null}else return t=$l(a),t!==null&&iy(t),e.blockedOn=a,!1;t.shift()}return!0}function hx(e,t,a){Jr(e)&&a.delete(t)}function Nv(){cd=!1,rn!==null&&Jr(rn)&&(rn=null),cn!==null&&Jr(cn)&&(cn=null),on!==null&&Jr(on)&&(on=null),Gs.forEach(hx),qs.forEach(hx)}function Tr(e,t){e.blockedOn===t&&(e.blockedOn=null,cd||(cd=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Nv)))}var kr=null;function yx(e){kr!==e&&(kr=e,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,function(){kr===e&&(kr=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],s=e[t+2];if(typeof l!="function"){if(vu(l||a)===null)continue;break}var r=$l(a);r!==null&&(e.splice(t,3),t-=3,qo(r,{pending:!0,data:s,method:a.method,action:l},l,s))}}))}function Ol(e){function t(o){return Tr(o,e)}rn!==null&&Tr(rn,e),cn!==null&&Tr(cn,e),on!==null&&Tr(on,e),Gs.forEach(t),qs.forEach(t);for(var a=0;a<Ka.length;a++){var l=Ka[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ka.length&&(a=Ka[0],a.blockedOn===null);)oy(a),a.blockedOn===null&&Ka.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var s=a[l],r=a[l+1],i=s[zt]||null;if(typeof r=="function")i||yx(a);else if(i){var c=null;if(r&&r.hasAttribute("formAction")){if(s=r,i=r[zt]||null)c=i.formAction;else if(vu(s)!==null)continue}else c=i.action;typeof c=="function"?a[l+1]=c:(a.splice(l,3),l-=3),yx(a)}}}function dy(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(i){return s=i})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Nu(e){this._internalRoot=e}ic.prototype.render=Nu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));var a=t.current,l=Vt();ry(a,l,e,t,null,null)};ic.prototype.unmount=Nu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ry(e.current,2,null,e,null,null),lc(),t[Bl]=null}};function ic(e){this._internalRoot=e}ic.prototype.unstable_scheduleHydration=function(e){if(e){var t=Um();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ka.length&&t!==0&&t<Ka[a].priority;a++);Ka.splice(a,0,e),a===0&&oy(e)}};var bx=Dm.version;if(bx!=="19.2.3")throw Error(R(527,bx,"19.2.3"));Ae.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Fb(t),e=e!==null?Tm(e):null,e=e===null?null:e.stateNode,e};var jv={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Or.isDisabled&&Or.supportsFiber)try{ar=Or.inject(jv),qt=Or}catch{}}Ii.createRoot=function(e,t){if(!Cm(e))throw Error(R(299));var a=!1,l="",s=th,r=ah,i=nh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=ly(e,1,!1,null,null,a,l,null,s,r,i,dy),e[Bl]=t.current,pu(e),new Nu(t)};Ii.hydrateRoot=function(e,t,a){if(!Cm(e))throw Error(R(299));var l=!1,s="",r=th,i=ah,c=nh,o=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(r=a.onUncaughtError),a.onCaughtError!==void 0&&(i=a.onCaughtError),a.onRecoverableError!==void 0&&(c=a.onRecoverableError),a.formState!==void 0&&(o=a.formState)),t=ly(e,1,!0,t,a??null,l,s,o,r,i,c,dy),t.context=sy(null),a=t.current,l=Vt(),l=Td(l),s=an(l),s.callback=null,nn(a,s,l),a=l,t.current.lanes=a,lr(t,a),ga(t),e[Bl]=t.current,pu(e),new ic(t)};Ii.version="19.2.3";function uy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(uy)}catch(e){console.error(e)}}uy(),gm.exports=Ii;var Sv=gm.exports;/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dv=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,l)=>l?l.toUpperCase():a.toLowerCase()),gx=e=>{const t=Dv(e);return t.charAt(0).toUpperCase()+t.slice(1)},fy=(...e)=>e.filter((t,a,l)=>!!t&&t.trim()!==""&&l.indexOf(t)===a).join(" ").trim(),Cv=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ev={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:s="",children:r,iconNode:i,...c},o)=>S.createElement("svg",{ref:o,...Ev,width:t,height:t,stroke:e,strokeWidth:l?Number(a)*24/Number(t):a,className:fy("lucide",s),...!r&&!Cv(c)&&{"aria-hidden":"true"},...c},[...i.map(([u,p])=>S.createElement(u,p)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const a=S.forwardRef(({className:l,...s},r)=>S.createElement(Av,{ref:r,iconNode:t,className:fy(`lucide-${wv(gx(e))}`,`lucide-${e}`,l),...s}));return a.displayName=gx(e),a};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Tn=J("activity",Tv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Mr=J("archive",kv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Mv=J("arrow-right",Ov);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],zv=J("calculator",_v);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ya=J("calendar",Rv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],od=J("chart-no-axes-column",Lv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],dd=J("chart-pie",Bv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Gn=J("chevron-down",$v);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ti=J("chevron-up",Uv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ki=J("circle-alert",Hv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ud=J("circle-check-big",Gv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Iv=J("circle-check",qv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],Yv=J("circle-minus",Vv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],fl=J("clipboard-list",Qv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],Xv=J("clipboard",Kv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ml=J("clock",Zv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],xy=J("credit-card",Pv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],rt=J("dollar-sign",Fv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Wv=J("eye",Jv);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ds=J("file-text",e1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Is=J("funnel",t1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],vx=J("grip-vertical",a1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],l1=J("info",n1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],Cs=J("list-ordered",s1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],i1=J("lock",r1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],o1=J("log-out",c1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Nx=J("map-pin",d1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],jx=J("moon",u1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],_r=J("package-plus",f1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Rn=J("package",x1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],p1=J("piggy-bank",m1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],my=J("printer",h1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ye=J("refresh-cw",y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Oi=J("rotate-ccw",b1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Vs=J("save",g1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xt=J("search",v1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],py=J("settings",N1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fa=J("shield",j1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],zr=J("shopping-cart",S1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ys=J("square-check-big",w1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sx=J("sun",D1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Qs=J("trash-2",C1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Wa=J("trending-up",E1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vl=J("triangle-alert",A1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],fd=J("truck",T1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],O1=J("user-plus",k1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dn=J("user",M1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mi=J("users",_1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ia=J("wallet",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],L1=J("wifi-off",R1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$1=J("x",B1),ee=async(e,t,a,l=null)=>{try{const s=new AbortController,r=setTimeout(()=>s.abort(),3e4),i=await fetch(e,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:t,payload:a,token:l}),signal:s.signal});if(clearTimeout(r),!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=await i.json();if(c.error)throw new Error(c.error);return c}catch(s){throw console.error(`API Error [${t}]:`,s),s.name==="AbortError"?new Error(" GAS "):s.message.includes("Load failed")||s.message.includes("Failed to fetch")?new Error(" GAS Anyone CORS "):s}};function U1({onLogin:e,apiUrl:t}){const[a,l]=S.useState(!1),[s,r]=S.useState(""),[i,c]=S.useState(""),[o,u]=S.useState(!1),p=async m=>{m.preventDefault(),u(!0);try{const x=await ee(t,a?"register":"login",{username:s,password:i});console.log("Login API Result:",x),a?(alert(" ()"),l(!1)):e(x)}catch(d){alert(d.message)}finally{u(!1)}};return n.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 bg-slate-50",children:n.jsxs("div",{className:"bg-white border border-slate-200 p-8 w-full max-w-md rounded-2xl shadow-2xl",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("img",{src:"/inventory-system/logo.png",alt:"Logo",className:"h-20 w-auto object-contain"})}),n.jsx("p",{className:"text-slate-500",children:a?"":""})]}),n.jsxs("form",{onSubmit:p,className:"space-y-6",children:[n.jsx("div",{children:n.jsxs("div",{className:"relative",children:[n.jsx(dn,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),n.jsx("input",{required:!0,type:"text",placeholder:"",className:"input-field pl-10 bg-slate-50 border-slate-200 focus:bg-white transition-all",value:s,onChange:m=>r(m.target.value)})]})}),n.jsx("div",{children:n.jsxs("div",{className:"relative",children:[n.jsx(i1,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),n.jsx("input",{required:!0,type:"password",placeholder:"",className:"input-field pl-10 bg-slate-50 border-slate-200 focus:bg-white transition-all",value:i,onChange:m=>c(m.target.value)})]})}),n.jsxs("button",{type:"submit",disabled:o,className:"btn-primary w-full flex justify-center items-center gap-2 py-3",children:[o?"...":a?"":""," ",n.jsx(Mv,{size:18})]})]}),n.jsx("div",{className:"mt-6 text-center text-sm text-slate-500",children:n.jsx("button",{onClick:()=>l(!a),className:"hover:text-blue-400 transition-colors",children:a?"":""})})]})})}function Dt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var H1=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),wx=H1,Jc=()=>Math.random().toString(36).substring(7).split("").join("."),G1={INIT:`@@redux/INIT${Jc()}`,REPLACE:`@@redux/REPLACE${Jc()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Jc()}`},Dx=G1;function q1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function hy(e,t,a){if(typeof e!="function")throw new Error(Dt(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(Dt(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(Dt(1));return a(hy)(e,t)}let l=e,s=t,r=new Map,i=r,c=0,o=!1;function u(){i===r&&(i=new Map,r.forEach((b,f)=>{i.set(f,b)}))}function p(){if(o)throw new Error(Dt(3));return s}function m(b){if(typeof b!="function")throw new Error(Dt(4));if(o)throw new Error(Dt(5));let f=!0;u();const g=c++;return i.set(g,b),function(){if(f){if(o)throw new Error(Dt(6));f=!1,u(),i.delete(g),r=null}}}function d(b){if(!q1(b))throw new Error(Dt(7));if(typeof b.type>"u")throw new Error(Dt(8));if(typeof b.type!="string")throw new Error(Dt(17));if(o)throw new Error(Dt(9));try{o=!0,s=l(s,b)}finally{o=!1}return(r=i).forEach(g=>{g()}),b}function x(b){if(typeof b!="function")throw new Error(Dt(10));l=b,d({type:Dx.REPLACE})}function N(){const b=m;return{subscribe(f){if(typeof f!="object"||f===null)throw new Error(Dt(11));function g(){const v=f;v.next&&v.next(p())}return g(),{unsubscribe:b(g)}},[wx](){return this}}}return d({type:Dx.INIT}),{dispatch:d,subscribe:m,getState:p,replaceReducer:x,[wx]:N}}function Cx(e,t){return function(...a){return t(e.apply(this,a))}}function Ex(e,t){if(typeof e=="function")return Cx(e,t);if(typeof e!="object"||e===null)throw new Error(Dt(16));const a={};for(const l in e){const s=e[l];typeof s=="function"&&(a[l]=Cx(s,t))}return a}function yy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...l)=>t(a(...l)))}function I1(...e){return t=>(a,l)=>{const s=t(a,l);let r=()=>{throw new Error(Dt(15))};const i={getState:s.getState,dispatch:(o,...u)=>r(o,...u)},c=e.map(o=>o(i));return r=yy(...c)(s.dispatch),{...s,dispatch:r}}}var V1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xr=S;function Y1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Q1=typeof Object.is=="function"?Object.is:Y1,K1=xr.useSyncExternalStore,X1=xr.useRef,Z1=xr.useEffect,P1=xr.useMemo,F1=xr.useDebugValue;V1.useSyncExternalStoreWithSelector=function(e,t,a,l,s){var r=X1(null);if(r.current===null){var i={hasValue:!1,value:null};r.current=i}else i=r.current;r=P1(function(){function o(x){if(!u){if(u=!0,p=x,x=l(x),s!==void 0&&i.hasValue){var N=i.value;if(s(N,x))return m=N}return m=x}if(N=m,Q1(p,x))return N;var w=l(x);return s!==void 0&&s(N,w)?(p=x,N):(p=x,m=w)}var u=!1,p,m,d=a===void 0?null:a;return[function(){return o(t())},d===null?void 0:function(){return o(d())}]},[t,a,l,s]);var c=K1(e,r[0],r[1]);return Z1(function(){i.hasValue=!0,i.value=c},[c]),F1(c),c};var J1=S.version.startsWith("19"),W1=Symbol.for(J1?"react.transitional.element":"react.element"),eN=Symbol.for("react.portal"),tN=Symbol.for("react.fragment"),aN=Symbol.for("react.strict_mode"),nN=Symbol.for("react.profiler"),lN=Symbol.for("react.consumer"),sN=Symbol.for("react.context"),by=Symbol.for("react.forward_ref"),rN=Symbol.for("react.suspense"),iN=Symbol.for("react.suspense_list"),ju=Symbol.for("react.memo"),cN=Symbol.for("react.lazy"),oN=by,dN=ju;function uN(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case W1:switch(e=e.type,e){case tN:case nN:case aN:case rN:case iN:return e;default:switch(e=e&&e.$$typeof,e){case sN:case by:case cN:case ju:return e;case lN:return e;default:return t}}case eN:return t}}}function fN(e){return uN(e)===ju}function xN(e,t,a,l,{areStatesEqual:s,areOwnPropsEqual:r,areStatePropsEqual:i}){let c=!1,o,u,p,m,d;function x(g,h){return o=g,u=h,p=e(o,u),m=t(l,u),d=a(p,m,u),c=!0,d}function N(){return p=e(o,u),t.dependsOnOwnProps&&(m=t(l,u)),d=a(p,m,u),d}function w(){return e.dependsOnOwnProps&&(p=e(o,u)),t.dependsOnOwnProps&&(m=t(l,u)),d=a(p,m,u),d}function b(){const g=e(o,u),h=!i(g,p);return p=g,h&&(d=a(p,m,u)),d}function f(g,h){const v=!r(h,u),j=!s(g,o,h,u);return o=g,u=h,v&&j?N():v?w():j?b():d}return function(h,v){return c?f(h,v):x(h,v)}}function mN(e,{initMapStateToProps:t,initMapDispatchToProps:a,initMergeProps:l,...s}){const r=t(e,s),i=a(e,s),c=l(e,s);return xN(r,i,c,e,s)}function pN(e,t){const a={};for(const l in e){const s=e[l];typeof s=="function"&&(a[l]=(...r)=>t(s(...r)))}return a}function xd(e){return function(a){const l=e(a);function s(){return l}return s.dependsOnOwnProps=!1,s}}function Ax(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function gy(e,t){return function(l,{displayName:s}){const r=function(c,o){return r.dependsOnOwnProps?r.mapToProps(c,o):r.mapToProps(c,void 0)};return r.dependsOnOwnProps=!0,r.mapToProps=function(c,o){r.mapToProps=e,r.dependsOnOwnProps=Ax(e);let u=r(c,o);return typeof u=="function"&&(r.mapToProps=u,r.dependsOnOwnProps=Ax(u),u=r(c,o)),u},r}}function Su(e,t){return(a,l)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${l.wrappedComponentName}.`)}}function hN(e){return e&&typeof e=="object"?xd(t=>pN(e,t)):e?typeof e=="function"?gy(e):Su(e,"mapDispatchToProps"):xd(t=>({dispatch:t}))}function yN(e){return e?typeof e=="function"?gy(e):Su(e,"mapStateToProps"):xd(()=>({}))}function bN(e,t,a){return{...a,...e,...t}}function gN(e){return function(a,{displayName:l,areMergedPropsEqual:s}){let r=!1,i;return function(o,u,p){const m=e(o,u,p);return r?s(m,i)||(i=m):(r=!0,i=m),i}}}function vN(e){return e?typeof e=="function"?gN(e):Su(e,"mergeProps"):()=>bN}function NN(e){e()}function jN(){let e=null,t=null;return{clear(){e=null,t=null},notify(){NN(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let l=e;for(;l;)a.push(l),l=l.next;return a},subscribe(a){let l=!0;const s=t={callback:a,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!l||e===null||(l=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var Tx={notify(){},get:()=>[]};function vy(e,t){let a,l=Tx,s=0,r=!1;function i(w){p();const b=l.subscribe(w);let f=!1;return()=>{f||(f=!0,b(),m())}}function c(){l.notify()}function o(){N.onStateChange&&N.onStateChange()}function u(){return r}function p(){s++,a||(a=t?t.addNestedSub(o):e.subscribe(o),l=jN())}function m(){s--,a&&s===0&&(a(),a=void 0,l.clear(),l=Tx)}function d(){r||(r=!0,p())}function x(){r&&(r=!1,m())}const N={addNestedSub:i,notifyNestedSubs:c,handleChangeWrapper:o,isSubscribed:u,trySubscribe:d,tryUnsubscribe:x,getListeners:()=>l};return N}var SN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wN=SN(),DN=()=>typeof navigator<"u"&&navigator.product==="ReactNative",CN=DN(),EN=()=>wN||CN?S.useLayoutEffect:S.useEffect,_i=EN();function kx(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Wc(e,t){if(kx(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(let s=0;s<a.length;s++)if(!Object.prototype.hasOwnProperty.call(t,a[s])||!kx(e[a[s]],t[a[s]]))return!1;return!0}var AN={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},TN={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},kN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ny={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ON={[oN]:kN,[dN]:Ny};function Ox(e){return fN(e)?Ny:ON[e.$$typeof]||AN}var MN=Object.defineProperty,_N=Object.getOwnPropertyNames,Mx=Object.getOwnPropertySymbols,zN=Object.getOwnPropertyDescriptor,RN=Object.getPrototypeOf,_x=Object.prototype;function md(e,t){if(typeof t!="string"){if(_x){const r=RN(t);r&&r!==_x&&md(e,r)}let a=_N(t);Mx&&(a=a.concat(Mx(t)));const l=Ox(e),s=Ox(t);for(let r=0;r<a.length;++r){const i=a[r];if(!TN[i]&&!(s&&s[i])&&!(l&&l[i])){const c=zN(t,i);try{MN(e,i,c)}catch{}}}}return e}var eo=Symbol.for("react-redux-context"),to=typeof globalThis<"u"?globalThis:{};function LN(){if(!S.createContext)return{};const e=to[eo]??(to[eo]=new Map);let t=e.get(S.createContext);return t||(t=S.createContext(null),e.set(S.createContext,t)),t}var jy=LN(),BN=[null,null];function $N(e,t,a){_i(()=>e(...t),a)}function UN(e,t,a,l,s,r){e.current=l,a.current=!1,s.current&&(s.current=null,r())}function HN(e,t,a,l,s,r,i,c,o,u,p){if(!e)return()=>{};let m=!1,d=null;const x=()=>{if(m||!c.current)return;const w=t.getState();let b,f;try{b=l(w,s.current)}catch(g){f=g,d=g}f||(d=null),b===r.current?i.current||u():(r.current=b,o.current=b,i.current=!0,p())};return a.onStateChange=x,a.trySubscribe(),x(),()=>{if(m=!0,a.tryUnsubscribe(),a.onStateChange=null,d)throw d}}function GN(e,t){return e===t}function qN(e,t,a,{pure:l,areStatesEqual:s=GN,areOwnPropsEqual:r=Wc,areStatePropsEqual:i=Wc,areMergedPropsEqual:c=Wc,forwardRef:o=!1,context:u=jy}={}){const p=u,m=yN(e),d=hN(t),x=vN(a),N=!!e;return b=>{const f=b.displayName||b.name||"Component",g=`Connect(${f})`,h={shouldHandleStateChanges:N,displayName:g,wrappedComponentName:f,WrappedComponent:b,initMapStateToProps:m,initMapDispatchToProps:d,initMergeProps:x,areStatesEqual:s,areStatePropsEqual:i,areOwnPropsEqual:r,areMergedPropsEqual:c};function v(D){const[E,O,B]=S.useMemo(()=>{const{reactReduxForwardedRef:xe,...Pe}=D;return[D.context,xe,Pe]},[D]),X=S.useMemo(()=>{let xe=p;return E!=null&&E.Consumer,xe},[E,p]),U=S.useContext(X),V=!!D.store&&!!D.store.getState&&!!D.store.dispatch,te=!!U&&!!U.store,ae=V?D.store:U.store,L=te?U.getServerState:ae.getState,z=S.useMemo(()=>mN(ae.dispatch,h),[ae]),[G,C]=S.useMemo(()=>{if(!N)return BN;const xe=vy(ae,V?void 0:U.subscription),Pe=xe.notifyNestedSubs.bind(xe);return[xe,Pe]},[ae,V,U]),$=S.useMemo(()=>V?U:{...U,subscription:G},[V,U,G]),H=S.useRef(void 0),ne=S.useRef(B),F=S.useRef(void 0),re=S.useRef(!1),$e=S.useRef(!1),tt=S.useRef(void 0);_i(()=>($e.current=!0,()=>{$e.current=!1}),[]);const Ze=S.useMemo(()=>()=>F.current&&B===ne.current?F.current:z(ae.getState(),B),[ae,B]),Y=S.useMemo(()=>Pe=>G?HN(N,ae,G,z,ne,H,re,$e,F,C,Pe):()=>{},[G]);$N(UN,[ne,H,re,B,F,C]);let q;try{q=S.useSyncExternalStore(Y,Ze,L?()=>z(L(),B):Ze)}catch(xe){throw tt.current&&(xe.message+=`
The error may be correlated with this previous error:
${tt.current.stack}

`),xe}_i(()=>{tt.current=void 0,F.current=void 0,H.current=q});const P=S.useMemo(()=>S.createElement(b,{...q,ref:O}),[O,b,q]);return S.useMemo(()=>N?S.createElement(X.Provider,{value:$},P):P,[X,P,$])}const y=S.memo(v);if(y.WrappedComponent=b,y.displayName=v.displayName=g,o){const E=S.forwardRef(function(B,X){return S.createElement(y,{...B,reactReduxForwardedRef:X})});return E.displayName=g,E.WrappedComponent=b,md(E,b)}return md(y,b)}}var Sy=qN;function IN(e){const{children:t,context:a,serverState:l,store:s}=e,r=S.useMemo(()=>{const o=vy(s);return{store:s,subscription:o,getServerState:l?()=>l:void 0}},[s,l]),i=S.useMemo(()=>s.getState(),[s]);_i(()=>{const{subscription:o}=r;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),i!==s.getState()&&o.notifyNestedSubs(),()=>{o.tryUnsubscribe(),o.onStateChange=void 0}},[r,i]);const c=a||jy;return S.createElement(c.Provider,{value:r},t)}var VN=IN,YN=!0,ao="Invariant failed";function QN(e,t){if(!e){if(YN)throw new Error(ao);var a=typeof t=="function"?t():t,l=a?"".concat(ao,": ").concat(a):ao;throw new Error(l)}}var da=function(t){var a=t.top,l=t.right,s=t.bottom,r=t.left,i=l-r,c=s-a,o={top:a,right:l,bottom:s,left:r,width:i,height:c,x:r,y:a,center:{x:(l+r)/2,y:(s+a)/2}};return o},wu=function(t,a){return{top:t.top-a.top,left:t.left-a.left,bottom:t.bottom+a.bottom,right:t.right+a.right}},zx=function(t,a){return{top:t.top+a.top,left:t.left+a.left,bottom:t.bottom-a.bottom,right:t.right-a.right}},KN=function(t,a){return{top:t.top+a.y,left:t.left+a.x,bottom:t.bottom+a.y,right:t.right+a.x}},no={top:0,right:0,bottom:0,left:0},Du=function(t){var a=t.borderBox,l=t.margin,s=l===void 0?no:l,r=t.border,i=r===void 0?no:r,c=t.padding,o=c===void 0?no:c,u=da(wu(a,s)),p=da(zx(a,i)),m=da(zx(p,o));return{marginBox:u,borderBox:da(a),paddingBox:p,contentBox:m,margin:s,border:i,padding:o}},Zt=function(t){var a=t.slice(0,-2),l=t.slice(-2);if(l!=="px")return 0;var s=Number(a);return isNaN(s)&&QN(!1),s},XN=function(){return{x:window.pageXOffset,y:window.pageYOffset}},zi=function(t,a){var l=t.borderBox,s=t.border,r=t.margin,i=t.padding,c=KN(l,a);return Du({borderBox:c,border:s,margin:r,padding:i})},Ri=function(t,a){return a===void 0&&(a=XN()),zi(t,a)},wy=function(t,a){var l={top:Zt(a.marginTop),right:Zt(a.marginRight),bottom:Zt(a.marginBottom),left:Zt(a.marginLeft)},s={top:Zt(a.paddingTop),right:Zt(a.paddingRight),bottom:Zt(a.paddingBottom),left:Zt(a.paddingLeft)},r={top:Zt(a.borderTopWidth),right:Zt(a.borderRightWidth),bottom:Zt(a.borderBottomWidth),left:Zt(a.borderLeftWidth)};return Du({borderBox:t,margin:l,padding:s,border:r})},Dy=function(t){var a=t.getBoundingClientRect(),l=window.getComputedStyle(t);return wy(a,l)},ZN=function(t){var a=[],l=null,s=function(){for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];a=c,!l&&(l=requestAnimationFrame(function(){l=null,t.apply(void 0,a)}))};return s.cancel=function(){l&&(cancelAnimationFrame(l),l=null)},s};const Ks=ZN;function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Li.apply(null,arguments)}function Cy(e,t){}Cy.bind(null,"warn");Cy.bind(null,"error");function un(){}function PN(e,t){return{...e,...t}}function na(e,t,a){const l=t.map(s=>{const r=PN(a,s.options);return e.addEventListener(s.eventName,s.fn,r),function(){e.removeEventListener(s.eventName,s.fn,r)}});return function(){l.forEach(r=>{r()})}}const FN="Invariant failed";class Bi extends Error{}Bi.prototype.toString=function(){return this.message};function I(e,t){throw new Bi(FN)}class JN extends Ce.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=un,this.onWindowError=a=>{const l=this.getCallbacks();l.isDragging()&&l.tryAbort(),a.error instanceof Bi&&a.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=a=>{this.callbacks=a}}componentDidMount(){this.unbind=na(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Bi){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const WN=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,$i=e=>e+1,ej=e=>`
  You have lifted an item in position ${$i(e.source.index)}
`,Ey=(e,t)=>{const a=e.droppableId===t.droppableId,l=$i(e.index),s=$i(t.index);return a?`
      You have moved the item from position ${l}
      to position ${s}
    `:`
    You have moved the item from position ${l}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${s}
  `},Ay=(e,t,a)=>t.droppableId===a.droppableId?`
      The item ${e}
      has been combined with ${a.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${a.draggableId}
      in list ${a.droppableId}
    `,tj=e=>{const t=e.destination;if(t)return Ey(e.source,t);const a=e.combine;return a?Ay(e.draggableId,e.source,a):"You are over an area that cannot be dropped on"},Rx=e=>`
  The item has returned to its starting position
  of ${$i(e.index)}
`,aj=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${Rx(e.source)}
    `;const t=e.destination,a=e.combine;return t?`
      You have dropped the item.
      ${Ey(e.source,t)}
    `:a?`
      You have dropped the item.
      ${Ay(e.draggableId,e.source,a)}
    `:`
    The item has been dropped while not over a drop area.
    ${Rx(e.source)}
  `},Wr={dragHandleUsageInstructions:WN,onDragStart:ej,onDragUpdate:tj,onDragEnd:aj};function nj(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function Ty(e,t){if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(!nj(e[a],t[a]))return!1;return!0}function Se(e,t){const a=S.useState(()=>({inputs:t,result:e()}))[0],l=S.useRef(!0),s=S.useRef(a),i=l.current||!!(t&&s.current.inputs&&Ty(t,s.current.inputs))?s.current:{inputs:t,result:e()};return S.useEffect(()=>{l.current=!1,s.current=i},[i]),i.result}function Z(e,t){return Se(()=>e,t)}const mt={x:0,y:0},vt=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Ht=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),fn=(e,t)=>e.x===t.x&&e.y===t.y,Vl=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),qn=(e,t,a=0)=>e==="x"?{x:t,y:a}:{x:a,y:t},Xs=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),Lx=(e,t)=>Math.min(...t.map(a=>Xs(e,a))),ky=e=>t=>({x:e(t.x),y:e(t.y)});var lj=(e,t)=>{const a=da({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return a.width<=0||a.height<=0?null:a};const mr=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),Bx=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],sj={top:0,right:0,bottom:0,left:0},rj=(e,t)=>t?mr(e,t.scroll.diff.displacement):e,ij=(e,t,a)=>a&&a.increasedBy?{...e,[t.end]:e[t.end]+a.increasedBy[t.line]}:e,cj=(e,t)=>t&&t.shouldClipSubject?lj(t.pageMarginBox,e):da(e);var _l=({page:e,withPlaceholder:t,axis:a,frame:l})=>{const s=rj(e.marginBox,l),r=ij(s,a,t),i=cj(r,l);return{page:e,withPlaceholder:t,active:i}},Cu=(e,t)=>{e.frame||I();const a=e.frame,l=Ht(t,a.scroll.initial),s=Vl(l),r={...a,scroll:{initial:a.scroll.initial,current:t,diff:{value:l,displacement:s},max:a.scroll.max}},i=_l({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:r});return{...e,frame:r,subject:i}};function ft(e,t=Ty){let a=null;function l(...s){if(a&&a.lastThis===this&&t(s,a.lastArgs))return a.lastResult;const r=e.apply(this,s);return a={lastResult:r,lastArgs:s,lastThis:this},r}return l.clear=function(){a=null},l}const Oy=ft(e=>e.reduce((t,a)=>(t[a.descriptor.id]=a,t),{})),My=ft(e=>e.reduce((t,a)=>(t[a.descriptor.id]=a,t),{})),cc=ft(e=>Object.values(e)),oj=ft(e=>Object.values(e));var Yl=ft((e,t)=>oj(t).filter(l=>e===l.descriptor.droppableId).sort((l,s)=>l.descriptor.index-s.descriptor.index));function Eu(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function oc(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var dc=ft((e,t)=>t.filter(a=>a.descriptor.id!==e.descriptor.id)),dj=({isMovingForward:e,draggable:t,destination:a,insideDestination:l,previousImpact:s})=>{if(!a.isCombineEnabled||!Eu(s))return null;function i(x){const N={type:"COMBINE",combine:{draggableId:x,droppableId:a.descriptor.id}};return{...s,at:N}}const c=s.displaced.all,o=c.length?c[0]:null;if(e)return o?i(o):null;const u=dc(t,l);if(!o){if(!u.length)return null;const x=u[u.length-1];return i(x.descriptor.id)}const p=u.findIndex(x=>x.descriptor.id===o);p===-1&&I();const m=p-1;if(m<0)return null;const d=u[m];return i(d.descriptor.id)},Ql=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const _y={point:mt,value:0},Zs={invisible:{},visible:{},all:[]},uj={displaced:Zs,displacedBy:_y,at:null};var ra=(e,t)=>a=>e<=a&&a<=t,zy=e=>{const t=ra(e.top,e.bottom),a=ra(e.left,e.right);return l=>{if(t(l.top)&&t(l.bottom)&&a(l.left)&&a(l.right))return!0;const r=t(l.top)||t(l.bottom),i=a(l.left)||a(l.right);if(r&&i)return!0;const o=l.top<e.top&&l.bottom>e.bottom,u=l.left<e.left&&l.right>e.right;return o&&u?!0:o&&i||u&&r}},fj=e=>{const t=ra(e.top,e.bottom),a=ra(e.left,e.right);return l=>t(l.top)&&t(l.bottom)&&a(l.left)&&a(l.right)};const Au={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ry={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var xj=e=>t=>{const a=ra(t.top,t.bottom),l=ra(t.left,t.right);return s=>e===Au?a(s.top)&&a(s.bottom):l(s.left)&&l(s.right)};const mj=(e,t)=>{const a=t.frame?t.frame.scroll.diff.displacement:mt;return mr(e,a)},pj=(e,t,a)=>t.subject.active?a(t.subject.active)(e):!1,hj=(e,t,a)=>a(t)(e),Tu=({target:e,destination:t,viewport:a,withDroppableDisplacement:l,isVisibleThroughFrameFn:s})=>{const r=l?mj(e,t):e;return pj(r,t,s)&&hj(r,a,s)},yj=e=>Tu({...e,isVisibleThroughFrameFn:zy}),Ly=e=>Tu({...e,isVisibleThroughFrameFn:fj}),bj=e=>Tu({...e,isVisibleThroughFrameFn:xj(e.destination.axis)}),gj=(e,t,a)=>{if(typeof a=="boolean")return a;if(!t)return!0;const{invisible:l,visible:s}=t;if(l[e])return!1;const r=s[e];return r?r.shouldAnimate:!0};function vj(e,t){const a=e.page.marginBox,l={top:t.point.y,right:0,bottom:0,left:t.point.x};return da(wu(a,l))}function Ps({afterDragging:e,destination:t,displacedBy:a,viewport:l,forceShouldAnimate:s,last:r}){return e.reduce(function(c,o){const u=vj(o,a),p=o.descriptor.id;if(c.all.push(p),!yj({target:u,destination:t,viewport:l,withDroppableDisplacement:!0}))return c.invisible[o.descriptor.id]=!0,c;const d=gj(p,r,s),x={draggableId:p,shouldAnimate:d};return c.visible[p]=x,c},{all:[],visible:{},invisible:{}})}function Nj(e,t){if(!e.length)return 0;const a=e[e.length-1].descriptor.index;return t.inHomeList?a:a+1}function $x({insideDestination:e,inHomeList:t,displacedBy:a,destination:l}){const s=Nj(e,{inHomeList:t});return{displaced:Zs,displacedBy:a,at:{type:"REORDER",destination:{droppableId:l.descriptor.id,index:s}}}}function Ui({draggable:e,insideDestination:t,destination:a,viewport:l,displacedBy:s,last:r,index:i,forceShouldAnimate:c}){const o=Ql(e,a);if(i==null)return $x({insideDestination:t,inHomeList:o,displacedBy:s,destination:a});const u=t.find(N=>N.descriptor.index===i);if(!u)return $x({insideDestination:t,inHomeList:o,displacedBy:s,destination:a});const p=dc(e,t),m=t.indexOf(u),d=p.slice(m);return{displaced:Ps({afterDragging:d,destination:a,displacedBy:s,last:r,viewport:l.frame,forceShouldAnimate:c}),displacedBy:s,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function yn(e,t){return!!t.effected[e]}var jj=({isMovingForward:e,destination:t,draggables:a,combine:l,afterCritical:s})=>{if(!t.isCombineEnabled)return null;const r=l.draggableId,c=a[r].descriptor.index;return yn(r,s)?e?c:c-1:e?c+1:c},Sj=({isMovingForward:e,isInHomeList:t,insideDestination:a,location:l})=>{if(!a.length)return null;const s=l.index,r=e?s+1:s-1,i=a[0].descriptor.index,c=a[a.length-1].descriptor.index,o=t?c:c+1;return r<i||r>o?null:r},wj=({isMovingForward:e,isInHomeList:t,draggable:a,draggables:l,destination:s,insideDestination:r,previousImpact:i,viewport:c,afterCritical:o})=>{const u=i.at;if(u||I(),u.type==="REORDER"){const m=Sj({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:r});return m==null?null:Ui({draggable:a,insideDestination:r,destination:s,viewport:c,last:i.displaced,displacedBy:i.displacedBy,index:m})}const p=jj({isMovingForward:e,destination:s,displaced:i.displaced,draggables:l,combine:u.combine,afterCritical:o});return p==null?null:Ui({draggable:a,insideDestination:r,destination:s,viewport:c,last:i.displaced,displacedBy:i.displacedBy,index:p})},Dj=({displaced:e,afterCritical:t,combineWith:a,displacedBy:l})=>{const s=!!(e.visible[a]||e.invisible[a]);return yn(a,t)?s?mt:Vl(l.point):s?l.point:mt},Cj=({afterCritical:e,impact:t,draggables:a})=>{const l=oc(t);l||I();const s=l.draggableId,r=a[s].page.borderBox.center,i=Dj({displaced:t.displaced,afterCritical:e,combineWith:s,displacedBy:t.displacedBy});return vt(r,i)};const By=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,Ej=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,ku=(e,t,a)=>t[e.crossAxisStart]+a.margin[e.crossAxisStart]+a.borderBox[e.crossAxisSize]/2,Ux=({axis:e,moveRelativeTo:t,isMoving:a})=>qn(e.line,t.marginBox[e.end]+By(e,a),ku(e,t.marginBox,a)),Hx=({axis:e,moveRelativeTo:t,isMoving:a})=>qn(e.line,t.marginBox[e.start]-Ej(e,a),ku(e,t.marginBox,a)),Aj=({axis:e,moveInto:t,isMoving:a})=>qn(e.line,t.contentBox[e.start]+By(e,a),ku(e,t.contentBox,a));var Tj=({impact:e,draggable:t,draggables:a,droppable:l,afterCritical:s})=>{const r=Yl(l.descriptor.id,a),i=t.page,c=l.axis;if(!r.length)return Aj({axis:c,moveInto:l.page,isMoving:i});const{displaced:o,displacedBy:u}=e,p=o.all[0];if(p){const d=a[p];if(yn(p,s))return Hx({axis:c,moveRelativeTo:d.page,isMoving:i});const x=zi(d.page,u.point);return Hx({axis:c,moveRelativeTo:x,isMoving:i})}const m=r[r.length-1];if(m.descriptor.id===t.descriptor.id)return i.borderBox.center;if(yn(m.descriptor.id,s)){const d=zi(m.page,Vl(s.displacedBy.point));return Ux({axis:c,moveRelativeTo:d,isMoving:i})}return Ux({axis:c,moveRelativeTo:m.page,isMoving:i})},pd=(e,t)=>{const a=e.frame;return a?vt(t,a.scroll.diff.displacement):t};const kj=({impact:e,draggable:t,droppable:a,draggables:l,afterCritical:s})=>{const r=t.page.borderBox.center,i=e.at;return!a||!i?r:i.type==="REORDER"?Tj({impact:e,draggable:t,draggables:l,droppable:a,afterCritical:s}):Cj({impact:e,draggables:l,afterCritical:s})};var uc=e=>{const t=kj(e),a=e.droppable;return a?pd(a,t):t},$y=(e,t)=>{const a=Ht(t,e.scroll.initial),l=Vl(a);return{frame:da({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:a,displacement:l}}}};function Gx(e,t){return e.map(a=>t[a])}function Oj(e,t){for(let a=0;a<t.length;a++){const l=t[a].visible[e];if(l)return l}return null}var Mj=({impact:e,viewport:t,destination:a,draggables:l,maxScrollChange:s})=>{const r=$y(t,vt(t.scroll.current,s)),i=a.frame?Cu(a,vt(a.frame.scroll.current,s)):a,c=e.displaced,o=Ps({afterDragging:Gx(c.all,l),destination:a,displacedBy:e.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),u=Ps({afterDragging:Gx(c.all,l),destination:i,displacedBy:e.displacedBy,viewport:t.frame,last:c,forceShouldAnimate:!1}),p={},m={},d=[c,o,u];return c.all.forEach(N=>{const w=Oj(N,d);if(w){m[N]=w;return}p[N]=!0}),{...e,displaced:{all:c.all,invisible:p,visible:m}}},_j=(e,t)=>vt(e.scroll.diff.displacement,t),Ou=({pageBorderBoxCenter:e,draggable:t,viewport:a})=>{const l=_j(a,e),s=Ht(l,t.page.borderBox.center);return vt(t.client.borderBox.center,s)},Uy=({draggable:e,destination:t,newPageBorderBoxCenter:a,viewport:l,withDroppableDisplacement:s,onlyOnMainAxis:r=!1})=>{const i=Ht(a,e.page.borderBox.center),o={target:mr(e.page.borderBox,i),destination:t,withDroppableDisplacement:s,viewport:l};return r?bj(o):Ly(o)},zj=({isMovingForward:e,draggable:t,destination:a,draggables:l,previousImpact:s,viewport:r,previousPageBorderBoxCenter:i,previousClientSelection:c,afterCritical:o})=>{if(!a.isEnabled)return null;const u=Yl(a.descriptor.id,l),p=Ql(t,a),m=dj({isMovingForward:e,draggable:t,destination:a,insideDestination:u,previousImpact:s})||wj({isMovingForward:e,isInHomeList:p,draggable:t,draggables:l,destination:a,insideDestination:u,previousImpact:s,viewport:r,afterCritical:o});if(!m)return null;const d=uc({impact:m,draggable:t,droppable:a,draggables:l,afterCritical:o});if(Uy({draggable:t,destination:a,newPageBorderBoxCenter:d,viewport:r.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Ou({pageBorderBoxCenter:d,draggable:t,viewport:r}),impact:m,scrollJumpRequest:null};const N=Ht(d,i),w=Mj({impact:m,viewport:r,destination:a,draggables:l,maxScrollChange:N});return{clientSelection:c,impact:w,scrollJumpRequest:N}};const wt=e=>{const t=e.subject.active;return t||I(),t};var Rj=({isMovingForward:e,pageBorderBoxCenter:t,source:a,droppables:l,viewport:s})=>{const r=a.subject.active;if(!r)return null;const i=a.axis,c=ra(r[i.start],r[i.end]),o=cc(l).filter(p=>p!==a).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>zy(s.frame)(wt(p))).filter(p=>{const m=wt(p);return e?r[i.crossAxisEnd]<m[i.crossAxisEnd]:m[i.crossAxisStart]<r[i.crossAxisStart]}).filter(p=>{const m=wt(p),d=ra(m[i.start],m[i.end]);return c(m[i.start])||c(m[i.end])||d(r[i.start])||d(r[i.end])}).sort((p,m)=>{const d=wt(p)[i.crossAxisStart],x=wt(m)[i.crossAxisStart];return e?d-x:x-d}).filter((p,m,d)=>wt(p)[i.crossAxisStart]===wt(d[0])[i.crossAxisStart]);if(!o.length)return null;if(o.length===1)return o[0];const u=o.filter(p=>ra(wt(p)[i.start],wt(p)[i.end])(t[i.line]));return u.length===1?u[0]:u.length>1?u.sort((p,m)=>wt(p)[i.start]-wt(m)[i.start])[0]:o.sort((p,m)=>{const d=Lx(t,Bx(wt(p))),x=Lx(t,Bx(wt(m)));return d!==x?d-x:wt(p)[i.start]-wt(m)[i.start]})[0]};const qx=(e,t)=>{const a=e.page.borderBox.center;return yn(e.descriptor.id,t)?Ht(a,t.displacedBy.point):a},Lj=(e,t)=>{const a=e.page.borderBox;return yn(e.descriptor.id,t)?mr(a,Vl(t.displacedBy.point)):a};var Bj=({pageBorderBoxCenter:e,viewport:t,destination:a,insideDestination:l,afterCritical:s})=>l.filter(i=>Ly({target:Lj(i,s),destination:a,viewport:t.frame,withDroppableDisplacement:!0})).sort((i,c)=>{const o=Xs(e,pd(a,qx(i,s))),u=Xs(e,pd(a,qx(c,s)));return o<u?-1:u<o?1:i.descriptor.index-c.descriptor.index})[0]||null,pr=ft(function(t,a){const l=a[t.line];return{value:l,point:qn(t.line,l)}});const $j=(e,t,a)=>{const l=e.axis;if(e.descriptor.mode==="virtual")return qn(l.line,t[l.line]);const s=e.subject.page.contentBox[l.size],o=Yl(e.descriptor.id,a).reduce((u,p)=>u+p.client.marginBox[l.size],0)+t[l.line]-s;return o<=0?null:qn(l.line,o)},Hy=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),Gy=(e,t,a)=>{const l=e.frame;Ql(t,e)&&I(),e.subject.withPlaceholder&&I();const s=pr(e.axis,t.displaceBy).point,r=$j(e,s,a),i={placeholderSize:s,increasedBy:r,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!l){const p=_l({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:e.frame});return{...e,subject:p}}const c=r?vt(l.scroll.max,r):l.scroll.max,o=Hy(l,c),u=_l({page:e.subject.page,withPlaceholder:i,axis:e.axis,frame:o});return{...e,subject:u,frame:o}},Uj=e=>{const t=e.subject.withPlaceholder;t||I();const a=e.frame;if(!a){const i=_l({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:i}}const l=t.oldFrameMaxScroll;l||I();const s=Hy(a,l),r=_l({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return{...e,subject:r,frame:s}};var Hj=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:a,draggable:l,draggables:s,destination:r,viewport:i,afterCritical:c})=>{if(!t){if(a.length)return null;const m={displaced:Zs,displacedBy:_y,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:0}}},d=uc({impact:m,draggable:l,droppable:r,draggables:s,afterCritical:c}),x=Ql(l,r)?r:Gy(r,l,s);return Uy({draggable:l,destination:x,newPageBorderBoxCenter:d,viewport:i.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?m:null}const o=e[r.axis.line]<=t.page.borderBox.center[r.axis.line],u=(()=>{const m=t.descriptor.index;return t.descriptor.id===l.descriptor.id||o?m:m+1})(),p=pr(r.axis,l.displaceBy);return Ui({draggable:l,insideDestination:a,destination:r,viewport:i,displacedBy:p,last:Zs,index:u})},Gj=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:a,isOver:l,draggables:s,droppables:r,viewport:i,afterCritical:c})=>{const o=Rj({isMovingForward:e,pageBorderBoxCenter:t,source:l,droppables:r,viewport:i});if(!o)return null;const u=Yl(o.descriptor.id,s),p=Bj({pageBorderBoxCenter:t,viewport:i,destination:o,insideDestination:u,afterCritical:c}),m=Hj({previousPageBorderBoxCenter:t,destination:o,draggable:a,draggables:s,moveRelativeTo:p,insideDestination:u,viewport:i,afterCritical:c});if(!m)return null;const d=uc({impact:m,draggable:a,droppable:o,draggables:s,afterCritical:c});return{clientSelection:Ou({pageBorderBoxCenter:d,draggable:a,viewport:i}),impact:m,scrollJumpRequest:null}},Yt=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const qj=(e,t)=>{const a=Yt(e);return a?t[a]:null};var Ij=({state:e,type:t})=>{const a=qj(e.impact,e.dimensions.droppables),l=!!a,s=e.dimensions.droppables[e.critical.droppable.id],r=a||s,i=r.axis.direction,c=i==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||i==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!l)return null;const o=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],p=e.current.page.borderBoxCenter,{draggables:m,droppables:d}=e.dimensions;return c?zj({isMovingForward:o,previousPageBorderBoxCenter:p,draggable:u,destination:r,draggables:m,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Gj({isMovingForward:o,previousPageBorderBoxCenter:p,draggable:u,isOver:r,draggables:m,droppables:d,viewport:e.viewport,afterCritical:e.afterCritical})};function An(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function qy(e){const t=ra(e.top,e.bottom),a=ra(e.left,e.right);return function(s){return t(s.y)&&a(s.x)}}function Vj(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function Yj({pageBorderBox:e,draggable:t,candidates:a}){const l=t.page.borderBox.center,s=a.map(r=>{const i=r.axis,c=qn(r.axis.line,e.center[i.line],r.page.borderBox.center[i.crossAxisLine]);return{id:r.descriptor.id,distance:Xs(l,c)}}).sort((r,i)=>i.distance-r.distance);return s[0]?s[0].id:null}function Qj({pageBorderBox:e,draggable:t,droppables:a}){const l=cc(a).filter(s=>{if(!s.isEnabled)return!1;const r=s.subject.active;if(!r||!Vj(e,r))return!1;if(qy(r)(e.center))return!0;const i=s.axis,c=r.center[i.crossAxisLine],o=e[i.crossAxisStart],u=e[i.crossAxisEnd],p=ra(r[i.crossAxisStart],r[i.crossAxisEnd]),m=p(o),d=p(u);return!m&&!d?!0:m?o<c:u>c});return l.length?l.length===1?l[0].descriptor.id:Yj({pageBorderBox:e,draggable:t,candidates:l}):null}const Iy=(e,t)=>da(mr(e,t));var Kj=(e,t)=>{const a=e.frame;return a?Iy(t,a.scroll.diff.value):t};function Vy({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function Xj({draggable:e,closest:t,inHomeList:a}){return t?a&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var Zj=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:a,insideDestination:l,last:s,viewport:r,afterCritical:i})=>{const c=a.axis,o=pr(a.axis,t.displaceBy),u=o.value,p=e[c.start],m=e[c.end],x=dc(t,l).find(w=>{const b=w.descriptor.id,f=w.page.borderBox.center[c.line],g=yn(b,i),h=Vy({displaced:s,id:b});return g?h?m<=f:p<f-u:h?m<=f+u:p<f})||null,N=Xj({draggable:t,closest:x,inHomeList:Ql(t,a)});return Ui({draggable:t,insideDestination:l,destination:a,viewport:r,last:s,displacedBy:o,index:N})};const Pj=4;var Fj=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:a,destination:l,insideDestination:s,afterCritical:r})=>{if(!l.isCombineEnabled)return null;const i=l.axis,c=pr(l.axis,e.displaceBy),o=c.value,u=t[i.start],p=t[i.end],d=dc(e,s).find(N=>{const w=N.descriptor.id,b=N.page.borderBox,g=b[i.size]/Pj,h=yn(w,r),v=Vy({displaced:a.displaced,id:w});return h?v?p>b[i.start]+g&&p<b[i.end]-g:u>b[i.start]-o+g&&u<b[i.end]-o-g:v?p>b[i.start]+o+g&&p<b[i.end]+o-g:u>b[i.start]+g&&u<b[i.end]-g});return d?{displacedBy:c,displaced:a.displaced,at:{type:"COMBINE",combine:{draggableId:d.descriptor.id,droppableId:l.descriptor.id}}}:null},Yy=({pageOffset:e,draggable:t,draggables:a,droppables:l,previousImpact:s,viewport:r,afterCritical:i})=>{const c=Iy(t.page.borderBox,e),o=Qj({pageBorderBox:c,draggable:t,droppables:l});if(!o)return uj;const u=l[o],p=Yl(u.descriptor.id,a),m=Kj(u,c);return Fj({pageBorderBoxWithDroppableScroll:m,draggable:t,previousImpact:s,destination:u,insideDestination:p,afterCritical:i})||Zj({pageBorderBoxWithDroppableScroll:m,draggable:t,destination:u,insideDestination:p,last:s.displaced,viewport:r,afterCritical:i})},Mu=(e,t)=>({...e,[t.descriptor.id]:t});const Jj=({previousImpact:e,impact:t,droppables:a})=>{const l=Yt(e),s=Yt(t);if(!l||l===s)return a;const r=a[l];if(!r.subject.withPlaceholder)return a;const i=Uj(r);return Mu(a,i)};var Wj=({draggable:e,draggables:t,droppables:a,previousImpact:l,impact:s})=>{const r=Jj({previousImpact:l,impact:s,droppables:a}),i=Yt(s);if(!i)return r;const c=a[i];if(Ql(e,c)||c.subject.withPlaceholder)return r;const o=Gy(c,e,t);return Mu(r,o)},Es=({state:e,clientSelection:t,dimensions:a,viewport:l,impact:s,scrollJumpRequest:r})=>{const i=l||e.viewport,c=a||e.dimensions,o=t||e.current.client.selection,u=Ht(o,e.initial.client.selection),p={offset:u,selection:o,borderBoxCenter:vt(e.initial.client.borderBoxCenter,u)},m={selection:vt(p.selection,i.scroll.current),borderBoxCenter:vt(p.borderBoxCenter,i.scroll.current),offset:vt(p.offset,i.scroll.diff.value)},d={client:p,page:m};if(e.phase==="COLLECTING")return{...e,dimensions:c,viewport:i,current:d};const x=c.draggables[e.critical.draggable.id],N=s||Yy({pageOffset:m.offset,draggable:x,draggables:c.draggables,droppables:c.droppables,previousImpact:e.impact,viewport:i,afterCritical:e.afterCritical}),w=Wj({draggable:x,impact:N,previousImpact:e.impact,draggables:c.draggables,droppables:c.droppables});return{...e,current:d,dimensions:{draggables:c.draggables,droppables:w},impact:N,viewport:i,scrollJumpRequest:r||null,forceShouldAnimate:r?!1:null}};function e2(e,t){return e.map(a=>t[a])}var Qy=({impact:e,viewport:t,draggables:a,destination:l,forceShouldAnimate:s})=>{const r=e.displaced,i=e2(r.all,a),c=Ps({afterDragging:i,destination:l,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:s,last:r});return{...e,displaced:c}},Ky=({impact:e,draggable:t,droppable:a,draggables:l,viewport:s,afterCritical:r})=>{const i=uc({impact:e,draggable:t,draggables:l,droppable:a,afterCritical:r});return Ou({pageBorderBoxCenter:i,draggable:t,viewport:s})},Xy=({state:e,dimensions:t,viewport:a})=>{e.movementMode!=="SNAP"&&I();const l=e.impact,s=a||e.viewport,r=t||e.dimensions,{draggables:i,droppables:c}=r,o=i[e.critical.draggable.id],u=Yt(l);u||I();const p=c[u],m=Qy({impact:l,viewport:s,destination:p,draggables:i}),d=Ky({impact:m,draggable:o,droppable:p,draggables:i,viewport:s,afterCritical:e.afterCritical});return Es({impact:m,clientSelection:d,state:e,dimensions:r,viewport:s})},t2=e=>({index:e.index,droppableId:e.droppableId}),Zy=({draggable:e,home:t,draggables:a,viewport:l})=>{const s=pr(t.axis,e.displaceBy),r=Yl(t.descriptor.id,a),i=r.indexOf(e);i===-1&&I();const c=r.slice(i+1),o=c.reduce((d,x)=>(d[x.descriptor.id]=!0,d),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:s,effected:o};return{impact:{displaced:Ps({afterDragging:c,destination:t,displacedBy:s,last:null,viewport:l.frame,forceShouldAnimate:!1}),displacedBy:s,at:{type:"REORDER",destination:t2(e.descriptor)}},afterCritical:u}},a2=(e,t)=>({draggables:e.draggables,droppables:Mu(e.droppables,t)}),n2=({draggable:e,offset:t,initialWindowScroll:a})=>{const l=zi(e.client,t),s=Ri(l,a);return{...e,placeholder:{...e.placeholder,client:l},client:l,page:s}},l2=e=>{const t=e.frame;return t||I(),t},s2=({additions:e,updatedDroppables:t,viewport:a})=>{const l=a.scroll.diff.value;return e.map(s=>{const r=s.descriptor.droppableId,i=t[r],o=l2(i).scroll.diff.value,u=vt(l,o);return n2({draggable:s,offset:u,initialWindowScroll:a.scroll.initial})})},r2=({state:e,published:t})=>{const a=t.modified.map(f=>{const g=e.dimensions.droppables[f.droppableId];return Cu(g,f.scroll)}),l={...e.dimensions.droppables,...Oy(a)},s=My(s2({additions:t.additions,updatedDroppables:l,viewport:e.viewport})),r={...e.dimensions.draggables,...s};t.removals.forEach(f=>{delete r[f]});const i={droppables:l,draggables:r},c=Yt(e.impact),o=c?i.droppables[c]:null,u=i.draggables[e.critical.draggable.id],p=i.droppables[e.critical.droppable.id],{impact:m,afterCritical:d}=Zy({draggable:u,home:p,draggables:r,viewport:e.viewport}),x=o&&o.isCombineEnabled?e.impact:m,N=Yy({pageOffset:e.current.page.offset,draggable:i.draggables[e.critical.draggable.id],draggables:i.draggables,droppables:i.droppables,previousImpact:x,viewport:e.viewport,afterCritical:d}),w={...e,phase:"DRAGGING",impact:N,onLiftImpact:m,dimensions:i,afterCritical:d,forceShouldAnimate:!1};return e.phase==="COLLECTING"?w:{...w,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const hd=e=>e.movementMode==="SNAP",lo=(e,t,a)=>{const l=a2(e.dimensions,t);return!hd(e)||a?Es({state:e,dimensions:l}):Xy({state:e,dimensions:l})};function so(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const Ix={phase:"IDLE",completed:null,shouldFlush:!1};var i2=(e=Ix,t)=>{if(t.type==="FLUSH")return{...Ix,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&I();const{critical:a,clientSelection:l,viewport:s,dimensions:r,movementMode:i}=t.payload,c=r.draggables[a.draggable.id],o=r.droppables[a.droppable.id],u={selection:l,borderBoxCenter:c.client.borderBox.center,offset:mt},p={client:u,page:{selection:vt(u.selection,s.scroll.initial),borderBoxCenter:vt(u.selection,s.scroll.initial),offset:vt(u.selection,s.scroll.diff.value)}},m=cc(r.droppables).every(w=>!w.isFixedOnPage),{impact:d,afterCritical:x}=Zy({draggable:c,home:o,draggables:r.draggables,viewport:s});return{phase:"DRAGGING",isDragging:!0,critical:a,movementMode:i,dimensions:r,initial:p,current:p,isWindowScrollAllowed:m,impact:d,afterCritical:x,onLiftImpact:d,viewport:s,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&I(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||I(),r2({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;An(e)||I();const{client:a}=t.payload;return fn(a,e.current.client.selection)?e:Es({state:e,clientSelection:a,impact:hd(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return so(e);An(e)||I();const{id:a,newScroll:l}=t.payload,s=e.dimensions.droppables[a];if(!s)return e;const r=Cu(s,l);return lo(e,r,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;An(e)||I();const{id:a,isEnabled:l}=t.payload,s=e.dimensions.droppables[a];s||I(),s.isEnabled===l&&I();const r={...s,isEnabled:l};return lo(e,r,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;An(e)||I();const{id:a,isCombineEnabled:l}=t.payload,s=e.dimensions.droppables[a];s||I(),s.isCombineEnabled===l&&I();const r={...s,isCombineEnabled:l};return lo(e,r,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;An(e)||I(),e.isWindowScrollAllowed||I();const a=t.payload.newScroll;if(fn(e.viewport.scroll.current,a))return so(e);const l=$y(e.viewport,a);return hd(e)?Xy({state:e,viewport:l}):Es({state:e,viewport:l})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!An(e))return e;const a=t.payload.maxScroll;if(fn(a,e.viewport.scroll.max))return e;const l={...e.viewport,scroll:{...e.viewport.scroll,max:a}};return{...e,viewport:l}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&I();const a=Ij({state:e,type:t.type});return a?Es({state:e,impact:a.impact,clientSelection:a.clientSelection,scrollJumpRequest:a.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const a=t.payload.reason;return e.phase!=="COLLECTING"&&I(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:a}}if(t.type==="DROP_ANIMATE"){const{completed:a,dropDuration:l,newHomeClientOffset:s}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||I(),{phase:"DROP_ANIMATING",completed:a,dropDuration:l,newHomeClientOffset:s,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:a}=t.payload;return{phase:"IDLE",completed:a,shouldFlush:!1}}return e};function ke(e,t){return e instanceof Object&&"type"in e&&e.type===t}const c2=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),o2=e=>({type:"LIFT",payload:e}),d2=e=>({type:"INITIAL_PUBLISH",payload:e}),u2=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),f2=()=>({type:"COLLECTION_STARTING",payload:null}),x2=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),m2=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),p2=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),Py=e=>({type:"MOVE",payload:e}),h2=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),y2=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),b2=()=>({type:"MOVE_UP",payload:null}),g2=()=>({type:"MOVE_DOWN",payload:null}),v2=()=>({type:"MOVE_RIGHT",payload:null}),N2=()=>({type:"MOVE_LEFT",payload:null}),_u=()=>({type:"FLUSH",payload:null}),j2=e=>({type:"DROP_ANIMATE",payload:e}),zu=e=>({type:"DROP_COMPLETE",payload:e}),Fy=e=>({type:"DROP",payload:e}),S2=e=>({type:"DROP_PENDING",payload:e}),Jy=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var w2=e=>({getState:t,dispatch:a})=>l=>s=>{if(!ke(s,"LIFT")){l(s);return}const{id:r,clientSelection:i,movementMode:c}=s.payload,o=t();o.phase==="DROP_ANIMATING"&&a(zu({completed:o.completed})),t().phase!=="IDLE"&&I(),a(_u()),a(c2({draggableId:r,movementMode:c}));const p={draggableId:r,scrollOptions:{shouldPublishImmediately:c==="SNAP"}},{critical:m,dimensions:d,viewport:x}=e.startPublishing(p);a(d2({critical:m,dimensions:d,clientSelection:i,movementMode:c,viewport:x}))},D2=e=>()=>t=>a=>{ke(a,"INITIAL_PUBLISH")&&e.dragging(),ke(a,"DROP_ANIMATE")&&e.dropping(a.payload.completed.result.reason),(ke(a,"FLUSH")||ke(a,"DROP_COMPLETE"))&&e.resting(),t(a)};const Ru={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Fs={opacity:{drop:0,combining:.7},scale:{drop:.75}},Wy={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Nn=`${Wy.outOfTheWay}s ${Ru.outOfTheWay}`,As={fluid:`opacity ${Nn}`,snap:`transform ${Nn}, opacity ${Nn}`,drop:e=>{const t=`${e}s ${Ru.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Nn}`,placeholder:`height ${Nn}, width ${Nn}, margin ${Nn}`},Vx=e=>fn(e,mt)?void 0:`translate(${e.x}px, ${e.y}px)`,yd={moveTo:Vx,drop:(e,t)=>{const a=Vx(e);if(a)return t?`${a} scale(${Fs.scale.drop})`:a}},{minDropTime:bd,maxDropTime:eb}=Wy,C2=eb-bd,Yx=1500,E2=.6;var A2=({current:e,destination:t,reason:a})=>{const l=Xs(e,t);if(l<=0)return bd;if(l>=Yx)return eb;const s=l/Yx,r=bd+C2*s,i=a==="CANCEL"?r*E2:r;return Number(i.toFixed(2))},T2=({impact:e,draggable:t,dimensions:a,viewport:l,afterCritical:s})=>{const{draggables:r,droppables:i}=a,c=Yt(e),o=c?i[c]:null,u=i[t.descriptor.droppableId],p=Ky({impact:e,draggable:t,draggables:r,afterCritical:s,droppable:o||u,viewport:l});return Ht(p,t.client.borderBox.center)},k2=({draggables:e,reason:t,lastImpact:a,home:l,viewport:s,onLiftImpact:r})=>!a.at||t!=="DROP"?{impact:Qy({draggables:e,impact:r,destination:l,viewport:s,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:a.at.type==="REORDER"?{impact:a,didDropInsideDroppable:!0}:{impact:{...a,displaced:Zs},didDropInsideDroppable:!0};const O2=({getState:e,dispatch:t})=>a=>l=>{if(!ke(l,"DROP")){a(l);return}const s=e(),r=l.payload.reason;if(s.phase==="COLLECTING"){t(S2({reason:r}));return}if(s.phase==="IDLE")return;s.phase==="DROP_PENDING"&&s.isWaiting&&I(),s.phase==="DRAGGING"||s.phase==="DROP_PENDING"||I();const c=s.critical,o=s.dimensions,u=o.draggables[s.critical.draggable.id],{impact:p,didDropInsideDroppable:m}=k2({reason:r,lastImpact:s.impact,afterCritical:s.afterCritical,onLiftImpact:s.onLiftImpact,home:s.dimensions.droppables[s.critical.droppable.id],viewport:s.viewport,draggables:s.dimensions.draggables}),d=m?Eu(p):null,x=m?oc(p):null,N={index:c.draggable.index,droppableId:c.droppable.id},w={draggableId:u.descriptor.id,type:u.descriptor.type,source:N,reason:r,mode:s.movementMode,destination:d,combine:x},b=T2({impact:p,draggable:u,dimensions:o,viewport:s.viewport,afterCritical:s.afterCritical}),f={critical:s.critical,afterCritical:s.afterCritical,result:w,impact:p};if(!(!fn(s.current.client.offset,b)||!!w.combine)){t(zu({completed:f}));return}const h=A2({current:s.current.client.offset,destination:b,reason:r});t(j2({newHomeClientOffset:b,dropDuration:h,completed:f}))};var tb=()=>({x:window.pageXOffset,y:window.pageYOffset});function M2(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function _2({onWindowScroll:e}){function t(){e(tb())}const a=Ks(t),l=M2(a);let s=un;function r(){return s!==un}function i(){r()&&I(),s=na(window,[l])}function c(){r()||I(),a.cancel(),s(),s=un}return{start:i,stop:c,isActive:r}}const z2=e=>ke(e,"DROP_COMPLETE")||ke(e,"DROP_ANIMATE")||ke(e,"FLUSH"),R2=e=>{const t=_2({onWindowScroll:a=>{e.dispatch(h2({newScroll:a}))}});return a=>l=>{!t.isActive()&&ke(l,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&z2(l)&&t.stop(),a(l)}};var L2=e=>{let t=!1,a=!1;const l=setTimeout(()=>{a=!0}),s=r=>{t||a||(t=!0,e(r),clearTimeout(l))};return s.wasCalled=()=>t,s},B2=()=>{const e=[],t=s=>{const r=e.findIndex(c=>c.timerId===s);r===-1&&I();const[i]=e.splice(r,1);i.callback()};return{add:s=>{const r=setTimeout(()=>t(r)),i={timerId:r,callback:s};e.push(i)},flush:()=>{if(!e.length)return;const s=[...e];e.length=0,s.forEach(r=>{clearTimeout(r.timerId),r.callback()})}}};const $2=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,U2=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,H2=(e,t)=>{if(e===t)return!0;const a=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,l=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return a&&l},es=(e,t)=>{t()},Rr=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function ro(e,t,a,l){if(!e){a(l(t));return}const s=L2(a);e(t,{announce:s}),s.wasCalled()||a(l(t))}var G2=(e,t)=>{const a=B2();let l=null;const s=(m,d)=>{l&&I(),es("onBeforeCapture",()=>{const x=e().onBeforeCapture;x&&x({draggableId:m,mode:d})})},r=(m,d)=>{l&&I(),es("onBeforeDragStart",()=>{const x=e().onBeforeDragStart;x&&x(Rr(m,d))})},i=(m,d)=>{l&&I();const x=Rr(m,d);l={mode:d,lastCritical:m,lastLocation:x.source,lastCombine:null},a.add(()=>{es("onDragStart",()=>ro(e().onDragStart,x,t,Wr.onDragStart))})},c=(m,d)=>{const x=Eu(d),N=oc(d);l||I();const w=!H2(m,l.lastCritical);w&&(l.lastCritical=m);const b=!$2(l.lastLocation,x);b&&(l.lastLocation=x);const f=!U2(l.lastCombine,N);if(f&&(l.lastCombine=N),!w&&!b&&!f)return;const g={...Rr(m,l.mode),combine:N,destination:x};a.add(()=>{es("onDragUpdate",()=>ro(e().onDragUpdate,g,t,Wr.onDragUpdate))})},o=()=>{l||I(),a.flush()},u=m=>{l||I(),l=null,es("onDragEnd",()=>ro(e().onDragEnd,m,t,Wr.onDragEnd))};return{beforeCapture:s,beforeStart:r,start:i,update:c,flush:o,drop:u,abort:()=>{if(!l)return;const m={...Rr(l.lastCritical,l.mode),combine:null,destination:null,reason:"CANCEL"};u(m)}}},q2=(e,t)=>{const a=G2(e,t);return l=>s=>r=>{if(ke(r,"BEFORE_INITIAL_CAPTURE")){a.beforeCapture(r.payload.draggableId,r.payload.movementMode);return}if(ke(r,"INITIAL_PUBLISH")){const c=r.payload.critical;a.beforeStart(c,r.payload.movementMode),s(r),a.start(c,r.payload.movementMode);return}if(ke(r,"DROP_COMPLETE")){const c=r.payload.completed.result;a.flush(),s(r),a.drop(c);return}if(s(r),ke(r,"FLUSH")){a.abort();return}const i=l.getState();i.phase==="DRAGGING"&&a.update(i.critical,i.impact)}};const I2=e=>t=>a=>{if(!ke(a,"DROP_ANIMATION_FINISHED")){t(a);return}const l=e.getState();l.phase!=="DROP_ANIMATING"&&I(),e.dispatch(zu({completed:l.completed}))},V2=e=>{let t=null,a=null;function l(){a&&(cancelAnimationFrame(a),a=null),t&&(t(),t=null)}return s=>r=>{if((ke(r,"FLUSH")||ke(r,"DROP_COMPLETE")||ke(r,"DROP_ANIMATION_FINISHED"))&&l(),s(r),!ke(r,"DROP_ANIMATE"))return;const i={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(Jy())}};a=requestAnimationFrame(()=>{a=null,t=na(window,[i])})}};var Y2=e=>()=>t=>a=>{(ke(a,"DROP_COMPLETE")||ke(a,"FLUSH")||ke(a,"DROP_ANIMATE"))&&e.stopPublishing(),t(a)},Q2=e=>{let t=!1;return()=>a=>l=>{if(ke(l,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(l.payload.critical.draggable.id),a(l),e.tryRestoreFocusRecorded();return}if(a(l),!!t){if(ke(l,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(ke(l,"DROP_COMPLETE")){t=!1;const s=l.payload.completed.result;s.combine&&e.tryShiftRecord(s.draggableId,s.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const K2=e=>ke(e,"DROP_COMPLETE")||ke(e,"DROP_ANIMATE")||ke(e,"FLUSH");var X2=e=>t=>a=>l=>{if(K2(l)){e.stop(),a(l);return}if(ke(l,"INITIAL_PUBLISH")){a(l);const s=t.getState();s.phase!=="DRAGGING"&&I(),e.start(s);return}a(l),e.scroll(t.getState())};const Z2=e=>t=>a=>{if(t(a),!ke(a,"PUBLISH_WHILE_DRAGGING"))return;const l=e.getState();l.phase==="DROP_PENDING"&&(l.isWaiting||e.dispatch(Fy({reason:l.reason})))},P2=yy;var F2=({dimensionMarshal:e,focusMarshal:t,styleMarshal:a,getResponders:l,announce:s,autoScroller:r})=>hy(i2,P2(I1(D2(a),Y2(e),w2(e),O2,I2,V2,Z2,X2(r),R2,Q2(t),q2(l,s))));const io=()=>({additions:{},removals:{},modified:{}});function J2({registry:e,callbacks:t}){let a=io(),l=null;const s=()=>{l||(t.collectionStarting(),l=requestAnimationFrame(()=>{l=null;const{additions:o,removals:u,modified:p}=a,m=Object.keys(o).map(N=>e.draggable.getById(N).getDimension(mt)).sort((N,w)=>N.descriptor.index-w.descriptor.index),d=Object.keys(p).map(N=>{const b=e.droppable.getById(N).callbacks.getScrollWhileDragging();return{droppableId:N,scroll:b}}),x={additions:m,removals:Object.keys(u),modified:d};a=io(),t.publish(x)}))};return{add:o=>{const u=o.descriptor.id;a.additions[u]=o,a.modified[o.descriptor.droppableId]=!0,a.removals[u]&&delete a.removals[u],s()},remove:o=>{const u=o.descriptor;a.removals[u.id]=!0,a.modified[u.droppableId]=!0,a.additions[u.id]&&delete a.additions[u.id],s()},stop:()=>{l&&(cancelAnimationFrame(l),l=null,a=io())}}}var ab=({scrollHeight:e,scrollWidth:t,height:a,width:l})=>{const s=Ht({x:t,y:e},{x:l,y:a});return{x:Math.max(0,s.x),y:Math.max(0,s.y)}},nb=()=>{const e=document.documentElement;return e||I(),e},lb=()=>{const e=nb();return ab({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},W2=()=>{const e=tb(),t=lb(),a=e.y,l=e.x,s=nb(),r=s.clientWidth,i=s.clientHeight,c=l+r,o=a+i;return{frame:da({top:a,left:l,right:c,bottom:o}),scroll:{initial:e,current:e,max:t,diff:{value:mt,displacement:mt}}}},eS=({critical:e,scrollOptions:t,registry:a})=>{const l=W2(),s=l.scroll.current,r=e.droppable,i=a.droppable.getAllByType(r.type).map(p=>p.callbacks.getDimensionAndWatchScroll(s,t)),c=a.draggable.getAllByType(e.draggable.type).map(p=>p.getDimension(s));return{dimensions:{draggables:My(c),droppables:Oy(i)},critical:e,viewport:l}};function Qx(e,t,a){return!(a.descriptor.id===t.id||a.descriptor.type!==t.type||e.droppable.getById(a.descriptor.droppableId).descriptor.mode!=="virtual")}var tS=(e,t)=>{let a=null;const l=J2({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),s=(d,x)=>{e.droppable.exists(d)||I(),a&&t.updateDroppableIsEnabled({id:d,isEnabled:x})},r=(d,x)=>{a&&(e.droppable.exists(d)||I(),t.updateDroppableIsCombineEnabled({id:d,isCombineEnabled:x}))},i=(d,x)=>{a&&(e.droppable.exists(d)||I(),t.updateDroppableScroll({id:d,newScroll:x}))},c=(d,x)=>{a&&e.droppable.getById(d).callbacks.scroll(x)},o=()=>{if(!a)return;l.stop();const d=a.critical.droppable;e.droppable.getAllByType(d.type).forEach(x=>x.callbacks.dragStopped()),a.unsubscribe(),a=null},u=d=>{a||I();const x=a.critical.draggable;d.type==="ADDITION"&&Qx(e,x,d.value)&&l.add(d.value),d.type==="REMOVAL"&&Qx(e,x,d.value)&&l.remove(d.value)};return{updateDroppableIsEnabled:s,updateDroppableIsCombineEnabled:r,scrollDroppable:c,updateDroppableScroll:i,startPublishing:d=>{a&&I();const x=e.draggable.getById(d.draggableId),N=e.droppable.getById(x.descriptor.droppableId),w={draggable:x.descriptor,droppable:N.descriptor},b=e.subscribe(u);return a={critical:w,unsubscribe:b},eS({critical:w,registry:e,scrollOptions:d.scrollOptions})},stopPublishing:o}},sb=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",aS=e=>{window.scrollBy(e.x,e.y)};const nS=ft(e=>cc(e).filter(t=>!(!t.isEnabled||!t.frame))),lS=(e,t)=>nS(t).find(l=>(l.frame||I(),qy(l.frame.pageMarginBox)(e)))||null;var sS=({center:e,destination:t,droppables:a})=>{if(t){const s=a[t];return s.frame?s:null}return lS(e,a)};const Js={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var rS=(e,t,a=()=>Js)=>{const l=a(),s=e[t.size]*l.startFromPercentage,r=e[t.size]*l.maxScrollAtPercentage;return{startScrollingFrom:s,maxScrollValueAt:r}},rb=({startOfRange:e,endOfRange:t,current:a})=>{const l=t-e;return l===0?0:(a-e)/l},Lu=1,iS=(e,t,a=()=>Js)=>{const l=a();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return l.maxPixelScroll;if(e===t.startScrollingFrom)return Lu;const r=1-rb({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),i=l.maxPixelScroll*l.ease(r);return Math.ceil(i)},cS=(e,t,a)=>{const l=a(),s=l.durationDampening.accelerateAt,r=l.durationDampening.stopDampeningAt,i=t,c=r,u=Date.now()-i;if(u>=r)return e;if(u<s)return Lu;const p=rb({startOfRange:s,endOfRange:c,current:u}),m=e*l.ease(p);return Math.ceil(m)},Kx=({distanceToEdge:e,thresholds:t,dragStartTime:a,shouldUseTimeDampening:l,getAutoScrollerOptions:s})=>{const r=iS(e,t,s);return r===0?0:l?Math.max(cS(r,a,s),Lu):r},Xx=({container:e,distanceToEdges:t,dragStartTime:a,axis:l,shouldUseTimeDampening:s,getAutoScrollerOptions:r})=>{const i=rS(e,l,r);return t[l.end]<t[l.start]?Kx({distanceToEdge:t[l.end],thresholds:i,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:r}):-1*Kx({distanceToEdge:t[l.start],thresholds:i,dragStartTime:a,shouldUseTimeDampening:s,getAutoScrollerOptions:r})},oS=({container:e,subject:t,proposedScroll:a})=>{const l=t.height>e.height,s=t.width>e.width;return!s&&!l?a:s&&l?null:{x:s?0:a.x,y:l?0:a.y}};const dS=ky(e=>e===0?0:e);var ib=({dragStartTime:e,container:t,subject:a,center:l,shouldUseTimeDampening:s,getAutoScrollerOptions:r})=>{const i={top:l.y-t.top,right:t.right-l.x,bottom:t.bottom-l.y,left:l.x-t.left},c=Xx({container:t,distanceToEdges:i,dragStartTime:e,axis:Au,shouldUseTimeDampening:s,getAutoScrollerOptions:r}),o=Xx({container:t,distanceToEdges:i,dragStartTime:e,axis:Ry,shouldUseTimeDampening:s,getAutoScrollerOptions:r}),u=dS({x:o,y:c});if(fn(u,mt))return null;const p=oS({container:t,subject:a,proposedScroll:u});return p?fn(p,mt)?null:p:null};const uS=ky(e=>e===0?0:e>0?1:-1),Bu=(()=>{const e=(t,a)=>t<0?t:t>a?t-a:0;return({current:t,max:a,change:l})=>{const s=vt(t,l),r={x:e(s.x,a.x),y:e(s.y,a.y)};return fn(r,mt)?null:r}})(),cb=({max:e,current:t,change:a})=>{const l={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},s=uS(a),r=Bu({max:l,current:t,change:s});return!r||s.x!==0&&r.x===0||s.y!==0&&r.y===0},$u=(e,t)=>cb({current:e.scroll.current,max:e.scroll.max,change:t}),fS=(e,t)=>{if(!$u(e,t))return null;const a=e.scroll.max,l=e.scroll.current;return Bu({current:l,max:a,change:t})},Uu=(e,t)=>{const a=e.frame;return a?cb({current:a.scroll.current,max:a.scroll.max,change:t}):!1},xS=(e,t)=>{const a=e.frame;return!a||!Uu(e,t)?null:Bu({current:a.scroll.current,max:a.scroll.max,change:t})};var mS=({viewport:e,subject:t,center:a,dragStartTime:l,shouldUseTimeDampening:s,getAutoScrollerOptions:r})=>{const i=ib({dragStartTime:l,container:e.frame,subject:t,center:a,shouldUseTimeDampening:s,getAutoScrollerOptions:r});return i&&$u(e,i)?i:null},pS=({droppable:e,subject:t,center:a,dragStartTime:l,shouldUseTimeDampening:s,getAutoScrollerOptions:r})=>{const i=e.frame;if(!i)return null;const c=ib({dragStartTime:l,container:i.pageMarginBox,subject:t,center:a,shouldUseTimeDampening:s,getAutoScrollerOptions:r});return c&&Uu(e,c)?c:null},Zx=({state:e,dragStartTime:t,shouldUseTimeDampening:a,scrollWindow:l,scrollDroppable:s,getAutoScrollerOptions:r})=>{const i=e.current.page.borderBoxCenter,o=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const m=e.viewport,d=mS({dragStartTime:t,viewport:m,subject:o,center:i,shouldUseTimeDampening:a,getAutoScrollerOptions:r});if(d){l(d);return}}const u=sS({center:i,destination:Yt(e.impact),droppables:e.dimensions.droppables});if(!u)return;const p=pS({dragStartTime:t,droppable:u,subject:o,center:i,shouldUseTimeDampening:a,getAutoScrollerOptions:r});p&&s(u.descriptor.id,p)},hS=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:a=()=>Js})=>{const l=Ks(e),s=Ks(t);let r=null;const i=u=>{r||I();const{shouldUseTimeDampening:p,dragStartTime:m}=r;Zx({state:u,scrollWindow:l,scrollDroppable:s,dragStartTime:m,shouldUseTimeDampening:p,getAutoScrollerOptions:a})};return{start:u=>{r&&I();const p=Date.now();let m=!1;const d=()=>{m=!0};Zx({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:d,scrollDroppable:d,getAutoScrollerOptions:a}),r={dragStartTime:p,shouldUseTimeDampening:m},m&&i(u)},stop:()=>{r&&(l.cancel(),s.cancel(),r=null)},scroll:i}},yS=({move:e,scrollDroppable:t,scrollWindow:a})=>{const l=(c,o)=>{const u=vt(c.current.client.selection,o);e({client:u})},s=(c,o)=>{if(!Uu(c,o))return o;const u=xS(c,o);if(!u)return t(c.descriptor.id,o),null;const p=Ht(o,u);return t(c.descriptor.id,p),Ht(o,p)},r=(c,o,u)=>{if(!c||!$u(o,u))return u;const p=fS(o,u);if(!p)return a(u),null;const m=Ht(u,p);return a(m),Ht(u,m)};return c=>{const o=c.scrollJumpRequest;if(!o)return;const u=Yt(c.impact);u||I();const p=s(c.dimensions.droppables[u],o);if(!p)return;const m=c.viewport,d=r(c.isWindowScrollAllowed,m,p);d&&l(c,d)}},bS=({scrollDroppable:e,scrollWindow:t,move:a,getAutoScrollerOptions:l})=>{const s=hS({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:l}),r=yS({move:a,scrollWindow:t,scrollDroppable:e});return{scroll:o=>{if(!(l().disabled||o.phase!=="DRAGGING")){if(o.movementMode==="FLUID"){s.scroll(o);return}o.scrollJumpRequest&&r(o)}},start:s.start,stop:s.stop}};const zl="data-rfd",Rl=(()=>{const e=`${zl}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),gd=(()=>{const e=`${zl}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),gS=(()=>{const e=`${zl}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),Px={contextId:`${zl}-scroll-container-context-id`},vS=e=>t=>`[${t}="${e}"]`,ts=(e,t)=>e.map(a=>{const l=a.styles[t];return l?`${a.selector} { ${l} }`:""}).join(" "),NS="pointer-events: none;";var jS=e=>{const t=vS(e),a=(()=>{const c=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Rl.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:c,dragging:NS,dropAnimating:c}}})(),l=(()=>{const c=`
      transition: ${As.outOfTheWay};
    `;return{selector:t(gd.contextId),styles:{dragging:c,dropAnimating:c,userCancel:c}}})(),s={selector:t(gS.contextId),styles:{always:"overflow-anchor: none;"}},i=[l,a,s,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ts(i,"always"),resting:ts(i,"resting"),dragging:ts(i,"dragging"),dropAnimating:ts(i,"dropAnimating"),userCancel:ts(i,"userCancel")}};const Qt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?S.useLayoutEffect:S.useEffect,co=()=>{const e=document.querySelector("head");return e||I(),e},Fx=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function SS(e,t){const a=Se(()=>jS(e),[e]),l=S.useRef(null),s=S.useRef(null),r=Z(ft(m=>{const d=s.current;d||I(),d.textContent=m}),[]),i=Z(m=>{const d=l.current;d||I(),d.textContent=m},[]);Qt(()=>{!l.current&&!s.current||I();const m=Fx(t),d=Fx(t);return l.current=m,s.current=d,m.setAttribute(`${zl}-always`,e),d.setAttribute(`${zl}-dynamic`,e),co().appendChild(m),co().appendChild(d),i(a.always),r(a.resting),()=>{const x=N=>{const w=N.current;w||I(),co().removeChild(w),N.current=null};x(l),x(s)}},[t,i,r,a.always,a.resting,e]);const c=Z(()=>r(a.dragging),[r,a.dragging]),o=Z(m=>{if(m==="DROP"){r(a.dropAnimating);return}r(a.userCancel)},[r,a.dropAnimating,a.userCancel]),u=Z(()=>{s.current&&r(a.resting)},[r,a.resting]);return Se(()=>({dragging:c,dropping:o,resting:u}),[c,o,u])}function ob(e,t){return Array.from(e.querySelectorAll(t))}var db=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function fc(e){return e instanceof db(e).HTMLElement}function wS(e,t){const a=`[${Rl.contextId}="${e}"]`,l=ob(document,a);if(!l.length)return null;const s=l.find(r=>r.getAttribute(Rl.draggableId)===t);return!s||!fc(s)?null:s}function DS(e){const t=S.useRef({}),a=S.useRef(null),l=S.useRef(null),s=S.useRef(!1),r=Z(function(d,x){const N={id:d,focus:x};return t.current[d]=N,function(){const b=t.current;b[d]!==N&&delete b[d]}},[]),i=Z(function(d){const x=wS(e,d);x&&x!==document.activeElement&&x.focus()},[e]),c=Z(function(d,x){a.current===d&&(a.current=x)},[]),o=Z(function(){l.current||s.current&&(l.current=requestAnimationFrame(()=>{l.current=null;const d=a.current;d&&i(d)}))},[i]),u=Z(function(d){a.current=null;const x=document.activeElement;x&&x.getAttribute(Rl.draggableId)===d&&(a.current=d)},[]);return Qt(()=>(s.current=!0,function(){s.current=!1;const d=l.current;d&&cancelAnimationFrame(d)}),[]),Se(()=>({register:r,tryRecordFocus:u,tryRestoreFocusRecorded:o,tryShiftRecord:c}),[r,u,o,c])}function CS(){const e={draggables:{},droppables:{}},t=[];function a(m){return t.push(m),function(){const x=t.indexOf(m);x!==-1&&t.splice(x,1)}}function l(m){t.length&&t.forEach(d=>d(m))}function s(m){return e.draggables[m]||null}function r(m){const d=s(m);return d||I(),d}const i={register:m=>{e.draggables[m.descriptor.id]=m,l({type:"ADDITION",value:m})},update:(m,d)=>{const x=e.draggables[d.descriptor.id];x&&x.uniqueId===m.uniqueId&&(delete e.draggables[d.descriptor.id],e.draggables[m.descriptor.id]=m)},unregister:m=>{const d=m.descriptor.id,x=s(d);x&&m.uniqueId===x.uniqueId&&(delete e.draggables[d],e.droppables[m.descriptor.droppableId]&&l({type:"REMOVAL",value:m}))},getById:r,findById:s,exists:m=>!!s(m),getAllByType:m=>Object.values(e.draggables).filter(d=>d.descriptor.type===m)};function c(m){return e.droppables[m]||null}function o(m){const d=c(m);return d||I(),d}const u={register:m=>{e.droppables[m.descriptor.id]=m},unregister:m=>{const d=c(m.descriptor.id);d&&m.uniqueId===d.uniqueId&&delete e.droppables[m.descriptor.id]},getById:o,findById:c,exists:m=>!!c(m),getAllByType:m=>Object.values(e.droppables).filter(d=>d.descriptor.type===m)};function p(){e.draggables={},e.droppables={},t.length=0}return{draggable:i,droppable:u,subscribe:a,clean:p}}function ES(){const e=Se(CS,[]);return S.useEffect(()=>function(){e.clean()},[e]),e}var Hu=Ce.createContext(null),Hi=()=>{const e=document.body;return e||I(),e};const AS={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},TS=e=>`rfd-announcement-${e}`;function kS(e){const t=Se(()=>TS(e),[e]),a=S.useRef(null);return S.useEffect(function(){const r=document.createElement("div");return a.current=r,r.id=t,r.setAttribute("aria-live","assertive"),r.setAttribute("aria-atomic","true"),Li(r.style,AS),Hi().appendChild(r),function(){setTimeout(function(){const o=Hi();o.contains(r)&&o.removeChild(r),r===a.current&&(a.current=null)})}},[t]),Z(s=>{const r=a.current;if(r){r.textContent=s;return}},[])}const OS={separator:"::"};function Gu(e,t=OS){const a=Ce.useId();return Se(()=>`${e}${t.separator}${a}`,[t.separator,e,a])}function MS({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function _S({contextId:e,text:t}){const a=Gu("hidden-text",{separator:"-"}),l=Se(()=>MS({contextId:e,uniqueId:a}),[a,e]);return S.useEffect(function(){const r=document.createElement("div");return r.id=l,r.textContent=t,r.style.display="none",Hi().appendChild(r),function(){const c=Hi();c.contains(r)&&c.removeChild(r)}},[l,t]),l}var xc=Ce.createContext(null);function ub(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),t}function zS(){let e=null;function t(){return!!e}function a(i){return i===e}function l(i){e&&I();const c={abandon:i};return e=c,c}function s(){e||I(),e=null}function r(){e&&(e.abandon(),s())}return{isClaimed:t,isActive:a,claim:l,release:s,tryAbandon:r}}function Ws(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const RS=9,LS=13,qu=27,fb=32,BS=33,$S=34,US=35,HS=36,GS=37,qS=38,IS=39,VS=40,YS={[LS]:!0,[RS]:!0};var xb=e=>{YS[e.keyCode]&&e.preventDefault()};const mc=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(l=>`on${l}`in document)||e})(),mb=0,Jx=5;function QS(e,t){return Math.abs(t.x-e.x)>=Jx||Math.abs(t.y-e.y)>=Jx}const Wx={type:"IDLE"};function KS({cancel:e,completed:t,getPhase:a,setPhase:l}){return[{eventName:"mousemove",fn:s=>{const{button:r,clientX:i,clientY:c}=s;if(r!==mb)return;const o={x:i,y:c},u=a();if(u.type==="DRAGGING"){s.preventDefault(),u.actions.move(o);return}u.type!=="PENDING"&&I();const p=u.point;if(!QS(p,o))return;s.preventDefault();const m=u.actions.fluidLift(o);l({type:"DRAGGING",actions:m})}},{eventName:"mouseup",fn:s=>{const r=a();if(r.type!=="DRAGGING"){e();return}s.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:s=>{a().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:s=>{if(a().type==="PENDING"){e();return}if(s.keyCode===qu){s.preventDefault(),e();return}xb(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{a().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:s=>{const r=a();if(r.type==="IDLE"&&I(),r.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:mc,fn:e}]}function XS(e){const t=S.useRef(Wx),a=S.useRef(un),l=Se(()=>({eventName:"mousedown",fn:function(m){if(m.defaultPrevented||m.button!==mb||m.ctrlKey||m.metaKey||m.shiftKey||m.altKey)return;const d=e.findClosestDraggableId(m);if(!d)return;const x=e.tryGetLock(d,i,{sourceEvent:m});if(!x)return;m.preventDefault();const N={x:m.clientX,y:m.clientY};a.current(),u(x,N)}}),[e]),s=Se(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const m=e.findClosestDraggableId(p);if(!m)return;const d=e.findOptionsForDraggable(m);d&&(d.shouldRespectForcePress||e.canGetLock(m)&&p.preventDefault())}}),[e]),r=Z(function(){const m={passive:!1,capture:!0};a.current=na(window,[s,l],m)},[s,l]),i=Z(()=>{t.current.type!=="IDLE"&&(t.current=Wx,a.current(),r())},[r]),c=Z(()=>{const p=t.current;i(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[i]),o=Z(function(){const m={capture:!0,passive:!1},d=KS({cancel:c,completed:i,getPhase:()=>t.current,setPhase:x=>{t.current=x}});a.current=na(window,d,m)},[c,i]),u=Z(function(m,d){t.current.type!=="IDLE"&&I(),t.current={type:"PENDING",point:d,actions:m},o()},[o]);Qt(function(){return r(),function(){a.current()}},[r])}function ZS(){}const PS={[$S]:!0,[BS]:!0,[HS]:!0,[US]:!0};function FS(e,t){function a(){t(),e.cancel()}function l(){t(),e.drop()}return[{eventName:"keydown",fn:s=>{if(s.keyCode===qu){s.preventDefault(),a();return}if(s.keyCode===fb){s.preventDefault(),l();return}if(s.keyCode===VS){s.preventDefault(),e.moveDown();return}if(s.keyCode===qS){s.preventDefault(),e.moveUp();return}if(s.keyCode===IS){s.preventDefault(),e.moveRight();return}if(s.keyCode===GS){s.preventDefault(),e.moveLeft();return}if(PS[s.keyCode]){s.preventDefault();return}xb(s)}},{eventName:"mousedown",fn:a},{eventName:"mouseup",fn:a},{eventName:"click",fn:a},{eventName:"touchstart",fn:a},{eventName:"resize",fn:a},{eventName:"wheel",fn:a,options:{passive:!0}},{eventName:mc,fn:a}]}function JS(e){const t=S.useRef(ZS),a=Se(()=>({eventName:"keydown",fn:function(r){if(r.defaultPrevented||r.keyCode!==fb)return;const i=e.findClosestDraggableId(r);if(!i)return;const c=e.tryGetLock(i,p,{sourceEvent:r});if(!c)return;r.preventDefault();let o=!0;const u=c.snapLift();t.current();function p(){o||I(),o=!1,t.current(),l()}t.current=na(window,FS(u,p),{capture:!0,passive:!1})}}),[e]),l=Z(function(){const r={passive:!1,capture:!0};t.current=na(window,[a],r)},[a]);Qt(function(){return l(),function(){t.current()}},[l])}const oo={type:"IDLE"},WS=120,ew=.15;function tw({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:a=>{a.preventDefault()}},{eventName:"keydown",fn:a=>{if(t().type!=="DRAGGING"){e();return}a.keyCode===qu&&a.preventDefault(),e()}},{eventName:mc,fn:e}]}function aw({cancel:e,completed:t,getPhase:a}){return[{eventName:"touchmove",options:{capture:!1},fn:l=>{const s=a();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;const{clientX:r,clientY:i}=l.touches[0],c={x:r,y:i};l.preventDefault(),s.actions.move(c)}},{eventName:"touchend",fn:l=>{const s=a();if(s.type!=="DRAGGING"){e();return}l.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:l=>{if(a().type!=="DRAGGING"){e();return}l.preventDefault(),e()}},{eventName:"touchforcechange",fn:l=>{const s=a();s.type==="IDLE"&&I();const r=l.touches[0];if(!r||!(r.force>=ew))return;const c=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){c&&e();return}if(c){if(s.hasMoved){l.preventDefault();return}e();return}l.preventDefault()}},{eventName:mc,fn:e}]}function nw(e){const t=S.useRef(oo),a=S.useRef(un),l=Z(function(){return t.current},[]),s=Z(function(x){t.current=x},[]),r=Se(()=>({eventName:"touchstart",fn:function(x){if(x.defaultPrevented)return;const N=e.findClosestDraggableId(x);if(!N)return;const w=e.tryGetLock(N,c,{sourceEvent:x});if(!w)return;const b=x.touches[0],{clientX:f,clientY:g}=b,h={x:f,y:g};a.current(),m(w,h)}}),[e]),i=Z(function(){const x={capture:!0,passive:!1};a.current=na(window,[r],x)},[r]),c=Z(()=>{const d=t.current;d.type!=="IDLE"&&(d.type==="PENDING"&&clearTimeout(d.longPressTimerId),s(oo),a.current(),i())},[i,s]),o=Z(()=>{const d=t.current;c(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[c]),u=Z(function(){const x={capture:!0,passive:!1},N={cancel:o,completed:c,getPhase:l},w=na(window,aw(N),x),b=na(window,tw(N),x);a.current=function(){w(),b()}},[o,l,c]),p=Z(function(){const x=l();x.type!=="PENDING"&&I();const N=x.actions.fluidLift(x.point);s({type:"DRAGGING",actions:N,hasMoved:!1})},[l,s]),m=Z(function(x,N){l().type!=="IDLE"&&I();const w=setTimeout(p,WS);s({type:"PENDING",point:N,actions:x,longPressTimerId:w}),u()},[u,l,s,p]);Qt(function(){return i(),function(){a.current();const N=l();N.type==="PENDING"&&(clearTimeout(N.longPressTimerId),s(oo))}},[l,i,s]),Qt(function(){return na(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const lw=["input","button","textarea","select","option","optgroup","video","audio"];function pb(e,t){if(t==null)return!1;if(lw.includes(t.tagName.toLowerCase()))return!0;const l=t.getAttribute("contenteditable");return l==="true"||l===""?!0:t===e?!1:pb(e,t.parentElement)}function sw(e,t){const a=t.target;return fc(a)?pb(e,a):!1}var rw=e=>da(e.getBoundingClientRect()).center;function iw(e){return e instanceof db(e).Element}const cw=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(l=>l in Element.prototype)||e})();function hb(e,t){return e==null?null:e[cw](t)?e:hb(e.parentElement,t)}function ow(e,t){return e.closest?e.closest(t):hb(e,t)}function dw(e){return`[${Rl.contextId}="${e}"]`}function uw(e,t){const a=t.target;if(!iw(a))return null;const l=dw(e),s=ow(a,l);return!s||!fc(s)?null:s}function fw(e,t){const a=uw(e,t);return a?a.getAttribute(Rl.draggableId):null}function xw(e,t){const a=`[${gd.contextId}="${e}"]`,s=ob(document,a).find(r=>r.getAttribute(gd.id)===t);return!s||!fc(s)?null:s}function mw(e){e.preventDefault()}function Lr({expected:e,phase:t,isLockActive:a,shouldWarn:l}){return!(!a()||e!==t)}function yb({lockAPI:e,store:t,registry:a,draggableId:l}){if(e.isClaimed())return!1;const s=a.draggable.findById(l);return!(!s||!s.options.isEnabled||!sb(t.getState(),l))}function pw({lockAPI:e,contextId:t,store:a,registry:l,draggableId:s,forceSensorStop:r,sourceEvent:i}){if(!yb({lockAPI:e,store:a,registry:l,draggableId:s}))return null;const o=l.draggable.getById(s),u=xw(t,o.descriptor.id);if(!u||i&&!o.options.canDragInteractiveElements&&sw(u,i))return null;const p=e.claim(r||un);let m="PRE_DRAG";function d(){return o.options.shouldRespectForcePress}function x(){return e.isActive(p)}function N(j,y){Lr({expected:j,phase:m,isLockActive:x,shouldWarn:!0})&&a.dispatch(y())}const w=N.bind(null,"DRAGGING");function b(j){function y(){e.release(),m="COMPLETED"}m!=="PRE_DRAG"&&(y(),I()),a.dispatch(o2(j.liftActionArgs)),m="DRAGGING";function D(E,O={shouldBlockNextClick:!1}){if(j.cleanup(),O.shouldBlockNextClick){const B=na(window,[{eventName:"click",fn:mw,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(B)}y(),a.dispatch(Fy({reason:E}))}return{isActive:()=>Lr({expected:"DRAGGING",phase:m,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:d,drop:E=>D("DROP",E),cancel:E=>D("CANCEL",E),...j.actions}}function f(j){const y=Ks(E=>{w(()=>Py({client:E}))});return{...b({liftActionArgs:{id:s,clientSelection:j,movementMode:"FLUID"},cleanup:()=>y.cancel(),actions:{move:y}}),move:y}}function g(){const j={moveUp:()=>w(b2),moveRight:()=>w(v2),moveDown:()=>w(g2),moveLeft:()=>w(N2)};return b({liftActionArgs:{id:s,clientSelection:rw(u),movementMode:"SNAP"},cleanup:un,actions:j})}function h(){Lr({expected:"PRE_DRAG",phase:m,isLockActive:x,shouldWarn:!0})&&e.release()}return{isActive:()=>Lr({expected:"PRE_DRAG",phase:m,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:d,fluidLift:f,snapLift:g,abort:h}}const hw=[XS,JS,nw];function yw({contextId:e,store:t,registry:a,customSensors:l,enableDefaultSensors:s}){const r=[...s?hw:[],...l||[]],i=S.useState(()=>zS())[0],c=Z(function(b,f){Ws(b)&&!Ws(f)&&i.tryAbandon()},[i]);Qt(function(){let b=t.getState();return t.subscribe(()=>{const g=t.getState();c(b,g),b=g})},[i,t,c]),Qt(()=>i.tryAbandon,[i.tryAbandon]);const o=Z(w=>yb({lockAPI:i,registry:a,store:t,draggableId:w}),[i,a,t]),u=Z((w,b,f)=>pw({lockAPI:i,registry:a,contextId:e,store:t,draggableId:w,forceSensorStop:b||null,sourceEvent:f&&f.sourceEvent?f.sourceEvent:null}),[e,i,a,t]),p=Z(w=>fw(e,w),[e]),m=Z(w=>{const b=a.draggable.findById(w);return b?b.options:null},[a.draggable]),d=Z(function(){i.isClaimed()&&(i.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(_u()))},[i,t]),x=Z(()=>i.isClaimed(),[i]),N=Se(()=>({canGetLock:o,tryGetLock:u,findClosestDraggableId:p,findOptionsForDraggable:m,tryReleaseLock:d,isLockClaimed:x}),[o,u,p,m,d,x]);for(let w=0;w<r.length;w++)r[w](N)}const bw=e=>({onBeforeCapture:t=>{const a=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Yi.flushSync(a)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),gw=e=>({...Js,...e.autoScrollerOptions,durationDampening:{...Js.durationDampening,...e.autoScrollerOptions}});function as(e){return e.current||I(),e.current}function vw(e){const{contextId:t,setCallbacks:a,sensors:l,nonce:s,dragHandleUsageInstructions:r}=e,i=S.useRef(null),c=ub(e),o=Z(()=>bw(c.current),[c]),u=Z(()=>gw(c.current),[c]),p=kS(t),m=_S({contextId:t,text:r}),d=SS(t,s),x=Z(B=>{as(i).dispatch(B)},[]),N=Se(()=>Ex({publishWhileDragging:u2,updateDroppableScroll:x2,updateDroppableIsEnabled:m2,updateDroppableIsCombineEnabled:p2,collectionStarting:f2},x),[x]),w=ES(),b=Se(()=>tS(w,N),[w,N]),f=Se(()=>bS({scrollWindow:aS,scrollDroppable:b.scrollDroppable,getAutoScrollerOptions:u,...Ex({move:Py},x)}),[b.scrollDroppable,x,u]),g=DS(t),h=Se(()=>F2({announce:p,autoScroller:f,dimensionMarshal:b,focusMarshal:g,getResponders:o,styleMarshal:d}),[p,f,b,g,o,d]);i.current=h;const v=Z(()=>{const B=as(i);B.getState().phase!=="IDLE"&&B.dispatch(_u())},[]),j=Z(()=>{const B=as(i).getState();return B.phase==="DROP_ANIMATING"?!0:B.phase==="IDLE"?!1:B.isDragging},[]),y=Se(()=>({isDragging:j,tryAbort:v}),[j,v]);a(y);const D=Z(B=>sb(as(i).getState(),B),[]),E=Z(()=>An(as(i).getState()),[]),O=Se(()=>({marshal:b,focus:g,contextId:t,canLift:D,isMovementAllowed:E,dragHandleUsageInstructionsId:m,registry:w}),[t,b,m,g,D,E,w]);return yw({contextId:t,store:h,registry:w,customSensors:l||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),S.useEffect(()=>v,[v]),Ce.createElement(xc.Provider,{value:O},Ce.createElement(VN,{context:Hu,store:h},e.children))}function Nw(){return Ce.useId()}function jw(e){const t=Nw(),a=e.dragHandleUsageInstructions||Wr.dragHandleUsageInstructions;return Ce.createElement(JN,null,l=>Ce.createElement(vw,{nonce:e.nonce,contextId:t,setCallbacks:l,dragHandleUsageInstructions:a,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const em={dragging:5e3,dropAnimating:4500},Sw=(e,t)=>t?As.drop(t.duration):e?As.snap:As.fluid,ww=(e,t)=>{if(e)return t?Fs.opacity.drop:Fs.opacity.combining},Dw=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function Cw(e){const a=e.dimension.client,{offset:l,combineWith:s,dropping:r}=e,i=!!s,c=Dw(e),o=!!r,u=o?yd.drop(l,i):yd.moveTo(l);return{position:"fixed",top:a.marginBox.top,left:a.marginBox.left,boxSizing:"border-box",width:a.borderBox.width,height:a.borderBox.height,transition:Sw(c,r),transform:u,opacity:ww(i,o),zIndex:o?em.dropAnimating:em.dragging,pointerEvents:"none"}}function Ew(e){return{transform:yd.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function Aw(e){return e.type==="DRAGGING"?Cw(e):Ew(e)}function Tw(e,t,a=mt){const l=window.getComputedStyle(t),s=t.getBoundingClientRect(),r=wy(s,l),i=Ri(r,a),c={client:r,tagName:t.tagName.toLowerCase(),display:l.display},o={x:r.marginBox.width,y:r.marginBox.height};return{descriptor:e,placeholder:c,displaceBy:o,client:r,page:i}}function kw(e){const t=Gu("draggable"),{descriptor:a,registry:l,getDraggableRef:s,canDragInteractiveElements:r,shouldRespectForcePress:i,isEnabled:c}=e,o=Se(()=>({canDragInteractiveElements:r,shouldRespectForcePress:i,isEnabled:c}),[r,c,i]),u=Z(x=>{const N=s();return N||I(),Tw(a,N,x)},[a,s]),p=Se(()=>({uniqueId:t,descriptor:a,options:o,getDimension:u}),[a,u,o,t]),m=S.useRef(p),d=S.useRef(!0);Qt(()=>(l.draggable.register(m.current),()=>l.draggable.unregister(m.current)),[l.draggable]),Qt(()=>{if(d.current){d.current=!1;return}const x=m.current;m.current=p,l.draggable.update(p,x)},[p,l.draggable])}var Iu=Ce.createContext(null);function Gi(e){const t=S.useContext(e);return t||I(),t}function Ow(e){e.preventDefault()}const Mw=e=>{const t=S.useRef(null),a=Z((y=null)=>{t.current=y},[]),l=Z(()=>t.current,[]),{contextId:s,dragHandleUsageInstructionsId:r,registry:i}=Gi(xc),{type:c,droppableId:o}=Gi(Iu),u=Se(()=>({id:e.draggableId,index:e.index,type:c,droppableId:o}),[e.draggableId,e.index,c,o]),{children:p,draggableId:m,isEnabled:d,shouldRespectForcePress:x,canDragInteractiveElements:N,isClone:w,mapped:b,dropAnimationFinished:f}=e;if(!w){const y=Se(()=>({descriptor:u,registry:i,getDraggableRef:l,canDragInteractiveElements:N,shouldRespectForcePress:x,isEnabled:d}),[u,i,l,N,x,d]);kw(y)}const g=Se(()=>d?{tabIndex:0,role:"button","aria-describedby":r,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":s,draggable:!1,onDragStart:Ow}:null,[s,r,m,d]),h=Z(y=>{b.type==="DRAGGING"&&b.dropping&&y.propertyName==="transform"&&Yi.flushSync(f)},[f,b]),v=Se(()=>{const y=Aw(b),D=b.type==="DRAGGING"&&b.dropping?h:void 0;return{innerRef:a,draggableProps:{"data-rfd-draggable-context-id":s,"data-rfd-draggable-id":m,style:y,onTransitionEnd:D},dragHandleProps:g}},[s,g,m,b,h,a]),j=Se(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return Ce.createElement(Ce.Fragment,null,p(v,b.snapshot,j))};var bb=(e,t)=>e===t,gb=e=>{const{combine:t,destination:a}=e;return a?a.droppableId:t?t.droppableId:null};const _w=e=>e.combine?e.combine.draggableId:null,zw=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function Rw(){const e=ft((s,r)=>({x:s,y:r})),t=ft((s,r,i=null,c=null,o=null)=>({isDragging:!0,isClone:r,isDropAnimating:!!o,dropAnimation:o,mode:s,draggingOver:i,combineWith:c,combineTargetFor:null})),a=ft((s,r,i,c,o=null,u=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:u,mode:r,offset:s,dimension:i,forceShouldAnimate:p,snapshot:t(r,c,o,u,null)}}));return(s,r)=>{if(Ws(s)){if(s.critical.draggable.id!==r.draggableId)return null;const i=s.current.client.offset,c=s.dimensions.draggables[r.draggableId],o=Yt(s.impact),u=zw(s.impact),p=s.forceShouldAnimate;return a(e(i.x,i.y),s.movementMode,c,r.isClone,o,u,p)}if(s.phase==="DROP_ANIMATING"){const i=s.completed;if(i.result.draggableId!==r.draggableId)return null;const c=r.isClone,o=s.dimensions.draggables[r.draggableId],u=i.result,p=u.mode,m=gb(u),d=_w(u),N={duration:s.dropDuration,curve:Ru.drop,moveTo:s.newHomeClientOffset,opacity:d?Fs.opacity.drop:null,scale:d?Fs.scale.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:o,dropping:N,draggingOver:m,combineWith:d,mode:p,forceShouldAnimate:null,snapshot:t(p,c,m,d,N)}}}return null}}function vb(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const Lw={mapped:{type:"SECONDARY",offset:mt,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:vb(null)}};function Bw(){const e=ft((i,c)=>({x:i,y:c})),t=ft(vb),a=ft((i,c=null,o)=>({mapped:{type:"SECONDARY",offset:i,combineTargetFor:c,shouldAnimateDisplacement:o,snapshot:t(c)}})),l=i=>i?a(mt,i,!0):null,s=(i,c,o,u)=>{const p=o.displaced.visible[i],m=!!(u.inVirtualList&&u.effected[i]),d=oc(o),x=d&&d.draggableId===i?c:null;if(!p){if(!m)return l(x);if(o.displaced.invisible[i])return null;const b=Vl(u.displacedBy.point),f=e(b.x,b.y);return a(f,x,!0)}if(m)return l(x);const N=o.displacedBy.point,w=e(N.x,N.y);return a(w,x,p.shouldAnimate)};return(i,c)=>{if(Ws(i))return i.critical.draggable.id===c.draggableId?null:s(c.draggableId,i.critical.draggable.id,i.impact,i.afterCritical);if(i.phase==="DROP_ANIMATING"){const o=i.completed;return o.result.draggableId===c.draggableId?null:s(c.draggableId,o.result.draggableId,o.impact,o.afterCritical)}return null}}const $w=()=>{const e=Rw(),t=Bw();return(l,s)=>e(l,s)||t(l,s)||Lw},Uw={dropAnimationFinished:Jy},Hw=Sy($w,Uw,null,{context:Hu,areStatePropsEqual:bb})(Mw);function Nb(e){return Gi(Iu).isUsingCloneFor===e.draggableId&&!e.isClone?null:Ce.createElement(Hw,e)}function tm(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,a=!!e.disableInteractiveElementBlocking,l=!!e.shouldRespectForcePress;return Ce.createElement(Nb,Li({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:a,shouldRespectForcePress:l}))}const jb=e=>t=>e===t,Gw=jb("scroll"),qw=jb("auto"),am=(e,t)=>t(e.overflowX)||t(e.overflowY),Iw=e=>{const t=window.getComputedStyle(e),a={overflowX:t.overflowX,overflowY:t.overflowY};return am(a,Gw)||am(a,qw)},Vw=()=>!1,Sb=e=>e==null?null:e===document.body?Vw()?e:null:e===document.documentElement?null:Iw(e)?e:Sb(e.parentElement);var vd=e=>({x:e.scrollLeft,y:e.scrollTop});const wb=e=>e?window.getComputedStyle(e).position==="fixed"?!0:wb(e.parentElement):!1;var Yw=e=>{const t=Sb(e),a=wb(e);return{closestScrollable:t,isFixedOnPage:a}},Qw=({descriptor:e,isEnabled:t,isCombineEnabled:a,isFixedOnPage:l,direction:s,client:r,page:i,closest:c})=>{const o=(()=>{if(!c)return null;const{scrollSize:d,client:x}=c,N=ab({scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:x,scrollSize:d,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:N,diff:{value:mt,displacement:mt}}}})(),u=s==="vertical"?Au:Ry,p=_l({page:i,withPlaceholder:null,axis:u,frame:o});return{descriptor:e,isCombineEnabled:a,isFixedOnPage:l,axis:u,isEnabled:t,client:r,page:i,frame:o,subject:p}};const Kw=(e,t)=>{const a=Dy(e);if(!t||e!==t)return a;const l=a.paddingBox.top-t.scrollTop,s=a.paddingBox.left-t.scrollLeft,r=l+t.scrollHeight,i=s+t.scrollWidth,o=wu({top:l,right:i,bottom:r,left:s},a.border);return Du({borderBox:o,margin:a.margin,border:a.border,padding:a.padding})};var Xw=({ref:e,descriptor:t,env:a,windowScroll:l,direction:s,isDropDisabled:r,isCombineEnabled:i,shouldClipSubject:c})=>{const o=a.closestScrollable,u=Kw(e,o),p=Ri(u,l),m=(()=>{if(!o)return null;const x=Dy(o),N={scrollHeight:o.scrollHeight,scrollWidth:o.scrollWidth};return{client:x,page:Ri(x,l),scroll:vd(o),scrollSize:N,shouldClipSubject:c}})();return Qw({descriptor:t,isEnabled:!r,isCombineEnabled:i,isFixedOnPage:a.isFixedOnPage,direction:s,client:u,page:p,closest:m})};const Zw={passive:!1},Pw={passive:!0};var nm=e=>e.shouldPublishImmediately?Zw:Pw;const Br=e=>e&&e.env.closestScrollable||null;function Fw(e){const t=S.useRef(null),a=Gi(xc),l=Gu("droppable"),{registry:s,marshal:r}=a,i=ub(e),c=Se(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),o=S.useRef(c),u=Se(()=>ft((v,j)=>{t.current||I();const y={x:v,y:j};r.updateDroppableScroll(c.id,y)}),[c.id,r]),p=Z(()=>{const v=t.current;return!v||!v.env.closestScrollable?mt:vd(v.env.closestScrollable)},[]),m=Z(()=>{const v=p();u(v.x,v.y)},[p,u]),d=Se(()=>Ks(m),[m]),x=Z(()=>{const v=t.current,j=Br(v);if(v&&j||I(),v.scrollOptions.shouldPublishImmediately){m();return}d()},[d,m]),N=Z((v,j)=>{t.current&&I();const y=i.current,D=y.getDroppableRef();D||I();const E=Yw(D),O={ref:D,descriptor:c,env:E,scrollOptions:j};t.current=O;const B=Xw({ref:D,descriptor:c,env:E,windowScroll:v,direction:y.direction,isDropDisabled:y.isDropDisabled,isCombineEnabled:y.isCombineEnabled,shouldClipSubject:!y.ignoreContainerClipping}),X=E.closestScrollable;return X&&(X.setAttribute(Px.contextId,a.contextId),X.addEventListener("scroll",x,nm(O.scrollOptions))),B},[a.contextId,c,x,i]),w=Z(()=>{const v=t.current,j=Br(v);return v&&j||I(),vd(j)},[]),b=Z(()=>{const v=t.current;v||I();const j=Br(v);t.current=null,j&&(d.cancel(),j.removeAttribute(Px.contextId),j.removeEventListener("scroll",x,nm(v.scrollOptions)))},[x,d]),f=Z(v=>{const j=t.current;j||I();const y=Br(j);y||I(),y.scrollTop+=v.y,y.scrollLeft+=v.x},[]),g=Se(()=>({getDimensionAndWatchScroll:N,getScrollWhileDragging:w,dragStopped:b,scroll:f}),[b,N,w,f]),h=Se(()=>({uniqueId:l,descriptor:c,callbacks:g}),[g,c,l]);Qt(()=>(o.current=h.descriptor,s.droppable.register(h),()=>{t.current&&b(),s.droppable.unregister(h)}),[g,c,b,h,r,s.droppable]),Qt(()=>{t.current&&r.updateDroppableIsEnabled(o.current.id,!e.isDropDisabled)},[e.isDropDisabled,r]),Qt(()=>{t.current&&r.updateDroppableIsCombineEnabled(o.current.id,e.isCombineEnabled)},[e.isCombineEnabled,r])}function uo(){}const lm={width:0,height:0,margin:sj},Jw=({isAnimatingOpenOnMount:e,placeholder:t,animate:a})=>e||a==="close"?lm:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Ww=({isAnimatingOpenOnMount:e,placeholder:t,animate:a})=>{const l=Jw({isAnimatingOpenOnMount:e,placeholder:t,animate:a});return{display:t.display,boxSizing:"border-box",width:l.width,height:l.height,marginTop:l.margin.top,marginRight:l.margin.right,marginBottom:l.margin.bottom,marginLeft:l.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?As.placeholder:null}},e4=e=>{const t=S.useRef(null),a=Z(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:l,onTransitionEnd:s,onClose:r,contextId:i}=e,[c,o]=S.useState(e.animate==="open");S.useEffect(()=>c?l!=="open"?(a(),o(!1),uo):t.current?uo:(t.current=setTimeout(()=>{t.current=null,o(!1)}),a):uo,[l,c,a]);const u=Z(m=>{m.propertyName==="height"&&(s(),l==="close"&&r())},[l,r,s]),p=Ww({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return Ce.createElement(e.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":i,onTransitionEnd:u,ref:e.innerRef})};var t4=Ce.memo(e4);class a4 extends Ce.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,a){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:a.isVisible?{isVisible:!0,data:a.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const n4=e=>{const t=S.useContext(xc);t||I();const{contextId:a,isMovementAllowed:l}=t,s=S.useRef(null),r=S.useRef(null),{children:i,droppableId:c,type:o,mode:u,direction:p,ignoreContainerClipping:m,isDropDisabled:d,isCombineEnabled:x,snapshot:N,useClone:w,updateViewportMaxScroll:b,getContainerForClone:f}=e,g=Z(()=>s.current,[]),h=Z((X=null)=>{s.current=X},[]);Z(()=>r.current,[]);const v=Z((X=null)=>{r.current=X},[]),j=Z(()=>{l()&&b({maxScroll:lb()})},[l,b]);Fw({droppableId:c,type:o,mode:u,direction:p,isDropDisabled:d,isCombineEnabled:x,ignoreContainerClipping:m,getDroppableRef:g});const y=Se(()=>Ce.createElement(a4,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:X,data:U,animate:V})=>Ce.createElement(t4,{placeholder:U,onClose:X,innerRef:v,animate:V,contextId:a,onTransitionEnd:j})),[a,j,e.placeholder,e.shouldAnimatePlaceholder,v]),D=Se(()=>({innerRef:h,placeholder:y,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":a}}),[a,c,y,h]),E=w?w.dragging.draggableId:null,O=Se(()=>({droppableId:c,type:o,isUsingCloneFor:E}),[c,E,o]);function B(){if(!w)return null;const{dragging:X,render:U}=w,V=Ce.createElement(Nb,{draggableId:X.draggableId,index:X.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(te,ae)=>U(te,ae,X));return Zb.createPortal(V,f())}return Ce.createElement(Iu.Provider,{value:O},i(D,N),B())};function l4(){return document.body||I(),document.body}const sm={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:l4},Db=e=>{let t={...e},a;for(a in sm)e[a]===void 0&&(t={...t,[a]:sm[a]});return t},fo=(e,t)=>e===t.droppable.type,rm=(e,t)=>t.draggables[e.draggable.id],s4=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},a=ft(r=>({draggableId:r.id,type:r.type,source:{index:r.index,droppableId:r.droppableId}})),l=ft((r,i,c,o,u,p)=>{const m=u.descriptor.id;if(u.descriptor.droppableId===r){const N=p?{render:p,dragging:a(u.descriptor)}:null,w={isDraggingOver:c,draggingOverWith:c?m:null,draggingFromThisWith:m,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:N}}if(!i)return t;if(!o)return e;const x={isDraggingOver:c,draggingOverWith:m,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}});return(r,i)=>{const c=Db(i),o=c.droppableId,u=c.type,p=!c.isDropDisabled,m=c.renderClone;if(Ws(r)){const d=r.critical;if(!fo(u,d))return t;const x=rm(d,r.dimensions),N=Yt(r.impact)===o;return l(o,p,N,N,x,m)}if(r.phase==="DROP_ANIMATING"){const d=r.completed;if(!fo(u,d.critical))return t;const x=rm(d.critical,r.dimensions);return l(o,p,gb(d.result)===o,Yt(d.impact)===o,x,m)}if(r.phase==="IDLE"&&r.completed&&!r.shouldFlush){const d=r.completed;if(!fo(u,d.critical))return t;const x=Yt(d.impact)===o,N=!!(d.impact.at&&d.impact.at.type==="COMBINE"),w=d.critical.droppable.id===o;return x?N?e:t:w?e:t}return t}},r4={updateViewportMaxScroll:y2},im=Sy(s4,r4,(e,t,a)=>({...Db(a),...e,...t}),{context:Hu,areStatePropsEqual:bb})(n4),cm={1L:75,1L:80,2L:155,1L:80,2L:155,:90,:20,:20,:20,:20,:18.3,:20,:16.7,:20,:18.3,:45,:70,:70,:70,:70,:55,471:30,1795:75,:27.5,:25,:25,:30,:30,:27.5,:25,:20,:10,:20,:20,:25,:20,:20,:20,:20,:10,:20,:20,:20,:20,:20,:16.7,:20,1L:70,2L:140,:50,:70,:50,:20,400:16.7,1000:25,1000:40,2000:40,2000:60,1000:60,2000:100,500:50,1000:60},ns={1L:20,1L:20,2L:12,1L:20,2L:12,:20,:70,:70,:70,:12,:24,:20,:108,:40,:40,:15,:4,:4,:4,:4,:16,471:30,1795:9,:60,:20,:24,:15,:15,:24,:25,:15,:15,:15,:15,:24,:24,:24,:24,:15,:15,:15,:15,:15,:15,:15,:24,:15},er=(e,t)=>[...e].sort((a,l)=>{const s=a.sortWeight!==void 0&&a.sortWeight!==null?Number(a.sortWeight):NaN,r=l.sortWeight!==void 0&&l.sortWeight!==null?Number(l.sortWeight):NaN,i=!isNaN(s),c=!isNaN(r);return i&&c&&s!==r?s-r:i&&!c?-1:!i&&c?1:String(a[t]||"").localeCompare(String(l[t]||""),"zh-Hant")}),Re=(e=new Date)=>{const t=new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},us=e=>{if(typeof e!="string"||!e.trim().startsWith("="))return e;try{const a=e.trim().substring(1).replace(/[^0-9+\-*/(). ]/g,"");if(!a.trim())return e;const l=new Function(`return ${a}`)();return typeof l=="number"&&isFinite(l)?Number(l.toFixed(2)).toString():e}catch(t){return console.warn("Formula evaluation failed:",t),e}};function i4({show:e,onClose:t,records:a,selectedIds:l,onToggleSelect:s,onMergePrint:r,isPrinting:i}){return e?n.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 sm:p-6 transition-all duration-300",children:[n.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[12px] transition-opacity duration-300",onClick:t}),n.jsxs("div",{className:"relative w-full max-w-5xl bg-white rounded-[2.5rem] shadow-[0_40px_100px_-20px_rgba(0,0,0,0.1)] border border-gray-100 overflow-hidden flex flex-col max-h-[90vh] animate-in fade-in zoom-in duration-500 ease-out",children:[n.jsxs("div",{className:"relative bg-white p-8 sm:p-10 text-gray-900 border-b border-gray-100 overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-80 h-80 bg-blue-50/50 rounded-full blur-[80px]"}),n.jsxs("div",{className:"relative flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsx("div",{className:"p-4 bg-gray-100 rounded-2xl border border-gray-200 shadow-sm",children:n.jsx(Cs,{size:36,strokeWidth:2.5,className:"text-blue-600 drop-shadow-sm"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-3xl sm:text-4xl font-black tracking-tight text-gray-800",children:""}),n.jsx("p",{className:"text-gray-500 text-sm sm:text-base mt-1.5 font-medium",children:""})]})]}),n.jsx("button",{onClick:t,className:"p-3 bg-gray-50 hover:bg-gray-100 rounded-full transition-all duration-300 active:scale-90 border border-gray-200 text-gray-400 hover:text-gray-600",children:n.jsx($1,{size:26})})]})]}),n.jsx("div",{className:"p-8 sm:p-10 overflow-y-auto custom-scrollbar flex-1 bg-gray-50/30",children:a.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center",children:[n.jsx("div",{className:"w-24 h-24 bg-white rounded-full flex items-center justify-center mb-8 shadow-sm border border-gray-100",children:n.jsx(Cs,{size:48,className:"text-gray-200"})}),n.jsx("h4",{className:"text-2xl font-bold text-gray-800",children:""}),n.jsx("p",{className:"text-gray-400 mt-3 max-w-xs mx-auto",children:""})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(c=>{const o=l.includes(c.saleId);return n.jsxs("div",{onClick:()=>s(c.saleId),className:`group relative p-6 rounded-[2rem] border transition-all duration-500 cursor-pointer overflow-hidden ${o?"bg-blue-600 border-blue-600 shadow-xl shadow-blue-200 -translate-y-1":"bg-gray-100 border-gray-100 hover:border-blue-300 hover:bg-white hover:shadow-xl hover:shadow-gray-200/50 hover:-translate-y-1"}`,children:[n.jsx("div",{className:`absolute top-0 right-0 p-8 transition-opacity duration-500 ${o?"opacity-10 scale-150 rotate-12 text-white":"opacity-0"}`,children:n.jsx(Iv,{size:120})}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-start justify-between mb-5",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:`flex-shrink-0 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${o?"bg-white border-white":"bg-transparent border-gray-200 group-hover:border-blue-400"}`,children:o&&n.jsx("div",{className:"w-2.5 h-2.5 bg-blue-600 rounded-full"})}),n.jsx("h4",{className:`text-xl font-black truncate transition-colors ${o?"text-white":"text-gray-900"}`,children:c.customer})]}),n.jsxs("div",{className:`flex items-center gap-2 text-[11px] font-black px-3 py-1.5 rounded-xl whitespace-nowrap transition-colors ${o?"bg-white/20 text-white":"bg-gray-100 text-gray-400"}`,children:[n.jsx(Ml,{size:14,strokeWidth:2.5}),new Date(c.date).toLocaleTimeString("zh-TW",{hour:"2-digit",minute:"2-digit"})]})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center gap-2 text-xs font-bold ${o?"text-blue-50":"text-gray-400"}`,children:[n.jsx(xy,{size:14}),n.jsx("span",{children:""})]}),n.jsx("div",{className:`text-sm font-black transition-colors ${o?"text-white":c.paymentMethod==="CASH"?"text-emerald-500":"text-amber-500"}`,children:c.paymentMethod==="CASH"?"":""})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:`flex items-center gap-2 text-xs font-bold ${o?"text-blue-50":"text-gray-400"}`,children:[n.jsx(Rn,{size:14}),n.jsx("span",{children:""})]}),n.jsxs("div",{className:`text-sm font-black transition-colors ${o?"text-white":"text-blue-600"}`,children:[c.salesData.length," "]})]}),n.jsx("div",{className:`mt-2 h-px w-full ${o?"bg-white/10":"bg-gray-50"}`}),n.jsxs("div",{className:"flex items-center justify-between pt-1",children:[n.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${o?"text-blue-200":"text-gray-300"}`,children:"Amount"}),n.jsxs("span",{className:`text-2xl font-black font-mono transition-colors ${o?"text-white":"text-gray-900"}`,children:["$",c.totalAmount.toLocaleString()]})]})]})]})]},c.saleId)})})}),n.jsxs("div",{className:"p-8 sm:p-10 bg-white border-t border-gray-100 flex flex-col sm:flex-row justify-between items-center gap-6",children:[n.jsx("div",{className:"flex items-center gap-4",children:l.length>0?n.jsxs("div",{className:"flex items-center gap-3 pl-2 pr-5 py-2 bg-blue-50 text-blue-600 rounded-2xl border border-blue-100 transition-all animate-in slide-in-from-left-4",children:[n.jsx("div",{className:"p-2 bg-blue-600 text-white rounded-xl shadow-md shadow-blue-200",children:n.jsx(Cs,{size:20})}),n.jsxs("span",{className:"font-black text-sm tracking-tight",children:[" ",l.length," "]})]}):n.jsx("div",{className:"px-6 py-3 text-gray-400 font-bold text-sm tracking-tight italic",children:"..."})}),n.jsxs("div",{className:"flex items-center gap-4 w-full sm:w-auto",children:[l.length>0&&n.jsxs("button",{onClick:()=>s(null),className:"flex items-center justify-center gap-2 px-6 py-3 font-bold rounded-2xl transition-all duration-300 h-14 flex-1 sm:flex-none text-gray-400 hover:text-red-500 hover:bg-red-50 active:scale-95",children:[n.jsx(Qs,{size:20}),n.jsx("span",{children:""})]}),n.jsx("button",{onClick:r,disabled:i||l.length===0,className:`flex items-center justify-center gap-3 px-10 py-3 font-black rounded-2xl transition-all duration-500 h-14 flex-1 sm:flex-none active:scale-[0.98] shadow-2xl ${i||l.length===0?"bg-gray-100 text-gray-300 cursor-not-allowed shadow-none":"bg-blue-600 text-white hover:bg-blue-700 shadow-blue-200"}`,children:i?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-5 h-5 border-[3px] border-white/30 border-t-white rounded-full animate-spin"}),n.jsx("span",{children:""})]}):n.jsxs(n.Fragment,{children:[n.jsx(my,{size:22,strokeWidth:2.5}),n.jsx("span",{children:""})]})})]})]})]})]}):null}const je=e=>{if(typeof e=="string"&&e.trim().startsWith("="))return 0;const t=Number(e);return isNaN(t)?0:t};function c4({user:e,apiUrl:t,logActivity:a}){const[l,s]=S.useState([]),[r,i]=S.useState({1e3:0,500:0,100:0,50:0,10:0,5:0,1:0}),[c,o]=S.useState(5e3),[u,p]=S.useState({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0}),[m,d]=S.useState(""),[x,N]=S.useState("CASH"),[w,b]=S.useState(!1),[f,g]=S.useState(!1),[h,v]=S.useState(!1),[j,y]=S.useState(null),[D,E]=S.useState(!1),[O,B]=S.useState([]),[X,U]=S.useState([]),[V,te]=S.useState(!1),[ae,L]=S.useState([]),[z,G]=S.useState("mouse"),C=Ce.useRef({x:0,y:0});S.useEffect(()=>{const k=_=>{const Q=Math.abs(_.clientX-C.current.x),ie=Math.abs(_.clientY-C.current.y);(Q>5||ie>5)&&(C.current={x:_.clientX,y:_.clientY},z!=="mouse"&&G("mouse"))},A=()=>{z!=="keyboard"&&G("keyboard")};return window.addEventListener("mousemove",k),window.addEventListener("keydown",A),()=>{window.removeEventListener("mousemove",k),window.removeEventListener("keydown",A)}},[z]);const $=S.useCallback(async()=>{try{const k=await ee(t,"getProducts",{},e.token);if(console.log("Sales Page - Raw Products Data:",k),Array.isArray(k)){const A=k.filter(M=>(Number(M.stock)||0)>0||(Number(M.originalStock)||0)>0),_=er(A,"name"),Q=er(k,"name");L(Q);let ie=_.map(M=>{const ce=Number(M.price)||0,me=cm[M.name]!==void 0?cm[M.name]:null,De=`last_price_${M.id}`,Qe=localStorage.getItem(De);let va=ce;return me!==null&&(va=me),Qe!==null&&(va=Number(Qe)),{id:M.id,name:M.name,stock:Number(M.stock)||0,originalStock:Number(M.originalStock)||0,picked:0,original:0,returns:0,sold:0,price:va,subtotal:0,sortWeight:M.sortWeight,fromSheet:M._fromSheet}});const W=sessionStorage.getItem("clonedSale");if(W)try{const M=JSON.parse(W);console.log("Sales Page - Applying Cloned Data:",M),M.customer&&d(M.customer),M.paymentMethod&&N(M.paymentMethod),M.reserve!==void 0&&o(Number(M.reserve)),M.cashCounts&&i(ce=>({...ce,...M.cashCounts})),M.expenses&&p(ce=>({...ce,...M.expenses})),ie=ie.map(ce=>{const me=M.salesData.find(De=>String(De.productId)===String(ce.id));if(me){const De={...ce,picked:me.picked,original:me.original,returns:me.returns,price:me.unitPrice};return De.sold=je(De.picked)+je(De.original)-je(De.returns),De.subtotal=De.sold*je(De.price),De}return ce})}catch(M){console.error("Failed to parse cloned data",M)}s(ie)}else console.error("Sales Page - Data is not an array:",k)}catch(k){console.error("Fetch products failed",k),alert(": "+k.message)}},[t,e.token]);S.useEffect(()=>{(async()=>{e!=null&&e.token&&await $()})()},[e.token,$]);const H=(k,A,_)=>{s(Q=>Q.map(ie=>{if(ie.id!==k)return ie;if(typeof _=="string"&&_.trim().startsWith("="))return{...ie,[A]:_};let W=A==="picked"?_:ie.picked,M=A==="original"?_:ie.original,ce=A==="returns"?_:ie.returns,me=A==="price"?_:ie.price;A==="price"&&localStorage.setItem(`last_price_${k}`,je(me).toString()),je(W)>ie.stock&&(W=ie.stock),je(W)<0&&(W=0),je(M)>ie.originalStock&&(M=ie.originalStock),je(M)<0&&(M=0);const De=je(W)+je(M);je(ce)>De&&(ce=De),je(ce)<0&&(ce=0);const Qe={...ie,picked:W,original:M,returns:ce,price:me};return Qe.sold=je(Qe.picked)+je(Qe.original)-je(Qe.returns),Qe.subtotal=Qe.sold*(je(Qe.price)||0),Qe}))},ne=(k,A,_)=>{if(typeof _=="string"&&_.trim().startsWith("=")){const Q=us(_);H(k,A,Q)}else H(k,A,je(_))},F=(k,A)=>{i(_=>({..._,[k]:(typeof A=="string"&&A.trim().startsWith("="),A)}))},re=(k,A)=>{if(typeof A=="string"&&A.trim().startsWith("=")){const _=us(A);F(k,_)}else F(k,je(A))},$e=k=>{o((typeof k=="string"&&k.trim().startsWith("="),k))},tt=k=>{if(typeof k=="string"&&k.trim().startsWith("=")){const A=us(k);$e(A)}else $e(je(k))},Ze=(k,A)=>{p(_=>({..._,[k]:(typeof A=="string"&&A.trim().startsWith("="),A)}))},Y=(k,A)=>{if(typeof A=="string"&&A.trim().startsWith("=")){const _=us(A);Ze(k,_)}else Ze(k,je(A))},q=k=>{if(!k.destination)return;const A=Array.from(l),[_]=A.splice(k.source.index,1);A.splice(k.destination.index,0,_),s(A)},P=async()=>{if(h){b(!0);try{const k=l.map(_=>_.id);(await ee(t,"updateProductSortOrder",{productIds:k},e.token)).success&&alert("")}catch(k){console.error("Failed to sync sort order:",k),alert(""+k.message)}finally{b(!1),v(!1)}}else v(!0)},Te=k=>{var _;const A=document.getElementById(k);A&&(A.focus(),(_=A.select)==null||_.call(A),A.scrollIntoView({block:"nearest",behavior:"smooth"}))},xe=k=>{if(!j)return;const A=document.getElementById(j.id);if(A){const _=A.selectionStart,Q=A.selectionEnd,ie=A.value,W=ie.substring(0,_),M=ie.substring(Q,ie.length),ce=W+k+M;j.type==="row"?H(j.rowId,j.field,ce):j.type==="cash"?F(j.denom,ce):j.type==="expense"?Ze(j.key,ce):j.type==="reserve"&&$e(ce);const me=_+k.length;setTimeout(()=>{A.selectionStart=A.selectionEnd=me,A.focus()},0)}},Pe=({inputId:k})=>n.jsx("div",{className:"flex gap-1 mb-2 overflow-x-auto pb-1 no-scrollbar",children:["=","+","-","*",""].map(A=>n.jsx("button",{onMouseDown:_=>_.preventDefault(),onClick:()=>xe(A===""?"/":A),className:"flex-1 h-10 min-w-[44px] rounded-lg bg-white border border-gray-200 text-[#800020] font-bold text-2xl active:bg-gray-100 shadow-sm transition-all flex items-center justify-center pt-0.5",children:A},A))}),ge=(k,A,_,Q="input-")=>{if(!["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(k.key))return;k.key.startsWith("Arrow")&&k.preventDefault();const W=["picked","original","returns","price"],M=W.indexOf(_);if(k.key==="Enter"){k.preventDefault();const me=["picked","original","returns","price"],De=me.indexOf(_);if(De<me.length-1&&De!==-1){const Qe=me[De+1];Te(`${Q}${A}-${Qe}`)}else A<l.length-1?Te(`${Q}${A+1}-picked`):Te("input-cash-1000");return}let ce=null;k.key==="ArrowUp"?A>0&&(ce=`${Q}${A-1}-${_}`):k.key==="ArrowDown"?A<l.length-1?ce=`${Q}${A+1}-${_}`:ce="input-cash-1000":k.key==="ArrowLeft"?M>0?ce=`${Q}${A}-${W[M-1]}`:A>0&&(ce=`${Q}${A-1}-price`):k.key==="ArrowRight"&&(M<W.length-1?ce=`${Q}${A}-${W[M+1]}`:A<l.length-1?ce=`${Q}${A+1}-picked`:ce="input-cash-1000"),ce&&Te(ce)},le=(k,A={})=>{const{next:_,prev:Q,up:ie,down:W,left:M,right:ce}=A;if(!["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(k.key))return;k.key.startsWith("Arrow")&&k.preventDefault();let De=null;k.key==="Enter"?(k.preventDefault(),De=_):k.key==="ArrowDown"?De=W||_:k.key==="ArrowUp"?De=ie||Q:k.key==="ArrowLeft"?De=M||Q:k.key==="ArrowRight"&&(De=ce||_),De?Te(De):(k.key==="ArrowUp"||k.key==="ArrowLeft")&&l.length>0&&Te(`input-${l.length-1}-price`)},Fe=l.reduce((k,A)=>k+(A.subtotal||0),0),jt=Object.entries(r).reduce((k,[A,_])=>k+Number(A)*je(_),0)-je(c),T=je(u.stall)+je(u.cleaning)+je(u.electricity)+je(u.gas)+je(u.parking)+je(u.goods)+je(u.bags)+je(u.others)+je(u.linePay),K=x==="CREDIT",oe=K?Fe:jt+T+je(u.serviceFee)-Fe,we=async()=>{console.log("Save button clicked");try{if(!String(m||"").trim()){alert("");const Q=document.getElementById("input-location");Q&&Q.focus();return}if(!e||!e.username){console.error("User info missing:",e),alert("");return}const A={salesRep:e.username,customer:m,paymentMethod:x,salesData:l.map(Q=>({productId:Q.id,picked:Q.picked,original:Q.original,returns:Q.returns,sold:Q.sold,unitPrice:Q.price})),cashData:{totalCash:x==="CREDIT"?0:jt,reserve:c},expenseData:{...u,finalTotal:oe},cashCounts:r};b(!0);const _=await ee(t,"saveSales",A,e.token);if(!_.success)throw new Error(_.error||"Unknown error from backend");a&&a({actionType:"DATA_EDIT",page:"",details:JSON.stringify({customer:m,paymentMethod:x,totalAmount:K?Fe:oe,productCount:l.filter(Q=>Q.sold>0).length})}),alert(" Google Sheet"),sessionStorage.removeItem("clonedSale"),window.location.reload()}catch(k){console.error("handleSubmit error:",k),alert(": "+(k.message||k.toString()))}finally{b(!1)}},Je=async()=>{if(l.length===0){alert("");return}g(!0);try{const k={templateId:"Template_",data:{date:new Date().toISOString(),location:m,salesRep:e.username,totalSalesAmount:K?Fe:oe,totalCashCalc:jt,finalTotal:oe,reserve:c,expenses:u,expenses:u,rows:l.map(_=>({name:_.name,stock:_.stock,originalStock:_.originalStock,picked:_.picked,original:_.original,returns:_.returns,sold:_.sold,price:_.price,subtotal:_.subtotal}))}},A=await ee(t,"generatePdf",k,e.token);if(A.success&&A.pdfBase64){const _=atob(A.pdfBase64),Q=new Array(_.length);for(let ce=0;ce<_.length;ce++)Q[ce]=_.charCodeAt(ce);const ie=new Uint8Array(Q),W=new Blob([ie],{type:"application/pdf"}),M=URL.createObjectURL(W);window.open(M,"_blank")}else throw new Error(A.error||"Unknown error")}catch(k){console.error("Print failed:",k),alert(": "+k.message)}finally{g(!1)}},pe=async()=>{try{const k=await ee(t,"getRecentSalesToday",{},e.token);B(k)}catch(k){console.error(":",k),alert(": "+k.message)}},Ne=async()=>{if(X.length===0){alert("");return}b(!0);try{const k=O.filter(W=>X.includes(W.saleId)),A={};k.forEach(W=>{W.salesData.forEach(M=>{A[M.productId]||(A[M.productId]={productId:M.productId,productName:M.productName,picked:[],original:[],returns:[],sold:[],price:[]}),A[M.productId].picked.push(M.picked),A[M.productId].original.push(M.original),A[M.productId].returns.push(M.returns),A[M.productId].sold.push(M.sold),A[M.productId].price.push(M.unitPrice)})});const _=l.map(W=>{const M=A[String(W.id)];let ce="";return M&&M.price.length>0?ce=M.price[0]:ce=W.price||"",{name:W.name,stock:0,originalStock:0,picked:M?M.picked.filter(me=>me!==0&&me!=="0"&&me!=="").join(" / "):"",original:M?M.original.filter(me=>me!==0&&me!=="0"&&me!=="").join(" / "):"",returns:M?M.returns.filter(me=>me!==0&&me!=="0"&&me!=="").join(" / "):"",sold:M?M.sold.filter(me=>me!==0&&me!=="0"&&me!=="").join(" / "):"",price:ce,subtotal:""}}),Q={templateId:"Template_",data:{date:new Date().toISOString(),location:` (${k.length} )`,salesRep:e.username,totalSalesAmount:"",totalCashCalc:"",finalTotal:"",reserve:"",expenses:{},rows:_}},ie=await ee(t,"generatePdf",Q,e.token);if(ie.success&&ie.pdfBase64){const W=atob(ie.pdfBase64),M=new Array(W.length);for(let Qe=0;Qe<W.length;Qe++)M[Qe]=W.charCodeAt(Qe);const ce=new Uint8Array(M),me=new Blob([ce],{type:"application/pdf"}),De=URL.createObjectURL(me);window.open(De,"_blank")}else throw new Error(ie.error||"Unknown error")}catch(k){console.error(":",k),alert(": "+k.message)}finally{b(!1),te(!1)}};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 h-full overflow-y-auto xl:overflow-hidden",children:[w&&n.jsxs("div",{className:"loading-overlay",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:"..."})]}),n.jsxs("div",{className:"xl:col-span-2 glass-panel p-6 overflow-hidden flex flex-col h-auto min-h-[60vh] xl:h-[calc(100vh-10rem)]",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[n.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-[var(--text-primary)]",children:[n.jsx(Ye,{size:20,className:"text-[var(--accent-blue)]"})," "]}),n.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-4 w-full md:w-auto",children:[n.jsxs("div",{className:"flex bg-[var(--bg-tertiary)] rounded-lg p-1 border border-[var(--border-primary)] self-start md:self-auto",children:[n.jsx("button",{onClick:()=>N("CASH"),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${x==="CASH"?"bg-emerald-500 text-white shadow-sm":"text-[var(--text-tertiary)] hover:text-[var(--text-secondary)]"}`,children:""}),n.jsx("button",{onClick:()=>N("CREDIT"),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${x==="CREDIT"?"bg-amber-500 text-white shadow-sm":"text-[var(--text-tertiary)] hover:text-[var(--text-secondary)]"}`,children:""})]}),n.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[n.jsx("label",{className:"text-sm text-[var(--text-secondary)] font-bold whitespace-nowrap",children:":"}),n.jsx("input",{id:"input-location",type:"text",className:"input-field py-1 px-3 w-full md:w-48",placeholder:"...",value:m,onChange:k=>d(k.target.value),onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),Te("input-m-0-picked")||Te("input-0-picked"))}})]}),n.jsxs("button",{onClick:P,className:`flex items-center gap-2 px-3 py-1 text-xs font-bold rounded-lg border whitespace-nowrap transition-all ${h?"bg-indigo-500 text-white border-indigo-500":"bg-[var(--bg-secondary)] text-[var(--text-secondary)] border-[var(--border-primary)] hover:border-[var(--accent-blue)]"}`,children:[n.jsx(Cs,{size:16}),h?"":""]}),n.jsxs("button",{onClick:Je,disabled:f,className:`flex items-center gap-2 px-3 py-1 text-xs font-bold rounded-lg border whitespace-nowrap transition-all ${f?"bg-gray-400 text-white cursor-not-allowed":"bg-[var(--bg-secondary)] text-[var(--text-secondary)] border-[var(--border-primary)] hover:border-[var(--accent-blue)]"}`,children:[n.jsx(my,{size:16}),f?"...":""]}),n.jsxs("button",{onClick:()=>{E(!D),D||pe()},className:`flex items-center gap-2 px-3 py-1.5 text-xs font-black rounded-lg border whitespace-nowrap transition-all duration-300 shadow-sm active:scale-95 ${D?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white border-transparent shadow-blue-500/20 shadow-lg":"bg-white text-gray-500 border-gray-200 hover:border-blue-400 hover:text-blue-600"}`,children:[n.jsx(Cs,{size:16,strokeWidth:2.5}),""]})]})]}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsxs(jw,{onDragEnd:q,children:[n.jsx(im,{droppableId:"mobile-rows",isDropDisabled:!h,children:k=>n.jsxs("div",{...k.droppableProps,ref:k.innerRef,className:"md:hidden space-y-4",children:[l.map((A,_)=>n.jsx(tm,{draggableId:String(A.id),index:_,isDragDisabled:!h,children:(Q,ie)=>{var W;return n.jsxs("div",{ref:Q.innerRef,...Q.draggableProps,className:`bg-[var(--bg-secondary)] rounded-xl p-4 border border-[var(--border-primary)] ${ie.isDragging?"shadow-2xl z-50 ring-2 ring-indigo-500":""}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[h&&n.jsx("div",{...Q.dragHandleProps,className:"text-[var(--text-tertiary)] cursor-grab active:cursor-grabbing",children:n.jsx(vx,{size:20})}),n.jsx("div",{className:"font-bold text-[var(--text-primary)] text-lg leading-tight",children:A.name})]}),n.jsxs("div",{className:"text-[10px] font-mono bg-[var(--bg-tertiary)] px-2 py-1 rounded border border-[var(--border-primary)] whitespace-nowrap",children:[n.jsx("span",{className:"text-blue-500 font-bold",children:A.stock}),n.jsx("span",{className:"text-[var(--text-tertiary)] mx-0.5",children:"/"}),n.jsx("span",{className:"text-orange-500 font-bold",children:A.originalStock||0})]})]}),n.jsxs("div",{className:"bg-gray-50 rounded-lg p-2 mb-3 border border-gray-100 min-h-[120px]",children:[n.jsx(Pe,{}),n.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[n.jsxs("div",{className:"flex flex-col gap-1 min-h-[56px]",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] text-center font-bold",children:""}),n.jsx("input",{id:`input-m-${_}-picked`,type:"text",inputMode:"decimal",className:"input-field text-center p-2 text-base font-bold bg-white",value:A.picked||"",onChange:M=>H(A.id,"picked",M.target.value),onBlur:M=>ne(A.id,"picked",M.target.value),onFocus:()=>y({id:`input-m-${_}-picked`,type:"row",rowId:A.id,field:"picked"}),onKeyDown:M=>ge(M,_,"picked","input-m-"),disabled:h})]}),n.jsxs("div",{className:"flex flex-col gap-1 min-h-[56px]",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] text-center font-bold",children:""}),n.jsx("input",{id:`input-m-${_}-original`,type:"text",inputMode:"decimal",className:"input-field text-center p-2 text-base font-bold bg-white",value:A.original||"",onChange:M=>H(A.id,"original",M.target.value),onBlur:M=>ne(A.id,"original",M.target.value),onFocus:()=>y({id:`input-m-${_}-original`,type:"row",rowId:A.id,field:"original"}),onKeyDown:M=>ge(M,_,"original","input-m-"),disabled:h})]}),n.jsxs("div",{className:"flex flex-col gap-1 min-h-[56px]",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] text-center font-bold",children:""}),n.jsx("input",{id:`input-m-${_}-returns`,type:"text",inputMode:"decimal",className:"input-field text-center p-2 text-base font-bold text-red-600 bg-white",value:A.returns||"",onChange:M=>H(A.id,"returns",M.target.value),onBlur:M=>ne(A.id,"returns",M.target.value),onFocus:()=>y({id:`input-m-${_}-returns`,type:"row",rowId:A.id,field:"returns"}),onKeyDown:M=>ge(M,_,"returns","input-m-"),disabled:h})]}),n.jsxs("div",{className:"flex flex-col gap-1 min-h-[56px]",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] text-center font-bold",children:""}),n.jsx("input",{id:`input-m-${_}-price`,type:"text",inputMode:"decimal",className:"input-field text-center p-2 text-base font-bold bg-white",value:A.price,onChange:M=>H(A.id,"price",M.target.value),onBlur:M=>ne(A.id,"price",M.target.value),onFocus:()=>y({id:`input-m-${_}-price`,type:"row",rowId:A.id,field:"price"}),onKeyDown:M=>ge(M,_,"price","input-m-"),disabled:h})]})]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-[var(--border-primary)]",children:[n.jsxs("div",{className:"text-xs text-[var(--text-secondary)]",children:[": ",n.jsx("span",{className:"font-bold text-blue-500 text-sm ml-1",children:A.sold})]}),n.jsxs("div",{className:"text-sm font-bold text-rose-600 font-mono",children:[n.jsx("span",{className:"text-xs text-[var(--text-tertiary)] font-normal mr-1",children:""}),"$",(W=A.subtotal)==null?void 0:W.toLocaleString()]})]})]})}},`${A.id}-${_}`)),k.placeholder]})}),n.jsxs("table",{className:"hidden md:table w-full text-left border-collapse",children:[n.jsx("thead",{className:"sticky top-0 bg-[var(--bg-secondary)] z-10 text-[var(--text-secondary)] text-xs uppercase font-bold border-b border-[var(--border-primary)]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-3 w-10"}),n.jsx("th",{className:"p-3",children:""}),n.jsx("th",{className:"p-3 w-20",children:""}),n.jsx("th",{className:"p-3 w-24",children:"(+)"}),n.jsx("th",{className:"p-3 w-24",children:"(+)"}),n.jsx("th",{className:"p-3 w-24",children:"(-)"}),n.jsx("th",{className:"p-3 w-20 text-center",children:""}),n.jsx("th",{className:"p-3 w-24",children:""}),n.jsx("th",{className:"p-3 w-28 text-right",children:""})]})}),n.jsx(im,{droppableId:"desktop-rows",isDropDisabled:!h,children:k=>n.jsxs("tbody",{...k.droppableProps,ref:k.innerRef,className:"divide-y divide-[var(--border-primary)]",children:[l.map((A,_)=>n.jsx(tm,{draggableId:String(A.id),index:_,isDragDisabled:!h,children:(Q,ie)=>{var W;return n.jsxs("tr",{ref:Q.innerRef,...Q.draggableProps,className:`transition-colors ${ie.isDragging?"bg-[var(--bg-tertiary)] shadow-xl z-50":""} ${z==="mouse"?"hover:bg-[var(--bg-hover)]":""} ${z==="keyboard"&&(j==null?void 0:j.rowId)===A.id?"bg-[var(--bg-hover)]":""}`,children:[n.jsx("td",{className:"p-3",children:h&&n.jsx("div",{...Q.dragHandleProps,className:"text-[var(--text-tertiary)] cursor-grab active:cursor-grabbing",children:n.jsx(vx,{size:16})})}),n.jsx("td",{className:"p-3 font-medium text-[var(--text-primary)]",children:A.name}),n.jsxs("td",{className:"p-3 text-[var(--text-secondary)] font-mono tracking-wider",children:[n.jsx("span",{className:"text-blue-500",children:A.stock}),n.jsx("span",{className:"text-[var(--text-tertiary)] mx-1",children:"/"}),n.jsx("span",{className:"text-orange-500",children:A.originalStock||0})]}),n.jsx("td",{className:"p-3",children:n.jsx("input",{id:`input-${_}-picked`,type:"text",className:"input-field text-center p-1",value:A.picked||"",onChange:M=>H(A.id,"picked",M.target.value),onBlur:M=>ne(A.id,"picked",M.target.value),onFocus:()=>y({id:`input-${_}-picked`,type:"row",rowId:A.id,field:"picked"}),onKeyDown:M=>ge(M,_,"picked"),disabled:h})}),n.jsx("td",{className:"p-3",children:n.jsx("input",{id:`input-${_}-original`,type:"text",className:"input-field text-center p-1",value:A.original||"",onChange:M=>H(A.id,"original",M.target.value),onBlur:M=>ne(A.id,"original",M.target.value),onFocus:()=>y({id:`input-${_}-original`,type:"row",rowId:A.id,field:"original"}),onKeyDown:M=>ge(M,_,"original"),disabled:h})}),n.jsx("td",{className:"p-3",children:n.jsx("input",{id:`input-${_}-returns`,type:"text",className:"input-field text-center p-1 text-red-600",value:A.returns||"",onChange:M=>H(A.id,"returns",M.target.value),onBlur:M=>ne(A.id,"returns",M.target.value),onFocus:()=>y({id:`input-${_}-returns`,type:"row",rowId:A.id,field:"returns"}),onKeyDown:M=>ge(M,_,"returns"),disabled:h})}),n.jsx("td",{className:"p-3 text-center font-bold text-blue-500",children:A.sold}),n.jsx("td",{className:"p-3",children:n.jsx("input",{id:`input-${_}-price`,type:"text",className:"input-field text-center p-1 w-20",value:A.price,onChange:M=>H(A.id,"price",M.target.value),onBlur:M=>ne(A.id,"price",M.target.value),onFocus:()=>y({id:`input-${_}-price`,type:"row",rowId:A.id,field:"price"}),onKeyDown:M=>ge(M,_,"price"),disabled:h})}),n.jsxs("td",{className:"p-3 text-right font-mono text-rose-600",children:["$",(W=A.subtotal)==null?void 0:W.toLocaleString()]})]})}},`${A.id}-${_}`)),k.placeholder]})})]})]})}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-[var(--border-primary)] flex justify-between items-center bg-[var(--bg-secondary)] p-4 rounded-lg",children:[n.jsx("span",{className:"text-[var(--text-secondary)]",children:" ()"}),n.jsxs("span",{className:"text-2xl font-bold text-rose-600",children:["$",Fe.toLocaleString()]})]})]}),n.jsxs("div",{className:"flex flex-col h-auto xl:h-[calc(100vh-10rem)] gap-6",children:[n.jsxs("div",{className:`flex-1 xl:overflow-y-auto pr-0 xl:pr-2 space-y-6 transition-opacity ${K?"opacity-50 pointer-events-none grayscale":""}`,children:[n.jsxs("div",{className:"glass-panel p-6 relative",children:[K&&n.jsx("div",{className:"absolute inset-0 z-50 cursor-not-allowed"}),n.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-[var(--text-primary)]",children:[n.jsx(zv,{size:20,className:"text-amber-500"})," "]}),n.jsxs("div",{className:"space-y-3",children:[[1e3,500,100,50,10,5,1].map((k,A,_)=>{const Q=`input-cash-${k}`,ie=A<_.length-1?`input-cash-${_[A+1]}`:"input-reserve",W=A>0?`input-cash-${_[A-1]}`:null;return n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("span",{className:"w-12 text-[var(--text-secondary)] font-mono text-right",children:k}),n.jsx("span",{className:"text-[var(--text-tertiary)]",children:"x"}),n.jsx("input",{id:Q,type:"text",inputMode:"decimal",className:"input-field flex-1",placeholder:"0",value:r[k]||"",onChange:M=>F(k,M.target.value),onBlur:M=>re(k,M.target.value),onFocus:()=>y({id:Q,type:"cash",denom:k}),onKeyDown:M=>le(M,{next:ie,prev:W,right:ie,left:W}),disabled:K}),n.jsxs("span",{className:"w-20 text-right font-mono text-[var(--text-secondary)]",children:["$",(k*je(r[k])).toLocaleString()]})]},k)}),n.jsxs("div",{className:"border-t border-[var(--border-primary)] my-2 pt-2 flex items-center gap-4 text-red-500",children:[n.jsx("span",{className:"w-12 text-right",children:""}),n.jsx("span",{className:"text-[var(--text-tertiary)]",children:"-"}),n.jsx("input",{id:"input-reserve",type:"text",inputMode:"decimal",className:"input-field flex-1 border-red-900/50 focus:ring-red-500",value:c,onChange:k=>$e(k.target.value),onBlur:k=>tt(k.target.value),onFocus:()=>y({id:"input-reserve",type:"reserve"}),onKeyDown:k=>le(k,{next:"input-expense-stall",prev:"input-cash-1",right:"input-expense-stall",left:"input-cash-1"}),disabled:K})]}),n.jsxs("div",{className:"bg-[var(--bg-secondary)] p-3 rounded flex justify-between items-center border border-[var(--border-primary)]",children:[n.jsx("span",{className:"text-[var(--text-secondary)]",children:""}),n.jsxs("span",{className:"text-xl font-bold text-amber-500",children:["$",(K?0:jt).toLocaleString()]})]})]})]}),n.jsxs("div",{className:"glass-panel p-6 relative",children:[K&&n.jsx("div",{className:"absolute inset-0 z-50 cursor-not-allowed"}),n.jsx("h2",{className:"text-lg font-bold mb-4 text-rose-500",children:""}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:["stall:","cleaning:","electricity:","gas:","parking:","goods:","bags:","others:"].map((k,A,_)=>{const[Q,ie]=k.split(":"),W=`input-expense-${Q}`,ce=`input-expense-${A<_.length-1?_[A+1].split(":")[0]:"linePay"}`,me=A>0?`input-expense-${_[A-1].split(":")[0]}`:"input-reserve",De=A>=2?_[A-2].split(":")[0]:null,Qe=A<_.length-2?_[A+2].split(":")[0]:"linePay";return n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-[var(--text-secondary)] block mb-1",children:ie}),n.jsx("input",{id:W,type:"text",inputMode:"decimal",className:"input-field text-sm",value:u[Q]||"",onChange:va=>Ze(Q,va.target.value),onBlur:va=>Y(Q,va.target.value),onFocus:()=>y({id:W,type:"expense",key:Q}),onKeyDown:va=>le(va,{next:ce,prev:me,right:ce,left:me,up:De?`input-expense-${De}`:"input-reserve",down:Qe.startsWith("input-")?Qe:`input-expense-${Qe}`}),disabled:K})]},Q)})}),n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-[var(--text-secondary)] block mb-1",children:"Line Pay ()"}),n.jsx("input",{id:"input-expense-linePay",type:"text",inputMode:"decimal",className:"input-field border-green-200 text-green-600",value:u.linePay||"",onChange:k=>Ze("linePay",k.target.value),onBlur:k=>Y("linePay",k.target.value),onFocus:()=>y({id:"input-expense-linePay",type:"expense",key:"linePay"}),onKeyDown:k=>le(k,{next:"input-expense-serviceFee",prev:"input-expense-others",right:"input-expense-serviceFee",left:"input-expense-others",up:"input-expense-bags"}),disabled:K})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-[var(--text-secondary)] block mb-1",children:" ()"}),n.jsx("input",{id:"input-expense-serviceFee",type:"text",inputMode:"decimal",className:"input-field border-red-200 text-red-600",value:u.serviceFee||"",onChange:k=>Ze("serviceFee",k.target.value),onBlur:k=>Y("serviceFee",k.target.value),onFocus:()=>y({id:"input-expense-serviceFee",type:"expense",key:"serviceFee"}),disabled:K,onKeyDown:k=>le(k,{next:"btn-save-data",prev:"input-expense-linePay",right:"btn-save-data",left:"input-expense-linePay",up:"input-expense-others"})})]})]})]})]}),n.jsxs("div",{className:"p-6 glass-panel shadow-lg border-t-4 border-t-blue-600 opacity-100 pointer-events-auto",children:[n.jsx("div",{className:"text-sm text-[var(--text-secondary)] mb-1 font-bold",children:" ()"}),n.jsxs("div",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-700 to-indigo-700",children:["$",(K?Fe:oe).toLocaleString()]}),n.jsxs("button",{id:"btn-save-data",onClick:we,className:"btn-primary w-full mt-6 flex justify-center items-center gap-2 py-4 text-lg",children:[n.jsx(Vs,{size:20})," "]})]})]})]}),n.jsx(i4,{show:D,onClose:()=>{U([]),E(!1)},records:O,selectedIds:X,onToggleSelect:k=>{k===null?U([]):X.includes(k)?U(X.filter(A=>A!==k)):U([...X,k])},onMergePrint:Ne,isPrinting:V})]})}function o4({user:e,apiUrl:t,logActivity:a}){const[l,s]=S.useState([]),[r,i]=S.useState(!0),[c,o]=S.useState(""),[u,p]=S.useState(!1),[m,d]=S.useState(null),[x,N]=S.useState("SCRAP"),[w,b]=S.useState(""),[f,g]=S.useState(""),[h,v]=S.useState({}),[j,y]=S.useState({}),[D,E]=S.useState({}),[O,B]=S.useState(!1),X=S.useCallback(async()=>{i(!0);try{const Y=await ee(t,"getInventory",{},e.token);if(console.log("Inventory API Response:",Y),Array.isArray(Y)){const q=Y.filter(Te=>{const xe=Number(Te.quantity);return!isNaN(xe)&&xe!==0});console.log("Filtered Inventory:",q);const P=er(q,"productName");console.log("Sorted Inventory:",P),s(P)}else console.error("Inventory data is not an array:",Y),s([])}catch(Y){console.error("Failed to fetch inventory:",Y),alert(": "+Y.message),s([])}finally{i(!1)}},[t,e.token]);S.useEffect(()=>{(async()=>{if(e!=null&&e.token){await X();const q=localStorage.getItem("safetyStocks");q&&v(JSON.parse(q));const P=localStorage.getItem("customCaseSizes");P&&E(JSON.parse(P))}})()},[e.token,X]);const U=Y=>{if(!Y)return"-";const q=new Date(Y);return isNaN(q.getTime())?String(Y).replace(/-/g,"/"):q.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})},V=Y=>{d(Y),b(""),g(""),p(!0)},te=async()=>{if(!w||Number(w)<=0){alert("");return}if(!f.trim()){alert("");return}B(!0);try{await ee(t,"adjustInventory",{batchId:m.batchId,type:x,quantity:Number(w),note:f},e.token),a&&a({actionType:"DATA_EDIT",page:"",details:JSON.stringify({type:"ADJUSTMENT",product:m.productName,adjustType:x,quantity:Number(w),note:f})}),alert(""),p(!1),X()}catch(Y){alert(": "+Y.message)}finally{B(!1)}},ae=(Y,q)=>{const P={...h,[Y]:Number(q)||0};v(P),localStorage.setItem("safetyStocks",JSON.stringify(P))},L=(Y,q)=>{y({...j,[Y]:q})},z=Y=>{const q=j[Y];q!==void 0&&ae(Y,q)},G=(Y,q)=>{const P={...D,[Y]:Number(q)||0};E(P),localStorage.setItem("customCaseSizes",JSON.stringify(P))},C=l.filter(Y=>{const q=String(Y.productName||"").toLowerCase(),P=c.toLowerCase();return q.includes(P)?!0:P.length>6?String(Y.batchId||"").toLowerCase().includes(P):!1}),$=C.filter(Y=>Y.type==="STOCK"),H=C.filter(Y=>Y.type!=="STOCK"),ne={};l.forEach(Y=>{ne[Y.productName]||(ne[Y.productName]=0),ne[Y.productName]+=Number(Y.quantity)});const F=Y=>{const q={};return Y.forEach(P=>{q[P.productName]||(q[P.productName]=[]),q[P.productName].push(P)}),Object.values(q).map(P=>{const Te={},xe=[];P.forEach(ge=>{let le="NO_DATE";try{if(ge.expiry){const Fe=new Date(ge.expiry);if(!isNaN(Fe.getTime())){const pt=Fe.getFullYear(),jt=String(Fe.getMonth()+1).padStart(2,"0"),T=String(Fe.getDate()).padStart(2,"0");le=`${pt}-${jt}-${T}`}}}catch{console.warn("Invalid date:",ge.expiry)}Te[le]?Te[le].quantity=Number(Te[le].quantity)+Number(ge.quantity):(Te[le]={...ge,quantity:Number(ge.quantity)},xe.push(Te[le]))});const Pe=xe.filter(ge=>ge.quantity!==0);return Pe.sort((ge,le)=>ge.expiry===le.expiry?0:ge.expiry?le.expiry?new Date(ge.expiry)-new Date(le.expiry):-1:1),Pe}).filter(P=>P.length===0?!1:P.reduce((xe,Pe)=>xe+Number(Pe.quantity),0)!==0)},re=F($),$e=F(H),tt=(Y,q,P,Te)=>n.jsxs("div",{className:"hidden md:flex bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] p-6 flex-col shadow-sm",children:[n.jsxs("h3",{className:`text-lg font-bold mb-4 flex items-center gap-2 ${Te}`,children:[n.jsx(P,{size:20})," ",q]}),n.jsx("div",{className:"rounded-lg border border-[var(--border-primary)] overflow-hidden",children:n.jsxs("table",{className:"w-full text-left border-collapse",children:[n.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-sm uppercase",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 w-1/4",children:""}),n.jsx("th",{className:"p-4 text-center w-24",children:""}),n.jsx("th",{className:"p-4 w-32",children:""}),n.jsx("th",{className:"p-4 text-center w-24",children:""}),n.jsx("th",{className:"p-4 text-center w-24",children:""}),n.jsx("th",{className:"p-4 text-center w-20",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:r?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"p-6 text-center text-[var(--text-secondary)]",children:"..."})}):Y.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"p-6 text-center text-[var(--text-secondary)]",children:""})}):Y.map((xe,Pe)=>{const le=xe[0].productName,Fe=h[le]||0,pt=D[le],jt=pt!==void 0&&pt!==0?pt:ns[le]||0,T=ne[le]||0,K=Fe>0&&T<=Fe;return n.jsx(Ce.Fragment,{children:xe.map((oe,we)=>{const Je=we===xe.length-1,pe=oe.expiry?new Date(oe.expiry):null,Ne=new Date;Ne.setHours(0,0,0,0);const k=new Date(Ne);k.setDate(Ne.getDate()+3);const A=pe&&pe>=Ne&&pe<=k,_=pe&&pe<Ne;return n.jsxs("tr",{className:`hover:bg-[var(--bg-hover)] transition-colors ${K?"bg-red-50/10":""} ${Je?"":"border-b border-dashed border-slate-200"}`,children:[we===0&&n.jsx("td",{className:"p-4 font-medium text-[var(--text-primary)] align-top pt-6 border-r border-[var(--border-primary)]/50",rowSpan:xe.length,children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[K&&n.jsx(vl,{size:16,className:"text-red-400"}),n.jsx("span",{className:"font-bold text-lg",children:le})]}),n.jsxs("span",{className:"text-xs text-[var(--text-secondary)]",children:[": ",n.jsx("span",{className:"font-mono font-bold text-emerald-600 text-sm",children:T}),jt>0&&n.jsxs("span",{className:"ml-2 text-blue-600",children:["(",(T/jt).toFixed(1),")"]})]})]})}),n.jsx("td",{className:"p-4 text-center",children:n.jsx("span",{className:`font-mono font-bold text-lg ${Number(oe.quantity)<0?"text-red-500":"text-emerald-600"}`,children:oe.quantity})}),n.jsx("td",{className:"p-4 text-sm whitespace-nowrap",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:_?"text-rose-500 line-through":A?"text-amber-500 font-bold":"text-[var(--text-secondary)]",children:U(oe.expiry)}),A&&n.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-700 border border-amber-200 px-1.5 py-0.5 rounded self-start flex items-center gap-1 font-bold",children:[n.jsx(Ml,{size:10})," "]}),_&&n.jsxs("span",{className:"text-[10px] bg-rose-100 text-rose-700 border border-rose-200 px-1.5 py-0.5 rounded self-start flex items-center gap-1 font-bold",children:[n.jsx(vl,{size:10})," "]})]})}),we===0&&n.jsxs("td",{className:"p-4 text-center align-top pt-5 border-l border-[var(--border-primary)]/50",rowSpan:xe.length,children:[n.jsx("input",{id:`case-input-${le}`,type:"number",className:"input-field w-16 text-center text-xs p-1 border-blue-200/30",value:pt!==void 0?pt:ns[le]||"",onChange:Q=>G(le,Q.target.value),placeholder:""}),jt>0&&n.jsxs("div",{className:"text-[10px] text-slate-400 mt-1",children:[": ",ns[le]||"-"]})]}),we===0&&n.jsx("td",{className:"p-4 text-center align-top pt-5 border-l border-[var(--border-primary)]/50",rowSpan:xe.length,children:n.jsx("input",{id:`safety-input-${le}`,type:"number",className:"input-field w-16 text-center text-xs p-1 border-amber-200/30",value:j[le]!==void 0?j[le]:h[le]||"",onChange:Q=>L(le,Q.target.value),onBlur:()=>z(le),placeholder:""})}),n.jsx("td",{className:"p-4 text-center",children:n.jsxs("button",{onClick:()=>V(oe),className:"btn-secondary text-xs px-3 py-1 flex items-center gap-1 mx-auto",title:"",children:[n.jsx(Qs,{size:14})," "]})})]},oe.batchId)})},le)})})]})})]}),Ze=(Y,q,P,Te)=>n.jsxs("div",{className:"md:hidden flex flex-col gap-4",children:[n.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${Te} px-1`,children:[n.jsx(P,{size:20})," ",q]}),n.jsx("div",{className:"space-y-4",children:r?n.jsx("div",{className:"text-center py-8 text-[var(--text-secondary)]",children:"..."}):Y.length===0?n.jsx("div",{className:"text-center py-8 text-[var(--text-secondary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:""}):Y.map((xe,Pe)=>{const le=xe[0].productName,Fe=h[le]||0,pt=D[le],jt=pt!==void 0&&pt!==0?pt:ns[le]||0,T=ne[le]||0,K=Fe>0&&T<=Fe;return n.jsxs("div",{className:`bg-[var(--bg-secondary)] rounded-xl p-4 border shadow-sm ${K?"border-red-500/30 bg-red-500/5":"border-[var(--border-primary)]"}`,children:[n.jsxs("div",{className:"flex justify-between items-start mb-3 border-b border-[var(--border-primary)] pb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[K&&n.jsx(vl,{size:18,className:"text-red-500"}),n.jsx("span",{className:"font-bold text-[var(--text-primary)] text-lg",children:le})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-2xl font-bold text-emerald-600 font-mono",children:T}),jt>0&&n.jsxs("div",{className:"text-xs text-blue-600 font-mono",children:["",(T/jt).toFixed(1)]})]})]}),n.jsx("div",{className:"space-y-2 mb-3",children:xe.map((oe,we)=>{const Je=oe.expiry?new Date(oe.expiry):null,pe=new Date;pe.setHours(0,0,0,0);const Ne=Je&&Je<pe;return n.jsxs("div",{className:"flex justify-between items-center bg-[var(--bg-tertiary)] p-2 rounded text-sm",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:`font-mono ${Ne?"text-rose-600 line-through":"text-[var(--text-secondary)]"}`,children:U(oe.expiry)}),Ne&&n.jsx("span",{className:"text-[10px] text-rose-500 font-bold",children:""})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:`font-mono font-bold ${Number(oe.quantity)<0?"text-red-500":"text-emerald-700"}`,children:oe.quantity}),n.jsx("button",{onClick:()=>V(oe),className:"text-[var(--text-tertiary)] hover:text-red-500 p-1",children:n.jsx(Qs,{size:14})})]})]},we)})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-3 border-t border-[var(--border-primary)] pt-3",children:[n.jsxs("div",{className:"flex items-center justify-between gap-1",children:[n.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)] uppercase font-bold",children:""}),n.jsx("input",{type:"number",className:"w-12 text-center text-xs p-0.5 rounded border border-[var(--border-primary)] bg-[var(--bg-primary)]",value:pt!==void 0?pt:ns[le]||"",onChange:oe=>G(le,oe.target.value)})]}),n.jsxs("div",{className:"flex items-center justify-between gap-1",children:[n.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)] uppercase font-bold",children:""}),n.jsx("input",{type:"number",className:"w-12 text-center text-xs p-0.5 rounded border border-[var(--border-primary)] bg-[var(--bg-primary)]",value:j[le]!==void 0?j[le]:h[le]||"",onChange:oe=>L(le,oe.target.value),onBlur:()=>z(le)})]})]})]},Pe)})})]});return n.jsxs("div",{className:"max-w-6xl mx-auto h-[calc(100vh-6rem)] flex flex-col p-4 gap-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-stretch md:items-center bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] shadow-sm gap-4",children:[n.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-[var(--text-primary)]",children:[n.jsx(Rn,{className:"text-blue-600"})," "]}),n.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[n.jsxs("div",{className:"relative flex-1 md:flex-none",children:[n.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full md:w-64",value:c,onChange:Y=>o(Y.target.value)})]}),n.jsx("button",{onClick:X,className:"btn-secondary p-2 whitespace-nowrap",title:"",children:n.jsx(Ye,{size:20})})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-6 pb-6",children:[tt(re,"",Rn,"text-blue-600"),Ze(re,"",Rn,"text-blue-600"),tt($e,"/",ki,"text-orange-600"),Ze($e,"/",ki,"text-orange-600")]}),u&&n.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:[O&&n.jsxs("div",{className:"loading-overlay",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),n.jsxs("div",{className:"glass-panel p-6 w-96 max-w-[90vw]",children:[n.jsx("h3",{className:"text-xl font-bold mb-4",children:""}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-[var(--text-secondary)] block mb-1",children:""}),n.jsxs("div",{className:"flex justify-between items-center p-2 bg-[var(--bg-tertiary)] rounded-lg border border-[var(--border-primary)]",children:[n.jsx("div",{className:"text-[var(--text-primary)] font-bold",children:m==null?void 0:m.productName}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-xs text-slate-400",children:":"}),n.jsx("span",{className:"text-emerald-600 font-mono font-bold text-lg",children:m==null?void 0:m.quantity})]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:""}),n.jsxs("select",{className:"input-field w-full",value:x,onChange:Y=>N(Y.target.value),children:[n.jsx("option",{value:"SCRAP",children:""}),n.jsx("option",{value:"RETURN",children:""}),n.jsx("option",{value:"LOSS",children:""}),n.jsx("option",{value:"OTHER",children:""})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:""}),n.jsx("input",{id:"adjustment-qty-input",type:"number",className:"input-field w-full",value:w,onChange:Y=>b(Y.target.value),onKeyDown:Y=>{var q;(Y.key==="Enter"||Y.key==="ArrowDown")&&(Y.preventDefault(),(q=document.getElementById("adjustment-note-input"))==null||q.focus())},placeholder:"",autoFocus:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-sm text-slate-400 block mb-1",children:[" ",n.jsx("span",{className:"text-red-400",children:"*"})]}),n.jsx("textarea",{id:"adjustment-note-input",className:"input-field w-full",rows:"3",value:f,onChange:Y=>g(Y.target.value),onKeyDown:Y=>{var q;Y.key==="Enter"?(Y.preventDefault(),te()):Y.key==="ArrowUp"&&(Y.preventDefault(),(q=document.getElementById("adjustment-qty-input"))==null||q.focus())},placeholder:"..."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:te,className:"btn-primary flex-1",children:""}),n.jsx("button",{onClick:()=>p(!1),className:"btn-secondary flex-1",children:""})]})]})]})]})]})}const d4=e=>{if(typeof e=="string"&&e.trim().startsWith("="))return 0;const t=Number(e);return isNaN(t)?0:t};function u4({user:e,apiUrl:t,logActivity:a}){const l=new Date().getFullYear().toString(),[s,r]=S.useState([{id:Date.now(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:l,expiryMonth:"",expiryDay:"",paymentMethod:"CASH"}]),[i,c]=S.useState({vendors:[],vendorProductMap:{}}),[o,u]=S.useState(!1);S.useEffect(()=>{const h=async()=>{try{const v=await ee(t,"getPurchaseSuggestions",{},e.token);v.vendors&&c(v)}catch(v){console.error("Failed to fetch suggestions",v)}};e!=null&&e.token&&h()},[e.token,t]),S.useEffect(()=>{r(h=>h.map(v=>{var y;const j=(y=i.vendorDefaults)==null?void 0:y[v.vendor];return j&&v.paymentMethod!==j?{...v,paymentMethod:j}:v}))},[i.vendorDefaults,s.map(h=>h.vendor).join(",")]);const p=async h=>{if(h.vendor)try{await ee(t,"saveVendorDefault",{vendor:h.vendor,method:h.paymentMethod},e.token),alert(`${h.vendor}${h.paymentMethod==="CASH"?"":""}`),c(v=>({...v,vendorDefaults:{...v.vendorDefaults,[h.vendor]:h.paymentMethod}}))}catch(v){alert(": "+v.message)}},m=h=>{if(h&&i.vendorProductMap[h])return i.vendorProductMap[h];const v=new Set;return Object.values(i.vendorProductMap||{}).forEach(j=>j.forEach(y=>v.add(y))),Array.from(v)},d=(h,v,j)=>{r(y=>y.map(D=>{var O,B;if(D.id!==h)return D;let E={...D,[v]:j};if(v==="productName"&&j){const X=(B=(O=i.vendorProductPriceMap)==null?void 0:O[D.vendor])==null?void 0:B[j];X!==void 0&&(E.unitPrice=X)}return(v==="quantity"||v==="unitPrice")&&typeof j=="string"&&j.trim().startsWith("="),E}))},x=(h,v,j)=>{if(v==="quantity"||v==="unitPrice")if(typeof j=="string"&&j.trim().startsWith("=")){const y=us(j);d(h,v,y)}else d(h,v,d4(j))},N=()=>{r(h=>[...h,{id:Date.now()+Math.random(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:l,expiryMonth:"",expiryDay:"",paymentMethod:"CASH"}])},w=h=>{s.length>1&&r(v=>v.filter(j=>j.id!==h))},b=h=>{var j;const v=document.getElementById(h);v&&(v.focus(),(j=v.select)==null||j.call(v),v.scrollIntoView({block:"nearest",behavior:"smooth"}))},f=(h,v,j)=>{const D=h.target.id.includes("-m-")?"item-m-":"item-",E=["vendor","product","qty","price","year","month","day"],O=E.indexOf(j);h.key==="Enter"||h.key==="ArrowRight"?(h.preventDefault(),O<E.length-1?b(`${D}${v}-${E[O+1]}`):v<s.length-1?b(`${D}${v+1}-vendor`):h.key==="Enter"&&(N(),setTimeout(()=>b(`${D}${v+1}-vendor`),50))):h.key==="ArrowLeft"?(h.preventDefault(),O>0?b(`${D}${v}-${E[O-1]}`):v>0&&b(`${D}${v-1}-day`)):h.key==="ArrowDown"?(h.preventDefault(),v<s.length-1&&b(`${D}${v+1}-${j}`)):h.key==="ArrowUp"&&(h.preventDefault(),v>0&&b(`${D}${v-1}-${j}`))},g=async h=>{h.preventDefault();for(let j=0;j<s.length;j++){const y=s[j];if(!y.vendor.trim()||!y.productName.trim()||!y.quantity||!y.unitPrice||!y.expiryYear||!y.expiryMonth||!y.expiryDay){alert(` ${j+1} 
`);return}}u(!0);const v=s.map(j=>{const y=j.expiryMonth.padStart(2,"0"),D=j.expiryDay.padStart(2,"0");return{vendor:j.vendor,productName:j.productName,quantity:Number(j.quantity),price:Number(j.unitPrice),expiry:`${j.expiryYear}-${y}-${D}`,paymentMethod:j.paymentMethod}});try{const j=await ee(t,"addPurchase",{items:v,operator:e.username},e.token);if(a){const y=Array.from(new Set(v.map(D=>D.paymentMethod)));a({actionType:"DATA_EDIT",page:"",details:JSON.stringify({vendorCount:new Set(v.map(D=>D.vendor)).size,productCount:v.length,totalPrice:v.reduce((D,E)=>D+E.quantity*E.price,0),paymentMethods:y.join(", ")})})}alert(` ${j.count} `),r([{id:Date.now(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:l,expiryMonth:"",expiryDay:"",paymentMethod:"CASH"}])}catch(j){alert(": "+j.message)}finally{u(!1)}};return n.jsxs("div",{className:"max-w-[90rem] mx-auto p-4",children:[o&&n.jsxs("div",{className:"loading-overlay",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:"..."})]}),n.jsxs("div",{className:"glass-panel p-6",children:[n.jsx("div",{className:"flex justify-between items-center mb-6",children:n.jsx("h2",{className:"text-2xl font-bold flex items-center gap-2 text-[var(--text-primary)]",children:""})}),n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between px-2",children:[n.jsx("h3",{className:"text-sm font-semibold text-[var(--text-secondary)] uppercase tracking-wider",children:""}),n.jsxs("span",{className:"text-xs text-[var(--text-tertiary)]",children:[" ",s.length," "]})]}),n.jsx("datalist",{id:"vendors-list",children:i.vendors.map((h,v)=>n.jsx("option",{value:h},v))}),s.map((h,v)=>{const j=m(h.vendor);return n.jsxs("div",{className:"group relative p-0 md:p-4 bg-transparent md:bg-[var(--bg-tertiary)] rounded-none md:rounded-xl border-b md:border border-[var(--border-primary)] hover:md:shadow-lg transition-all duration-200 mb-6 md:mb-0",children:[n.jsxs("div",{className:"md:absolute md:-left-2 md:top-1/2 md:-translate-y-1/2 mb-2 md:mb-0 flex items-center justify-between md:block",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-500/10 border border-emerald-500/30 flex items-center justify-center",children:n.jsxs("span",{className:"text-[10px] font-bold text-emerald-600",children:[" ",v+1]})}),n.jsx("span",{className:"md:hidden text-sm font-bold text-[var(--text-secondary)]",children:""})]}),h.vendor&&n.jsx("button",{type:"button",onClick:()=>p(h),className:"md:hidden text-[10px] px-2 py-1 rounded-md bg-slate-100 text-slate-500 border border-slate-200",children:" "})]}),n.jsxs("div",{className:"md:hidden space-y-3 pb-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsx("input",{id:`item-m-${v}-vendor`,list:"vendors-list",className:"input-field flex-1 py-1.5 px-3",placeholder:"",value:h.vendor,onChange:y=>d(h.id,"vendor",y.target.value),onKeyDown:y=>f(y,v,"vendor")})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsx("input",{id:`item-m-${v}-product`,list:`products-list-${v}`,className:"input-field flex-1 py-1.5 px-3",placeholder:"",value:h.productName,onChange:y=>d(h.id,"productName",y.target.value),onKeyDown:y=>f(y,v,"product")}),n.jsx("datalist",{id:`products-list-${v}`,children:j.map((y,D)=>n.jsx("option",{value:y},D))})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsx("input",{id:`item-m-${v}-qty`,type:"text",inputMode:"decimal",className:"input-field flex-1 py-1.5 px-3",placeholder:"0",value:h.quantity,onChange:y=>d(h.id,"quantity",y.target.value),onBlur:y=>x(h.id,"quantity",y.target.value),onKeyDown:y=>f(y,v,"qty")})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsx("input",{id:`item-m-${v}-price`,type:"text",inputMode:"decimal",className:"input-field flex-1 py-1.5 px-3",placeholder:"0",value:h.unitPrice,onChange:y=>d(h.id,"unitPrice",y.target.value),onBlur:y=>x(h.id,"unitPrice",y.target.value),onKeyDown:y=>f(y,v,"price")})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsxs("div",{className:"flex bg-slate-100 p-0.5 rounded-lg border border-slate-200 flex-1",children:[n.jsx("button",{type:"button",onClick:()=>d(h.id,"paymentMethod","CASH"),className:`flex-1 py-1 text-[10px] font-bold rounded-md transition-all ${h.paymentMethod==="CASH"?"bg-emerald-500 text-white":"text-slate-400"}`,children:""}),n.jsx("button",{type:"button",onClick:()=>d(h.id,"paymentMethod","CREDIT"),className:`flex-1 py-1 text-[10px] font-bold rounded-md transition-all ${h.paymentMethod==="CREDIT"?"bg-purple-600 text-white":"text-slate-400"}`,children:""})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsxs("div",{className:"flex flex-1 gap-1 items-center",children:[n.jsx("input",{id:`item-m-${v}-year`,type:"number",className:"input-field flex-[2] py-1.5 px-1 text-center",placeholder:"YYYY",value:h.expiryYear,onChange:y=>d(h.id,"expiryYear",y.target.value),onKeyDown:y=>f(y,v,"year")}),n.jsx("span",{className:"text-slate-300",children:"/"}),n.jsx("input",{id:`item-m-${v}-month`,type:"number",className:"input-field flex-1 py-1.5 px-1 text-center",placeholder:"MM",value:h.expiryMonth,onChange:y=>d(h.id,"expiryMonth",y.target.value),onKeyDown:y=>f(y,v,"month")}),n.jsx("span",{className:"text-slate-300",children:"/"}),n.jsx("input",{id:`item-m-${v}-day`,type:"number",className:"input-field flex-1 py-1.5 px-1 text-center",placeholder:"DD",value:h.expiryDay,onChange:y=>d(h.id,"expiryDay",y.target.value),onKeyDown:y=>f(y,v,"day")}),s.length>1&&n.jsx("button",{type:"button",onClick:()=>w(h.id),className:"w-8 h-8 ml-1 rounded-lg bg-red-500/10 text-red-500 flex items-center justify-center border border-red-500/20",children:""})]})]})]}),n.jsxs("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[n.jsxs("div",{className:"col-span-12 md:col-span-2",children:[n.jsx("label",{className:"text-[10px] font-bold text-[var(--text-secondary)] mb-1 uppercase",children:""}),n.jsx("input",{id:`item-${v}-vendor`,list:"vendors-list",className:"input-field w-full py-1.5 px-2 text-sm",placeholder:"",value:h.vendor,onChange:y=>d(h.id,"vendor",y.target.value),onKeyDown:y=>f(y,v,"vendor"),autoFocus:v===s.length-1})]}),n.jsxs("div",{className:"col-span-12 md:col-span-2",children:[n.jsx("label",{className:"text-[10px] font-bold text-[var(--text-secondary)] mb-1 uppercase",children:""}),n.jsx("input",{id:`item-${v}-product`,list:`products-list-${v}`,className:"input-field w-full py-1.5 px-2 text-sm",placeholder:"",value:h.productName,onChange:y=>d(h.id,"productName",y.target.value),onKeyDown:y=>f(y,v,"product")})]}),n.jsxs("div",{className:"col-span-6 md:col-span-1",children:[n.jsx("label",{className:"text-[10px] font-bold text-[var(--text-secondary)] mb-1 text-center block uppercase",children:""}),n.jsx("input",{id:`item-${v}-qty`,type:"text",inputMode:"decimal",className:"input-field w-full py-1.5 px-1 text-center text-sm",placeholder:"0",value:h.quantity,onChange:y=>d(h.id,"quantity",y.target.value),onBlur:y=>x(h.id,"quantity",y.target.value),onKeyDown:y=>f(y,v,"qty")})]}),n.jsxs("div",{className:"col-span-6 md:col-span-1",children:[n.jsx("label",{className:"text-[10px] font-bold text-[var(--text-secondary)] mb-1 text-center block uppercase",children:""}),n.jsx("input",{id:`item-${v}-price`,type:"text",inputMode:"decimal",className:"input-field w-full py-1.5 px-1 text-center text-sm",placeholder:"0",value:h.unitPrice,onChange:y=>d(h.id,"unitPrice",y.target.value),onBlur:y=>x(h.id,"unitPrice",y.target.value),onKeyDown:y=>f(y,v,"price")})]}),n.jsx("div",{className:"col-span-12 md:col-span-3 flex items-end gap-1",children:n.jsxs("div",{className:"flex-1",children:[n.jsx("label",{className:"text-[10px] font-bold text-[var(--text-secondary)] mb-1 uppercase",children:""}),n.jsxs("div",{className:"grid grid-cols-[1.5fr_auto_1fr_auto_1fr] gap-1 items-center",children:[n.jsx("input",{id:`item-${v}-year`,className:"input-field py-1.5 px-0.5 text-center text-sm font-mono",placeholder:"YYYY",value:h.expiryYear,onChange:y=>d(h.id,"expiryYear",y.target.value),onKeyDown:y=>f(y,v,"year")}),n.jsx("span",{className:"text-[var(--text-tertiary)] text-[10px]",children:"/"}),n.jsx("input",{id:`item-${v}-month`,className:"input-field py-1.5 px-0.5 text-center text-sm font-mono",placeholder:"MM",value:h.expiryMonth,onChange:y=>d(h.id,"expiryMonth",y.target.value),onKeyDown:y=>f(y,v,"month")}),n.jsx("span",{className:"text-[var(--text-tertiary)] text-[10px]",children:"/"}),n.jsx("input",{id:`item-${v}-day`,className:"input-field py-1.5 px-0.5 text-center text-sm font-mono",placeholder:"DD",value:h.expiryDay,onChange:y=>d(h.id,"expiryDay",y.target.value),onKeyDown:y=>f(y,v,"day")})]})]})}),n.jsxs("div",{className:"col-span-12 md:col-span-3",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("label",{className:"text-[10px] font-bold text-[var(--text-secondary)] uppercase",children:""}),h.vendor&&n.jsx("button",{type:"button",onClick:()=>p(h),className:"text-[9px] text-emerald-600 hover:text-emerald-700 font-bold transition-colors flex items-center gap-0.5",children:" "})]}),n.jsxs("div",{className:"flex bg-[var(--bg-primary)] p-0.5 rounded-lg border border-[var(--border-primary)] shadow-sm h-8",children:[n.jsx("button",{type:"button",onClick:()=>d(h.id,"paymentMethod","CASH"),className:`flex-1 py-0.5 text-[10px] font-bold rounded-md transition-all ${h.paymentMethod==="CASH"?"bg-emerald-500 text-white":"text-[var(--text-tertiary)] hover:bg-slate-50"}`,children:""}),n.jsx("button",{type:"button",onClick:()=>d(h.id,"paymentMethod","CREDIT"),className:`flex-1 py-0.5 text-[10px] font-bold rounded-md transition-all ${h.paymentMethod==="CREDIT"?"bg-purple-600 text-white":"text-[var(--text-tertiary)] hover:bg-slate-50"}`,children:""})]})]}),n.jsx("div",{className:"col-span-12 md:col-span-1 flex items-end justify-center",children:s.length>1&&n.jsx("button",{type:"button",onClick:()=>w(h.id),className:"w-8 h-8 rounded-lg bg-red-500/10 text-red-500 hover:bg-red-500/20 transition-all flex items-center justify-center mb-[2px]",title:"",children:""})})]})]},h.id)})]}),n.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-[var(--border-primary)]",children:[n.jsxs("button",{type:"button",onClick:N,className:"btn-secondary flex-1 py-4 text-base font-semibold flex items-center justify-center gap-2 hover:scale-105 transition-transform",children:[n.jsx("span",{className:"text-xl",children:""})," "]}),n.jsx("button",{type:"submit",disabled:o,className:"btn-primary flex-[2] py-4 text-lg font-bold shadow-lg shadow-emerald-100 hover:shadow-xl hover:shadow-emerald-200 hover:scale-105 transition-all flex items-center justify-center gap-2",children:o?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"animate-spin",children:""})," ..."]}):n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"text-xl",children:""})," "]})})]})]})]})]})}const Wn=e=>e.toFixed(1).replace(/\.0$/,"").replace(/\B(?=(\d{3})+(?!\d))/g,","),ls=e=>{const a=Wn(e).length;return a<=6?"text-xs md:text-xl":a<=9?"text-[10px] md:text-lg":"text-[8px] md:text-base"};function f4({user:e,apiUrl:t,setPage:a}){const[l,s]=S.useState(Re()),[r,i]=S.useState(Re()),[c,o]=S.useState(""),[u,p]=S.useState(""),[m,d]=S.useState(!1),[x,N]=S.useState([]),[w,b]=S.useState([]),[f,g]=S.useState("SALES"),[h,v]=S.useState(!1),j=S.useCallback(async()=>{if(!(!l||!r)){d(!0);try{const C={startDate:l,endDate:r},$=e.role==="BOSS"||e.permissions&&e.permissions.includes("finance"),H=[ee(t,"getSalesHistory",C,e.token)];$&&H.push(ee(t,"getExpenditures",C,e.token));const ne=await Promise.all(H),F=ne[0],re=$?ne[1]:[];let $e=Array.isArray(F)?F:[];const tt=c.trim().toLowerCase(),Ze=u.trim().toLowerCase();tt&&($e=$e.filter(q=>String(q.location||"").toLowerCase().includes(tt))),Ze&&($e=$e.filter(q=>String(q.salesRep||"").toLowerCase().includes(Ze))),N($e);let Y=Array.isArray(re)?re:[];tt&&(Y=Y.filter(q=>String(q.customer||"").toLowerCase().includes(tt)||String(q.note||"").toLowerCase().includes(tt))),Ze&&(Y=Y.filter(q=>String(q.salesRep||"").toLowerCase().includes(Ze))),Y.forEach(q=>{q.linePayAmount=Number(q.linePay||0);const P=Number(q.stall||0)+Number(q.cleaning||0)+Number(q.electricity||0)+Number(q.gas||0)+Number(q.parking||0)+Number(q.goods||0)+Number(q.bags||0)+Number(q.others||0)+Number(q.vehicleMaintenance||0)+Number(q.salary||0)+Number(q.serviceFee||0)+Number(q.reserve||0);q.rowTotal=P,q.salaryAmount=Number(q.salary||0);const Te=Object.keys(q).find(Pe=>{const ge=Pe.toLowerCase().trim();return ge==="finaltotal"||ge.includes("")||ge.includes("")||ge.includes("")||ge.includes("")}),xe=Number(Te?q[Te]:q.finalTotal||0);q.displayFinalTotal=xe,q.normCustomer=q.customer||q["/"]||q.||"",q.normSalesRep=q.salesRep||q.||"",q.normNote=q.note||q.||""}),b(Y)}catch(C){console.error(C),alert(": "+C.message)}finally{d(!1)}}},[l,r,c,u,e.token,t]);Ce.useEffect(()=>{j()},[j]);const y=async C=>{if(window.confirm(`

1. 
2. 
3. `)){v(!0);try{const $=await ee(t,"voidAndFetchSale",{saleId:C},e.token);if($.success&&$.cloneData)sessionStorage.setItem("clonedSale",JSON.stringify($.cloneData)),a("sales");else throw new Error($.error||"")}catch($){console.error($),alert(": "+$.message),v(!1)}}},D=C=>{C.preventDefault(),j()},E=(x==null?void 0:x.reduce((C,$)=>C+(Number($.totalAmount)||0),0))||0,O=(x==null?void 0:x.reduce((C,$)=>C+(Number($.soldQty)||0),0))||0,B=(x==null?void 0:x.reduce((C,$)=>{const H=($.paymentMethod||"").trim().toUpperCase();return H==="CREDIT"||H===""||H===""?C+(Number($.totalAmount)||0):C},0))||0,X=E-B,U=(w==null?void 0:w.reduce((C,$)=>C+($.rowTotal||0)-($.salaryAmount||0),0))||0,V=(w==null?void 0:w.reduce((C,$)=>C+($.linePayAmount||0),0))||0,ae=((w==null?void 0:w.reduce((C,$)=>C+(Number($.displayFinalTotal)||0),0))||0)-B,L=X-U-V+ae,z=x==null?void 0:x.reduce((C,$)=>{const H=$.productName;return C[H]||(C[H]={name:$.productName,qty:0,amount:0}),C[H].qty+=$.soldQty,C[H].amount+=$.totalAmount,C},{}),G=z?Object.values(z).sort((C,$)=>$.qty-C.qty):[];return n.jsxs("div",{className:"max-w-[90rem] mx-auto p-4 relative",children:[h&&n.jsxs("div",{className:"fixed inset-0 bg-white/30 backdrop-blur-md z-50 flex flex-col items-center justify-center animate-in fade-in duration-300",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mb-4 shadow-lg"}),n.jsx("p",{className:"text-xl font-bold text-blue-900 drop-shadow-sm",children:"..."})]}),n.jsxs("div",{className:"glass-panel p-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-[var(--border-primary)] pb-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(ds,{className:"text-blue-600"})," "]}),n.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:""})]}),x&&n.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 md:gap-3 w-full md:w-auto",children:[n.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-amber-500/10 border border-amber-200/20 shadow-sm",children:[n.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),n.jsxs("p",{className:`${ls(L)} font-bold text-amber-700 text-center whitespace-nowrap`,children:["$",Wn(L)]})]}),n.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-emerald-500/10 border border-emerald-200/20 shadow-sm",children:[n.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),n.jsxs("p",{className:`${ls(E)} font-bold text-emerald-700 text-center whitespace-nowrap`,children:["$",Wn(E)]})]}),n.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-rose-500/10 border border-rose-200/20 shadow-sm",children:[n.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),n.jsxs("p",{className:`${ls(U)} font-bold text-rose-700 text-center whitespace-nowrap`,children:["$",Wn(U)]})]}),n.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-cyan-500/10 border border-cyan-200/20 shadow-sm",children:[n.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),n.jsxs("p",{className:`${ls(ae)} font-bold text-cyan-700 text-center whitespace-nowrap`,children:["$",Wn(ae)]})]}),n.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-blue-500/10 border border-blue-200/20 shadow-sm",children:[n.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),n.jsx("p",{className:`${ls(O)} font-bold text-blue-700 text-center whitespace-nowrap`,children:Wn(O)})]}),n.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-purple-500/10 border border-purple-200/20 shadow-sm",children:[n.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),n.jsx("p",{className:"text-xs md:text-xl font-bold text-purple-700 text-center whitespace-nowrap",children:x.length})]})]})]}),n.jsxs("form",{onSubmit:D,className:"md:hidden mb-6 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsx("input",{type:"date",required:!0,className:"input-field flex-1 py-1.5 px-3",value:l,onChange:C=>s(C.target.value)})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsx("input",{type:"date",required:!0,className:"input-field flex-1 py-1.5 px-3",value:r,onChange:C=>i(C.target.value)})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field flex-1 py-1.5 px-3",value:c,onChange:C=>o(C.target.value)})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsxs("div",{className:"flex flex-1 gap-2",children:[n.jsx("input",{type:"text",placeholder:"...",className:"input-field flex-1 py-1.5 px-3",value:u,onChange:C=>p(C.target.value)}),n.jsx("button",{type:"submit",disabled:m,className:"btn-primary px-4 py-1.5 flex items-center justify-center rounded-lg shadow-sm active:scale-95 transition-transform",children:n.jsx(xt,{size:18})})]})]})]}),n.jsx("form",{onSubmit:D,className:"hidden md:block mb-6 p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)] shadow-sm",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 md:contents",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase px-1",children:""}),n.jsx("input",{type:"date",required:!0,className:"input-field w-full",value:l,onChange:C=>s(C.target.value)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase px-1",children:""}),n.jsx("input",{type:"date",required:!0,className:"input-field w-full",value:r,onChange:C=>i(C.target.value)})]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase px-1",children:""}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:c,onChange:C=>o(C.target.value)})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"space-y-1 flex-1",children:[n.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase px-1",children:""}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:u,onChange:C=>p(C.target.value)})]}),n.jsxs("button",{type:"submit",disabled:m,className:"btn-primary py-2 px-6 flex items-center justify-center gap-2 self-end h-[42px] min-w-[100px]",children:[m?"...":n.jsx(xt,{size:18})," "]})]})]})}),x&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"rounded-xl border border-[var(--border-primary)] overflow-hidden",children:[n.jsx("div",{className:"px-4 py-3 bg-[var(--bg-tertiary)] border-b border-[var(--border-primary)]",children:n.jsxs("h3",{className:"font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(Rn,{size:16,className:"text-blue-600"})," "]})}),n.jsx("div",{className:"overflow-x-auto max-h-60",children:n.jsxs("table",{className:"w-full text-left",children:[n.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-xs uppercase font-bold border-b border-[var(--border-primary)]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-right",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-secondary)]",children:G.length>0?G.map((C,$)=>n.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("td",{className:"p-4 text-[var(--text-primary)]",children:C.name}),n.jsx("td",{className:"p-4 text-right text-[var(--text-tertiary)]",children:C.qty}),n.jsxs("td",{className:"p-4 text-right text-emerald-600",children:["$",C.amount.toLocaleString()]})]},$)):n.jsx("tr",{children:n.jsx("td",{colSpan:"3",className:"p-8 text-center text-[var(--text-secondary)]",children:""})})})]})})]}),n.jsxs("div",{className:"rounded-xl border border-[var(--border-primary)] overflow-hidden flex flex-col h-[600px]",children:[n.jsxs("div",{className:"px-4 py-3 bg-[var(--bg-tertiary)] border-b border-[var(--border-primary)] flex gap-4",children:[n.jsxs("button",{onClick:()=>g("SALES"),className:`font-bold flex items-center gap-2 pb-2 border-b-2 transition-colors ${f==="SALES"?"text-blue-600 border-blue-600":"text-[var(--text-secondary)] border-transparent hover:text-[var(--text-primary)]"}`,children:[n.jsx(Wa,{size:16}),"  (",x.length,")"]}),n.jsxs("button",{onClick:()=>g("EXPENSES"),className:`font-bold flex items-center gap-2 pb-2 border-b-2 transition-colors ${f==="EXPENSES"?"text-rose-600 border-rose-600":"text-[var(--text-secondary)] border-transparent hover:text-[var(--text-primary)]"}`,children:[n.jsx(rt,{size:16}),"  (",w.length,")"]})]}),n.jsx("div",{className:"overflow-auto flex-1",children:f==="SALES"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"md:hidden divide-y divide-[var(--border-primary)]",children:x.map((C,$)=>n.jsxs("div",{className:"p-4 space-y-3 bg-[var(--bg-secondary)] hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("div",{className:"text-xs font-mono text-[var(--text-tertiary)]",children:new Date(C.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),n.jsxs("div",{className:"flex flex-col items-end gap-2",children:[n.jsxs("div",{className:"text-emerald-600 font-bold font-mono text-lg",children:["$",C.totalAmount]}),n.jsxs("button",{onClick:H=>{H.stopPropagation(),y(C.saleId)},className:"flex items-center gap-1.5 px-2 py-1 rounded-md bg-amber-500/10 text-amber-600 border border-amber-200 hover:bg-amber-100 transition-colors text-xs font-bold",title:"",children:[n.jsx(Oi,{size:12})," "]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-1 bg-blue-500/10 text-blue-700 px-2 py-0.5 rounded-md",children:[n.jsx(Nx,{size:12})," ",n.jsx("span",{className:"font-medium",children:C.location})]}),n.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-tertiary)] text-[var(--text-secondary)] px-2 py-0.5 rounded-md",children:[n.jsx(dn,{size:12})," ",n.jsx("span",{children:C.salesRep})]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-[var(--border-primary)]",children:[n.jsx("div",{className:"font-bold text-[var(--text-primary)]",children:C.productName}),n.jsxs("div",{className:"text-[var(--text-secondary)]",children:[": ",n.jsx("span",{className:"font-bold text-[var(--text-primary)]",children:C.soldQty})]})]})]},$))}),n.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] sticky top-0 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-3 font-medium w-48",children:""}),n.jsx("th",{className:"p-3 font-medium w-32",children:""}),n.jsx("th",{className:"p-3 font-medium w-32",children:""}),n.jsx("th",{className:"p-3 font-medium",children:""}),n.jsx("th",{className:"p-3 font-medium text-right w-24",children:""}),n.jsx("th",{className:"p-3 font-medium text-right w-32",children:""}),n.jsx("th",{className:"p-3 font-medium text-center w-24",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] text-[var(--text-secondary)] bg-[var(--bg-secondary)]",children:x.map((C,$)=>n.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("td",{className:"p-3 text-[var(--text-tertiary)]",children:new Date(C.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),n.jsx("td",{className:"p-3",children:C.location}),n.jsx("td",{className:"p-3",children:C.salesRep}),n.jsx("td",{className:"p-3 text-[var(--text-primary)]",children:C.productName}),n.jsx("td",{className:"p-3 text-right",children:C.soldQty}),n.jsxs("td",{className:"p-3 text-right",children:["$",C.totalAmount]}),n.jsx("td",{className:"p-3 text-center",children:n.jsx("button",{onClick:H=>{H.stopPropagation(),y(C.saleId)},className:"p-2 rounded-lg bg-amber-50 text-amber-600 hover:bg-amber-100 transition-colors",title:"",children:n.jsx(Oi,{size:16})})})]},$))})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"md:hidden divide-y divide-[var(--border-primary)]",children:w.map((C,$)=>{const H=[];return C.stall&&H.push(` $${C.stall}`),C.cleaning&&H.push(` $${C.cleaning}`),C.electricity&&H.push(` $${C.electricity}`),C.gas&&H.push(` $${C.gas}`),C.parking&&H.push(` $${C.parking}`),C.goods&&H.push(` $${C.goods}`),C.bags&&H.push(` $${C.bags}`),C.others&&H.push(` $${C.others}`),C.linePay&&H.push(`Line Pay $${C.linePay}`),C.serviceFee&&H.push(` $${C.serviceFee}`),C.reserve&&H.push(` $${C.reserve}`),C.vehicleMaintenance&&H.push(` $${C.vehicleMaintenance}`),C.salary&&H.push(` $${C.salary}`),n.jsxs("div",{className:"p-4 space-y-3 bg-[var(--bg-secondary)] hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("div",{className:"text-xs font-mono text-[var(--text-tertiary)]",children:new Date(C.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("div",{className:"text-emerald-600 font-bold font-mono text-lg",children:["$",Number(C.displayFinalTotal).toLocaleString()]}),n.jsxs("div",{className:"text-[10px] text-[var(--text-tertiary)] font-mono",children:[": $",Number(C.rowTotal).toLocaleString()]})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[n.jsxs("div",{className:"flex flex-col gap-0.5 bg-amber-500/10 text-amber-700 px-2 py-0.5 rounded-md",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Nx,{size:10}),n.jsx("span",{className:"font-bold text-xs",children:C.normCustomer||"-"})]}),C.normNote&&n.jsx("div",{className:"text-[10px] opacity-70 ml-3.5 italic",children:C.normNote})]}),n.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-tertiary)] text-[var(--text-secondary)] px-2 py-0.5 rounded-md border border-[var(--border-primary)]",children:[n.jsx(dn,{size:10})," ",n.jsx("span",{className:"text-xs font-bold",children:C.normSalesRep})]})]}),n.jsxs("div",{className:"pt-2 border-t border-[var(--border-primary)]",children:[n.jsx("p",{className:"text-[10px] uppercase font-bold text-[var(--text-tertiary)] mb-1",children:""}),n.jsx("div",{className:"flex flex-wrap gap-1",children:H.map((ne,F)=>n.jsx("span",{className:"text-[10px] bg-[var(--bg-tertiary)] text-[var(--text-secondary)] px-1.5 py-0.5 rounded border border-[var(--border-primary)]",children:ne},F))})]})]},$)})}),n.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] sticky top-0 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-3 font-medium w-48",children:""}),n.jsx("th",{className:"p-3 font-medium w-32",children:"/"}),n.jsx("th",{className:"p-3 font-medium w-32",children:""}),n.jsx("th",{className:"p-3 font-medium",children:""}),n.jsx("th",{className:"p-3 font-medium text-right w-28",children:""}),n.jsx("th",{className:"p-3 font-medium text-right w-28 text-emerald-600",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] text-[var(--text-secondary)] bg-[var(--bg-secondary)]",children:w.map((C,$)=>{const H=[];return C.stall&&H.push(` $${C.stall}`),C.cleaning&&H.push(` $${C.cleaning}`),C.electricity&&H.push(` $${C.electricity}`),C.gas&&H.push(` $${C.gas}`),C.parking&&H.push(` $${C.parking}`),C.goods&&H.push(` $${C.goods}`),C.bags&&H.push(` $${C.bags}`),C.others&&H.push(` $${C.others}`),C.linePay&&H.push(`Line Pay $${C.linePay}`),C.serviceFee&&H.push(` $${C.serviceFee}`),C.reserve&&H.push(` $${C.reserve}`),C.vehicleMaintenance&&H.push(` $${C.vehicleMaintenance}`),C.salary&&H.push(` $${C.salary}`),n.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("td",{className:"p-3 text-[var(--text-tertiary)]",children:new Date(C.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),n.jsxs("td",{className:"p-3",children:[n.jsx("div",{className:"font-bold text-[var(--text-primary)]",children:C.normCustomer||"-"}),C.normNote&&n.jsx("div",{className:"text-[10px] text-[var(--text-tertiary)] italic",children:C.normNote})]}),n.jsx("td",{className:"p-3 text-[var(--text-secondary)] font-bold",children:C.normSalesRep}),n.jsx("td",{className:"p-3 text-xs text-[var(--text-tertiary)]",children:H.join(", ")}),n.jsxs("td",{className:"p-3 text-right font-mono text-rose-600",children:["$",(C.rowTotal||0).toLocaleString()]}),n.jsxs("td",{className:"p-3 text-right font-mono font-bold text-emerald-600",children:["$",(Number(C.displayFinalTotal)||0).toLocaleString()]})]},$)})})]})]})})]})]})]})]})}function x4({user:e,apiUrl:t}){const[a,l]=S.useState([]),[s,r]=S.useState(!1),[i,c]=S.useState(""),[o,u]=S.useState(""),[p,m]=S.useState(Re()),[d,x]=S.useState(Re()),N=Ce.useCallback(async()=>{r(!0);try{const f=await ee(t,"getPurchaseHistory",{startDate:p,endDate:d},e.token);Array.isArray(f)&&l(f)}catch(f){console.error("Failed to fetch purchase history:",f)}finally{r(!1)}},[t,e.token,p,d]);S.useEffect(()=>{N()},[N]);const w=a.filter(f=>{const g=String(f.productName||"").toLowerCase(),h=String(f.vendorName||f.vendor||"").toLowerCase(),v=i.toLowerCase(),j=o.toLowerCase();return g.includes(v)&&h.includes(j)}),b=w.reduce((f,g)=>f+(Number(g.totalPrice)||0),0);return n.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:n.jsxs("div",{className:"glass-panel p-6",children:[n.jsxs("div",{className:"flex flex-row justify-between items-center mb-6 gap-2 md:gap-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(fd,{className:"text-[var(--accent-blue)] w-6 h-6 md:w-auto md:h-auto"}),n.jsx("span",{className:"whitespace-nowrap",children:""})]}),n.jsx("p",{className:"text-[var(--text-secondary)] text-xs md:text-sm mt-1 hidden md:block",children:""})]}),n.jsxs("div",{className:"px-3 md:px-5 py-2 md:py-3 rounded-xl border border-[var(--border-primary)] bg-[var(--bg-secondary)] flex items-center gap-2 md:gap-3",children:[n.jsx("div",{className:"p-1.5 md:p-2 rounded-full bg-[var(--bg-tertiary)] text-emerald-500",children:n.jsx(rt,{size:16,className:"md:w-5 md:h-5"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] md:text-xs text-[var(--text-secondary)] uppercase font-bold whitespace-nowrap",children:""}),n.jsxs("p",{className:"text-base md:text-xl font-bold text-emerald-500",children:["$",b.toLocaleString()]})]})]})]}),n.jsxs("div",{className:"md:hidden mb-6 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsx("input",{type:"date",className:"input-field flex-1 py-1.5 px-3",value:p,onChange:f=>m(f.target.value)})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsx("input",{type:"date",className:"input-field flex-1 py-1.5 px-3",value:d,onChange:f=>x(f.target.value)})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsx("div",{className:"relative flex-1",children:n.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full py-1.5 px-3",value:o,onChange:f=>u(f.target.value)})})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] whitespace-nowrap w-[70px]",children:":"}),n.jsx("div",{className:"relative flex-1",children:n.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full py-1.5 px-3",value:i,onChange:f=>c(f.target.value)})})]}),n.jsxs("button",{onClick:N,disabled:s,className:"btn-secondary w-full py-2 flex items-center justify-center gap-2 mt-2",children:[s?n.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-slate-500 border-t-transparent rounded-full"}):n.jsx(Ye,{size:18}),""]})]}),n.jsx("div",{className:"hidden md:block mb-6 p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)]",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[n.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),n.jsxs("div",{className:"relative",children:[n.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:i,onChange:f=>c(f.target.value)})]})]}),n.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),n.jsxs("div",{className:"relative",children:[n.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:o,onChange:f=>u(f.target.value)})]})]}),n.jsxs("div",{className:"w-full md:w-40 space-y-1.5",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),n.jsx("input",{type:"date",className:"input-field w-full text-sm",value:p,onChange:f=>m(f.target.value)})]}),n.jsxs("div",{className:"w-full md:w-40 space-y-1.5",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),n.jsx("input",{type:"date",className:"input-field w-full text-sm",value:d,onChange:f=>x(f.target.value)})]}),n.jsxs("button",{onClick:N,disabled:s,className:"btn-secondary h-[42px] flex items-center gap-2 whitespace-nowrap px-6",children:[n.jsx(Ye,{size:18,className:s?"animate-spin":""})," "]})]})}),n.jsx("div",{className:"md:hidden space-y-4",children:s?n.jsx("div",{className:"text-center py-10 text-[var(--text-secondary)]",children:"..."}):w.length>0?w.map((f,g)=>n.jsxs("div",{className:"bg-[var(--bg-secondary)] rounded-xl p-4 border border-[var(--border-primary)] shadow-sm space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-start border-b border-[var(--border-primary)] pb-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[n.jsx(ya,{size:14,className:"text-[var(--accent-blue)]"}),n.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:f.date?new Date(f.date).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}):"-"}),n.jsx("span",{className:"text-xs text-[var(--text-tertiary)]",children:f.date?new Date(f.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]}),n.jsxs("div",{className:"text-lg font-bold text-emerald-600 font-mono",children:["$",(Number(f.totalPrice)||0).toLocaleString()]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-y-3 gap-x-2 text-sm",children:[n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-xs text-[var(--text-tertiary)] block mb-0.5",children:""}),n.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:f.vendorName||f.vendor||"-"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("span",{className:"text-xs text-[var(--text-tertiary)] block mb-0.5",children:""}),n.jsx("span",{className:"font-bold text-[var(--text-primary)] text-base",children:f.productName})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-[var(--text-tertiary)] block mb-0.5",children:""}),n.jsx("span",{className:"font-mono text-blue-500 font-bold",children:f.quantity})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs text-[var(--text-tertiary)] block mb-0.5",children:""}),n.jsxs("span",{className:"font-mono text-[var(--text-secondary)]",children:["$",(Number(f.unitPrice)||0).toLocaleString()]})]})]}),n.jsxs("div",{className:"pt-2 border-t border-[var(--border-primary)] flex justify-between items-center text-xs",children:[n.jsxs("div",{className:"flex items-center gap-1 text-[var(--text-tertiary)] bg-[var(--bg-tertiary)] px-2 py-1 rounded",children:[n.jsx("span",{children:":"}),n.jsx("span",{className:"font-mono text-[var(--text-secondary)]",children:f.expiry?new Date(f.expiry).toLocaleDateString("zh-TW"):"-"})]}),n.jsxs("div",{className:"flex items-center gap-1 text-[var(--text-tertiary)]",children:[n.jsx(dn,{size:12}),n.jsx("span",{children:f.operator||"-"})]})]})]},g)):n.jsx("div",{className:"text-center py-10 text-[var(--text-secondary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:""})}),n.jsx("div",{className:"hidden md:block rounded-xl border border-[var(--border-primary)] overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-xs uppercase tracking-wider sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-primary)]",children:s?n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"p-20 text-center text-[var(--text-secondary)]",children:"..."})}):w.length>0?w.map((f,g)=>n.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2 text-[var(--text-secondary)]",children:[n.jsx(ya,{size:14,className:"text-[var(--text-tertiary)] group-hover:text-[var(--accent-blue)] transition-colors"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"font-medium text-[var(--text-secondary)]",children:f.date?new Date(f.date).toLocaleDateString("zh-TW"):"-"}),n.jsx("span",{className:"text-xs text-[var(--text-tertiary)]",children:f.date?new Date(f.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]})]})}),n.jsx("td",{className:"p-4 text-[var(--text-secondary)]",children:f.vendorName||f.vendor||"-"}),n.jsx("td",{className:"p-4 font-medium text-[var(--text-primary)]",children:f.productName}),n.jsx("td",{className:"p-4 text-right font-mono text-blue-500",children:f.quantity}),n.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)]",children:["$",(Number(f.unitPrice)||0).toLocaleString()]}),n.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-500",children:["$",(Number(f.totalPrice)||0).toLocaleString()]}),n.jsx("td",{className:"p-4 text-[var(--text-tertiary)] text-xs",children:f.expiry?new Date(f.expiry).toLocaleDateString("zh-TW"):"-"}),n.jsx("td",{className:"p-4 text-[var(--text-tertiary)]",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(dn,{size:12})," ",f.operator||"-"]})})]},g)):n.jsx("tr",{children:n.jsx("td",{colSpan:"8",className:"p-20 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx(Is,{size:32,className:"text-[var(--text-secondary)]"}),n.jsx("p",{className:"text-[var(--text-secondary)]",children:""})]})})})})]})})})]})})}function m4({user:e,apiUrl:t}){const[a,l]=S.useState([]),[s,r]=S.useState(!1),[i,c]=S.useState(""),[o,u]=S.useState("ALL"),[p,m]=S.useState(Re()),[d,x]=S.useState(Re()),N=Ce.useCallback(async()=>{r(!0);try{const b=await ee(t,"getAdjustmentHistory",{startDate:p,endDate:d,productName:i},e.token);Array.isArray(b)&&l(b)}catch(b){console.error("Failed to fetch adjustment history:",b)}finally{r(!1)}},[t,e.token,p,d,i]);S.useEffect(()=>{N()},[N]);const w=a.filter(b=>{const f=String(b.productName||"").toLowerCase().includes(i.toLowerCase()),g=o==="ALL"||b.type===o;return f&&g});return n.jsx("div",{className:"max-w-7xl mx-auto p-4 md:p-6 animate-in fade-in duration-500",children:n.jsxs("div",{className:"glass-panel p-4 md:p-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 pb-6 border-b border-[var(--border-primary)] gap-4",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/10 flex items-center justify-center shrink-0",children:n.jsx(fl,{className:"text-blue-500",size:24})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)]",children:""}),n.jsx("p",{className:"text-[var(--text-tertiary)] text-xs mt-0.5",children:""})]})]}),n.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[n.jsxs("div",{className:"flex-1 md:flex-none glass-panel px-4 py-2 bg-[var(--bg-secondary)] border-[var(--border-primary)] flex flex-col items-center justify-center",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] uppercase font-bold tracking-wider",children:""}),n.jsx("p",{className:"text-xl font-bold text-blue-500",children:w.length})]}),n.jsxs("button",{onClick:N,disabled:s,className:"btn-secondary h-[46px] px-6 flex items-center justify-center gap-2 whitespace-nowrap",children:[n.jsx(Ye,{size:18,className:s?"animate-spin":""}),n.jsx("span",{children:""})]})]})]}),n.jsx("div",{className:"mb-6 p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)]",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),n.jsxs("div",{className:"relative",children:[n.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:16}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-9 w-full h-10",value:i,onChange:b=>c(b.target.value)})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),n.jsxs("select",{value:o,onChange:b=>u(b.target.value),className:"input-field w-full h-10 px-2",children:[n.jsx("option",{value:"ALL",children:""}),n.jsx("option",{value:"SCRAP",children:""}),n.jsx("option",{value:"RETURN",children:""}),n.jsx("option",{value:"LOSS",children:""}),n.jsx("option",{value:"OTHER",children:""})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),n.jsx("input",{type:"date",className:"input-field w-full h-10",value:p,onChange:b=>m(b.target.value)})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),n.jsx("input",{type:"date",className:"input-field w-full h-10",value:d,onChange:b=>x(b.target.value)})]})]})}),n.jsx("div",{className:"hidden md:block rounded-xl border border-[var(--border-primary)] overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-tertiary)] text-[10px] uppercase tracking-wider sticky top-0 font-bold",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3",children:"/"}),n.jsx("th",{className:"px-4 py-3",children:""}),n.jsx("th",{className:"px-4 py-3",children:""}),n.jsx("th",{className:"px-4 py-3 text-right",children:""}),n.jsx("th",{className:"px-4 py-3",children:"/"}),n.jsx("th",{className:"px-4 py-3",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-primary)]",children:s?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"p-20 text-center text-[var(--text-tertiary)]",children:"..."})}):w.length>0?w.map((b,f)=>{const g={SCRAP:"",RETURN:"",LOSS:"",OTHER:""};return n.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex flex-col gap-0.5",children:[n.jsxs("div",{className:"flex items-center gap-1.5 text-[var(--text-secondary)] font-medium",children:[n.jsx(ya,{size:12,className:"text-[var(--text-tertiary)]"}),n.jsx("span",{children:b.date?new Date(b.date).toLocaleDateString("zh-TW"):"-"})]}),n.jsx("span",{className:"text-[11px] text-[var(--text-tertiary)] font-mono ml-4.5",children:b.date?new Date(b.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]})}),n.jsx("td",{className:"px-4 py-3 font-bold text-[var(--text-primary)]",children:b.productName}),n.jsx("td",{className:"px-4 py-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold ${b.type==="SCRAP"?"bg-rose-50 text-rose-600 border border-rose-100":b.type==="RETURN"?"bg-blue-50 text-blue-600 border border-blue-100":b.type==="LOSS"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] border border-[var(--border-primary)]"}`,children:g[b.type]||b.type})}),n.jsxs("td",{className:"px-4 py-3 text-right font-mono font-bold text-rose-500",children:["-",b.quantity]}),n.jsx("td",{className:"px-4 py-3 text-[var(--text-secondary)] text-xs max-w-xs truncate",title:b.note,children:b.note||"-"}),n.jsx("td",{className:"px-4 py-3 text-[var(--text-tertiary)] text-xs font-medium",children:b.operator||"-"})]},f)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"p-20 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx(Is,{size:32,className:"text-[var(--text-tertiary)] opacity-30"}),n.jsx("p",{className:"text-[var(--text-secondary)] font-medium",children:""})]})})})})]})})}),n.jsx("div",{className:"md:hidden space-y-3",children:s?n.jsx("div",{className:"text-center py-10 text-[var(--text-tertiary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:"..."}):w.length>0?w.map((b,f)=>{const g={SCRAP:"",RETURN:"",LOSS:"",OTHER:""};return n.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] p-3 shadow-sm flex flex-col gap-2",children:[n.jsxs("div",{className:"flex justify-between items-start border-b border-[var(--border-primary)] pb-2",children:[n.jsxs("div",{className:"flex flex-col gap-0.5",children:[n.jsxs("span",{className:"text-[var(--text-tertiary)] text-[10px] font-mono flex items-center gap-1",children:[n.jsx(ya,{size:10}),b.date?new Date(b.date).toLocaleDateString("zh-TW"):"-",n.jsx("span",{className:"ml-1",children:b.date?new Date(b.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]}),n.jsx("span",{className:`self-start px-2 py-0.5 rounded text-[10px] font-bold mt-1 ${b.type==="SCRAP"?"bg-rose-50 text-rose-600 border border-rose-100":b.type==="RETURN"?"bg-blue-50 text-blue-600 border border-blue-100":b.type==="LOSS"?"bg-amber-50 text-amber-600 border border-amber-100":"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] border border-[var(--border-primary)]"}`,children:g[b.type]||b.type})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase tracking-tighter",children:""}),n.jsxs("div",{className:"font-mono font-bold text-rose-500 text-base",children:["-",b.quantity]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"font-bold text-[var(--text-primary)]",children:b.productName}),n.jsxs("div",{className:"flex justify-between items-end gap-3",children:[n.jsxs("div",{className:"bg-[var(--bg-secondary)] p-2 rounded-lg flex-1 min-w-0",children:[n.jsx("span",{className:"text-[9px] text-[var(--text-tertiary)] font-bold uppercase block mb-0.5 tracking-wider",children:"/"}),n.jsx("p",{className:"text-xs text-[var(--text-secondary)] truncate",children:b.note||"-"})]}),n.jsxs("div",{className:"text-right shrink-0",children:[n.jsx("span",{className:"text-[9px] text-[var(--text-tertiary)] font-bold uppercase block mb-0.5 tracking-wider",children:""}),n.jsx("span",{className:"text-xs font-bold text-[var(--text-secondary)]",children:b.operator||"-"})]})]})]})]},f)}):n.jsxs("div",{className:"text-center py-10 text-[var(--text-tertiary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:[n.jsx(Is,{size:24,className:"mx-auto mb-2 opacity-30"}),n.jsx("p",{className:"text-sm font-medium",children:""})]})})]})})}function p4({user:e,apiUrl:t}){const[a,l]=S.useState([]),[s,r]=S.useState(!1),[i,c]=S.useState(""),o=async()=>{r(!0);try{const d=await ee(t,"getInventoryValuation",{},e.token);if(console.log("Inventory Valuation Data:",d),Array.isArray(d)){const x=er(d,"name");l(x)}else console.error("Valuation data is not an array:",d),l([])}catch(d){console.error("Failed to fetch valuation:",d),alert(": "+d.message)}finally{r(!1)}};S.useEffect(()=>{e!=null&&e.token&&o()},[e.token,t]);const u=a.filter(d=>String(d.name||"").toLowerCase().includes(i.toLowerCase())),p=u.reduce((d,x)=>d+(Number(x.totalValue)||0),0),m=u.reduce((d,x)=>d+(Number(x.totalQty)||0),0);return n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(rt,{className:"text-amber-500"})," "]}),n.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:""})]}),n.jsxs("div",{className:"flex w-full md:w-auto gap-3",children:[n.jsxs("div",{className:"flex-1 bg-[var(--bg-secondary)] px-3 py-3 border border-[var(--border-primary)] rounded-xl shadow-sm text-center",children:[n.jsx("p",{className:"text-xs text-[var(--text-secondary)] uppercase font-bold",children:""}),n.jsxs("p",{className:"text-xl md:text-2xl font-bold text-amber-500 flex justify-center items-baseline gap-1",children:[n.jsx("span",{className:"text-sm opacity-50",children:"$"}),p.toLocaleString()]})]}),n.jsxs("div",{className:"flex-1 bg-[var(--bg-secondary)] px-3 py-3 border border-[var(--border-primary)] rounded-xl shadow-sm text-center",children:[n.jsx("p",{className:"text-xs text-[var(--text-secondary)] uppercase font-bold",children:""}),n.jsx("p",{className:"text-xl md:text-2xl font-bold text-blue-500",children:m.toLocaleString()})]})]})]}),n.jsxs("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] flex gap-4 items-center shadow-sm",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-[var(--bg-primary)]",value:i,onChange:d=>c(d.target.value)})]}),n.jsxs("button",{onClick:o,disabled:s,className:"btn-secondary h-[42px] px-4 flex items-center gap-2",children:[n.jsx(Ye,{size:18,className:s?"animate-spin":""})," "]})]}),n.jsx("div",{className:"hidden md:block bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] overflow-hidden shadow-sm",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-xs uppercase tracking-wider sticky top-0 font-bold border-b border-[var(--border-primary)]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-right",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:s?n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"p-20 text-center text-[var(--text-secondary)]",children:"..."})}):u.length>0?u.map((d,x)=>{const N=Number(d.totalQty)||0,w=Number(d.totalValue)||0,b=N>0?w/N:0,f=p>0?w/p*100:0;return n.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("td",{className:"p-4 font-medium text-[var(--text-primary)]",children:d.name}),n.jsx("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)]",children:N.toLocaleString()}),n.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)]",children:["$",b.toFixed(2)]}),n.jsxs("td",{className:"p-4 text-right font-mono font-bold text-amber-500",children:["$",w.toLocaleString()]}),n.jsx("td",{className:"p-4 text-right w-24",children:n.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[n.jsxs("span",{className:"text-xs text-[var(--text-secondary)] w-8",children:[f.toFixed(1),"%"]}),n.jsx("div",{className:"w-12 h-1.5 bg-[var(--bg-tertiary)] rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-amber-500",style:{width:`${Math.min(f,100)}%`}})})]})})]},x)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"p-20 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx(Wa,{size:32,className:"text-[var(--text-secondary)]"}),n.jsx("p",{className:"text-[var(--text-secondary)]",children:""})]})})})})]})})}),n.jsx("div",{className:"md:hidden space-y-4",children:s?n.jsx("div",{className:"text-center py-8 text-[var(--text-secondary)]",children:"..."}):u.length>0?u.map((d,x)=>{const N=Number(d.totalQty)||0,w=Number(d.totalValue)||0,b=N>0?w/N:0,f=p>0?w/p*100:0;return n.jsxs("div",{className:"bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] p-4 shadow-sm flex flex-col gap-3",children:[n.jsxs("div",{className:"flex justify-between items-start border-b border-[var(--border-primary)] pb-2",children:[n.jsx("h3",{className:"font-bold text-[var(--text-primary)] text-lg",children:d.name}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs text-[var(--text-tertiary)]",children:""}),n.jsxs("div",{className:"font-bold text-amber-500 text-lg font-mono",children:["$",w.toLocaleString()]})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[n.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-2 rounded-lg",children:[n.jsx("div",{className:"text-xs text-[var(--text-tertiary)] mb-1",children:""}),n.jsx("div",{className:"font-mono font-bold text-[var(--text-primary)]",children:N.toLocaleString()})]}),n.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-2 rounded-lg",children:[n.jsx("div",{className:"text-xs text-[var(--text-tertiary)] mb-1",children:""}),n.jsxs("div",{className:"font-mono text-[var(--text-secondary)]",children:["$",b.toFixed(0)]})]}),n.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-2 rounded-lg",children:[n.jsx("div",{className:"text-xs text-[var(--text-tertiary)] mb-1",children:""}),n.jsxs("div",{className:"font-mono text-[var(--text-secondary)]",children:[f.toFixed(1),"%"]})]})]}),n.jsx("div",{className:"w-full h-1.5 bg-[var(--bg-tertiary)] rounded-full overflow-hidden mt-1",children:n.jsx("div",{className:"h-full bg-amber-500 transition-all duration-500",style:{width:`${Math.min(f,100)}%`}})})]},x)}):n.jsxs("div",{className:"text-center py-8 text-[var(--text-secondary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:[n.jsx(Wa,{size:24,className:"mx-auto mb-2 text-[var(--text-tertiary)]"}),n.jsx("p",{children:""})]})})]})}function h4({user:e,apiUrl:t,logActivity:a}){const[l,s]=S.useState([]),[r,i]=S.useState({}),[c,o]=S.useState(!0),[u,p]=S.useState(!1),[m,d]=S.useState(""),[x,N]=S.useState(!1),w=S.useCallback(U=>`${U.productName}-${U.type}`,[]),b=S.useCallback(async()=>{o(!0);try{const U=await ee(t,"getInventory",{},e.token);if(Array.isArray(U)){const V={};U.forEach(z=>{const G=`${z.productName}-${z.type}`;V[G]?V[G].quantity+=Number(z.quantity)||0:V[G]={...z,quantity:Number(z.quantity)||0,batchId:"aggregated",id:z.productId||z.id}});const te=Object.values(V),ae=er(te,"productName");s(ae);const L={};ae.forEach(z=>{z.type==="STOCK"&&(L[w(z)]={physicalQty:"",reason:"",accountability:""})}),i(L)}}catch(U){console.error("Failed to fetch inventory for stocktake:",U),alert("")}finally{o(!1)}},[t,e.token,w]);S.useEffect(()=>{e!=null&&e.token&&b()},[e.token,b]);const f=(U,V,te)=>{i(ae=>({...ae,[U]:{...ae[U],[V]:te}}))},g=U=>{var te;const V=document.getElementById(U);V&&(V.focus(),(te=V.select)==null||te.call(V),V.scrollIntoView({block:"nearest",behavior:"smooth"}))},h=(U,V,te,ae,L=!1)=>{const z=ae[V],G=w(z),C=r[G]||{},$=v(z.quantity,C.physicalQty),H=C.physicalQty!==""&&$!==0,ne=["qty","reason","acc"],F=ne.indexOf(te),re=L?"m-":"";U.key==="ArrowRight"||U.key==="Enter"&&!U.shiftKey?(U.preventDefault(),te==="qty"&&!H?V<ae.length-1&&g(`${re}qty-${w(ae[V+1])}`):F<ne.length-1?g(`${re}${ne[F+1]}-${G}`):V<ae.length-1&&g(`${re}qty-${w(ae[V+1])}`)):U.key==="ArrowLeft"?(U.preventDefault(),F>0&&g(`${re}${ne[F-1]}-${G}`)):U.key==="ArrowDown"?(U.preventDefault(),V<ae.length-1&&g(`${re}${te}-${w(ae[V+1])}`)):U.key==="ArrowUp"&&(U.preventDefault(),V>0&&g(`${re}${te}-${w(ae[V-1])}`))},v=(U,V)=>V===""||V===void 0?0:Number(V)-Number(U),j=()=>l.filter(U=>{if(U.type!=="STOCK")return!1;const V=r[w(U)];return V&&V.physicalQty!==""}).map(U=>{const V=r[w(U)],te=v(U.quantity,V.physicalQty);return{productId:U.id,productName:U.productName,bookQty:Number(U.quantity),physicalQty:Number(V.physicalQty),diff:te,reason:V.reason,accountability:V.accountability,batchId:U.batchId||""}}),y=async()=>{var ae,L;const U=l.filter(z=>{if(z.type!=="STOCK"||Number(z.quantity)===0)return!1;const G=w(z),C=r[G];return!C||C.physicalQty===""||C.physicalQty===void 0});if(U.length>0){alert(` ${U.length} 
`);const z=w(U[0]);g(`qty-${z}`);return}const V=j();V.length===0&&l.some(z=>z.type==="STOCK");const te=V.find(z=>z.diff!==0&&(!z.reason||!z.accountability));if(te){alert(`${te.productName}`);const z=w(te);r[z].reason?(L=document.getElementById(`acc-${z}`))==null||L.focus():(ae=document.getElementById(`reason-${z}`))==null||ae.focus();return}if(confirm(` ${V.length} `)){p(!0);try{await ee(t,"saveStocktake",{date:Re(),items:V,operator:e.username},e.token),a&&a({actionType:"DATA_EDIT",page:"",details:JSON.stringify({itemCount:V.length,hasDifferences:V.some(z=>z.diff!==0),totalDiff:V.reduce((z,G)=>z+Math.abs(G.diff),0)})}),alert(""),i({}),await b()}catch(z){console.error("Stocktake submit failed:",z),alert(": "+z.message)}finally{p(!1)}}},D=l.filter(U=>!U||!x&&(Number(U.quantity)||0)===0?!1:String(U.productName||"").toLowerCase().includes(m.toLowerCase())),E=D.filter(U=>U.type==="STOCK"),O=D.filter(U=>U.type!=="STOCK"),B=(U,V,te,ae,L)=>n.jsxs("div",{className:"hidden md:flex bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] p-6 flex-col shadow-sm",children:[n.jsxs("h3",{className:`text-lg font-bold mb-4 flex items-center gap-2 ${ae}`,children:[n.jsx(te,{size:20})," ",V,!L&&n.jsx("span",{className:"text-xs text-[var(--text-secondary)] font-normal ml-2",children:""})]}),n.jsx("div",{className:"rounded-lg border border-[var(--border-primary)] overflow-hidden",children:n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-xs uppercase font-bold border-b border-[var(--border-primary)]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),L&&n.jsxs(n.Fragment,{children:[n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-center",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4",children:""})]})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:c?n.jsx("tr",{children:n.jsx("td",{colSpan:L?"6":"2",className:"p-6 text-center text-[var(--text-secondary)]",children:"..."})}):U.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:L?"6":"2",className:"p-6 text-center text-[var(--text-secondary)]",children:""})}):U.map((z,G)=>{if(!z)return null;const C=w(z),$=r[C]||{physicalQty:"",reason:"",accountability:e.username||""},H=v(z.quantity,$.physicalQty),ne=!L&&Number(z.quantity)>0;return n.jsxs("tr",{className:`hover:bg-[var(--bg-hover)] transition-colors ${L&&H!==0&&$.physicalQty!==""?"bg-amber-500/10":ne?"bg-orange-500/10 border-l-4 border-orange-500":""}`,children:[n.jsx("td",{className:`p-4 font-medium ${ne?"text-orange-600 font-bold":"text-[var(--text-primary)]"}`,children:z.productName||""}),n.jsx("td",{className:`p-4 text-right font-mono ${ne?"text-orange-500 font-bold text-lg":"text-[var(--text-secondary)]"}`,children:z.quantity}),L&&n.jsxs(n.Fragment,{children:[n.jsx("td",{className:"p-4",children:n.jsx("input",{id:`qty-${C}`,type:"number",className:`input-field w-full text-right font-mono ${H!==0&&$.physicalQty!==""?"border-red-500 text-red-500":""}`,placeholder:"0",value:$.physicalQty,onChange:F=>f(C,"physicalQty",F.target.value),onKeyDown:F=>h(F,G,"qty",U),onWheel:F=>F.target.blur()})}),n.jsx("td",{className:"p-4 text-center",children:n.jsxs("span",{className:`inline-flex items-center gap-1 font-mono font-bold ${$.physicalQty===""||H===0?"text-green-500":"text-red-500 underline"}`,children:[$.physicalQty!==""?H>0?`+${H}`:H:0,$.physicalQty!==""&&H!==0&&n.jsx(vl,{size:12})]})}),n.jsx("td",{className:"p-4",children:n.jsx("input",{id:`reason-${C}`,type:"text",disabled:$.physicalQty===""||H===0,className:`input-field w-full text-xs transition-all ${$.physicalQty!==""&&H!==0?"":"bg-[var(--bg-tertiary)] cursor-not-allowed opacity-50"}`,placeholder:H!==0&&$.physicalQty!==""?"...":"-",value:$.reason,onChange:F=>f(C,"reason",F.target.value),onKeyDown:F=>h(F,G,"reason",U)})}),n.jsx("td",{className:"p-4",children:n.jsx("input",{id:`acc-${C}`,type:"text",disabled:$.physicalQty===""||H===0,className:`input-field w-full text-xs transition-all ${$.physicalQty!==""&&H!==0?"":"bg-[var(--bg-tertiary)] cursor-not-allowed opacity-50"}`,placeholder:H!==0&&$.physicalQty!==""?"...":"-",value:$.accountability,onChange:F=>f(C,"accountability",F.target.value),onKeyDown:F=>h(F,G,"acc",U)})})]})]},C)})})]})})]}),X=(U,V,te,ae,L)=>n.jsxs("div",{className:"md:hidden flex flex-col gap-4",children:[n.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${ae} px-1`,children:[n.jsx(te,{size:20})," ",V,!L&&n.jsx("span",{className:"text-xs text-slate-500 font-normal ml-2",children:""})]}),n.jsx("div",{className:"space-y-4",children:c?n.jsx("div",{className:"text-center py-8 text-[var(--text-secondary)]",children:"..."}):U.length===0?n.jsx("div",{className:"text-center py-8 text-[var(--text-secondary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:""}):U.map((z,G)=>{if(!z)return null;const C=w(z),$=r[C]||{physicalQty:"",reason:"",accountability:e.username||""},H=v(z.quantity,$.physicalQty),ne=$.physicalQty!==""&&H!==0,F=!L&&Number(z.quantity)>0;return n.jsxs("div",{className:`bg-[var(--bg-secondary)] rounded-xl p-4 border shadow-sm space-y-3 ${L&&ne?"border-amber-500/30 bg-amber-500/5":F?"border-orange-500/30 bg-orange-500/5":"border-[var(--border-primary)]"}`,children:[n.jsxs("div",{className:"flex justify-between items-start border-b border-[var(--border-primary)] pb-2",children:[n.jsx("span",{className:`font-bold text-lg ${F?"text-orange-600":"text-[var(--text-primary)]"}`,children:z.productName||""}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:""}),n.jsx("span",{className:`font-mono text-lg font-bold ${F?"text-orange-500":"text-[var(--text-secondary)]"}`,children:z.quantity})]})]}),L&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-sm font-bold text-[var(--text-secondary)] min-w-[70px]",children:":"}),n.jsx("input",{id:`m-qty-${C}`,type:"number",className:`input-field flex-1 text-right font-mono py-2 ${ne?"border-red-500 text-red-500":""}`,placeholder:"",value:$.physicalQty,onChange:re=>f(C,"physicalQty",re.target.value),onKeyDown:re=>h(re,G,"qty",U,!0)}),n.jsx("div",{className:"w-12 text-right",children:n.jsx("span",{className:`font-mono font-bold ${$.physicalQty===""||!ne?"text-slate-300":"text-red-500"}`,children:$.physicalQty!==""?H>0?`+${H}`:H:"-"})})]}),ne&&n.jsxs("div",{className:"bg-[var(--bg-tertiary)] p-3 rounded-lg border border-amber-500/20 space-y-3",children:[n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("label",{className:"text-xs font-bold text-[var(--text-secondary)]",children:""}),n.jsx("input",{id:`m-reason-${C}`,type:"text",className:"input-field w-full text-sm",placeholder:"...",value:$.reason,onChange:re=>f(C,"reason",re.target.value),onKeyDown:re=>h(re,G,"reason",U,!0)})]}),n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("label",{className:"text-xs font-bold text-slate-500",children:""}),n.jsx("input",{id:`m-acc-${C}`,type:"text",className:"input-field w-full text-sm",placeholder:"",value:$.accountability,onChange:re=>f(C,"accountability",re.target.value),onKeyDown:re=>h(re,G,"acc",U,!0)})]})]})]})]},C)})})]});return n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)] relative",children:[u&&n.jsxs("div",{className:"loading-overlay",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:"..."})]}),n.jsxs("div",{className:"hidden md:flex flex-col gap-6 shrink-0",children:[n.jsxs("div",{className:"flex justify-between items-center gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(Ys,{className:"text-blue-600"})," "]}),n.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:""})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:b,className:"btn-secondary h-[42px] px-4",title:"",children:n.jsx(Oi,{size:18})}),n.jsx("button",{onClick:y,disabled:u,className:"btn-primary h-[42px] px-6 flex items-center gap-2",children:u?"...":n.jsxs(n.Fragment,{children:[n.jsx(Vs,{size:18})," "]})})]})]}),n.jsxs("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] flex gap-4 items-center",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:m,onChange:U=>d(U.target.value)})]}),n.jsx("div",{className:"flex items-center gap-3 bg-[var(--bg-primary)] p-2 px-4 rounded-xl border border-[var(--border-primary)] shadow-sm shrink-0",children:n.jsxs("label",{className:"text-sm font-bold text-[var(--text-secondary)] flex items-center gap-2 cursor-pointer",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:x,onChange:U=>N(U.target.checked)})," 0 "]})})]})]}),n.jsxs("div",{className:"md:hidden flex flex-col gap-3 shrink-0",children:[n.jsxs("h1",{className:"text-xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(Ys,{className:"text-blue-600"})," "]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:m,onChange:U=>d(U.target.value)})]}),n.jsx("button",{onClick:b,className:"btn-secondary px-3 flex items-center justify-center shrink-0",title:"",children:n.jsx(Oi,{size:20})})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("div",{className:"flex-1 flex items-center justify-center gap-2 bg-[var(--bg-secondary)] px-3 py-2 rounded-xl border border-[var(--border-primary)] shadow-sm",children:[n.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:x,onChange:U=>N(U.target.checked)}),n.jsx("span",{className:"text-xs font-bold text-[var(--text-secondary)]",children:" 0 "})]}),n.jsx("button",{onClick:y,disabled:u,className:"btn-primary flex-1 py-2 flex items-center justify-center gap-2 text-sm",children:u?"...":n.jsxs(n.Fragment,{children:[n.jsx(Vs,{size:16})," "]})})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-6 pb-6 w-full",children:[B(E,"",Rn,"text-blue-600",!0),X(E,"",Rn,"text-blue-600",!0),B(O,"/",ki,"text-orange-600",!1),X(O,"/",ki,"text-orange-600",!1)]})]})}function y4({user:e,apiUrl:t}){const[a,l]=S.useState([]),[s,r]=S.useState(!1),[i,c]=S.useState(""),[o,u]=S.useState(!0),[p,m]=S.useState(Re()),[d,x]=S.useState(Re()),N=Ce.useCallback(async()=>{r(!0);try{const h=await ee(t,"getStocktakeHistory",{startDate:p,endDate:d,productName:i,diffOnly:o},e.token);Array.isArray(h)&&l(h)}catch(h){console.error("Failed to fetch stocktake history:",h)}finally{r(!1)}},[t,e.token,p,d,i,o]);S.useEffect(()=>{N()},[N]),S.useEffect(()=>{const h=()=>{if(document.hidden)return;const v=Re();if(p===d&&p!==v){const j=new Date;j.setDate(j.getDate()-1);const y=`${j.getFullYear()}-${String(j.getMonth()+1).padStart(2,"0")}-${String(j.getDate()).padStart(2,"0")}`;p===y&&(console.log("Detected stale date (yesterday), auto-updating to today:",v),m(v),x(v))}};return window.addEventListener("focus",h),document.addEventListener("visibilitychange",h),()=>{window.removeEventListener("focus",h),document.removeEventListener("visibilitychange",h)}},[p,d]);const w=a.filter(h=>String(h.productName||"").toLowerCase().includes(i.toLowerCase())),b=w.length,f=w.filter(h=>h.diff!==0).length,g=w.filter(h=>h.diff===0).length;return n.jsx("div",{className:"max-w-7xl mx-auto p-4 md:p-6 animate-in fade-in duration-500",children:n.jsxs("div",{className:"glass-panel p-4 md:p-6 text-[var(--text-primary)]",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-[var(--border-primary)] pb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-500/10 flex items-center justify-center shrink-0",children:n.jsx(fl,{className:"text-blue-500",size:24})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)]",children:""}),n.jsx("p",{className:"text-[var(--text-tertiary)] text-xs mt-0.5",children:""})]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 w-full md:w-auto md:flex md:gap-3",children:[n.jsxs("div",{className:"px-3 py-2 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)] flex flex-col items-center justify-center min-w-[80px]",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] uppercase font-bold tracking-wider",children:""}),n.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:b})]}),n.jsxs("div",{className:"px-3 py-2 rounded-xl bg-rose-50 border border-rose-100 flex flex-col items-center justify-center min-w-[80px]",children:[n.jsx("p",{className:"text-[10px] text-rose-500 uppercase font-bold tracking-wider",children:""}),n.jsx("p",{className:"text-lg font-bold text-rose-600",children:f})]}),n.jsxs("div",{className:"px-3 py-2 rounded-xl bg-emerald-50 border border-emerald-100 flex flex-col items-center justify-center min-w-[80px]",children:[n.jsx("p",{className:"text-[10px] text-emerald-500 uppercase font-bold tracking-wider",children:""}),n.jsx("p",{className:"text-lg font-bold text-emerald-600",children:g})]})]})]}),n.jsx("div",{className:"mb-6 p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)]",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 lg:grid-cols-12 gap-4 items-end",children:[n.jsxs("div",{className:"md:col-span-2 lg:col-span-4 space-y-1.5 w-full",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),n.jsxs("div",{className:"relative",children:[n.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:16}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full h-10",value:i,onChange:h=>c(h.target.value)})]})]}),n.jsxs("div",{className:"md:col-span-1 lg:col-span-2 space-y-1.5",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),n.jsx("input",{type:"date",className:"input-field w-full h-10",value:p,onChange:h=>m(h.target.value)})]}),n.jsxs("div",{className:"md:col-span-1 lg:col-span-2 space-y-1.5",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase px-1 tracking-wider",children:""}),n.jsx("input",{type:"date",className:"input-field w-full h-10",value:d,onChange:h=>x(h.target.value)})]}),n.jsxs("div",{className:"md:col-span-2 lg:col-span-3 flex items-center gap-2",children:[n.jsxs("label",{className:"flex-1 flex items-center gap-2 px-3 py-2 rounded-xl bg-[var(--bg-primary)] border border-[var(--border-primary)] cursor-pointer hover:bg-[var(--bg-hover)] transition-colors h-10",children:[n.jsx("input",{type:"checkbox",checked:o,onChange:h=>u(h.target.checked),className:"w-4 h-4 rounded border-[var(--border-primary)] text-blue-500 focus:ring-blue-500"}),n.jsx("span",{className:"text-[11px] text-[var(--text-secondary)] font-bold whitespace-nowrap",children:""})]}),n.jsxs("button",{onClick:N,disabled:s,className:"btn-secondary h-10 px-4 flex items-center gap-2 whitespace-nowrap",children:[n.jsx(Ye,{size:16,className:s?"animate-spin":""})," "]})]})]})}),n.jsx("div",{className:"hidden md:block rounded-xl border border-[var(--border-primary)] overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-tertiary)] text-[10px] uppercase tracking-wider sticky top-0 font-bold",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-4 py-3",children:""}),n.jsx("th",{className:"px-4 py-3",children:""}),n.jsx("th",{className:"px-4 py-3 text-right",children:"/"}),n.jsx("th",{className:"px-4 py-3 text-center",children:""}),n.jsx("th",{className:"px-4 py-3",children:"/"}),n.jsx("th",{className:"px-4 py-3",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-primary)]",children:s?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"p-20 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(Ye,{className:"animate-spin text-blue-500"}),n.jsx("span",{className:"text-[var(--text-tertiary)] text-sm",children:"..."})]})})}):w.length>0?w.map((h,v)=>n.jsxs("tr",{className:`hover:bg-[var(--bg-hover)] transition-colors group ${h.diff!==0?"bg-amber-50/30":""}`,children:[n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex items-center gap-1.5 text-[var(--text-tertiary)] font-mono text-[11px]",children:[n.jsx(ya,{size:10}),h.date]})}),n.jsx("td",{className:"px-4 py-3 font-bold text-[var(--text-primary)]",children:h.productName}),n.jsx("td",{className:"px-4 py-3 text-right",children:n.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[n.jsxs("span",{className:"text-[10px] text-[var(--text-tertiary)] font-mono",children:[": ",h.bookQty]}),n.jsxs("span",{className:"text-sm text-blue-600 font-bold font-mono",children:[": ",h.physicalQty]})]})}),n.jsx("td",{className:"px-4 py-3 text-center",children:h.diff===0?n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-bold border border-emerald-100",children:[n.jsx(ud,{size:10})," 0"]}):n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold border ${h.diff>0?"bg-blue-50 text-blue-600 border-blue-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:[n.jsx(vl,{size:10}),h.diff>0?`+${h.diff}`:h.diff]})}),n.jsx("td",{className:"px-4 py-3",children:n.jsxs("div",{className:"flex flex-col gap-0.5 max-w-[150px]",children:[n.jsx("p",{className:"text-[11px] text-[var(--text-secondary)] truncate",title:h.reason,children:h.reason||"-"}),n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold",children:h.accountability||"-"})]})}),n.jsx("td",{className:"px-4 py-3 text-[var(--text-tertiary)] text-xs font-medium",children:h.operator||"-"})]},v)):n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"p-20 text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-3",children:[n.jsx(Is,{size:32,className:"text-[var(--text-tertiary)] opacity-30"}),n.jsx("p",{className:"text-[var(--text-secondary)] font-medium",children:""})]})})})})]})})}),n.jsx("div",{className:"md:hidden space-y-3",children:s?n.jsx("div",{className:"text-center py-10 text-[var(--text-tertiary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:"..."}):w.length>0?w.map((h,v)=>n.jsxs("div",{className:`bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] p-3 shadow-sm flex flex-col gap-2 ${h.diff!==0?"bg-amber-50/20":""}`,children:[n.jsxs("div",{className:"flex justify-between items-start border-b border-[var(--border-primary)] pb-2",children:[n.jsxs("div",{className:"flex flex-col gap-0.5",children:[n.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-[var(--text-tertiary)] font-mono uppercase tracking-wider",children:[n.jsx(ya,{size:10}),h.date]}),n.jsx("h3",{className:"font-bold text-[var(--text-primary)] text-base",children:h.productName})]}),n.jsx("div",{className:"text-right",children:n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold border ${h.diff===0?"bg-emerald-50 text-emerald-600 border-emerald-100":h.diff>0?"bg-blue-50 text-blue-600 border-blue-100":"bg-rose-50 text-rose-600 border-rose-100"}`,children:[h.diff===0?n.jsx(ud,{size:10}):n.jsx(vl,{size:10}),h.diff>0?`+${h.diff}`:h.diff]})})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center bg-[var(--bg-secondary)] p-2 rounded-lg",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[9px] text-[var(--text-tertiary)] font-bold uppercase tracking-wider",children:""}),n.jsx("div",{className:"font-mono font-medium text-[var(--text-secondary)]",children:h.bookQty})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[9px] text-[var(--text-tertiary)] font-bold uppercase tracking-wider",children:""}),n.jsx("div",{className:"font-mono font-bold text-blue-600 tracking-tighter",children:h.physicalQty})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[9px] text-[var(--text-tertiary)] font-bold uppercase tracking-wider",children:""}),n.jsx("div",{className:`font-mono font-bold ${h.diff===0?"text-emerald-600":"text-rose-600"}`,children:h.diff})]})]}),(h.reason||h.accountability)&&n.jsxs("div",{className:"text-xs bg-[var(--bg-secondary)] p-2 rounded-lg text-[var(--text-secondary)] space-y-1 border border-[var(--border-primary)]",children:[h.reason&&n.jsxs("div",{children:[n.jsx("span",{className:"text-[var(--text-tertiary)] font-bold mr-2 uppercase text-[9px]",children:":"}),h.reason]}),h.accountability&&n.jsxs("div",{children:[n.jsx("span",{className:"text-[var(--text-tertiary)] font-bold mr-2 uppercase text-[9px]",children:":"}),h.accountability]})]}),n.jsx("div",{className:"flex justify-between items-center text-[10px] text-[var(--text-tertiary)] pt-1",children:n.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[": ",n.jsx("span",{className:"text-[var(--text-secondary)] font-bold",children:h.operator||"-"})]})})]},v)):n.jsxs("div",{className:"text-center py-10 text-[var(--text-tertiary)] bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:[n.jsx(Is,{size:24,className:"mx-auto mb-2 opacity-30"}),n.jsx("p",{className:"text-sm font-medium",children:""})]})})]})})}function b4({user:e,apiUrl:t}){const[a,l]=S.useState([]),[s,r]=S.useState(!1),[i,c]=S.useState(Re()),[o,u]=S.useState(Re()),[p,m]=S.useState(""),[d,x]=S.useState(""),[N,w]=S.useState(new Set),b=Ce.useCallback(async()=>{r(!0);try{const y={};i&&(y.startDate=i),o&&(y.endDate=o);const D=await ee(t,"getReceivables",y,e.token);if(Array.isArray(D)){const E=D.sort((O,B)=>new Date(B.date)-new Date(O.date));l(E)}}catch(y){console.error("Failed to fetch data:",y),alert(": "+y.message)}finally{r(!1)}},[t,e.token,i,o]);S.useEffect(()=>{b()},[b]);const f=async y=>{if(confirm("")){r(!0);try{await ee(t,"markAsPaid",{recordId:y},e.token),alert(""),b()}catch(D){console.error("Failed to mark as paid:",D),alert(": "+D.message)}finally{r(!1)}}},g=y=>{const D=new Set(N);D.has(y)?D.delete(y):D.add(y),w(D)},h=y=>[y.salesRep,y.salesPerson,y.operator,y.Operator,y.buyer].find(O=>O&&String(O).toLowerCase()!=="unknown")||"-",v=a.filter(y=>{const D=String(y.clientName||y.customer||y.location||"").toLowerCase(),E=String(h(y)).toLowerCase(),O=!p||D.includes(p.toLowerCase()),B=!d||E.includes(d.toLowerCase());return O&&B}),j=v.reduce((y,D)=>y+(Number(D.amount)||Number(D.total)||0),0);return n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-row justify-between items-center gap-4",children:[n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2 truncate",children:[n.jsx(Ia,{className:"text-emerald-500 w-6 h-6 shrink-0"}),n.jsx("span",{className:"truncate",children:""})]})}),n.jsxs("div",{className:"glass-panel px-3 py-2 border-[var(--border-primary)] bg-[var(--bg-secondary)] shrink-0 flex flex-col items-end",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase tracking-wider",children:""}),n.jsxs("p",{className:"text-lg md:text-xl font-bold text-emerald-500",children:["$",j.toLocaleString()]})]})]}),n.jsx("div",{className:"mb-6 p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)]",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),n.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-[var(--bg-primary)]",value:i,onChange:y=>c(y.target.value)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),n.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-[var(--bg-primary)]",value:o,onChange:y=>u(y.target.value)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:"/"}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full h-10",value:p,onChange:y=>m(y.target.value)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full h-10",value:d,onChange:y=>x(y.target.value)})]}),n.jsxs("button",{onClick:b,className:"btn-secondary h-10 px-6 flex items-center gap-2 justify-center w-full md:w-auto",children:[n.jsx(Ye,{size:18})," "]})]})}),n.jsx("div",{className:"hidden md:block rounded-xl border border-[var(--border-primary)] overflow-hidden",children:n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 w-10"}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-center",children:""}),n.jsx("th",{className:"p-4 text-center",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-primary)]",children:s?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"p-10 text-center text-[var(--text-secondary)]",children:"..."})}):v.length>0?v.map((y,D)=>n.jsxs(Ce.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)] transition-colors cursor-pointer",onClick:()=>g(D),children:[n.jsx("td",{className:"p-4 text-[var(--text-tertiary)]",children:N.has(D)?n.jsx(Ti,{size:16}):n.jsx(Gn,{size:16})}),n.jsx("td",{className:"p-4 text-[var(--text-secondary)]",children:(()=>{const E=y.serverTimestamp||y.timestamp||y.date,O=new Date(E);return isNaN(O.getTime())?"-":O.toLocaleDateString("zh-TW")})()}),n.jsx("td",{className:"p-4 font-medium text-[var(--text-primary)]",children:y.clientName||y.customer||y.location||"-"}),n.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-500",children:["$",(Number(y.amount)||Number(y.total)||0).toLocaleString()]}),n.jsx("td",{className:"p-4 text-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${y.status==="PAID"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:y.status==="PAID"?"":""})}),n.jsx("td",{className:"p-4 text-center",onClick:E=>E.stopPropagation(),children:y.status!=="PAID"&&n.jsx("button",{onClick:()=>f(y.id),className:"btn-primary text-xs py-1 px-3",children:""})})]}),N.has(D)&&n.jsx("tr",{className:"bg-[var(--bg-secondary)]/50",children:n.jsx("td",{colSpan:"6",className:"p-4 pl-12",children:n.jsx("div",{className:"bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] border-b border-[var(--border-primary)]",children:[n.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),n.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),n.jsx("th",{className:"py-2 px-4 text-right font-medium",children:""}),n.jsx("th",{className:"py-2 px-4 text-center font-medium",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:(y.items||y.products||y.salesData||[]).length>0?(y.items||y.products||y.salesData||[]).map((E,O)=>n.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)]",children:[n.jsx("td",{className:"py-3 px-4 text-[var(--text-secondary)]",children:h(y)}),n.jsx("td",{className:"py-3 px-4 text-[var(--text-primary)] font-medium",children:E.productName||E.name||"-"}),n.jsxs("td",{className:"py-3 px-4 text-right text-[var(--text-secondary)] font-mono",children:["$",(Number(E.price)||Number(E.unitPrice)||0).toLocaleString()]}),n.jsx("td",{className:"py-3 px-4 text-center text-[var(--text-secondary)] font-mono",children:E.qty||E.soldQty||1})]},O)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"py-4 text-center text-[var(--text-secondary)] italic",children:""})})})]})})})})]},D)):n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"p-10 text-center text-[var(--text-secondary)]",children:""})})})]})}),n.jsx("div",{className:"md:hidden space-y-4",children:s?n.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:"..."}):v.length>0?v.map((y,D)=>n.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] p-4 shadow-sm",onClick:()=>g(D),children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-[var(--text-tertiary)] mb-1",children:(()=>{const E=y.serverTimestamp||y.timestamp||y.date,O=new Date(E);return isNaN(O.getTime())?"-":O.toLocaleDateString("zh-TW")})()}),n.jsx("div",{className:"font-bold text-[var(--text-primary)] text-lg",children:y.clientName||y.customer||y.location||""}),n.jsxs("div",{className:"text-xs text-[var(--text-secondary)] mt-1",children:[": ",h(y)]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-xl font-black font-mono text-emerald-500",children:["$",(Number(y.amount)||Number(y.total)||0).toLocaleString()]}),n.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-[10px] font-bold ${y.status==="PAID"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:y.status==="PAID"?"":""})]})]}),n.jsxs("div",{className:"pt-3 border-t border-[var(--border-primary)] flex items-center justify-between",children:[n.jsxs("button",{className:"text-[var(--text-tertiary)] flex items-center gap-1 text-xs",children:[N.has(D)?n.jsx(Ti,{size:14}):n.jsx(Gn,{size:14}),""]}),y.status!=="PAID"&&n.jsx("button",{onClick:E=>{E.stopPropagation(),f(y.id)},className:"btn-primary text-xs py-1.5 px-4",children:""})]}),N.has(D)&&n.jsxs("div",{className:"mt-3 bg-[var(--bg-secondary)] rounded-lg p-3 text-sm space-y-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[(y.items||y.products||y.salesData||[]).map((E,O)=>n.jsxs("div",{className:"flex justify-between items-center border-b border-[var(--border-primary)] last:border-0 pb-2 last:pb-0",children:[n.jsx("span",{className:"text-[var(--text-primary)]",children:E.productName||E.name}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"text-[var(--text-primary)] font-mono",children:["$",(Number(E.price)||0).toLocaleString()," x ",E.qty||1]})})]},O)),!y.items&&!y.products&&!y.salesData&&n.jsx("div",{className:"text-[var(--text-tertiary)] text-center py-2 italic",children:""})]})]},D)):n.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:""})})]})}function g4({user:e,apiUrl:t}){const[a,l]=S.useState([]),[s,r]=S.useState(!1),[i,c]=S.useState(Re()),[o,u]=S.useState(Re()),[p,m]=S.useState(""),[d,x]=S.useState(""),[N,w]=S.useState(new Set),b=Ce.useCallback(async()=>{r(!0);try{const y={};i&&(y.startDate=i),o&&(y.endDate=o);const D=await ee(t,"getPayables",y,e.token);if(Array.isArray(D)){const E=D.sort((O,B)=>new Date(B.date)-new Date(O.date));l(E)}}catch(y){console.error("Failed to fetch payables:",y)}finally{r(!1)}},[t,e.token,i,o]);S.useEffect(()=>{b()},[b]);const f=async y=>{if(confirm("")){r(!0);try{await ee(t,"markPayableAsPaid",{recordId:y},e.token),alert(""),b()}catch(D){console.error("Failed to mark as paid:",D),alert(": "+D.message)}finally{r(!1)}}},g=y=>{const D=new Set(N);D.has(y)?D.delete(y):D.add(y),w(D)},h=y=>y.operator||y.Operator||y.buyer||y.salesRep||y.salesPerson||"-",v=a.filter(y=>{const D=String(y.vendorName||y.vendor||"").toLowerCase(),E=String(h(y)).toLowerCase(),O=!p||D.includes(p.toLowerCase()),B=!d||E.includes(d.toLowerCase());return O&&B}),j=v.reduce((y,D)=>y+(Number(D.amount)||Number(D.total)||0),0);return n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[n.jsxs("div",{className:"flex flex-row justify-between items-center gap-4",children:[n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2 truncate",children:[n.jsx(Ia,{className:"text-rose-600 w-6 h-6 shrink-0"}),n.jsx("span",{className:"truncate",children:""})]})}),n.jsxs("div",{className:"glass-panel px-3 py-2 border-[var(--border-primary)] bg-[var(--bg-secondary)] shrink-0 flex flex-col items-end",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase tracking-wider",children:""}),n.jsxs("p",{className:"text-lg md:text-xl font-bold text-rose-500",children:["$",j.toLocaleString()]})]})]}),n.jsx("div",{className:"mb-6 p-4 rounded-xl bg-[var(--bg-secondary)] border border-[var(--border-primary)]",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),n.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-[var(--bg-primary)]",value:i,onChange:y=>c(y.target.value)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),n.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-[var(--bg-primary)]",value:o,onChange:y=>u(y.target.value)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full h-10",value:p,onChange:y=>m(y.target.value)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase px-1",children:""}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full h-10",value:d,onChange:y=>x(y.target.value)})]}),n.jsxs("button",{onClick:b,className:"btn-secondary h-10 px-6 flex items-center gap-2 justify-center w-full md:w-auto",children:[n.jsx(Ye,{size:18})," "]})]})}),n.jsx("div",{className:"hidden md:block rounded-xl border border-[var(--border-primary)] overflow-hidden",children:n.jsxs("table",{className:"w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 w-10"}),n.jsx("th",{className:"p-4 text-center",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-center",children:""}),n.jsx("th",{className:"p-4 text-center",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-primary)]",children:s?n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"p-10 text-center text-[var(--text-secondary)]",children:"..."})}):v.length>0?v.map((y,D)=>n.jsxs(Ce.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)] transition-colors cursor-pointer",onClick:()=>g(D),children:[n.jsx("td",{className:"p-4 text-[var(--text-tertiary)]",children:N.has(D)?n.jsx(Ti,{size:16}):n.jsx(Gn,{size:16})}),n.jsx("td",{className:"p-4 text-[var(--text-secondary)] text-center",children:(()=>{const E=y.serverTimestamp||y.timestamp||y.date,O=new Date(E);return isNaN(O.getTime())?"-":O.toLocaleDateString("zh-TW")})()}),n.jsx("td",{className:"p-4 font-medium text-[var(--text-primary)]",children:y.vendorName||y.vendor||"-"}),n.jsxs("td",{className:"p-4 text-right font-mono font-bold text-rose-500",children:["$",(Number(y.amount)||Number(y.total)||0).toLocaleString()]}),n.jsx("td",{className:"p-4 text-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${y.status==="PAID"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:y.status==="PAID"?"":""})}),n.jsx("td",{className:"p-4 text-center",onClick:E=>E.stopPropagation(),children:y.status!=="PAID"&&n.jsx("button",{onClick:()=>f(y.id),className:"btn-primary text-xs py-1 px-3",children:""})})]}),N.has(D)&&n.jsx("tr",{className:"bg-[var(--bg-secondary)]/50",children:n.jsx("td",{colSpan:"6",className:"p-4 pl-12",children:n.jsx("div",{className:"bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] border-b border-[var(--border-primary)]",children:[n.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),n.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),n.jsx("th",{className:"py-2 px-4 text-right font-medium",children:""}),n.jsx("th",{className:"py-2 px-4 text-center font-medium",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:(y.items||y.products||[]).length>0?(y.items||y.products||[]).map((E,O)=>n.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)]",children:[n.jsx("td",{className:"py-3 px-4 text-[var(--text-secondary)]",children:h(y)}),n.jsx("td",{className:"py-3 px-4 text-[var(--text-primary)] font-medium",children:E.productName||E.name||"-"}),n.jsxs("td",{className:"py-3 px-4 text-right text-[var(--text-secondary)] font-mono",children:["$",(Number(E.price)||Number(E.unitPrice)||0).toLocaleString()]}),n.jsx("td",{className:"py-3 px-4 text-center text-[var(--text-secondary)] font-mono",children:E.qty||E.quantity||1})]},O)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"py-4 text-center text-[var(--text-secondary)] italic",children:""})})})]})})})})]},D)):n.jsx("tr",{children:n.jsx("td",{colSpan:"6",className:"p-10 text-center text-[var(--text-secondary)]",children:""})})})]})}),n.jsx("div",{className:"md:hidden space-y-4",children:s?n.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:"..."}):v.length>0?v.map((y,D)=>n.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] p-4 shadow-sm",onClick:()=>g(D),children:[n.jsxs("div",{className:"flex justify-between items-start mb-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-[var(--text-tertiary)] mb-1",children:(()=>{const E=y.serverTimestamp||y.timestamp||y.date,O=new Date(E);return isNaN(O.getTime())?"-":O.toLocaleDateString("zh-TW")})()}),n.jsx("div",{className:"font-bold text-[var(--text-primary)] text-lg",children:y.vendorName||y.vendor||""}),n.jsxs("div",{className:"text-xs text-[var(--text-secondary)] mt-1",children:[": ",h(y)]})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-xl font-black font-mono text-rose-500",children:["$",(Number(y.amount)||Number(y.total)||0).toLocaleString()]}),n.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded-full text-[10px] font-bold ${y.status==="PAID"?"bg-emerald-50 text-emerald-600 border border-emerald-100":"bg-rose-50 text-rose-600 border border-rose-100"}`,children:y.status==="PAID"?"":""})]})]}),n.jsxs("div",{className:"pt-3 border-t border-[var(--border-primary)] flex items-center justify-between",children:[n.jsxs("button",{className:"text-[var(--text-tertiary)] flex items-center gap-1 text-xs",children:[N.has(D)?n.jsx(Ti,{size:14}):n.jsx(Gn,{size:14}),""]}),y.status!=="PAID"&&n.jsx("button",{onClick:E=>{E.stopPropagation(),f(y.id)},className:"btn-primary text-xs py-1.5 px-4",children:""})]}),N.has(D)&&n.jsxs("div",{className:"mt-3 bg-[var(--bg-secondary)] rounded-lg p-3 text-sm space-y-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[(y.items||y.products||[]).map((E,O)=>n.jsxs("div",{className:"flex justify-between items-center border-b border-[var(--border-primary)] last:border-0 pb-2 last:pb-0",children:[n.jsx("span",{className:"text-[var(--text-primary)]",children:E.productName||E.name}),n.jsx("div",{className:"text-right",children:n.jsxs("div",{className:"text-[var(--text-primary)] font-mono",children:["$",(Number(E.price)||0).toLocaleString()," x ",E.qty||1]})})]},O)),!y.items&&!y.products&&n.jsx("div",{className:"text-[var(--text-tertiary)] text-center py-2 italic",children:""})]})]},D)):n.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:""})})]})}function v4({user:e,apiUrl:t}){const[a,l]=S.useState([]),[s,r]=S.useState({}),[i,c]=S.useState(!1),[o,u]=S.useState(Re()),[p,m]=S.useState(Re()),[d,x]=S.useState(""),N=async()=>{c(!0);try{const b=await ee(t,"getProducts",{},e.token),f={};Array.isArray(b)&&(b.forEach(h=>{f[h.id]=h.name}),r(f));const g=await ee(t,"getSalesRanking",{startDate:o,endDate:p},e.token);Array.isArray(g)?l(g):l([])}catch(b){console.error("Failed to fetch sales ranking:",b),alert("")}finally{c(!1)}};S.useEffect(()=>{e!=null&&e.token&&N()},[e.token,t]);const w=a.filter(b=>{const f=s[b.productName]||b.productName;return String(f||"").toLowerCase().includes(d.toLowerCase())});return n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[n.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(od,{className:"text-[var(--accent-blue)]"})," "]}),n.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:""})]}),n.jsx("button",{onClick:N,disabled:i,className:"btn-secondary p-2 rounded-xl",children:n.jsx(Ye,{size:20,className:i?"animate-spin":""})})]}),n.jsxs("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"date",className:"input-field flex-1 text-sm bg-[var(--bg-tertiary)]",value:o,onChange:b=>u(b.target.value)}),n.jsx("span",{className:"text-[var(--text-secondary)] font-bold hidden md:inline",children:""}),n.jsx("input",{type:"date",className:"input-field flex-1 text-sm bg-[var(--bg-tertiary)]",value:p,onChange:b=>m(b.target.value)})]}),n.jsxs("div",{className:"relative",children:[n.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-[var(--bg-tertiary)]",value:d,onChange:b=>x(b.target.value)})]}),n.jsxs("button",{onClick:N,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[n.jsx(xt,{size:18})," "]})]}),n.jsx("div",{className:"bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] overflow-hidden flex-1 flex flex-col shadow-sm",children:n.jsxs("div",{className:"overflow-y-auto flex-1",children:[n.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0 z-10 font-bold border-b border-[var(--border-primary)]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 w-16 text-center",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-right",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:i?n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"p-20 text-center text-[var(--text-tertiary)]",children:"..."})}):w.length>0?w.map((b,f)=>n.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("td",{className:"p-4 text-center font-mono",children:f<3?n.jsx("span",{className:`w-6 h-6 rounded-full inline-flex items-center justify-center text-[10px] font-bold shadow-sm ${f===0?"bg-amber-100 text-amber-700 border border-amber-200":f===1?"bg-slate-100 text-slate-600 border border-slate-200":"bg-orange-100 text-orange-700 border border-orange-200"}`,children:f+1}):f+1}),n.jsx("td",{className:"p-4 font-bold text-[var(--text-primary)]",children:s[b.productName]||b.productName}),n.jsx("td",{className:"p-4 text-right font-mono text-emerald-500",children:b.totalQty.toLocaleString()}),n.jsxs("td",{className:"p-4 text-right font-mono text-blue-500",children:["$",b.totalAmount.toLocaleString()]}),n.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)]",children:["$",(b.totalAmount/b.totalQty).toFixed(1)]})]},f)):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"p-20 text-center text-[var(--text-secondary)]",children:""})})})]}),n.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:i?n.jsx("div",{className:"p-10 text-center text-slate-500",children:"..."}):w.length>0?w.map((b,f)=>n.jsxs("div",{className:"p-4 bg-[var(--bg-secondary)] active:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("div",{className:"flex justify-between items-start mb-2",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold shrink-0 shadow-sm ${f===0?"bg-amber-100 text-amber-700":f===1?"bg-slate-100 text-slate-600":f===2?"bg-orange-100 text-orange-700":"bg-slate-50 text-slate-400 border border-slate-100"}`,children:f+1}),n.jsx("div",{className:"text-sm font-bold text-[var(--text-primary)]",children:s[b.productName]||b.productName})]})}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 pl-9",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:""}),n.jsx("p",{className:"text-xs font-mono font-bold text-emerald-600",children:b.totalQty.toLocaleString()})]}),n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:""}),n.jsxs("p",{className:"text-xs font-mono font-bold text-blue-600",children:["$",b.totalAmount.toLocaleString()]})]}),n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:""}),n.jsxs("p",{className:"text-xs font-mono font-bold text-slate-500",children:["$",(b.totalAmount/b.totalQty).toFixed(1)]})]})]})]},f)):n.jsx("div",{className:"p-10 text-center text-slate-500",children:""})})]})})]})}function N4({user:e,apiUrl:t}){const[a,l]=S.useState([]),[s,r]=S.useState(!1),[i,c]=S.useState(Re()),[o,u]=S.useState(Re()),[p,m]=S.useState(""),d=async()=>{r(!0);try{const N=await ee(t,"getCustomerRanking",{startDate:i,endDate:o},e.token);Array.isArray(N)?l(N):l([])}catch(N){console.error("Failed to fetch customer ranking:",N),alert("")}finally{r(!1)}};S.useEffect(()=>{e!=null&&e.token&&d()},[e.token,t]);const x=a.filter(N=>String(N.customerName||"").toLowerCase().includes(p.toLowerCase()));return n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[n.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(Mi,{className:"text-purple-600"})," "]}),n.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:""})]}),n.jsx("button",{onClick:d,disabled:s,className:"btn-secondary p-2 rounded-xl",children:n.jsx(Ye,{size:20,className:s?"animate-spin":""})})]}),n.jsxs("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"date",className:"input-field flex-1 text-sm",value:i,onChange:N=>c(N.target.value)}),n.jsx("span",{className:"text-[var(--text-secondary)] font-bold hidden md:inline",children:""}),n.jsx("input",{type:"date",className:"input-field flex-1 text-sm",value:o,onChange:N=>u(N.target.value)})]}),n.jsxs("div",{className:"relative",children:[n.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:p,onChange:N=>m(N.target.value)})]}),n.jsxs("button",{onClick:d,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[n.jsx(xt,{size:18})," "]})]}),n.jsx("div",{className:"bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] overflow-hidden flex-1 flex flex-col shadow-sm",children:n.jsxs("div",{className:"overflow-y-auto flex-1",children:[n.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0 z-10 font-bold border-b border-[var(--border-primary)]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 w-16 text-center",children:""}),n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-right",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:s?n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"p-20 text-center text-[var(--text-secondary)]",children:"..."})}):x.length>0?x.map((N,w)=>{const b=a.reduce((g,h)=>g+h.totalAmount,0),f=N.totalAmount/b*100;return n.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("td",{className:"p-4 text-center font-mono text-[var(--text-secondary)]",children:w+1}),n.jsx("td",{className:"p-4 font-bold text-[var(--text-primary)]",children:N.customerName}),n.jsx("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)]",children:N.transactionCount.toLocaleString()}),n.jsxs("td",{className:"p-4 text-right font-mono text-purple-700 font-bold",children:["$",N.totalAmount.toLocaleString()]}),n.jsx("td",{className:"p-4 text-right",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",children:[n.jsxs("span",{className:"text-xs text-[var(--text-tertiary)]",children:[f.toFixed(1),"%"]}),n.jsx("div",{className:"w-16 h-1.5 bg-[var(--bg-tertiary)] rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500",style:{width:`${f}%`}})})]})})]},w)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]}),n.jsx("div",{className:"md:hidden divide-y divide-[var(--border-primary)]",children:s?n.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:"..."}):x.length>0?x.map((N,w)=>{const b=a.reduce((g,h)=>g+h.totalAmount,0),f=N.totalAmount/b*100;return n.jsxs("div",{className:"p-4 bg-[var(--bg-secondary)] active:bg-[var(--bg-hover)] transition-colors",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"w-6 h-6 rounded-full bg-[var(--bg-tertiary)] border border-[var(--border-primary)] flex items-center justify-center text-[10px] font-bold text-[var(--text-tertiary)] shrink-0 shadow-sm",children:w+1}),n.jsx("div",{className:"text-sm font-bold text-[var(--text-primary)]",children:N.customerName})]}),n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsxs("span",{className:"text-xs font-mono font-bold text-purple-700",children:["$",N.totalAmount.toLocaleString()]}),n.jsxs("span",{className:"text-[10px] text-[var(--text-tertiary)] font-bold",children:[f.toFixed(1),"%"]})]})]}),n.jsxs("div",{className:"flex items-center justify-between pl-9 mt-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),n.jsx("span",{className:"text-xs font-mono text-[var(--text-secondary)]",children:N.transactionCount.toLocaleString()})]}),n.jsx("div",{className:"w-24 h-1 bg-[var(--bg-tertiary)] rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-purple-500",style:{width:`${f}%`}})})]})]},w)}):n.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:""})})]})})]})}function j4({user:e,apiUrl:t}){const[a,l]=S.useState([]),[s,r]=S.useState({}),[i,c]=S.useState(!1),[o,u]=S.useState(Re()),[p,m]=S.useState(Re()),[d,x]=S.useState(""),N=async()=>{c(!0);try{const v=await ee(t,"getProducts",{},e.token),j={};Array.isArray(v)&&(v.forEach(D=>{j[D.id]=D.name}),r(j));const y=await ee(t,"getProfitAnalysis",{startDate:o,endDate:p},e.token);Array.isArray(y)?l(y):l([])}catch(v){console.error("Failed to fetch profit analysis:",v),alert("")}finally{c(!1)}};S.useEffect(()=>{e!=null&&e.token&&N()},[e.token,t]);const w=a.filter(v=>{const j=s[v.productName]||v.productName;return String(j||"").toLowerCase().includes(d.toLowerCase())}),b=w.reduce((v,j)=>v+j.revenue,0),f=w.reduce((v,j)=>v+j.cost,0),g=b-f,h=b>0?g/b*100:0;return n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(Wa,{className:"text-emerald-600"})," "]}),n.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:""})]}),n.jsxs("div",{className:"flex gap-2 md:gap-4",children:[n.jsxs("div",{className:"bg-emerald-50/10 px-3 py-1.5 md:px-4 md:py-2 border border-emerald-200/20 rounded-xl shadow-sm flex-1",children:[n.jsx("p",{className:"text-[8px] md:text-[10px] text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),n.jsxs("p",{className:"text-sm md:text-xl font-bold text-emerald-600 text-center",children:["$",g.toLocaleString()]})]}),n.jsxs("div",{className:"bg-blue-50/10 px-3 py-1.5 md:px-4 md:py-2 border border-blue-200/20 rounded-xl shadow-sm flex-1",children:[n.jsx("p",{className:"text-[8px] md:text-[10px] text-[var(--text-secondary)] uppercase font-bold text-center",children:""}),n.jsxs("p",{className:"text-sm md:text-xl font-bold text-blue-600 text-center",children:[h.toFixed(1),"%"]})]})]})]}),n.jsxs("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"date",className:"input-field flex-1 text-sm",value:o,onChange:v=>u(v.target.value)}),n.jsx("span",{className:"text-[var(--text-secondary)] font-bold hidden md:inline",children:""}),n.jsx("input",{type:"date",className:"input-field flex-1 text-sm",value:p,onChange:v=>m(v.target.value)})]}),n.jsxs("div",{className:"relative",children:[n.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:d,onChange:v=>x(v.target.value)})]}),n.jsxs("button",{onClick:N,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[n.jsx(Ye,{size:18,className:i?"animate-spin":""})," "]})]}),n.jsx("div",{className:"bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] overflow-hidden flex-1 flex flex-col shadow-sm",children:n.jsxs("div",{className:"overflow-y-auto flex-1",children:[n.jsxs("table",{className:"hidden md:table w-full text-left text-sm border-collapse",children:[n.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0 z-10 font-bold border-b border-[var(--border-primary)]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 whitespace-nowrap",children:""}),n.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),n.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),n.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),n.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:i?n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"p-20 text-center text-[var(--text-secondary)]",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(Ye,{className:"animate-spin text-emerald-500"}),n.jsx("span",{children:"..."})]})})}):w.length>0?w.map((v,j)=>{const y=v.revenue-v.cost,D=v.revenue>0?y/v.revenue*100:0,E=s[v.productName]||v.productName;return n.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors group",children:[n.jsx("td",{className:"p-4 font-bold text-[var(--text-primary)]",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{children:E}),s[v.productName]&&n.jsxs("span",{className:"text-[10px] text-[var(--text-tertiary)] font-normal mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["ID: ",v.productName.substring(0,8),"..."]})]})}),n.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)]",children:["$",Math.round(v.revenue).toLocaleString()]}),n.jsxs("td",{className:"p-4 text-right font-mono text-rose-600/80",children:["$",Math.round(v.cost).toLocaleString()]}),n.jsxs("td",{className:`p-4 text-right font-mono font-bold ${y>=0?"text-emerald-700":"text-rose-600"}`,children:[y<0?"-":"","$",Math.abs(Math.round(y)).toLocaleString()]}),n.jsx("td",{className:"p-4 text-right",children:n.jsxs("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold min-w-[50px] text-center ${D>=30?"bg-emerald-100 text-emerald-700 border border-emerald-200":D>=10?"bg-blue-100 text-blue-700 border border-blue-200":"bg-rose-100 text-rose-700 border border-rose-200"}`,children:[D.toFixed(1),"%"]})})]},j)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]}),n.jsx("div",{className:"md:hidden divide-y divide-[var(--border-primary)]",children:i?n.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)] italic",children:"..."}):w.length>0?w.map((v,j)=>{const y=v.revenue-v.cost,D=v.revenue>0?y/v.revenue*100:0,E=s[v.productName]||v.productName;return n.jsxs("div",{className:"p-4 bg-[var(--bg-secondary)] active:bg-[var(--bg-hover)] transition-colors",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("div",{className:"text-sm font-bold text-[var(--text-primary)] max-w-[65%] leading-tight",children:E}),n.jsxs("span",{className:`inline-block px-2 py-0.5 rounded text-[10px] font-bold ${D>=30?"bg-emerald-100 text-emerald-700":D>=10?"bg-blue-100 text-blue-700":"bg-rose-100 text-rose-700"}`,children:[D.toFixed(1),"%"]})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),n.jsxs("p",{className:"text-xs font-mono font-bold text-[var(--text-secondary)]",children:["$",Math.round(v.revenue).toLocaleString()]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),n.jsxs("p",{className:"text-xs font-mono font-bold text-rose-500/80",children:["$",Math.round(v.cost).toLocaleString()]})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),n.jsxs("p",{className:`text-xs font-mono font-bold ${y>=0?"text-emerald-600":"text-rose-600"}`,children:["$",Math.abs(Math.round(y)).toLocaleString()]})]})]})]},j)}):n.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:""})})]})})]})}function S4({user:e,apiUrl:t}){const[a,l]=S.useState([]),[s,r]=S.useState({}),[i,c]=S.useState(!1),[o,u]=S.useState(Re()),[p,m]=S.useState(Re()),[d,x]=S.useState(""),N=async()=>{c(!0);try{const b=await ee(t,"getProducts",{},e.token),f={};Array.isArray(b)&&(b.forEach(h=>{f[h.id]=h.name}),r(f));const g=await ee(t,"getTurnoverRate",{startDate:o,endDate:p},e.token);Array.isArray(g)?l(g):l([])}catch(b){console.error("Failed to fetch turnover rate:",b),alert("")}finally{c(!1)}};S.useEffect(()=>{e!=null&&e.token&&N()},[e.token,t]);const w=a.filter(b=>{const f=s[b.productName]||b.productName;return String(f||"").toLowerCase().includes(d.toLowerCase())});return n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[n.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(Tn,{className:"text-orange-600"})," "]}),n.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:" =  / "})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 bg-blue-50 px-3 py-1.5 rounded-lg border border-blue-200 shadow-sm font-bold",children:[n.jsx(l1,{size:14}),n.jsx("span",{children:""})]})]}),n.jsxs("div",{className:"bg-[var(--bg-secondary)] p-4 rounded-xl border border-[var(--border-primary)] shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"date",className:"input-field flex-1 text-sm",value:o,onChange:b=>u(b.target.value)}),n.jsx("span",{className:"text-[var(--text-secondary)] font-bold hidden md:inline",children:""}),n.jsx("input",{type:"date",className:"input-field flex-1 text-sm",value:p,onChange:b=>m(b.target.value)})]}),n.jsxs("div",{className:"relative",children:[n.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:d,onChange:b=>x(b.target.value)})]}),n.jsxs("button",{onClick:N,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[n.jsx(Ye,{size:18})," "]})]}),n.jsx("div",{className:"bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)] overflow-hidden flex-1 flex flex-col shadow-sm",children:n.jsxs("div",{className:"overflow-y-auto flex-1",children:[n.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0 z-10 font-bold border-b border-[var(--border-primary)]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4",children:""}),n.jsx("th",{className:"p-4 text-right",children:" (COGS)"}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-center",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:i?n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"p-20 text-center text-[var(--text-secondary)]",children:"..."})}):w.length>0?w.map((b,f)=>{const g=b.avgInventory>0?b.cogs/b.avgInventory:0;return n.jsxs("tr",{className:"hover:bg-[var(--bg-hover)] transition-colors",children:[n.jsx("td",{className:"p-4 font-bold text-[var(--text-primary)]",children:s[b.productName]||b.productName}),n.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-secondary)] font-bold",children:["$",b.cogs.toLocaleString()]}),n.jsxs("td",{className:"p-4 text-right font-mono text-[var(--text-tertiary)]",children:["$",b.avgInventory.toLocaleString()]}),n.jsxs("td",{className:"p-4 text-right font-mono text-orange-600 font-bold",children:[g.toFixed(2)," "]}),n.jsx("td",{className:"p-4 text-center",children:g>=4?n.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-emerald-100 text-emerald-700 border border-emerald-200 uppercase",children:""}):g>=1?n.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-blue-100 text-blue-700 border border-blue-200 uppercase",children:""}):n.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-rose-100 text-rose-700 border border-rose-200 uppercase",children:""})})]},f)}):n.jsx("tr",{children:n.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]}),n.jsx("div",{className:"md:hidden divide-y divide-[var(--border-primary)]",children:i?n.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:"..."}):w.length>0?w.map((b,f)=>{const g=b.avgInventory>0?b.cogs/b.avgInventory:0;return n.jsxs("div",{className:"p-4 bg-[var(--bg-secondary)] active:bg-[var(--bg-hover)] transition-colors",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("div",{className:"text-sm font-bold text-[var(--text-primary)] leading-tight max-w-[70%]",children:s[b.productName]||b.productName}),g>=4?n.jsx("span",{className:"px-1.5 py-0.5 rounded text-[9px] font-bold bg-emerald-100 text-emerald-700 border border-emerald-200",children:""}):g>=1?n.jsx("span",{className:"px-1.5 py-0.5 rounded text-[9px] font-bold bg-blue-100 text-blue-700 border border-blue-200",children:""}):n.jsx("span",{className:"px-1.5 py-0.5 rounded text-[9px] font-bold bg-rose-100 text-rose-700 border border-rose-200",children:""})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-2",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),n.jsxs("p",{className:"text-[11px] font-mono font-bold text-[var(--text-secondary)]",children:["$",b.cogs.toLocaleString()]})]}),n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),n.jsxs("p",{className:"text-[11px] font-mono font-bold text-[var(--text-tertiary)]",children:["$",b.avgInventory.toLocaleString()]})]}),n.jsxs("div",{className:"space-y-0.5",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),n.jsxs("p",{className:"text-[11px] font-mono font-extrabold text-orange-600",children:[g.toFixed(2)," "]})]})]})]},f)}):n.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:""})})]})})]})}function w4({user:e,apiUrl:t}){const[a,l]=S.useState([]),[s,r]=S.useState(!1),[i,c]=S.useState(Re()),[o,u]=S.useState(Re()),[p,m]=S.useState(""),d=async()=>{r(!0);try{const f=await ee(t,"getExpenditures",{startDate:i,endDate:o},e.token);Array.isArray(f)?l(f):l([])}catch(f){console.error("Failed to fetch expenditures:",f)}finally{r(!1)}};S.useEffect(()=>{e!=null&&e.token&&d()},[e.token,t]);const x=a.filter(f=>`${f.customer||""} ${f.salesRep||""} ${f.note||""}`.toLowerCase().includes(p.toLowerCase())),N=x.reduce((f,g)=>(f.stall+=Number(g.stall||0),f.cleaning+=Number(g.cleaning||0),f.electricity+=Number(g.electricity||0),f.gas+=Number(g.gas||0),f.parking+=Number(g.parking||0),f.goods+=Number(g.goods||0),f.bags+=Number(g.bags||0),f.others+=Number(g.others||0),f.serviceFee+=Number(g.serviceFee||0),f.linePay+=Number(g.linePay||0),f.finalTotal+=Number(g.finalTotal||0),f.vehicleMaintenance+=Number(g.vehicleMaintenance||0),f.salary+=Number(g.salary||0),f.reserve+=Number(g.reserve||0),f),{stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,serviceFee:0,linePay:0,finalTotal:0,vehicleMaintenance:0,salary:0,reserve:0}),w=N.stall+N.cleaning+N.electricity+N.gas+N.parking+N.bags+N.others+N.vehicleMaintenance+N.salary+N.serviceFee,b=[{key:"stall",label:"",color:"text-[var(--accent-blue)]"},{key:"cleaning",label:"",color:"text-indigo-600"},{key:"electricity",label:"",color:"text-amber-500"},{key:"gas",label:"",color:"text-orange-600"},{key:"parking",label:"",color:"text-[var(--text-secondary)]"},{key:"bags",label:"",color:"text-teal-600"},{key:"serviceFee",label:"",color:"text-rose-600"},{key:"others",label:"",color:"text-purple-600"},{key:"vehicleMaintenance",label:"",color:"text-indigo-600"},{key:"salary",label:"",color:"text-amber-500"}];return n.jsxs("div",{className:"max-w-7xl mx-auto p-3 md:p-4 space-y-3 md:space-y-4 flex flex-col h-full animate-in fade-in duration-500",children:[n.jsx("div",{className:"flex justify-between items-start gap-4 shrink-0",children:n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(rt,{className:"text-rose-500 shrink-0"}),n.jsx("h1",{className:"text-2xl font-bold text-[var(--text-primary)] whitespace-nowrap",children:""})]}),n.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1 pl-8 md:pl-0 truncate",children:"(Cost Calculation) "})]})}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 shrink-0",children:[n.jsxs("div",{className:"glass-panel px-1 py-1.5 md:px-4 bg-[var(--bg-secondary)] border-[var(--border-primary)] flex flex-col justify-center items-center",children:[n.jsx("p",{className:"text-[9px] md:text-[10px] text-[var(--text-secondary)] uppercase font-bold text-center leading-tight",children:""}),n.jsxs("p",{className:"text-xs md:text-xl font-bold text-rose-500 text-center text-nowrap mt-0.5 md:mt-1",children:["$",w.toLocaleString()]})]}),n.jsxs("div",{className:"glass-panel px-1 py-1.5 md:px-4 bg-[var(--bg-secondary)] border-[var(--border-primary)] flex flex-col justify-center items-center",children:[n.jsx("p",{className:"text-[9px] md:text-[10px] text-[var(--text-secondary)] uppercase font-bold text-center leading-tight",children:""}),n.jsxs("p",{className:"text-xs md:text-xl font-bold text-emerald-500 text-center text-nowrap mt-0.5 md:mt-1",children:["$",N.goods.toLocaleString()]})]}),n.jsxs("div",{className:"glass-panel px-1 py-1.5 md:px-4 bg-[var(--bg-secondary)] border-[var(--border-primary)] flex flex-col justify-center items-center",children:[n.jsx("p",{className:"text-[9px] md:text-[10px] text-[var(--text-secondary)] uppercase font-bold text-center leading-tight",children:""}),n.jsxs("p",{className:"text-xs md:text-xl font-bold text-emerald-500 text-center text-nowrap mt-0.5 md:mt-1",children:["$",N.reserve.toLocaleString()]})]}),n.jsxs("div",{className:"glass-panel px-1 py-1.5 md:px-4 bg-[var(--bg-secondary)] border-[var(--border-primary)] flex flex-col justify-center items-center",children:[n.jsx("p",{className:"text-[9px] md:text-[10px] text-[var(--text-secondary)] uppercase font-bold text-center leading-tight",children:"Line Pay"}),n.jsxs("p",{className:"text-xs md:text-xl font-bold text-[var(--text-primary)] text-center text-nowrap mt-0.5 md:mt-1",children:["$",N.linePay.toLocaleString()]})]})]}),n.jsxs("div",{className:"p-3 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-3 bg-[var(--bg-secondary)] rounded-xl border border-[var(--border-primary)]",children:[n.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-row md:items-center gap-2 w-full",children:[n.jsx("div",{className:"space-y-1 w-full md:w-auto md:flex-1",children:n.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-[var(--bg-primary)] text-[var(--text-primary)] text-xs md:text-sm",value:i,onChange:f=>c(f.target.value)})}),n.jsx("span",{className:"text-[var(--text-tertiary)] font-bold text-center md:text-left self-center hidden md:block",children:""}),n.jsx("div",{className:"space-y-1 w-full md:w-auto md:flex-1",children:n.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-[var(--bg-primary)] text-[var(--text-primary)] text-xs md:text-sm",value:o,onChange:f=>u(f.target.value)})})]}),n.jsxs("div",{className:"relative",children:[n.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-tertiary)]",size:18}),n.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full h-10 text-[var(--text-primary)] bg-[var(--bg-primary)]",value:p,onChange:f=>m(f.target.value)})]}),n.jsxs("button",{onClick:d,className:"btn-primary w-full md:w-auto h-10 flex items-center justify-center gap-2",children:[n.jsx(Ye,{size:18,className:s?"animate-spin":""})," "]})]}),n.jsx("div",{className:"grid grid-cols-5 md:grid-cols-10 gap-1.5 md:gap-2 shrink-0",children:b.map(f=>n.jsxs("div",{className:"p-1 px-0.5 md:p-2 bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-lg shadow-sm flex flex-col justify-center items-center h-12 md:h-14",children:[n.jsx("p",{className:"text-[9px] md:text-[10px] text-[var(--text-secondary)] font-bold uppercase truncate w-full text-center leading-tight",children:f.label}),n.jsxs("p",{className:`text-[10px] md:text-sm font-bold ${f.color} mt-0.5`,children:["$",N[f.key].toLocaleString()]})]},f.key))}),n.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-xl shadow-sm p-0 flex-1 border border-[var(--border-primary)] relative overflow-hidden",children:[n.jsx("div",{className:"hidden md:block h-full overflow-y-auto overflow-x-hidden custom-scrollbar",children:n.jsxs("table",{className:"w-full text-left text-[10px] md:text-sm border-separate border-spacing-0",children:[n.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0 z-30",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-2 py-3 border-b border-[var(--border-primary)] bg-[var(--bg-secondary)] whitespace-nowrap",children:"//"}),n.jsx("th",{className:"px-2 py-3 text-right border-b border-[var(--border-primary)]",children:""}),n.jsx("th",{className:"px-2 py-3 text-right border-b border-[var(--border-primary)]",children:""}),n.jsx("th",{className:"px-2 py-3 text-right border-b border-[var(--border-primary)]",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:s?n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"p-20 text-center text-[var(--text-secondary)] font-medium",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(Ye,{className:"animate-spin text-rose-500"}),n.jsx("span",{children:"..."})]})})}):x.length>0?x.map((f,g)=>n.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)] transition-colors group",children:[n.jsx("td",{className:"px-2 py-4 bg-[var(--bg-primary)] border-b border-[var(--border-primary)] group-hover:bg-[var(--bg-secondary)] transition-colors",children:n.jsxs("div",{className:"flex flex-col gap-0.5",children:[n.jsxs("div",{className:"text-[var(--text-secondary)] font-mono text-xs flex items-center gap-1.5 mb-1",children:[n.jsx(Ml,{size:12,className:"text-[var(--text-tertiary)]"}),(()=>{const h=f.date||f.serverTimestamp;if(!h)return"";const v=new Date(h);return isNaN(v.getTime())?String(h):v.toLocaleString("zh-TW",{hour12:!1})})()]}),n.jsxs("div",{className:"pl-5 flex flex-col gap-0.5",children:[n.jsx("div",{className:"text-sm font-bold text-[var(--text-primary)]",children:f.customer||f.note||""}),n.jsxs("div",{className:"text-[10px] text-[var(--text-secondary)] font-medium",children:[": ",f.salesRep||"-"]})]})]})}),n.jsx("td",{className:"px-2 py-4 text-right align-top",children:n.jsxs("div",{className:"grid grid-cols-2 gap-x-3 gap-y-1 text-[11px] content-start",children:[n.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",n.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(f.stall||0).toLocaleString()]})]}),n.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",n.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(f.cleaning||0).toLocaleString()]})]}),n.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",n.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(f.electricity||0).toLocaleString()]})]}),n.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",n.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(f.gas||0).toLocaleString()]})]}),n.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",n.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(f.parking||0).toLocaleString()]})]}),n.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",n.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(f.goods||0).toLocaleString()]})]}),n.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",n.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(f.bags||0).toLocaleString()]})]}),n.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",n.jsxs("span",{className:"text-[var(--text-primary)] font-medium",children:["$",Number(f.others||0).toLocaleString()]})]})]})}),n.jsx("td",{className:"px-2 py-4 text-right align-top",children:n.jsxs("div",{className:"flex flex-col gap-1.5 items-end",children:[n.jsxs("div",{className:"flex justify-between w-28 bg-[var(--bg-secondary)] px-2 py-0.5 rounded border border-emerald-100",children:[n.jsx("span",{className:"text-[9px] text-emerald-500/70 uppercase font-bold",children:"LP "}),n.jsxs("span",{className:"text-[11px] font-bold text-emerald-500",children:["+$",Number(f.linePay||0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between w-28 bg-rose-50 px-2 py-0.5 rounded border border-rose-100",children:[n.jsx("span",{className:"text-[9px] text-rose-600/70 uppercase font-bold",children:""}),n.jsxs("span",{className:"text-[11px] font-bold text-rose-700",children:["-$",Number(f.serviceFee||0).toLocaleString()]})]})]})}),n.jsx("td",{className:"px-2 py-4 text-right align-top",children:n.jsxs("div",{className:"flex flex-col gap-1 text-xs items-end",children:[n.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",n.jsxs("span",{className:"text-indigo-600 font-bold",children:["$",Number(f.vehicleMaintenance||0).toLocaleString()]})]}),n.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",n.jsxs("span",{className:"text-amber-500 font-bold",children:["$",Number(f.salary||0).toLocaleString()]})]}),n.jsxs("span",{className:"text-[var(--text-secondary)]",children:[": ",n.jsxs("span",{className:"text-purple-600 font-bold",children:["$",Number(f.reserve||0).toLocaleString()]})]})]})})]},g)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"p-20 text-center text-[var(--text-secondary)] font-medium",children:""})})})]})}),n.jsx("div",{className:"md:hidden h-full overflow-y-auto p-3 space-y-3 custom-scrollbar",children:s?n.jsxs("div",{className:"p-10 text-center text-[var(--text-secondary)] font-medium flex flex-col items-center gap-2",children:[n.jsx(Ye,{className:"animate-spin text-rose-500"}),n.jsx("span",{children:"..."})]}):x.length>0?x.map((f,g)=>n.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] p-3 shadow-sm text-xs space-y-3",children:[n.jsx("div",{className:"flex justify-between items-start border-b border-[var(--border-primary)] pb-2",children:n.jsxs("div",{className:"flex flex-col gap-0.5",children:[n.jsx("div",{className:"font-bold text-[var(--text-primary)] text-sm",children:f.customer||f.note||""}),n.jsxs("div",{className:"text-[var(--text-secondary)] font-medium text-[10px]",children:[": ",f.salesRep||"-"]}),n.jsxs("div",{className:"text-[var(--text-tertiary)] font-mono text-[9px] flex items-center gap-1 mt-1",children:[n.jsx(Ml,{size:10}),(()=>{const h=f.date||f.serverTimestamp,v=new Date(h);return isNaN(v.getTime())?String(h):v.toLocaleString("zh-TW",{hour12:!1})})()]})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),n.jsxs("div",{className:"space-y-0.5 text-[var(--text-secondary)]",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:""})," ",n.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(f.stall||0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:""})," ",n.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(f.cleaning||0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:""})," ",n.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(f.electricity||0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:""})," ",n.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(f.gas||0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:""})," ",n.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(f.parking||0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:""})," ",n.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(f.goods||0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:""})," ",n.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(f.bags||0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:""})," ",n.jsxs("span",{className:"font-medium text-[var(--text-primary)]",children:["$",Number(f.others||0).toLocaleString()]})]})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),n.jsxs("div",{className:"space-y-1",children:[n.jsxs("div",{className:"flex justify-between items-center text-emerald-500 bg-[var(--bg-secondary)] px-1.5 py-0.5 rounded",children:[n.jsx("span",{children:"LP"})," ",n.jsxs("span",{className:"font-bold",children:["+$",Number(f.linePay||0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between items-center text-rose-500 bg-[var(--bg-secondary)] px-1.5 py-0.5 rounded",children:[n.jsx("span",{children:""})," ",n.jsxs("span",{className:"font-bold",children:["-$",Number(f.serviceFee||0).toLocaleString()]})]})]})]}),n.jsxs("div",{className:"space-y-1.5",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-bold uppercase",children:""}),n.jsxs("div",{className:"space-y-0.5 text-[var(--text-secondary)]",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-indigo-600",children:""})," ",n.jsxs("span",{className:"font-bold text-indigo-600",children:["$",Number(f.vehicleMaintenance||0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-amber-500",children:""})," ",n.jsxs("span",{className:"font-bold text-amber-500",children:["$",Number(f.salary||0).toLocaleString()]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-purple-600",children:""})," ",n.jsxs("span",{className:"font-bold text-purple-600",children:["$",Number(f.reserve||0).toLocaleString()]})]})]})]})]})]})]},g)):n.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)] font-medium",children:""})})]})]})}function D4({user:e,apiUrl:t}){const[a,l]=S.useState(!1),[s,r]=S.useState(Re().substring(0,8)+"01"),[i,c]=S.useState(Re()),[o,u]=S.useState({revenue:0,cogs:0,grossProfit:0,expenses:{},totalExpenses:0,netIncome:0}),p=async()=>{l(!0);try{const[x,N]=await Promise.all([ee(t,"getProfitAnalysis",{startDate:s,endDate:i},e.token),ee(t,"getExpenditures",{startDate:s,endDate:i},e.token)]);let w=0,b=0;Array.isArray(x)&&x.forEach(h=>{w+=Number(h.revenue||0),b+=Number(h.cost||0)});let f=0;const g={stall:0,cleaning:0,electricity:0,gas:0,parking:0,bags:0,serviceFee:0,others:0,vehicleMaintenance:0,salary:0};Array.isArray(N)&&N.forEach(h=>{g.stall+=Number(h.stall||0),g.cleaning+=Number(h.cleaning||0),g.electricity+=Number(h.electricity||0),g.gas+=Number(h.gas||0),g.parking+=Number(h.parking||0),g.bags+=Number(h.bags||0),g.serviceFee+=Number(h.serviceFee||0),g.others+=Number(h.others||0),g.vehicleMaintenance+=Number(h.vehicleMaintenance||0),g.salary+=Number(h.salary||0)}),Object.values(g).forEach(h=>f+=h),u({revenue:w,cogs:b,grossProfit:w-b,expenses:g,totalExpenses:f,netIncome:w-b-f})}catch(x){console.error("Failed to fetch income statement data:",x),alert("")}finally{l(!1)}};S.useEffect(()=>{e!=null&&e.token&&p()},[e.token,t]);const m=x=>`$${Math.round(x).toLocaleString()}`,d=(x,N)=>N===0?"0%":`${(x/N*100).toFixed(1)}%`;return n.jsxs("div",{className:"max-w-4xl mx-auto p-2 md:p-6 space-y-2 md:space-y-6 flex flex-col h-[calc(100dvh-6rem)] overflow-hidden",children:[n.jsxs("div",{className:"flex justify-between items-center shrink-0 gap-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(dd,{className:"text-emerald-500 shrink-0 w-5 h-5 md:w-6 md:h-6"}),n.jsx("h1",{className:"text-lg md:text-2xl font-bold text-[var(--text-primary)] whitespace-nowrap",children:""})]}),n.jsxs("div",{className:"hidden md:block",children:[n.jsx("div",{className:"text-[var(--text-tertiary)] text-sm font-medium mt-0.5 inline ml-2",children:"(Income Statement)"}),n.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1 truncate",children:""})]})]}),n.jsx("button",{onClick:p,className:"btn-secondary p-1.5 md:p-2 rounded-lg md:rounded-xl shrink-0",children:n.jsx(Ye,{size:16,className:`md:w-5 md:h-5 ${a?"animate-spin":""}`})})]}),n.jsxs("div",{className:"bg-[var(--bg-secondary)] p-2 md:p-4 rounded-xl border border-[var(--border-primary)] shrink-0 flex flex-col md:flex-row md:items-center gap-2 md:gap-4 shadow-sm",children:[n.jsx("div",{className:"hidden md:block",children:n.jsx(ya,{size:18,className:"text-[var(--text-tertiary)]"})}),n.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-row md:items-center gap-2 flex-1 w-full",children:[n.jsx("div",{className:"w-full md:w-auto md:flex-1",children:n.jsx("input",{type:"date",className:"input-field w-full h-8 md:h-10 appearance-none bg-[var(--bg-primary)] text-xs md:text-sm",value:s,onChange:x=>r(x.target.value)})}),n.jsx("span",{className:"text-[var(--text-secondary)] font-bold text-center md:text-left self-center hidden md:block",children:""}),n.jsx("div",{className:"w-full md:w-auto md:flex-1",children:n.jsx("input",{type:"date",className:"input-field w-full h-8 md:h-10 appearance-none bg-[var(--bg-primary)] text-xs md:text-sm",value:i,onChange:x=>c(x.target.value)})})]}),n.jsx("button",{onClick:p,className:"btn-primary h-8 md:h-10 px-6 w-full md:w-auto text-xs md:text-sm",children:""})]}),n.jsx("div",{className:"bg-[var(--bg-primary)] rounded-xl border border-[var(--border-primary)] overflow-hidden flex-1 flex flex-col shadow-sm min-h-0",children:n.jsx("div",{className:"flex-1 p-3 md:p-8",children:n.jsxs("div",{className:"space-y-4 md:space-y-6 max-w-2xl mx-auto font-mono text-sm md:text-base",children:[n.jsxs("div",{className:"space-y-1 md:space-y-2",children:[n.jsx("h3",{className:"text-emerald-500 font-bold text-base md:text-lg border-b border-[var(--border-primary)] pb-1 md:pb-2 mb-2 md:mb-4",children:" (Revenue)"}),n.jsxs("div",{className:"flex justify-between items-center text-xs md:text-base",children:[n.jsx("span",{className:"text-[var(--text-secondary)]",children:""}),n.jsx("span",{className:"text-[var(--text-primary)] font-bold",children:m(o.revenue)})]}),n.jsxs("div",{className:"flex justify-between items-center text-rose-600 text-xs md:text-base",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Yv,{size:12,className:"md:w-3.5 md:h-3.5"})," "]}),n.jsxs("span",{children:["- ",m(o.cogs)]})]}),n.jsxs("div",{className:"flex justify-between items-center pt-1 md:pt-2 border-t border-[var(--border-primary)] text-xs md:text-base",children:[n.jsx("span",{className:"text-emerald-500 font-bold",children:" (Gross Profit)"}),n.jsx("span",{className:"text-emerald-500 font-bold",children:m(o.grossProfit)})]}),n.jsxs("div",{className:"text-right text-[10px] md:text-xs text-[var(--text-secondary)]",children:[": ",d(o.grossProfit,o.revenue)]})]}),n.jsxs("div",{className:"space-y-1 md:space-y-2 mt-2 md:mt-8",children:[n.jsx("h3",{className:"text-amber-500 font-bold text-base md:text-lg border-b border-amber-200 pb-1 md:pb-2 mb-2 md:mb-4 whitespace-nowrap",children:" (Operating Expenses)"}),n.jsx("div",{className:"grid grid-cols-3 md:grid-cols-1 gap-2 md:gap-0",children:Object.entries(o.expenses).map(([x,N])=>{const w={stall:"",cleaning:"",electricity:"",gas:"",parking:"",bags:"",serviceFee:"",others:"",vehicleMaintenance:"",salary:""};return N===0?null:n.jsxs("div",{className:"flex flex-col md:flex-row justify-center md:justify-between items-center md:items-center text-[var(--text-secondary)] text-[10px] md:text-sm bg-[var(--bg-secondary)] md:bg-transparent p-1 md:p-0 rounded md:rounded-none",children:[n.jsx("span",{className:"font-medium",children:w[x]}),n.jsx("span",{className:"text-[var(--text-primary)] font-bold md:font-normal",children:m(N)})]},x)})}),n.jsxs("div",{className:"flex justify-between items-center pt-1 md:pt-2 border-t border-[var(--border-primary)] text-amber-500 mt-1 text-xs md:text-base",children:[n.jsx("span",{className:"font-bold",children:""}),n.jsxs("span",{className:"font-bold",children:["- ",m(o.totalExpenses)]})]})]}),n.jsxs("div",{className:"mt-2 md:mt-8 pt-2 md:pt-4 border-t-2 border-[var(--border-primary)]",children:[n.jsxs("div",{className:"flex justify-between items-center text-base md:text-xl",children:[n.jsx("span",{className:"text-[var(--text-primary)] font-bold",children:" (Net Income)"}),n.jsx("span",{className:`font-bold ${o.netIncome>=0?"text-emerald-500":"text-rose-600"}`,children:m(o.netIncome)})]}),n.jsxs("div",{className:"text-right text-[10px] md:text-sm text-[var(--text-secondary)] mt-0.5 md:mt-1",children:[": ",d(o.netIncome,o.revenue)]})]})]})})})]})}function C4({user:e,apiUrl:t}){const[a,l]=S.useState(!1),[s,r]=S.useState({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0,vehicleMaintenance:0,salary:0,reserve:0}),[i,c]=S.useState(""),o=async()=>{if(!i.trim()){alert("");const b=document.getElementById("input-expense-note");b&&(b.focus(),b.scrollIntoView({behavior:"smooth",block:"center"}));return}const N=Number(s.stall)+Number(s.cleaning)+Number(s.electricity)+Number(s.gas)+Number(s.parking)+Number(s.goods)+Number(s.bags)+Number(s.others)+Number(s.serviceFee)+Number(s.vehicleMaintenance)+Number(s.salary)+Number(s.reserve)+Number(s.linePay),w={note:i,salesRep:e.username,...s,finalTotal:N};l(!0);try{await ee(t,"saveExpenditure",w,e.token),alert(" Expenditures "),r({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0,vehicleMaintenance:0,salary:0,reserve:0}),c("")}catch(b){alert(": "+b.message)}finally{l(!1)}},u=x=>{var w;const N=document.getElementById(x);N&&(N.focus(),(w=N.select)==null||w.call(N),N.scrollIntoView({block:"nearest",behavior:"smooth"}))},p=(x,N)=>{const w=["note","stall","cleaning","electricity","gas","parking","goods","bags","others","linePay","serviceFee","vehicleMaintenance","salary","reserve"],b=w.indexOf(N);x.key==="Enter"||x.key==="ArrowRight"?(x.preventDefault(),b<w.length-1?u(`input-expense-${w[b+1]}`):x.key==="Enter"&&o()):x.key==="ArrowLeft"?(x.preventDefault(),b>0&&u(`input-expense-${w[b-1]}`)):x.key==="ArrowDown"?(x.preventDefault(),["stall","cleaning","electricity","gas","parking","goods"].includes(N)?u(`input-expense-${{stall:"electricity",cleaning:"gas",electricity:"parking",gas:"goods",parking:"bags",goods:"others"}[N]}`):b<w.length-1&&u(`input-expense-${w[b+1]}`)):x.key==="ArrowUp"&&(x.preventDefault(),["electricity","gas","parking","goods","bags","others"].includes(N)?u(`input-expense-${{electricity:"stall",gas:"cleaning",parking:"electricity",goods:"gas",bags:"parking",others:"goods"}[N]}`):b>0&&u(`input-expense-${w[b-1]}`))},d=Number(s.stall)+Number(s.cleaning)+Number(s.electricity)+Number(s.gas)+Number(s.parking)+Number(s.goods)+Number(s.bags)+Number(s.others)+Number(s.serviceFee)+Number(s.vehicleMaintenance)+Number(s.salary)+Number(s.reserve)+Number(s.linePay);return n.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6 space-y-6 animate-in fade-in duration-500 relative",children:[a&&n.jsxs("div",{className:"loading-overlay",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-rose-600 border-t-transparent rounded-full animate-spin"}),n.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)]",children:"..."})]}),n.jsxs("div",{className:"flex flex-row justify-between items-center gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2 truncate",children:[n.jsx("div",{className:"p-1.5 md:p-2 bg-rose-100 rounded-lg shrink-0",children:n.jsx(rt,{className:"text-rose-600 w-5 h-5 md:w-6 md:h-6"})}),""]}),n.jsx("p",{className:"text-[var(--text-secondary)] text-xs md:text-sm mt-1 truncate",children:""})]}),n.jsxs("div",{className:"bg-rose-50 px-3 md:px-6 py-2 md:py-3 border border-rose-200 rounded-xl shadow-sm shrink-0 flex flex-col items-end",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-secondary)] font-bold uppercase tracking-wider",children:""}),n.jsxs("p",{className:"text-lg md:text-2xl font-black text-rose-600",children:["$",d.toLocaleString()]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.jsxs("div",{className:"glass-panel p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4 text-[var(--accent-blue)] font-bold",children:[n.jsx(Xv,{size:18}),n.jsx("span",{children:""})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-[var(--text-secondary)] font-bold block mb-2",children:" /  *"}),n.jsx("input",{id:"input-expense-note",type:"text",className:"input-field w-full text-lg py-3 bg-[var(--bg-primary)]",placeholder:"1/7 ...",value:i,onChange:x=>c(x.target.value),onKeyDown:x=>p(x,"note")})]})]}),n.jsxs("div",{className:"glass-panel p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6 text-emerald-500 font-bold",children:[n.jsx(py,{size:18}),n.jsx("span",{children:""})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[{key:"stall",label:"",next:"cleaning"},{key:"cleaning",label:"",next:"electricity",prev:"stall"},{key:"electricity",label:"",next:"gas",prev:"cleaning"},{key:"gas",label:"",next:"parking",prev:"electricity"},{key:"parking",label:"",next:"goods",prev:"gas"},{key:"goods",label:"",next:"bags",prev:"parking"},{key:"bags",label:"",next:"others",prev:"goods"},{key:"others",label:"",next:"linePay",prev:"bags"}].map(x=>n.jsxs("div",{className:"flex items-center justify-between gap-4 p-2 hover:bg-[var(--bg-secondary)] rounded-lg transition-colors border-b border-[var(--border-primary)] last:border-0",children:[n.jsx("label",{className:"text-sm text-[var(--text-secondary)] font-medium whitespace-nowrap",children:x.label}),n.jsx("input",{id:`input-expense-${x.key}`,type:"number",className:"input-field text-right w-32 bg-[var(--bg-primary)]",value:s[x.key]||"",onChange:N=>r({...s,[x.key]:Number(N.target.value)}),onKeyDown:N=>p(N,x.key),onWheel:N=>N.target.blur()})]},x.key))})]})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"glass-panel p-6 border-[var(--border-primary)]",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6 text-amber-500 font-bold",children:[n.jsx(xy,{size:18}),n.jsx("span",{children:""})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-[var(--text-secondary)] block mb-1",children:"Line Pay "}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"input-expense-linePay",type:"number",className:"input-field w-full pl-8 border-[var(--border-primary)] text-emerald-500 bg-[var(--bg-secondary)]",value:s.linePay||"",onChange:x=>r({...s,linePay:Number(x.target.value)}),onKeyDown:x=>p(x,"linePay"),onWheel:x=>x.target.blur()}),n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-emerald-500 font-bold",children:"+"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-[var(--text-secondary)] block mb-1",children:""}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{id:"input-expense-serviceFee",type:"number",className:"input-field w-full pl-8 border-rose-200 text-rose-700 bg-rose-50",value:s.serviceFee||"",onChange:x=>r({...s,serviceFee:Number(x.target.value)}),onKeyDown:x=>p(x,"serviceFee"),onWheel:x=>x.target.blur()}),n.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-rose-600 font-bold",children:"-"})]})]})]})]}),n.jsxs("div",{className:"glass-panel p-6 border-indigo-200",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-6 text-indigo-600 font-bold",children:[n.jsx(fd,{size:18}),n.jsx("span",{children:""})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("label",{className:"text-xs text-[var(--text-secondary)] flex items-center gap-2 font-bold",children:[n.jsx(fd,{size:14})," "]}),n.jsx("input",{id:"input-expense-vehicleMaintenance",type:"number",className:"input-field w-28 text-right bg-[var(--bg-primary)]",value:s.vehicleMaintenance||"",onChange:x=>r({...s,vehicleMaintenance:Number(x.target.value)}),onKeyDown:x=>p(x,"vehicleMaintenance"),onWheel:x=>x.target.blur()})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("label",{className:"text-xs text-[var(--text-secondary)] flex items-center gap-2 font-bold",children:[n.jsx(Mi,{size:14})," "]}),n.jsx("input",{id:"input-expense-salary",type:"number",className:"input-field w-28 text-right bg-[var(--bg-primary)]",value:s.salary||"",onChange:x=>r({...s,salary:Number(x.target.value)}),onKeyDown:x=>p(x,"salary"),onWheel:x=>x.target.blur()})]}),n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("label",{className:"text-xs text-[var(--text-secondary)] flex items-center gap-2 font-bold",children:[n.jsx(p1,{size:14})," "]}),n.jsx("input",{id:"input-expense-reserve",type:"number",className:"input-field w-28 text-right bg-[var(--bg-primary)]",value:s.reserve||"",onChange:x=>r({...s,reserve:Number(x.target.value)}),onKeyDown:x=>p(x,"reserve"),onWheel:x=>x.target.blur()})]})]})]}),n.jsxs("button",{onClick:o,className:"btn-primary w-full py-4 text-lg font-black shadow-lg shadow-blue-100 hover:shadow-xl hover:shadow-blue-200 transition-all flex justify-center items-center gap-3 active:scale-95",children:[n.jsx(Vs,{size:22})," "]}),n.jsx("p",{className:"text-center text-[var(--text-secondary)] text-[10px] uppercase font-bold tracking-tighter",children:"Data will be saved to Expenditures Sheet"})]})]})]})}function E4({user:e,apiUrl:t}){const[a,l]=S.useState([]),[s,r]=S.useState(!1),[i,c]=S.useState(!1),[o,u]=S.useState(""),[p,m]=S.useState({username:"",password:"",role:"VIEWER"}),[d,x]=S.useState(null),N=[{group:"",items:[{key:"sales_entry",label:""},{key:"sales_report",label:""}]},{group:"",items:[{key:"purchase_entry",label:""},{key:"purchase_history",label:""}]},{group:"",items:[{key:"inventory_adjust",label:""},{key:"inventory_stocktake",label:""},{key:"inventory_valuation",label:""},{key:"inventory_adjust_history",label:""},{key:"inventory_stocktake_history",label:""}]},{group:"",items:[{key:"finance_expenditure",label:""}]},{group:"",items:[{key:"finance_receivable",label:""},{key:"finance_payable",label:""},{key:"finance_income",label:""},{key:"finance_cost",label:""},{key:"finance_payroll",label:""}]},{group:"",items:[{key:"analytics_sales",label:""},{key:"analytics_customer",label:""},{key:"analytics_profit",label:""},{key:"analytics_turnover",label:""}]},{group:"",items:[{key:"system_config",label:""}]}],w=async()=>{if(!p.username||!p.password){alert("");return}c(!0),u(" ...");try{await ee(t,"addUser",p,e.token),m({username:"",password:"",role:"VIEWER"}),await f(),alert("")}catch(j){alert(": "+j.message)}finally{c(!1)}},b=async j=>{if(window.confirm(` ${j}?`)){c(!0),u(" ...");try{await ee(t,"deleteUser",{username:j},e.token),await f(),alert("")}catch(y){alert(": "+y.message)}finally{c(!1)}}},f=async()=>{r(!0);try{const j=await ee(t,"getUsers",{},e.token);if(Array.isArray(j)){const y=j.map(D=>{let E=D.permissions;if(typeof E=="string")try{E=JSON.parse(E)}catch(O){console.error(`Failed to parse permissions for ${D.username}`,O),E=[]}return{...D,permissions:Array.isArray(E)?E:[]}});l(y)}else console.warn("Backend returned non-array for users")}catch(j){console.error("Failed to fetch users:",j),alert("")}finally{r(!1)}};S.useEffect(()=>{e!=null&&e.token&&f()},[e.token,t]);const g=async()=>{if(d){c(!0),u(" ...");try{await ee(t,"updateUserPermissions",{username:d.username,permissions:d.permissions},e.token),x(null),await f(),alert("")}catch(j){console.error(j),alert(": "+j.message)}finally{c(!1)}}},h=j=>{if(!d)return;const y=d.permissions||[];y.includes(j)?x({...d,permissions:y.filter(D=>D!==j)}):x({...d,permissions:[...y,j]})},v=j=>{if(!d)return;const y=d.permissions||[],D=j.map(O=>O.key);if(D.every(O=>y.includes(O)))x({...d,permissions:y.filter(O=>!D.includes(O))});else{const O=y.filter(B=>!D.includes(B));x({...d,permissions:[...O,...D]})}};return n.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[i&&n.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-[2px] z-[60] flex items-center justify-center animate-in fade-in duration-200",children:n.jsxs("div",{className:"bg-[var(--bg-primary)] p-6 rounded-2xl shadow-xl flex flex-col items-center gap-4 min-w-[200px]",children:[n.jsx(Ye,{className:"animate-spin text-[var(--accent-blue)]",size:32}),n.jsx("span",{className:"text-[var(--text-primary)] font-bold text-base",children:o})]})}),n.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("h1",{className:"text-lg md:text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(fa,{className:"text-rose-500",size:20})," "]}),n.jsx("p",{className:"text-[10px] md:text-sm text-[var(--text-tertiary)] font-medium",children:"(Permission Control)"})]}),n.jsx("button",{onClick:f,className:"btn-secondary p-2 rounded-xl",children:n.jsx(Ye,{size:18,className:s?"animate-spin":""})})]}),n.jsxs("div",{className:"glass-panel p-4 md:p-6 border-l-4 border-l-emerald-500 shrink-0",children:[n.jsxs("h3",{className:"font-bold text-base md:text-lg mb-3 flex items-center gap-2 text-[var(--text-primary)]",children:[n.jsx(O1,{size:18,className:"text-emerald-500"})," "]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end relative",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs text-[var(--text-secondary)] uppercase font-bold px-1",children:" (Username)"}),n.jsx("input",{id:"input-new-username",type:"text",className:"input-field w-full",value:p.username,onChange:j=>m({...p,username:j.target.value}),onKeyDown:j=>{var y;(j.key==="Enter"||j.key==="ArrowRight")&&(j.preventDefault(),(y=document.getElementById("input-new-password"))==null||y.focus())},placeholder:""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs text-[var(--text-secondary)] uppercase font-bold px-1",children:" (Password)"}),n.jsx("input",{id:"input-new-password",type:"password",className:"input-field w-full",value:p.password,onChange:j=>m({...p,password:j.target.value}),onKeyDown:j=>{var y,D;j.key==="Enter"||j.key==="ArrowRight"?(j.preventDefault(),(y=document.getElementById("input-new-role"))==null||y.focus()):j.key==="ArrowLeft"&&(j.preventDefault(),(D=document.getElementById("input-new-username"))==null||D.focus())},placeholder:""})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("label",{className:"text-xs text-[var(--text-secondary)] uppercase font-bold px-1",children:" (Role)"}),n.jsxs("select",{id:"input-new-role",className:"input-field w-full",value:p.role,onChange:j=>m({...p,role:j.target.value}),onKeyDown:j=>{var y,D;j.key==="Enter"||j.key==="ArrowRight"?(j.preventDefault(),(y=document.getElementById("btn-add-user"))==null||y.focus()):j.key==="ArrowLeft"&&(j.preventDefault(),(D=document.getElementById("input-new-password"))==null||D.focus())},children:[n.jsx("option",{value:"BOSS",children:" (BOSS)"}),n.jsx("option",{value:"ADMIN",children:" (ADMIN)"}),n.jsx("option",{value:"EMPLOYEE",children:" (EMPLOYEE)"}),n.jsx("option",{value:"VIEWER",children:" (VIEWER)"})]})]}),n.jsxs("button",{id:"btn-add-user",onClick:w,onKeyDown:j=>{var y;j.key==="ArrowLeft"&&(j.preventDefault(),(y=document.getElementById("input-new-role"))==null||y.focus())},className:"btn-primary flex justify-center items-center gap-2",disabled:s,children:[n.jsx(Vs,{size:18})," "]})]})]}),n.jsx("div",{className:"glass-panel p-0 overflow-hidden flex-1 flex flex-col",children:n.jsxs("div",{className:"overflow-y-auto flex-1",children:[n.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[n.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-xs uppercase sticky top-0 z-10",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4",children:" (Username)"}),n.jsx("th",{className:"p-4",children:" (Role)"}),n.jsx("th",{className:"p-4 text-center",children:" (Status)"}),n.jsx("th",{className:"p-4 text-center",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)] bg-[var(--bg-primary)]",children:a.length>0?a.map((j,y)=>n.jsxs("tr",{className:"hover:bg-[var(--bg-secondary)] transition-colors",children:[n.jsx("td",{className:"p-4 text-[var(--text-primary)] font-bold",children:j.username}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold border ${j.role==="BOSS"?"bg-amber-500/10 text-amber-500 border-amber-500/20":j.role==="ADMIN"?"bg-rose-500/10 text-rose-500 border-rose-500/20":j.role==="EMPLOYEE"?"bg-blue-500/10 text-blue-500 border-blue-500/20":(j.role==="VIEWER","bg-slate-500/10 text-[var(--text-secondary)] border-slate-500/20")}`,children:j.role})}),n.jsx("td",{className:"p-4 text-center",children:j.status==="ACTIVE"?n.jsxs("span",{className:"flex items-center justify-center gap-2 text-emerald-500 font-bold text-xs",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.3)]"})," ACTIVE"]}):n.jsxs("span",{className:"flex items-center justify-center gap-2 text-[var(--text-secondary)] font-bold text-xs",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-500"})," ",j.status||"UNKNOWN"]})}),n.jsx("td",{className:"p-4 text-center flex items-center justify-center gap-2",children:j.username!=="admin"&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>{let D=Array.isArray(j.permissions)?[...j.permissions]:[];const E={sales:["sales_entry","sales_report"],purchase:["purchase_entry","purchase_history"],inventory:["inventory_adjust","inventory_stocktake","inventory_valuation","inventory_adjust_history","inventory_stocktake_history"],finance:["finance_expenditure","finance_receivable","finance_payable","finance_income","finance_cost"],analytics:["analytics_sales","analytics_customer","analytics_profit","analytics_turnover"],system:["system_config"],inventory_history:["inventory_adjust_history","inventory_stocktake_history"]};Object.keys(E).forEach(O=>{D.includes(O)&&(D=D.filter(B=>B!==O),E[O].forEach(B=>{D.includes(B)||D.push(B)}))}),x({username:j.username,permissions:D})},className:"p-2 text-[var(--text-tertiary)] hover:text-[var(--accent-blue)] transition-colors",title:"",children:n.jsx(fa,{size:16})}),n.jsx("button",{onClick:()=>b(j.username),className:"p-2 text-[var(--text-tertiary)] hover:text-rose-400 transition-colors",title:"",children:n.jsx(Qs,{size:16})})]})})]},y)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"p-20 text-center text-[var(--text-secondary)]",children:s?"...":""})})})]}),n.jsx("div",{className:"md:hidden divide-y divide-[var(--border-primary)]",children:a.length>0?a.map((j,y)=>n.jsx("div",{className:"p-6 bg-[var(--bg-primary)] hover:bg-[var(--bg-secondary)] transition-colors border-b border-[var(--border-primary)] last:border-0 shadow-sm",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"text-lg font-extrabold text-[var(--text-primary)] leading-tight",children:j.username}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:`px-2.5 py-0.5 rounded text-[11px] font-bold border ${j.role==="BOSS"?"bg-amber-500/10 text-amber-500 border-amber-500/20":j.role==="ADMIN"?"bg-rose-500/10 text-rose-500 border-rose-500/20":j.role==="EMPLOYEE"?"bg-blue-500/10 text-blue-500 border-blue-500/20":"bg-slate-500/10 text-[var(--text-secondary)] border-slate-500/20"}`,children:j.role}),j.status==="ACTIVE"?n.jsxs("span",{className:"flex items-center gap-1.5 text-emerald-500 font-bold text-[11px]",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"})," ACTIVE"]}):n.jsxs("span",{className:"flex items-center gap-1.5 text-[var(--text-tertiary)] font-bold text-[11px]",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-300"})," ",j.status||"OFF"]})]})]}),j.username!=="admin"&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{let D=Array.isArray(j.permissions)?[...j.permissions]:[];const E={sales:["sales_entry","sales_report"],purchase:["purchase_entry","purchase_history"],inventory:["inventory_adjust","inventory_stocktake","inventory_valuation","inventory_adjust_history","inventory_stocktake_history"],finance:["finance_expenditure","finance_receivable","finance_payable","finance_income","finance_cost"],analytics:["analytics_sales","analytics_customer","analytics_profit","analytics_turnover"],system:["system_config"],inventory_history:["inventory_adjust_history","inventory_stocktake_history"]};Object.keys(E).forEach(O=>{D.includes(O)&&(D=D.filter(B=>B!==O),E[O].forEach(B=>{D.includes(B)||D.push(B)}))}),x({username:j.username,permissions:D})},className:"w-12 h-12 flex items-center justify-center text-[var(--accent-blue)] bg-[var(--bg-secondary)] rounded-xl active:scale-90 transition-transform shadow-sm",children:n.jsx(fa,{size:22})}),n.jsx("button",{onClick:()=>b(j.username),className:"w-12 h-12 flex items-center justify-center text-rose-500 bg-[var(--bg-secondary)] rounded-xl active:scale-90 transition-transform shadow-sm",children:n.jsx(Qs,{size:22})})]})]})},y)):n.jsx("div",{className:"p-10 text-center text-[var(--text-secondary)]",children:s?"...":""})})]})}),d&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"bg-[var(--bg-primary)] border border-[var(--border-primary)] rounded-2xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[n.jsxs("div",{className:"p-6 border-b border-[var(--border-primary)] bg-[var(--bg-secondary)]",children:[n.jsxs("h3",{className:"text-xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(fa,{className:"text-[var(--accent-blue)]"}),"  (",d.username,")"]}),n.jsx("p",{className:"text-[var(--text-secondary)] text-sm mt-1",children:" (BOSS )"})]}),n.jsx("div",{className:"p-6 space-y-6 max-h-[65vh] overflow-y-auto custom-scrollbar",children:N.map(j=>{const y=j.items.map(E=>E.key),D=y.every(E=>{var O;return(O=d.permissions)==null?void 0:O.includes(E)});return y.some(E=>{var O;return(O=d.permissions)==null?void 0:O.includes(E)}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between px-1 cursor-pointer group/title",onClick:()=>v(j.items),children:[n.jsx("h4",{className:"text-xs font-bold text-[var(--text-tertiary)] uppercase tracking-widest flex items-center gap-2 group-hover/title:text-[var(--accent-blue)] transition-colors",children:j.group}),n.jsx("span",{className:"text-[10px] text-[var(--accent-blue)] font-bold opacity-0 group-hover/title:opacity-100 transition-opacity",children:D?"":""})]}),n.jsx("div",{className:"grid grid-cols-1 gap-2",children:j.items.map((E,O)=>{var U,V,te,ae,L;const B=`perm-item-${E.key}`,X=z=>{var H,ne,F;if(!["Enter"," ","ArrowDown","ArrowUp","ArrowRight","ArrowLeft"].includes(z.key))return;z.preventDefault();const C=[];N.forEach(re=>{re.items.forEach($e=>C.push($e.key))});const $=C.indexOf(E.key);if(z.key==="Enter"||z.key===" "){if(h(E.key),$<C.length-1){const re=C[$+1];(H=document.getElementById(`perm-item-${re}`))==null||H.focus()}}else if(z.key==="ArrowDown"||z.key==="ArrowRight"){if($<C.length-1){const re=C[$+1];(ne=document.getElementById(`perm-item-${re}`))==null||ne.focus()}}else if((z.key==="ArrowUp"||z.key==="ArrowLeft")&&$>0){const re=C[$-1];(F=document.getElementById(`perm-item-${re}`))==null||F.focus()}};return n.jsxs("label",{id:B,tabIndex:"0",onKeyDown:X,className:`flex items-center gap-3 p-3 rounded-xl border transition-all cursor-pointer group outline-none ring-offset-2 focus:ring-2 focus:ring-[var(--accent-blue)]/50 ${(U=d.permissions)!=null&&U.includes(E.key)?"bg-[var(--bg-secondary)] border-[var(--border-primary)] shadow-sm":"bg-[var(--bg-secondary)] border-[var(--border-primary)] hover:bg-[var(--bg-hover)]"}`,children:[n.jsx("div",{className:`w-5 h-5 rounded-lg border flex items-center justify-center transition-all ${(V=d.permissions)!=null&&V.includes(E.key)?"bg-[var(--accent-blue)] border-[var(--accent-blue)] text-white scale-110":"bg-[var(--bg-primary)] border-[var(--border-primary)] group-hover:border-[var(--accent-blue)]/50"}`,children:((te=d.permissions)==null?void 0:te.includes(E.key))&&n.jsx(Ys,{size:12,fill:"currentColor"})}),n.jsx("input",{type:"checkbox",className:"hidden",checked:(ae=d.permissions)==null?void 0:ae.includes(E.key),onChange:()=>h(E.key)}),n.jsx("span",{className:`text-sm transition-colors ${(L=d.permissions)!=null&&L.includes(E.key)?"text-[var(--text-primary)] font-bold":"text-[var(--text-secondary)]"}`,children:E.label})]},E.key)})})]},j.group)})}),n.jsxs("div",{className:"p-6 border-t border-[var(--border-primary)] flex justify-end gap-3 bg-[var(--bg-secondary)]",children:[n.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 rounded-lg text-[var(--text-secondary)] hover:text-[var(--text-primary)] hover:bg-black/5 transition-colors",children:""}),n.jsx("button",{onClick:g,className:"btn-primary px-6 py-2",children:""})]})]})})]})}function A4({user:e,apiUrl:t}){var Fe,pt,jt;const[a,l]=S.useState(new Date().getFullYear()),[s,r]=S.useState(new Date().getMonth()+1),[i,c]=S.useState(e.username),[o,u]=S.useState([]),[p,m]=S.useState(!1),[d,x]=S.useState(null),[N,w]=S.useState(null),[b,f]=S.useState("LEAVE"),[g,h]=S.useState(""),[v,j]=S.useState(""),[y,D]=S.useState(!1),[E,O]=S.useState({baseSalary:0,attendanceBonus:0,insurance:0,monthlyOffDays:8,bonusTiers:"[]"}),[B,X]=S.useState(!1),[U,V]=S.useState(!1),[te,ae]=S.useState({profile:{joinedDate:"",birthday:"",identityId:"",contact:"",note:""},seniorityText:"",estimatedLeaveDays:0}),[L,z]=S.useState({joinedDate:"",birthday:"",identityId:"",contact:"",note:""}),G={baseSalary:S.useRef(null),attendanceBonus:S.useRef(null),monthlyOffDays:S.useRef(null),insurance:S.useRef(null),bonusTiers:S.useRef(null)},C={editValue:S.useRef(null),editNote:S.useRef(null)};S.useEffect(()=>{e.role==="BOSS"&&ee(t,"getUsers",{},e.token).then(K=>u(K)).catch(K=>console.error(K))},[e.role,e.token,t]);const $=S.useCallback(async()=>{m(!0);try{const T=await ee(t,"getPayrollData",{year:a,month:s,targetUser:i},e.token);T&&!T.error?(x(T),T.config&&O({...T.config,bonusTiers:JSON.stringify(T.config.bonusTiers||[])})):console.error(T==null?void 0:T.error)}catch(T){console.error(T),alert(": "+T.message)}finally{m(!1)}},[a,s,i,e.token]),H=S.useCallback(async()=>{try{const T=await ee(t,"getEmployeeProfile",{targetUser:i},e.token);T&&!T.error&&(ae(T),z(T.profile))}catch(T){console.error(T)}},[i,e.token,t]),ne=async()=>{if(!d||!d.summary){alert("");return}const T=` ${i} 

: $${(d.summary.finalSalary||0).toLocaleString()}
: ${a}${s}`;if(confirm(T)){X(!0);try{await ee(t,"savePayrollToExpenditure",{targetUser:i,year:a,month:s,finalSalary:d.summary.finalSalary},e.token),alert("")}catch(K){console.error("Save payroll failed:",K),alert(": "+K.message)}finally{X(!1)}}};S.useEffect(()=>{$(),H()},[$,H]);const F=async()=>{if(N){X(!0);try{await ee(t,"saveDailyRecord",{date:N.date,username:i,type:b,value:b==="WORK"||b==="LEAVE"||b==="SPECIAL_LEAVE"||b==="SICK_LEAVE"?1:Number(g),note:v},e.token),w(null),$()}catch(T){alert(": "+T.message)}finally{X(!1)}}},re=async()=>{X(!0);try{await ee(t,"saveEmployeeProfile",{username:i,...L},e.token),V(!1),H()}catch(T){alert(": "+T.message)}finally{X(!1)}},$e=async()=>{let T=[];try{T=JSON.parse(E.bonusTiers)}catch{alert(" (JSON Error)");return}X(!0);try{await ee(t,"savePayrollSettings",{targetUser:i,baseSalary:Number(E.baseSalary),attendanceBonus:Number(E.attendanceBonus),insurance:Number(E.insurance),monthlyOffDays:Number(E.monthlyOffDays),bonusTiers:T},e.token),D(!1),$()}catch(K){alert(": "+K.message)}finally{X(!1)}},tt=(T,K)=>{var k,A,_,Q,ie;const oe=["baseSalary","attendanceBonus","monthlyOffDays","insurance","bonusTiers"],we=oe.indexOf(K);if(!(K==="bonusTiers")&&(T.key==="ArrowUp"||T.key==="ArrowDown")&&T.preventDefault(),T.key==="Enter"){if(K==="bonusTiers"&&!T.ctrlKey)return;T.preventDefault();const W=oe[we+1];W&&G[W].current&&(G[W].current.focus(),(A=(k=G[W].current).select)==null||A.call(k));return}const Ne=(_={baseSalary:{ArrowRight:"attendanceBonus",ArrowDown:"monthlyOffDays"},attendanceBonus:{ArrowLeft:"baseSalary",ArrowDown:"insurance"},monthlyOffDays:{ArrowRight:"insurance",ArrowUp:"baseSalary",ArrowDown:"bonusTiers"},insurance:{ArrowLeft:"monthlyOffDays",ArrowUp:"attendanceBonus",ArrowDown:"bonusTiers"},bonusTiers:{}}[K])==null?void 0:_[T.key];Ne&&G[Ne].current&&(T.preventDefault(),G[Ne].current.focus(),(ie=(Q=G[Ne].current).select)==null||ie.call(Q))},Ze=(T,K)=>{var oe,we,Je;if(T.key==="Enter"&&(T.preventDefault(),K==="editType"?b==="LOSS"?(oe=C.editValue.current)==null||oe.focus():(we=C.editNote.current)==null||we.focus():K==="editValue"?(Je=C.editNote.current)==null||Je.focus():K==="editNote"&&F()),K==="editType"&&(T.key==="ArrowLeft"||T.key==="ArrowRight")){T.preventDefault();const pe=["WORK","LEAVE","SPECIAL_LEAVE","SICK_LEAVE","LOSS"];let Ne=pe.indexOf(b);T.key==="ArrowLeft"&&(Ne=(Ne-1+pe.length)%pe.length),T.key==="ArrowRight"&&(Ne=(Ne+1)%pe.length),f(pe[Ne])}},q=((T,K)=>{const oe=new Date(T,K,0).getDate();return Array.from({length:oe},(we,Je)=>{const pe=new Date(T,K-1,Je+1),Ne=pe.getTimezoneOffset()*6e4;return{date:new Date(pe.getTime()-Ne).toISOString().split("T")[0],day:Je+1,weekday:["","","","","","",""][pe.getDay()]}})})(a,s),P=(d==null?void 0:d.summary)||{};let Te=0,xe=0,Pe=0,ge=0;q.forEach(T=>{var pe,Ne;const K=T.date,oe=((pe=d==null?void 0:d.dailyData)==null?void 0:pe[K])||0,we=((Ne=d==null?void 0:d.dailyRecords)==null?void 0:Ne[K])||{};oe>0?Te++:we.isLeave?xe++:we.isSpecialLeave?Pe++:we.isSickLeave?ge++:xe++});const le=T=>{if(!T)return"";try{if(T instanceof Date)return`${T.getMonth()+1}${T.getDate()}`;const K=String(T),oe=new Date(K);if(!isNaN(oe.getTime()))return`${oe.getMonth()+1}${oe.getDate()}`;const we=K.match(/(\d{1,2})[/-](\d{1,2})/);return we?`${we[1]}${we[2]}`:K.replace(/[/.-]/g,"")+""}catch(K){return console.error("Format err",K),String(T)}};return n.jsxs("div",{className:"p-2 md:p-8 space-y-4 md:space-y-6 max-w-7xl mx-auto pb-24",children:[n.jsxs("div",{className:"md:hidden space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center px-1 mb-6",children:[n.jsxs("h1",{className:"text-xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(rt,{className:"text-[var(--accent-blue)]",size:24})," "]}),n.jsx("button",{onClick:$,className:"btn-secondary py-1 px-3 text-xs h-7 rounded-full border-[var(--border-primary)] text-[var(--text-secondary)]",children:""})]}),n.jsx("div",{className:"flex justify-center",children:n.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-lg border border-[var(--border-primary)] shadow-sm h-10 px-1 flex items-center gap-1 w-full max-w-[340px] justify-center",children:[n.jsx("select",{value:a,onChange:T=>l(Number(T.target.value)),className:"bg-transparent text-sm font-medium text-[var(--text-primary)] h-8 pl-2 pr-1 outline-none text-center",children:[2025,2026,2027].map(T=>n.jsxs("option",{value:T,children:[T,""]},T))}),n.jsx("div",{className:"w-px h-4 bg-slate-200"}),n.jsx("select",{value:s,onChange:T=>r(Number(T.target.value)),className:"bg-transparent text-sm font-bold text-[var(--accent-blue)] h-8 px-1 outline-none text-center w-16",children:Array.from({length:12},(T,K)=>K+1).map(T=>n.jsxs("option",{value:T,children:[T,""]},T))}),e.role==="BOSS"&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-px h-4 bg-slate-200"}),n.jsxs("select",{value:i,onChange:T=>c(T.target.value),className:"bg-transparent text-sm font-medium text-[var(--text-primary)] h-8 pl-1 pr-2 outline-none text-center min-w-[5rem]",children:[o.map(T=>n.jsx("option",{value:T.username,children:T.username},T.userid)),!o.some(T=>T.username===i)&&n.jsx("option",{value:i,children:i})]})]})]})}),e.role==="BOSS"&&n.jsx("div",{className:"flex justify-center",children:n.jsxs("div",{className:"bg-[var(--bg-primary)] rounded-lg border border-[var(--border-primary)] shadow-sm h-10 px-1 flex items-center gap-1 w-full max-w-[340px] justify-center",children:[n.jsxs("button",{onClick:()=>D(!0),className:"h-8 px-2 text-xs font-medium text-[var(--text-secondary)] hover:bg-[var(--bg-secondary)] rounded-md flex items-center gap-1",children:[n.jsx(dn,{size:14})," "]}),n.jsx("div",{className:"w-px h-4 bg-slate-200"}),n.jsxs("button",{onClick:()=>V(!0),className:"h-8 px-2 text-xs font-medium text-[var(--text-secondary)] hover:bg-[var(--bg-secondary)] rounded-md flex items-center gap-1",children:[n.jsx(ya,{size:14})," "]}),n.jsx("div",{className:"w-px h-4 bg-slate-200"}),n.jsxs("button",{onClick:ne,disabled:B||!d,className:"h-8 px-2 text-xs font-medium text-[var(--accent-blue)] hover:bg-[var(--bg-secondary)] rounded-md flex items-center gap-1 disabled:opacity-50",children:[n.jsx(rt,{size:14})," "]})]})}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-2 px-1 text-[10px]",children:[n.jsxs("span",{className:"bg-[var(--bg-secondary)] text-[var(--accent-blue)] px-2 py-0.5 rounded border border-[var(--border-primary)]",children:[": ",te.profile.joinedDate||"-"]}),n.jsxs("span",{className:"bg-[var(--bg-secondary)] text-indigo-500 px-2 py-0.5 rounded border border-[var(--border-primary)]",children:[": ",te.seniorityText]}),n.jsxs("span",{className:"bg-[var(--bg-secondary)] text-emerald-500 px-2 py-0.5 rounded border border-[var(--border-primary)]",children:[": ",te.estimatedLeaveDays-((d==null?void 0:d.totalSpecialLeaveUsed)||0),""]})]})]}),n.jsxs("div",{className:"hidden md:flex glass-panel p-6 flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[var(--accent-blue)] to-indigo-500 flex items-center gap-3",children:[n.jsx(rt,{})," "]}),n.jsx("p",{className:"text-[var(--text-tertiary)] text-sm mt-1",children:""})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsx("select",{value:a,onChange:T=>l(Number(T.target.value)),className:"input-field w-24",children:[2025,2026,2027].map(T=>n.jsxs("option",{value:T,children:[T,""]},T))}),n.jsx("select",{value:s,onChange:T=>r(Number(T.target.value)),className:"input-field w-20",children:Array.from({length:12},(T,K)=>K+1).map(T=>n.jsxs("option",{value:T,children:[T,""]},T))}),e.role==="BOSS"&&n.jsxs("select",{value:i,onChange:T=>c(T.target.value),className:"input-field w-32",children:[o.map(T=>n.jsx("option",{value:T.username,children:T.username},T.userid)),!o.some(T=>T.username===i)&&n.jsx("option",{value:i,children:i})]}),e.role==="BOSS"&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>D(!0),className:"btn-secondary flex items-center gap-2",children:[n.jsx(dn,{size:16})," "]}),n.jsxs("button",{onClick:()=>V(!0),className:"btn-secondary flex items-center gap-2 border-[var(--border-primary)] text-emerald-500 hover:bg-[var(--bg-secondary)]",children:[n.jsx(ya,{size:16})," "]}),n.jsxs("button",{onClick:ne,disabled:B||!d,className:"btn-secondary flex items-center gap-2 border-[var(--border-primary)] text-blue-700 hover:bg-[var(--bg-secondary)] disabled:opacity-50",children:[n.jsx(rt,{size:16})," ",B?"...":""]})]}),n.jsx("button",{onClick:$,className:"btn-primary",children:""})]})]}),n.jsxs("div",{className:"hidden md:flex flex-wrap gap-4 px-2",children:[n.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-secondary)] text-[var(--accent-blue)] px-3 py-1.5 rounded-full text-sm font-medium border border-[var(--border-primary)]",children:[n.jsx(ya,{size:14})," : ",te.profile.joinedDate||""]}),n.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-secondary)] text-indigo-500 px-3 py-1.5 rounded-full text-sm font-medium border border-[var(--border-primary)]",children:[n.jsx(dn,{size:14})," : ",te.seniorityText]}),n.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-secondary)] text-emerald-500 px-3 py-1.5 rounded-full text-sm font-medium border border-[var(--border-primary)]",children:[n.jsx(ud,{size:14})," :  ",te.estimatedLeaveDays,"  /  ",(d==null?void 0:d.totalSpecialLeaveUsed)||0,"  /  ",te.estimatedLeaveDays-((d==null?void 0:d.totalSpecialLeaveUsed)||0)," "]})]}),e.role==="BOSS"&&(d==null?void 0:d.isBirthdayMonth)&&n.jsx("div",{className:"px-1 md:px-2",children:n.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 border border-pink-100 rounded-xl p-3 md:p-4 flex items-center gap-3 md:gap-4 animate-bounce-subtle",children:[n.jsx("div",{className:"bg-[var(--bg-primary)] p-1.5 md:p-2 rounded-full shadow-sm text-lg md:text-2xl",children:""}),n.jsxs("div",{children:[n.jsxs("h4",{className:"text-rose-700 font-bold text-sm md:text-base",children:[" ",te.profile.birthday?`(${le(te.profile.birthday)})`:"",""]}),n.jsx("p",{className:"text-rose-600/80 text-xs md:text-sm",children:""})]})]})}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 px-1 md:hidden",children:[n.jsx(St,{title:"",amount:(Fe=d==null?void 0:d.config)==null?void 0:Fe.baseSalary,color:"text-[var(--text-primary)]",isMobile:!0}),n.jsx(St,{title:"",amount:0,color:"text-indigo-600",isMobile:!0}),n.jsx(St,{title:"",amount:P.insurance,isDeduction:!0,color:"text-red-600",isMobile:!0,hoverContent:n.jsx("div",{className:"flex flex-col items-end",children:n.jsxs("p",{className:"text-xs font-bold text-emerald-500 font-mono",children:["$",(P.bonus||0).toLocaleString()]})})}),n.jsx(St,{title:"",amount:P.finalSalary,color:"text-[var(--accent-blue)]",isMobile:!0,className:"bg-[var(--bg-secondary)]/50 border-blue-100"})]}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 px-1 mt-2 md:hidden",children:[n.jsx(St,{title:"",amount:P.attendanceBonus,color:"text-yellow-600",isMobile:!0,hoverContent:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] leading-none mb-0.5",children:""}),n.jsxs("p",{className:"text-xs font-bold text-emerald-500",children:[Te," "]})]})}),n.jsx(St,{title:"",amount:xe,isCurrency:!1,suffix:"",color:"text-[var(--text-secondary)]",isMobile:!0,hoverContent:n.jsxs("div",{className:"flex flex-col items-end gap-1",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] leading-none",children:""}),n.jsxs("p",{className:`text-xs font-bold ${(P.leaveCompensation||0)>=0?"text-[var(--accent-blue)]":"text-red-600"}`,children:["$",(P.leaveCompensation||0).toLocaleString()]})]})}),n.jsx(St,{title:"",amount:Pe,isCurrency:!1,suffix:"",color:"text-emerald-500",isMobile:!0}),n.jsx(St,{title:"",amount:ge,isCurrency:!1,suffix:"",color:"text-amber-500",isMobile:!0,hoverContent:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] leading-none",children:""}),n.jsxs("p",{className:"text-xs font-bold text-red-600",children:["-$",(ge*500).toLocaleString()]})]})})]}),n.jsxs("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-4 gap-4 px-2",children:[n.jsx(St,{title:"",amount:(pt=d==null?void 0:d.config)==null?void 0:pt.baseSalary,color:"text-[var(--text-primary)]"}),n.jsx(St,{title:"",amount:0,subtext:`: $${(P.sales||0).toLocaleString()}`,color:"text-indigo-600"}),n.jsx(St,{title:" ()",amount:P.insurance,isDeduction:!0,color:"text-red-600",hoverContent:n.jsx("div",{className:"flex flex-col items-end",children:n.jsxs("p",{className:"text-sm font-bold text-emerald-500 font-mono",children:["$",(P.bonus||0).toLocaleString()]})})}),n.jsx(St,{title:"",amount:P.finalSalary,color:"text-[var(--accent-blue)]",subtext:"/"})]}),n.jsxs("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-4 gap-4 mt-4 px-2",children:[n.jsx(St,{title:"",amount:P.attendanceBonus,color:"text-yellow-600",hoverContent:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-medium leading-none mb-1",children:""}),n.jsxs("p",{className:"text-sm font-bold text-emerald-500 font-mono",children:[Te," "]})]})}),n.jsx(St,{title:"",amount:xe,isCurrency:!1,suffix:" ",color:"text-[var(--text-secondary)]",hoverContent:n.jsxs("div",{className:"flex flex-col items-end gap-1",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-medium leading-none mb-1",children:""}),n.jsxs("p",{className:"text-sm font-bold text-emerald-500 font-mono",children:[((jt=d==null?void 0:d.config)==null?void 0:jt.monthlyOffDays)||0," "]})]}),n.jsxs("div",{className:"w-full border-t border-emerald-100 pt-1 mt-0.5",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-medium leading-none mb-1",children:""}),n.jsxs("p",{className:`text-sm font-bold font-mono ${(P.leaveCompensation||0)>=0?"text-[var(--accent-blue)]":"text-red-600"}`,children:[(P.leaveCompensation||0)>=0?"+":"-","$",Math.abs(P.leaveCompensation||0).toLocaleString()]})]})]})}),n.jsx(St,{title:"",amount:Pe,isCurrency:!1,suffix:" ",color:"text-emerald-500"}),n.jsx(St,{title:"",amount:ge,isCurrency:!1,suffix:" ",color:"text-amber-500",hoverContent:n.jsxs("div",{className:"flex flex-col items-end",children:[n.jsx("p",{className:"text-[10px] text-[var(--text-tertiary)] font-medium leading-none mb-1",children:""}),n.jsxs("p",{className:"text-sm font-bold text-red-600 font-mono",children:["-$",(ge*500).toLocaleString()]})]})})]}),n.jsx("div",{className:"px-1 md:px-2 mt-2 md:mt-4",children:n.jsxs("div",{className:"bg-[var(--bg-primary)] p-3 rounded-lg border border-red-100 flex justify-between items-center shadow-sm",children:[n.jsx("span",{className:"text-sm text-red-600 font-bold",children:"/"}),n.jsxs("span",{className:"text-lg font-bold text-red-600",children:["-$",(P.loss||0).toLocaleString()]})]})}),n.jsx("div",{className:"hidden md:block glass-panel overflow-hidden",children:n.jsxs("table",{className:"w-full text-left border-collapse",children:[n.jsx("thead",{className:"bg-[var(--bg-secondary)] text-[var(--text-secondary)] text-sm",children:n.jsxs("tr",{children:[n.jsx("th",{className:"p-4 w-32",children:""}),n.jsx("th",{className:"p-4 w-24 text-center",children:""}),n.jsx("th",{className:"p-4 text-right",children:""}),n.jsx("th",{className:"p-4 text-center",children:""}),n.jsx("th",{className:"p-4 text-right",children:"/"}),n.jsx("th",{className:"p-4 text-center",children:""})]})}),n.jsx("tbody",{className:"divide-y divide-[var(--border-primary)]",children:q.map(T=>{var A,_;const K=T.date,oe=((A=d==null?void 0:d.dailyData)==null?void 0:A[K])||0,we=((_=d==null?void 0:d.dailyRecords)==null?void 0:_[K])||{},Je=oe>0;let pe="",Ne="text-yellow-500 bg-yellow-500/10 px-2 rounded font-medium";Je?(pe=" ()",Ne="text-green-400 font-bold"):we.isLeave?(pe="",Ne="text-yellow-500 bg-yellow-500/10 px-2 rounded font-medium"):we.isSpecialLeave?(pe="",Ne="text-emerald-500 bg-emerald-500/10 px-2 rounded font-medium"):we.isSickLeave&&(pe="",Ne="text-amber-500 bg-amber-500/10 px-2 rounded font-medium");const k=T.weekday===""||T.weekday==="";return n.jsxs("tr",{className:`hover:bg-[var(--bg-secondary)] transition-colors ${k?"bg-[var(--bg-secondary)]/50":""}`,children:[n.jsx("td",{className:"p-4 font-mono text-[var(--text-secondary)]",children:K}),n.jsx("td",{className:`p-4 text-center ${T.weekday===""?"text-red-600":"text-[var(--text-secondary)]"}`,children:T.weekday}),n.jsx("td",{className:"p-4 text-right font-mono text-emerald-500",children:Math.abs(oe)>.01?`$${oe.toLocaleString()}`:"-"}),n.jsx("td",{className:"p-4 text-center",children:n.jsx("span",{className:`text-sm ${Ne}`,children:pe})}),n.jsxs("td",{className:"p-4 text-right font-mono text-red-600",children:[Math.abs(we.loss||0)>.01?`-$${Math.abs(we.loss).toLocaleString()}`:"",we.note&&n.jsx("span",{className:"block text-xs text-[var(--text-secondary)]",children:we.note})]}),n.jsx("td",{className:"p-4 text-center",children:e.role==="BOSS"&&n.jsx("button",{onClick:()=>{w(T),f("LEAVE")},className:"text-xs btn-ghost text-blue-400 hover:text-blue-300",children:""})})]},K)})})]})}),n.jsx("div",{className:"md:hidden space-y-2",children:q.map(T=>{var Q,ie;const K=T.date,oe=K.split("-"),we=`${oe[1]}/${oe[2]}`,Je=((Q=d==null?void 0:d.dailyData)==null?void 0:Q[K])||0,pe=((ie=d==null?void 0:d.dailyRecords)==null?void 0:ie[K])||{},Ne=Je>0;let k="",A="bg-yellow-100 text-yellow-700";Ne?(k="",A="bg-green-100 text-green-700"):pe.isLeave?(k="",A="bg-yellow-100 text-yellow-700"):pe.isSpecialLeave?(k="",A="bg-emerald-100 text-emerald-500"):pe.isSickLeave&&(k="",A="bg-amber-100 text-amber-700");const _=T.weekday===""||T.weekday==="";return n.jsxs("div",{className:`bg-[var(--bg-primary)] rounded-lg border border-[var(--border-primary)] p-2 flex items-center shadow-sm text-xs ${_?"bg-[var(--bg-secondary)]/50":""}`,children:[n.jsxs("div",{className:"w-14 items-center flex flex-col justify-center border-r border-[var(--border-primary)] pr-2 mr-2",children:[n.jsx("span",{className:`font-bold text-sm ${T.weekday===""?"text-rose-500":"text-[var(--text-primary)]"}`,children:we}),n.jsxs("span",{className:`text-[10px] ${T.weekday===""?"text-rose-400":"text-[var(--text-tertiary)]"}`,children:["",T.weekday]})]}),n.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-1 items-center",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-[9px] text-[var(--text-tertiary)] mb-0.5",children:""}),n.jsx("p",{className:`font-bold ${Je>0?"text-emerald-500":"text-slate-300"}`,children:Je>0?`$${Je.toLocaleString()}`:"-"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-[9px] text-[var(--text-tertiary)] mb-0.5",children:""}),n.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${A}`,children:k})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-[9px] text-[var(--text-tertiary)] mb-0.5",children:""}),n.jsx("p",{className:`font-bold ${pe.loss?"text-red-500":"text-slate-300"}`,children:pe.loss?`-$${Number(pe.loss).toLocaleString()}`:"-"})]})]}),n.jsx("div",{className:"pl-2 ml-1 border-l border-[var(--border-primary)]",children:e.role==="BOSS"&&n.jsx("button",{onClick:()=>{w(T),f("LEAVE")},className:"w-8 h-8 flex items-center justify-center rounded-full bg-[var(--bg-secondary)] text-[var(--text-tertiary)] hover:bg-[var(--bg-secondary)] hover:text-blue-500",children:n.jsx("span",{className:"text-[10px]",children:""})})})]},K)})}),N&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"glass-panel w-full max-w-md p-6 animate-fadeIn",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4",children:[N.date," (",N.weekday,") "]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-[var(--text-tertiary)] mb-2",children:" ()"}),n.jsx("div",{className:"flex bg-[var(--bg-secondary)] rounded p-1 border border-[var(--border-primary)] outline-none focus-within:ring-2 focus-within:ring-blue-500/20",tabIndex:"0",onKeyDown:T=>Ze(T,"editType"),children:[{id:"WORK",label:"",color:"bg-blue-600"},{id:"LEAVE",label:"",color:"bg-yellow-600"},{id:"SPECIAL_LEAVE",label:"",color:"bg-emerald-600"},{id:"SICK_LEAVE",label:"",color:"bg-amber-600"},{id:"LOSS",label:"/",color:"bg-red-600"}].map(T=>n.jsx("button",{className:`flex-1 py-2 rounded text-xs transition-all ${b===T.id?`${T.color} text-white shadow-sm`:"text-[var(--text-secondary)] hover:bg-slate-100"}`,onClick:()=>f(T.id),children:T.label},T.id))})]}),b==="LOSS"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-[var(--text-tertiary)] mb-1",children:" ()"}),n.jsx("input",{type:"number",className:"input-field w-full",placeholder:"-100",ref:C.editValue,value:g,onChange:T=>h(T.target.value),onKeyDown:T=>Ze(T,"editValue")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-[var(--text-tertiary)] mb-1",children:""}),n.jsx("input",{type:"text",className:"input-field w-full",placeholder:"...",ref:C.editNote,value:v,onChange:T=>j(T.target.value),onKeyDown:T=>Ze(T,"editNote")})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>w(null),className:"btn-secondary flex-1",disabled:B,children:""}),n.jsx("button",{onClick:F,className:"btn-primary flex-1",disabled:B,children:B?"...":""})]}),B&&n.jsx("div",{className:"absolute inset-0 bg-[var(--bg-primary)]/60 backdrop-blur-[2px] z-10 flex items-center justify-center rounded-lg",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),n.jsx("span",{className:"text-sm font-medium text-[var(--accent-blue)]",children:"..."})]})})]})}),y&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"glass-panel w-full max-w-lg p-6 animate-fadeIn max-h-[90vh] overflow-y-auto",children:[n.jsxs("h3",{className:"text-xl font-bold mb-4",children:[" - ",i]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:""}),n.jsx("input",{type:"number",className:"input-field w-full",ref:G.baseSalary,value:E.baseSalary,onChange:T=>O({...E,baseSalary:T.target.value}),onKeyDown:T=>tt(T,"baseSalary")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:""}),n.jsx("input",{type:"number",className:"input-field w-full",ref:G.attendanceBonus,value:E.attendanceBonus,onChange:T=>O({...E,attendanceBonus:T.target.value}),onKeyDown:T=>tt(T,"attendanceBonus")})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:""}),n.jsx("input",{type:"number",className:"input-field w-full",ref:G.monthlyOffDays,value:E.monthlyOffDays,onChange:T=>O({...E,monthlyOffDays:T.target.value}),onKeyDown:T=>tt(T,"monthlyOffDays")})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:" ()"}),n.jsx("input",{type:"number",className:"input-field w-full",ref:G.insurance,value:E.insurance,onChange:T=>O({...E,insurance:T.target.value}),onKeyDown:T=>tt(T,"insurance")})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:" (JSON)"}),n.jsx("textarea",{className:"input-field w-full font-mono text-xs h-32",ref:G.bonusTiers,value:E.bonusTiers,onChange:T=>O({...E,bonusTiers:T.target.value}),onKeyDown:T=>tt(T,"bonusTiers"),placeholder:'[{"threshold": 50000, "bonus": 1000}]'}),n.jsx("p",{className:"text-xs text-[var(--text-tertiary)] mt-1",children:': `[{"threshold": , "bonus":  }]` ( Enter )'})]})]}),n.jsxs("div",{className:"flex gap-3 mt-6",children:[n.jsx("button",{onClick:()=>D(!1),className:"btn-secondary flex-1",disabled:B,children:""}),n.jsx("button",{onClick:$e,className:"btn-primary flex-1",disabled:B,children:B?"...":""})]}),B&&n.jsx("div",{className:"absolute inset-0 bg-[var(--bg-primary)]/60 backdrop-blur-[2px] z-10 flex items-center justify-center rounded-lg text-center",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),n.jsxs("span",{className:"text-sm font-medium text-[var(--accent-blue)] font-bold",children:["",n.jsx("br",{}),n.jsx("span",{className:"text-[10px] opacity-70",children:""})]})]})})]})}),U&&n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:"glass-panel w-full max-w-lg p-6 animate-fadeIn",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold",children:[" - ",i]}),n.jsx("p",{className:"text-sm text-[var(--text-tertiary)] mt-1",children:""})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"block text-xs text-[var(--text-tertiary)] uppercase font-bold tracking-wider",children:""}),n.jsx("span",{className:"text-lg font-bold text-[var(--accent-blue)]",children:te.seniorityText})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:""}),n.jsx("input",{type:"date",className:"input-field w-full",value:L.joinedDate,onChange:T=>z({...L,joinedDate:T.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:" (/)"}),n.jsx("input",{type:"text",placeholder:"05/20",className:"input-field w-full",value:L.birthday,onChange:T=>z({...L,birthday:T.target.value})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"label",children:"/"}),n.jsx("input",{type:"text",className:"input-field w-full",placeholder:"A123456789",value:L.identityId,onChange:T=>z({...L,identityId:T.target.value})})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:""}),n.jsx("input",{type:"text",className:"input-field w-full",placeholder:"0912-345-678",value:L.contact,onChange:T=>z({...L,contact:T.target.value})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"label",children:""}),n.jsx("textarea",{className:"input-field w-full h-24",placeholder:"...",value:L.note,onChange:T=>z({...L,note:T.target.value})})]}),n.jsxs("div",{className:"bg-[var(--bg-secondary)] border border-emerald-100 rounded-lg p-3 flex justify-between items-center",children:[n.jsx("span",{className:"text-sm text-emerald-800 font-medium",children:""}),n.jsxs("span",{className:"text-xl font-bold text-emerald-500 font-mono",children:[te.estimatedLeaveDays," "]})]})]}),n.jsxs("div",{className:"flex gap-3 mt-8",children:[n.jsx("button",{onClick:()=>V(!1),className:"btn-secondary flex-1",disabled:B,children:""}),n.jsx("button",{onClick:re,className:"btn-primary flex-1",disabled:B,children:B?"...":""})]})]})})]})}function St({title:e,amount:t,subtext:a,color:l,isDeduction:s,isCurrency:r=!0,suffix:i="",hiddenAmount:c,hiddenTitle:o="",hoverContent:u,isMobile:p,className:m=""}){const[d,x]=S.useState(!1),N=()=>{(p||"ontouchstart"in window)&&x(!d)};return n.jsxs("div",{onClick:N,className:`
                relative overflow-hidden transition-all cursor-default border border-[var(--border-primary)] bg-[var(--bg-primary)]
                ${p?"h-16 p-2 rounded-lg flex flex-col justify-center items-center text-center shadow-sm":"h-28 p-4 rounded-xl flex flex-col justify-between glass-panel hover:border-blue-500"}
                ${m}
            `,onMouseEnter:()=>!p&&x(!0),onMouseLeave:()=>!p&&x(!1),children:[n.jsx("div",{className:`flex justify-between items-start z-10 w-full ${p?"justify-center":""}`,children:n.jsx("span",{className:`${p?"text-[10px]":"text-sm"} text-[var(--text-secondary)] font-bold`,children:e})}),n.jsxs("div",{className:`z-10 w-full ${p?"mt-1":""}`,children:[n.jsxs("span",{className:`${p?"text-xs":"text-2xl"} font-bold tracking-tight ${l}`,children:[s&&"-",r&&"$",(t||0).toLocaleString(),i]}),!p&&a&&n.jsx("p",{className:"text-xs text-[var(--text-secondary)] mt-1",children:a})]}),(c!==void 0||u)&&n.jsx("div",{className:`absolute top-0 right-0 p-1 md:p-2 transition-all duration-300 ${d?"translate-y-0 opacity-100":"-translate-y-full opacity-0"}`,children:n.jsx("div",{className:"bg-[var(--bg-primary)]/95 backdrop-blur shadow-sm border border-emerald-100 rounded px-1.5 py-0.5 text-right",children:u||n.jsxs(n.Fragment,{children:[o&&n.jsx("p",{className:"text-[8px] md:text-xs text-[var(--text-tertiary)] font-medium",children:o}),n.jsxs("p",{className:"text-xs md:text-sm font-bold text-emerald-500 font-mono",children:[r&&"$",(c||0).toLocaleString()]})]})})}),!p&&n.jsx("div",{className:`absolute -right-2 -bottom-2 w-16 h-16 rounded-full opacity-5 ${(l==null?void 0:l.replace("text-","bg-"))||"bg-slate-400"}`})]})}function T4({user:e,apiUrl:t}){const[a,l]=S.useState([]),[s,r]=S.useState(!1),[i,c]=S.useState({startDate:Re(new Date(Date.now()-7*24*60*60*1e3)),endDate:Re(new Date),username:"",actionType:""}),[o,u]=S.useState(null),p=[{value:"",label:""},{value:"LOGIN",label:""},{value:"LOGOUT",label:""},{value:"PAGE_VIEW",label:""},{value:"DATA_EDIT",label:""},{value:"ERROR",label:""}],m=async()=>{r(!0);try{const g=await ee(t,"getActivityLogs",i,e.token);l(Array.isArray(g)?g:[])}catch(g){console.error("Failed to fetch activity logs:",g),alert("")}finally{r(!1)}};S.useEffect(()=>{m()},[]);const d=g=>new Date(g).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),x={sales:"",inventory:"",purchase:"",report:"",purchaseHistory:"",adjustHistory:"",valuation:"",stocktake:"",stocktakeHistory:"",receivable:"",payable:"",salesRanking:"",customerRanking:"",profitAnalysis:"",turnoverRate:"",costCalculation:"",expenditureManagement:"",incomeStatement:"",permissionControl:"",payroll:"",activityLog:""},N=g=>x[g]||g||"-",w=g=>{if(!g)return"-";try{const h=JSON.parse(g),v={action:"",page:"",customer:"",totalAmount:"",paymentMethod:"",productCount:"",type:"",product:"",quantity:"",adjustType:"",vendorCount:"",totalPrice:"",itemCount:"",hasDifferences:"",totalDiff:"",note:"",recordId:"ID",vendor:"",targetUser:"",role:"",period:"",date:"",value:""};return Object.entries(h).map(([j,y])=>{const D=v[j]||j,E=typeof y=="object"?JSON.stringify(y):String(y);return`${D}: ${E}`}).join(`
`)}catch{return g}},b=g=>{const h=p.find(v=>v.value===g);return h?h.label:g},f=g=>{switch(g){case"LOGIN":return"bg-emerald-50 text-emerald-600 border-emerald-200";case"LOGOUT":return"bg-rose-50 text-rose-600 border-rose-200";case"PAGE_VIEW":return"bg-blue-50 text-blue-600 border-blue-200";case"DATA_EDIT":return"bg-amber-50 text-amber-600 border-amber-200";case"ERROR":return"bg-rose-100 text-rose-700 border-rose-300";default:return"bg-[var(--bg-tertiary)] text-[var(--text-secondary)] border-[var(--border-primary)]"}};return n.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 h-[calc(100vh-6rem)] flex flex-col",children:[n.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-lg md:text-2xl font-bold text-[var(--text-primary)] flex items-center gap-2",children:[n.jsx(Tn,{className:"text-[var(--accent-blue)]",size:24}),""]}),n.jsx("p",{className:"text-xs md:text-sm text-[var(--text-secondary)] mt-1",children:""})]}),n.jsx("button",{onClick:m,className:"btn-secondary p-2 rounded-xl",disabled:s,children:n.jsx(Ye,{size:18,className:s?"animate-spin":""})})]}),n.jsx("div",{className:"glass-panel p-4 shrink-0",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-[var(--text-secondary)] font-bold block mb-1",children:""}),n.jsx("input",{type:"date",value:i.startDate,onChange:g=>c({...i,startDate:g.target.value}),className:"input-field w-full"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-[var(--text-secondary)] font-bold block mb-1",children:""}),n.jsx("input",{type:"date",value:i.endDate,onChange:g=>c({...i,endDate:g.target.value}),className:"input-field w-full"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-[var(--text-secondary)] font-bold block mb-1",children:""}),n.jsx("select",{value:i.actionType,onChange:g=>c({...i,actionType:g.target.value}),className:"input-field w-full",children:p.map(g=>n.jsx("option",{value:g.value,children:g.label},g.value))})]}),(e.role==="BOSS"||e.role==="ADMIN")&&n.jsxs("div",{children:[n.jsx("label",{className:"text-xs text-[var(--text-secondary)] font-bold block mb-1",children:""}),n.jsx("input",{type:"text",value:i.username,onChange:g=>c({...i,username:g.target.value}),placeholder:"",className:"input-field w-full"})]}),n.jsx("div",{className:"flex items-end",children:n.jsxs("button",{onClick:m,className:"btn-primary w-full flex items-center justify-center gap-2",disabled:s,children:[n.jsx(xt,{size:16}),""]})})]})}),n.jsxs("div",{className:"glass-panel flex-1 overflow-hidden flex flex-col",children:[n.jsx("div",{className:"p-4 border-b border-[var(--border-primary)]",children:n.jsxs("div",{className:"text-sm text-[var(--text-secondary)]",children:[" ",n.jsx("span",{className:"font-bold text-[var(--accent-blue)]",children:a.length})," "]})}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:s?n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsx(Ye,{className:"animate-spin text-[var(--accent-blue)]",size:32})}):a.length===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-[var(--text-tertiary)]",children:[n.jsx(Tn,{size:48,className:"mb-2"}),n.jsx("p",{children:""})]}):n.jsx("div",{className:"divide-y divide-[var(--border-primary)]",children:a.map((g,h)=>n.jsxs("div",{className:"p-4 hover:bg-[var(--bg-secondary)] transition-colors cursor-pointer",onClick:()=>u(o===h?null:h),children:[n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold border ${f(g.actionType)}`,children:b(g.actionType)}),n.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:g.username}),n.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:d(g.timestamp)})]}),n.jsxs("div",{className:"text-sm text-[var(--text-secondary)]",children:[": ",n.jsx("span",{className:"font-medium text-[var(--text-primary)]",children:N(g.page)})]})]}),n.jsx("button",{className:"text-[var(--text-tertiary)] hover:text-[var(--text-secondary)]",children:n.jsx(Wv,{size:16})})]}),o===h&&n.jsxs("div",{className:"mt-3 pt-3 border-t border-[var(--border-primary)] space-y-2 text-xs",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-[var(--text-tertiary)]",children:":"}),n.jsx("span",{className:"ml-2 font-medium text-[var(--text-secondary)]",children:g.screenResolution||"-"})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-[var(--text-tertiary)]",children:"IP :"}),n.jsx("span",{className:"ml-2 font-medium text-[var(--text-secondary)]",children:g.ipAddress||"-"})]})]}),g.details&&n.jsxs("div",{children:[n.jsx("span",{className:"text-[var(--text-tertiary)]",children:":"}),n.jsx("pre",{className:"mt-1 p-2 bg-[var(--bg-tertiary)] text-[var(--text-secondary)] rounded text-xs overflow-x-auto whitespace-pre-wrap border border-[var(--border-primary)]",children:w(g.details)})]}),g.userAgent&&n.jsxs("div",{children:[n.jsx("span",{className:"text-[var(--text-tertiary)]",children:"User Agent:"}),n.jsx("div",{className:"mt-1 p-2 bg-[var(--bg-tertiary)] text-[var(--text-secondary)] rounded text-xs break-all border border-[var(--border-primary)]",children:g.userAgent})]})]})]},h))})})]})]})}const Cb=S.createContext({theme:"light",actualTheme:"light",setTheme:()=>{},autoSchedule:{lightStart:"06:00",darkStart:"18:00",enabled:!1},setAutoSchedule:()=>{}}),k4=()=>S.useContext(Cb),O4=({children:e})=>{const[t,a]=S.useState(()=>localStorage.getItem("theme")||"light"),[l,s]=S.useState(()=>{const p=localStorage.getItem("themeSchedule");return p?JSON.parse(p):{lightStart:"06:00",darkStart:"18:00",enabled:!1}}),[r,i]=S.useState("light"),c=()=>{if(t==="auto"&&l.enabled){const p=new Date,m=`${String(p.getHours()).padStart(2,"0")}:${String(p.getMinutes()).padStart(2,"0")}`,d=l.lightStart,x=l.darkStart;return m>=d&&m<x?"light":"dark"}return t==="auto"?"light":t},o=p=>{a(p),localStorage.setItem("theme",p)},u=p=>{s(p),localStorage.setItem("themeSchedule",JSON.stringify(p))};return S.useEffect(()=>{const p=c();i(p),document.documentElement.setAttribute("data-theme",p)},[t,l]),S.useEffect(()=>{if(t!=="auto"||!l.enabled)return;const p=setInterval(()=>{const m=c();m!==r&&(i(m),document.documentElement.setAttribute("data-theme",m))},6e4);return()=>clearInterval(p)},[t,l,r]),n.jsx(Cb.Provider,{value:{theme:t,actualTheme:r,setTheme:o,autoSchedule:l,setAutoSchedule:u},children:e})};function M4(){const{theme:e,actualTheme:t,setTheme:a,autoSchedule:l,setAutoSchedule:s}=k4(),[r,i]=S.useState(!1),c=[{value:"light",label:"",icon:Sx},{value:"dark",label:"",icon:jx},{value:"auto",label:"",icon:Ml}],o=(u,p)=>{s({...l,[u]:p})};return n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 dark:bg-slate-800 rounded-lg p-1",children:[c.map(({value:u,label:p,icon:m})=>n.jsxs("button",{onClick:()=>a(u),className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all flex items-center gap-1.5 ${e===u?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200"}`,title:p,children:[n.jsx(m,{size:14}),n.jsx("span",{className:"hidden md:inline",children:p})]},u)),e==="auto"&&n.jsx("button",{onClick:()=>i(!r),className:"p-1.5 rounded-md text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",title:"",children:n.jsx(py,{size:14})})]}),r&&e==="auto"&&n.jsxs("div",{className:"absolute top-full right-0 mt-2 w-72 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-xl p-4 z-50 animate-in fade-in slide-in-from-top-2 duration-200",children:[n.jsxs("h4",{className:"text-sm font-bold text-slate-800 dark:text-slate-200 mb-3 flex items-center gap-2",children:[n.jsx(Ml,{size:16}),""]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:""}),n.jsx("input",{type:"checkbox",checked:l.enabled,onChange:u=>o("enabled",u.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-xs text-slate-500 dark:text-slate-400 block mb-1",children:[n.jsx(Sx,{size:12,className:"inline mr-1"}),""]}),n.jsx("input",{type:"time",value:l.lightStart,onChange:u=>o("lightStart",u.target.value),disabled:!l.enabled,className:"w-full px-3 py-2 text-sm border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 disabled:opacity-50 disabled:cursor-not-allowed"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"text-xs text-slate-500 dark:text-slate-400 block mb-1",children:[n.jsx(jx,{size:12,className:"inline mr-1"}),""]}),n.jsx("input",{type:"time",value:l.darkStart,onChange:u=>o("darkStart",u.target.value),disabled:!l.enabled,className:"w-full px-3 py-2 text-sm border border-slate-200 dark:border-slate-700 rounded-lg bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 disabled:opacity-50 disabled:cursor-not-allowed"})]}),n.jsx("div",{className:"pt-2 border-t border-slate-200 dark:border-slate-700",children:n.jsxs("div",{className:"text-xs text-slate-500 dark:text-slate-400",children:[": ",n.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:t==="light"?"":""})]})})]}),n.jsx("button",{onClick:()=>i(!1),className:"mt-3 w-full px-3 py-2 text-xs font-medium text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-all",children:""})]})]})}class _4{constructor(t={}){this.idleTimeout=t.idleTimeout||30*60*1e3,this.onLogout=t.onLogout||(()=>{}),this.onIdle=t.onIdle||(()=>{}),this.onOnline=t.onOnline||(()=>{}),this.onOffline=t.onOffline||(()=>{}),this.idleTimer=null,this.lastActivity=Date.now(),this.isOnline=navigator.onLine,this.init()}init(){this.setupActivityListeners(),this.setupNetworkListeners(),this.resetIdleTimer()}setupActivityListeners(){["mousedown","mousemove","keypress","scroll","touchstart","click"].forEach(a=>{document.addEventListener(a,()=>this.handleActivity(),!0)})}handleActivity(){this.lastActivity=Date.now(),this.resetIdleTimer()}resetIdleTimer(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=setTimeout(()=>{this.handleIdle()},this.idleTimeout)}handleIdle(){console.log("",this.idleTimeout/1e3/60,""),this.onIdle(),this.logout("IDLE_TIMEOUT")}setupNetworkListeners(){window.addEventListener("online",()=>{console.log(""),this.isOnline=!0,this.onOnline()}),window.addEventListener("offline",()=>{console.log(""),this.isOnline=!1,this.onOffline()})}setupBeforeUnloadListener(){window.addEventListener("beforeunload",t=>{})}logout(t="MANUAL"){console.log(":",t),this.cleanup(),this.onLogout(t)}cleanup(){this.idleTimer&&clearTimeout(this.idleTimer)}destroy(){this.cleanup()}checkOnlineStatus(){return this.isOnline}getIdleTime(){return Date.now()-this.lastActivity}keepAlive(){this.handleActivity()}}const z4=({user:e,apiUrl:t,enabled:a=!0})=>{const l=S.useRef([]),s=S.useRef(null),r=async(o,u={})=>{if(!a||!(e!=null&&e.token))return;let p=o,m=u;if(typeof o=="object"&&o!==null&&(p=o.actionType,m={...o},typeof m.details=="string"))try{const x=JSON.parse(m.details);Object.assign(m,x),delete m.details}catch{}const d={username:e.username,actionType:p||"UNKNOWN",page:m.page||window.location.pathname,details:JSON.stringify(m),timestamp:new Date().toISOString(),userAgent:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`};l.current.push(d),l.current.length>=10?c():i()},i=()=>{s.current||(s.current=setTimeout(()=>{c()},5e3))},c=async()=>{if(l.current.length===0)return;const o=[...l.current];l.current=[],s.current&&(clearTimeout(s.current),s.current=null);try{await ee(t,"logActivity",{logs:o},e.token)}catch(u){console.error("Failed to log activity:",u),l.current=[...o,...l.current]}};return S.useEffect(()=>{const o=()=>{if(l.current.length>0){const u=JSON.stringify({action:"logActivity",payload:{logs:l.current},token:e==null?void 0:e.token});navigator.sendBeacon(t,u)}};return window.addEventListener("beforeunload",o),()=>{window.removeEventListener("beforeunload",o),c()}},[e==null?void 0:e.token,t]),{logActivity:r,flushLogs:c,logLogin:()=>r("LOGIN",{timestamp:new Date().toISOString()}),logLogout:o=>r("LOGOUT",{reason:o}),logPageView:o=>r("PAGE_VIEW",{page:o}),logDataEdit:(o,u)=>r("DATA_EDIT",{action:o,data:u}),logError:o=>r("ERROR",{error:o.message,stack:o.stack})}},Le="https://script.google.com/macros/s/AKfycbzIoBBRytN2Qja-AUSILlXwdAnbwnU6nfil9403HYHXJH_KrvDy3lC9rQ_U8dlP9AIt/exec";console.log("---  ---");console.log("Base URL:","/inventory-system/");Le.includes("YOUR_SCRIPT_ID")?(console.error("  VITE_GAS_API_URL "),console.log(" GitHub Settings -> Secrets ")):console.log(" API URL :",Le);console.log("------------------");const jn=({label:e,icon:t,active:a,children:l,id:s,openDropdown:r,setOpenDropdown:i})=>{const c=r===s;return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:o=>{o.stopPropagation(),i(c?null:s)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all duration-200 ${a?"bg-blue-50 text-blue-600 border border-blue-200 shadow-sm":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)] hover:text-[var(--text-primary)]"}`,children:[n.jsx(t,{size:18}),n.jsx("span",{className:"font-medium",children:e}),n.jsx(Gn,{size:14,className:`transition-transform duration-300 ${c?"rotate-180":""}`})]}),c&&n.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-[var(--bg-secondary)] backdrop-blur-xl border border-[var(--border-primary)] rounded-xl shadow-2xl py-2 z-[100] animate-in fade-in slide-in-from-top-2 duration-200",onClick:o=>o.stopPropagation(),children:n.jsx("div",{className:"flex flex-col gap-1 px-1",children:l})})]})},ue=({label:e,onClick:t,active:a,icon:l})=>n.jsxs("button",{onClick:t,className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-all flex items-center gap-2 ${a?"text-blue-600 bg-blue-50 font-bold":"text-slate-500 hover:text-slate-900 hover:bg-slate-100"}`,children:[l&&n.jsx(l,{size:14}),e]}),Sn=({label:e,icon:t,children:a})=>{const[l,s]=S.useState(!1);return n.jsxs("div",{className:"border-b border-slate-100 last:border-0 border-l-4 border-l-transparent hover:border-l-blue-200 transition-all",children:[n.jsxs("button",{onClick:r=>{r.stopPropagation(),s(!l)},className:"w-full flex items-center justify-between p-3 text-slate-700 font-medium active:bg-slate-50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[t&&n.jsx(t,{size:18,className:"text-slate-400"}),n.jsx("span",{children:e})]}),n.jsx(Gn,{size:16,className:`text-slate-400 transition-transform duration-300 ${l?"rotate-180":""}`})]}),n.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${l?"grid-rows-[1fr] opacity-100 pb-2":"grid-rows-[0fr] opacity-0"}`,children:n.jsx("div",{className:"overflow-hidden bg-slate-50/50 rounded-lg mx-2 border border-slate-100/50",children:a})})]})};function R4(){const[e,t]=S.useState(null),[a,l]=S.useState("sales"),[s,r]=S.useState(null),[i,c]=S.useState(!1),[o,u]=S.useState(!1),[p,m]=S.useState(null),{logActivity:d,logLogin:x,logLogout:N,logPageView:w}=z4({user:e,apiUrl:Le,enabled:!!e});S.useEffect(()=>{if(e){const j=new _4({idleTimeout:18e5,onLogout:y=>{console.log("Session timeout:",y),N(y),v(),y==="IDLE_TIMEOUT"&&alert(",")},onOffline:()=>{u(!0)},onOnline:()=>{u(!1)}});return m(j),()=>j.destroy()}},[e]),S.useEffect(()=>{const j=sessionStorage.getItem("inventory_user");if(j){const D=JSON.parse(j);D&&typeof D.permissions>"u"?(console.warn("Detected stale user data (no permissions). Clearing session."),sessionStorage.removeItem("inventory_user"),t(null)):t(D)}const y=()=>{r(null),c(!1)};return window.addEventListener("click",y),()=>window.removeEventListener("click",y)},[]),S.useEffect(()=>{e&&a&&w(a)},[a,e]);const b=j=>{if(!e)return!1;if(e.role==="BOSS")return!0;let y=e.permissions;if(typeof y>"u"||y===null)y=[];else if(typeof y=="string")try{y=JSON.parse(y)}catch(D){console.error("Failed to parse permissions string:",D),y=[]}switch(Array.isArray(y)||(y=[]),j){case"sales":return y.includes("sales_entry")||y.includes("sales");case"report":return y.includes("sales_report")||y.includes("sales");case"purchase":return y.includes("purchase_entry")||y.includes("purchase");case"purchaseHistory":return y.includes("purchase_history")||y.includes("purchase");case"inventory":return y.includes("inventory_adjust");case"stocktake":return y.includes("inventory_stocktake");case"valuation":return y.includes("inventory_valuation");case"adjustHistory":return y.includes("inventory_adjust_history")||y.includes("inventory_history");case"stocktakeHistory":return y.includes("inventory_stocktake_history")||y.includes("inventory_history");case"expenditureManagement":return y.includes("finance_expenditure")||y.includes("finance");case"receivable":return y.includes("finance_receivable")||y.includes("finance");case"payable":return y.includes("finance_payable")||y.includes("finance");case"incomeStatement":return y.includes("finance_income")||y.includes("finance");case"costCalculation":return y.includes("finance_cost")||y.includes("finance");case"payroll":return y.includes("finance_payroll")||y.includes("finance");case"salesRanking":return y.includes("analytics_sales")||y.includes("analytics");case"customerRanking":return y.includes("analytics_customer")||y.includes("analytics");case"profitAnalysis":return y.includes("analytics_profit")||y.includes("analytics");case"turnoverRate":return y.includes("analytics_turnover")||y.includes("analytics");case"permissionControl":return y.includes("system_config")||y.includes("system");case"activityLog":return y.includes("system_activity_logs")||y.includes("system")||e.role==="BOSS"||e.role==="ADMIN";default:return!0}},f=j=>{b(j)?(l(j),r(null),c(!1)):console.warn(`Access denied for page: ${j}`)},g=j=>{t(j),sessionStorage.setItem("inventory_user",JSON.stringify(j))},h=Ce.useRef(e);S.useEffect(()=>{!h.current&&e&&setTimeout(()=>{x&&x()},500),h.current=e},[e,x]);const v=()=>{N&&N("MANUAL"),t(null),sessionStorage.removeItem("inventory_user"),p&&p.destroy()};return Le.includes("YOUR_SCRIPT_ID")?n.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-red-50 text-red-900",children:[n.jsx(fa,{size:64,className:"mb-4 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold mb-2",children:""}),n.jsx("p",{className:"text-center max-w-md mb-6",children:" `VITE_GAS_API_URL`  GitHub Secrets  Actions "}),n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-200 font-mono text-xs w-full max-w-lg",children:[n.jsx("p",{className:"font-bold mb-2",children:""}),n.jsxs("p",{children:["GAS_API_URL: ",String(Le)]}),n.jsxs("p",{children:["Base URL: ","/inventory-system/"]})]})]}):e?n.jsxs("div",{className:"min-h-screen flex flex-col",children:[o&&n.jsxs("div",{className:"bg-yellow-500 text-white text-center py-2 text-sm font-medium flex items-center justify-center gap-2",children:[n.jsx(L1,{size:16}),","]}),n.jsxs("header",{className:"h-16 border-b border-[var(--border-primary)] bg-[var(--bg-secondary)] backdrop-blur-md flex justify-between items-center px-6 sticky top-0 z-[60]",children:[n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("img",{src:"/inventory-system/logo.png",alt:"Logo",className:"h-10 w-auto object-contain"})}),n.jsxs("div",{className:"md:hidden relative",onClick:j=>j.stopPropagation(),children:[n.jsxs("button",{onClick:()=>c(!i),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-all ${i?"bg-blue-50 border-blue-200 text-blue-600 ring-2 ring-blue-100":"bg-[var(--bg-secondary)] border-[var(--border-primary)] text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:[n.jsx("span",{className:"font-bold text-sm",children:""}),n.jsx(Gn,{size:16,className:`transition-transform duration-300 ${i?"rotate-180":""}`})]}),i&&n.jsx("div",{className:"fixed top-16 left-0 right-0 mx-auto mt-2 w-[90%] max-w-md bg-[var(--bg-secondary)] backdrop-blur-xl border border-[var(--border-primary)] rounded-2xl shadow-2xl overflow-y-auto max-h-[80vh] animate-in fade-in slide-in-from-top-4 duration-200 z-[100]",children:n.jsxs("div",{className:"p-2 flex flex-col",children:[(e.role==="BOSS"||b("sales")||b("report"))&&n.jsxs(Sn,{label:"",icon:zr,children:[b("sales")&&n.jsx(ue,{label:"",icon:zr,onClick:()=>f("sales"),active:a==="sales"}),b("report")&&n.jsx(ue,{label:"",icon:ds,onClick:()=>f("report"),active:a==="report"})]}),(e.role==="BOSS"||b("purchase")||b("purchaseHistory"))&&n.jsxs(Sn,{label:"",icon:_r,children:[b("purchase")&&n.jsx(ue,{label:"",icon:_r,onClick:()=>f("purchase"),active:a==="purchase"}),b("purchaseHistory")&&n.jsx(ue,{label:"",icon:fl,onClick:()=>f("purchaseHistory"),active:a==="purchaseHistory"})]}),(e.role==="BOSS"||b("inventory")||b("stocktake")||b("valuation")||b("adjustHistory")||b("stocktakeHistory"))&&n.jsxs(Sn,{label:"",icon:Mr,children:[b("inventory")&&n.jsx(ue,{label:"",icon:Mr,onClick:()=>f("inventory"),active:a==="inventory"}),b("stocktake")&&n.jsx(ue,{label:"",icon:Ys,onClick:()=>f("stocktake"),active:a==="stocktake"}),b("valuation")&&n.jsx(ue,{label:"",icon:rt,onClick:()=>f("valuation"),active:a==="valuation"}),b("adjustHistory")&&n.jsx(ue,{label:"",icon:ds,onClick:()=>f("adjustHistory"),active:a==="adjustHistory"}),b("stocktakeHistory")&&n.jsx(ue,{label:"",icon:fl,onClick:()=>f("stocktakeHistory"),active:a==="stocktakeHistory"})]}),(e.role==="BOSS"||b("expenditureManagement"))&&n.jsx(Sn,{label:"",icon:rt,children:n.jsx(ue,{label:"",icon:rt,onClick:()=>f("expenditureManagement"),active:a==="expenditureManagement"})}),(e.role==="BOSS"||b("receivable")||b("payable")||b("incomeStatement")||b("costCalculation")||b("payroll"))&&n.jsxs(Sn,{label:"",icon:Ia,children:[b("receivable")&&n.jsx(ue,{label:"",icon:Ia,onClick:()=>f("receivable"),active:a==="receivable"}),b("payable")&&n.jsx(ue,{label:"",icon:Ia,onClick:()=>f("payable"),active:a==="payable"}),b("incomeStatement")&&n.jsx(ue,{label:"",icon:dd,onClick:()=>f("incomeStatement"),active:a==="incomeStatement"}),b("costCalculation")&&n.jsx(ue,{label:"",icon:rt,onClick:()=>f("costCalculation"),active:a==="costCalculation"}),b("payroll")&&n.jsx(ue,{label:"",icon:rt,onClick:()=>f("payroll"),active:a==="payroll"})]}),(e.role==="BOSS"||b("salesRanking")||b("customerRanking")||b("profitAnalysis")||b("turnoverRate"))&&n.jsxs(Sn,{label:"",icon:Wa,children:[b("salesRanking")&&n.jsx(ue,{label:"",icon:od,onClick:()=>f("salesRanking"),active:a==="salesRanking"}),b("customerRanking")&&n.jsx(ue,{label:"",icon:Mi,onClick:()=>f("customerRanking"),active:a==="customerRanking"}),b("profitAnalysis")&&n.jsx(ue,{label:"",icon:Wa,onClick:()=>f("profitAnalysis"),active:a==="profitAnalysis"}),b("turnoverRate")&&n.jsx(ue,{label:"",icon:Tn,onClick:()=>f("turnoverRate"),active:a==="turnoverRate"})]}),(e.role==="BOSS"||b("permissionControl")||b("activityLog"))&&n.jsxs(Sn,{label:"",icon:fa,children:[b("permissionControl")&&n.jsx(ue,{label:"",icon:fa,onClick:()=>f("permissionControl"),active:a==="permissionControl"}),b("activityLog")&&n.jsx(ue,{label:"",icon:Tn,onClick:()=>f("activityLog"),active:a==="activityLog"})]})]})})]}),n.jsxs("nav",{className:"hidden md:flex gap-1",children:[(e.role==="BOSS"||b("sales")||b("report"))&&n.jsxs(jn,{id:"sales",label:"",icon:zr,openDropdown:s,setOpenDropdown:r,active:["sales","report"].includes(a),children:[b("sales")&&n.jsx(ue,{label:"",icon:zr,onClick:()=>f("sales"),active:a==="sales"}),b("report")&&n.jsx(ue,{label:"",icon:ds,onClick:()=>f("report"),active:a==="report"})]}),(e.role==="BOSS"||b("purchase")||b("purchaseHistory"))&&n.jsxs(jn,{id:"purchase",label:"",icon:_r,openDropdown:s,setOpenDropdown:r,active:["purchase","purchaseHistory"].includes(a),children:[b("purchase")&&n.jsx(ue,{label:"",icon:_r,onClick:()=>f("purchase"),active:a==="purchase"}),b("purchaseHistory")&&n.jsx(ue,{label:"",icon:fl,onClick:()=>f("purchaseHistory"),active:a==="purchaseHistory"})]}),(e.role==="BOSS"||b("inventory")||b("stocktake")||b("valuation")||b("adjustHistory")||b("stocktakeHistory"))&&n.jsxs(jn,{id:"inventory",label:"",icon:Mr,openDropdown:s,setOpenDropdown:r,active:["inventory","stocktake","valuation","adjustHistory","stocktakeHistory"].includes(a),children:[b("inventory")&&n.jsx(ue,{label:"",icon:Mr,onClick:()=>f("inventory"),active:a==="inventory"}),b("stocktake")&&n.jsx(ue,{label:"",icon:Ys,onClick:()=>f("stocktake"),active:a==="stocktake"}),b("valuation")&&n.jsx(ue,{label:"",icon:rt,onClick:()=>f("valuation"),active:a==="valuation"}),n.jsx("div",{className:"my-1 border-t border-slate-100"}),b("adjustHistory")&&n.jsx(ue,{label:"",icon:ds,onClick:()=>f("adjustHistory"),active:a==="adjustHistory"}),b("stocktakeHistory")&&n.jsx(ue,{label:"",icon:fl,onClick:()=>f("stocktakeHistory"),active:a==="stocktakeHistory"})]}),(e.role==="BOSS"||b("expenditureManagement"))&&n.jsx(jn,{id:"expenditure",label:"",icon:rt,openDropdown:s,setOpenDropdown:r,active:a==="expenditureManagement",children:n.jsx(ue,{label:"",icon:rt,onClick:()=>f("expenditureManagement"),active:a==="expenditureManagement"})}),(e.role==="BOSS"||b("receivable")||b("payable")||b("incomeStatement")||b("costCalculation")||b("payroll"))&&n.jsxs(jn,{id:"accounting",label:"",icon:Ia,openDropdown:s,setOpenDropdown:r,active:["receivable","payable","incomeStatement","costCalculation","payroll"].includes(a),children:[b("receivable")&&n.jsx(ue,{label:"",icon:Ia,onClick:()=>f("receivable"),active:a==="receivable"}),b("payable")&&n.jsx(ue,{label:"",icon:Ia,onClick:()=>f("payable"),active:a==="payable"}),b("incomeStatement")&&n.jsx(ue,{label:"",icon:dd,onClick:()=>f("incomeStatement"),active:a==="incomeStatement"}),n.jsx("div",{className:"my-1 border-t border-slate-100"}),b("costCalculation")&&n.jsx(ue,{label:"",icon:rt,onClick:()=>f("costCalculation"),active:a==="costCalculation"}),b("payroll")&&n.jsx(ue,{label:"",icon:rt,onClick:()=>f("payroll"),active:a==="payroll"})]}),(e.role==="BOSS"||b("salesRanking")||b("customerRanking")||b("profitAnalysis")||b("turnoverRate"))&&n.jsxs(jn,{id:"analytics",label:"",icon:Wa,openDropdown:s,setOpenDropdown:r,active:["salesRanking","customerRanking","profitAnalysis","turnoverRate"].includes(a),children:[b("salesRanking")&&n.jsx(ue,{label:"",icon:od,onClick:()=>f("salesRanking"),active:a==="salesRanking"}),b("customerRanking")&&n.jsx(ue,{label:"",icon:Mi,onClick:()=>f("customerRanking"),active:a==="customerRanking"}),b("profitAnalysis")&&n.jsx(ue,{label:"",icon:Wa,onClick:()=>f("profitAnalysis"),active:a==="profitAnalysis"}),b("turnoverRate")&&n.jsx(ue,{label:"",icon:Tn,onClick:()=>f("turnoverRate"),active:a==="turnoverRate"})]}),(e.role==="BOSS"||b("permissionControl")||b("activityLog"))&&n.jsxs(jn,{id:"system",label:"",icon:fa,openDropdown:s,setOpenDropdown:r,active:["permissionControl","activityLog"].includes(a),children:[b("permissionControl")&&n.jsx(ue,{label:"",icon:fa,onClick:()=>f("permissionControl"),active:a==="permissionControl"}),b("activityLog")&&n.jsx(ue,{label:"",icon:Tn,onClick:()=>f("activityLog"),active:a==="activityLog"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(M4,{}),n.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[n.jsx("span",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 leading-none",children:e.username}),n.jsx("span",{className:"text-[10px] text-slate-400 dark:text-slate-500 uppercase font-bold tracking-tighter",children:e.role})]}),n.jsx("button",{onClick:v,className:"w-10 h-10 rounded-xl flex items-center justify-center text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all border border-transparent hover:border-red-100 dark:hover:border-red-800",title:"",children:n.jsx(o1,{size:20})})]})]}),n.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-hidden",children:b(a)?n.jsxs(n.Fragment,{children:[a==="sales"&&n.jsx(c4,{user:e,apiUrl:Le,logActivity:d}),a==="inventory"&&n.jsx(o4,{user:e,apiUrl:Le,logActivity:d}),a==="purchase"&&n.jsx(u4,{user:e,apiUrl:Le,logActivity:d}),a==="report"&&n.jsx(f4,{user:e,apiUrl:Le,logActivity:d,setPage:l}),a==="purchaseHistory"&&n.jsx(x4,{user:e,apiUrl:Le,logActivity:d}),a==="adjustHistory"&&n.jsx(m4,{user:e,apiUrl:Le,logActivity:d}),a==="valuation"&&n.jsx(p4,{user:e,apiUrl:Le,logActivity:d}),a==="stocktake"&&n.jsx(h4,{user:e,apiUrl:Le,logActivity:d}),a==="stocktakeHistory"&&n.jsx(y4,{user:e,apiUrl:Le,logActivity:d}),a==="receivable"&&n.jsx(b4,{user:e,apiUrl:Le,logActivity:d}),a==="payable"&&n.jsx(g4,{user:e,apiUrl:Le,logActivity:d}),a==="salesRanking"&&n.jsx(v4,{user:e,apiUrl:Le,logActivity:d}),a==="customerRanking"&&n.jsx(N4,{user:e,apiUrl:Le,logActivity:d}),a==="profitAnalysis"&&n.jsx(j4,{user:e,apiUrl:Le,logActivity:d}),a==="turnoverRate"&&n.jsx(S4,{user:e,apiUrl:Le,logActivity:d}),a==="costCalculation"&&n.jsx(w4,{user:e,apiUrl:Le,logActivity:d}),a==="expenditureManagement"&&n.jsx(C4,{user:e,apiUrl:Le,logActivity:d}),a==="incomeStatement"&&n.jsx(D4,{user:e,apiUrl:Le,logActivity:d}),a==="permissionControl"&&n.jsx(E4,{user:e,apiUrl:Le,logActivity:d}),a==="payroll"&&n.jsx(A4,{user:e,apiUrl:Le,logActivity:d}),a==="activityLog"&&n.jsx(T4,{user:e,apiUrl:Le})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[n.jsx(fa,{size:64,className:"mb-4 text-slate-200"}),n.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),n.jsx("p",{className:"mt-2",children:""}),n.jsx("button",{onClick:()=>l("sales"),className:"mt-6 px-4 py-2 bg-white hover:bg-slate-50 text-blue-600 rounded-lg transition-colors border border-slate-200 shadow-sm",children:""})]})})]}):n.jsx(U1,{onLogin:g,apiUrl:Le})}function L4(){return n.jsx(O4,{children:n.jsx(R4,{})})}Sv.createRoot(document.getElementById("root")).render(n.jsx(S.StrictMode,{children:n.jsx(L4,{})}));
