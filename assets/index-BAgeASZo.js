(function(){const L=document.createElement("link").relList;if(L&&L.supports&&L.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))d(b);new MutationObserver(b=>{for(const q of b)if(q.type==="childList")for(const G of q.addedNodes)G.tagName==="LINK"&&G.rel==="modulepreload"&&d(G)}).observe(document,{childList:!0,subtree:!0});function p(b){const q={};return b.integrity&&(q.integrity=b.integrity),b.referrerPolicy&&(q.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?q.credentials="include":b.crossOrigin==="anonymous"?q.credentials="omit":q.credentials="same-origin",q}function d(b){if(b.ep)return;b.ep=!0;const q=p(b);fetch(b.href,q)}})();function Um(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Hu={exports:{}},$s={};var If;function Hm(){if(If)return $s;If=1;var o=Symbol.for("react.transitional.element"),L=Symbol.for("react.fragment");function p(d,b,q){var G=null;if(q!==void 0&&(G=""+q),b.key!==void 0&&(G=""+b.key),"key"in b){q={};for(var le in b)le!=="key"&&(q[le]=b[le])}else q=b;return b=q.ref,{$$typeof:o,type:d,key:G,ref:b!==void 0?b:null,props:q}}return $s.Fragment=L,$s.jsx=p,$s.jsxs=p,$s}var Pf;function qm(){return Pf||(Pf=1,Hu.exports=Hm()),Hu.exports}var a=qm(),qu={exports:{}},ye={};var e0;function Bm(){if(e0)return ye;e0=1;var o=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),G=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),S=Symbol.iterator;function y(r){return r===null||typeof r!="object"?null:(r=S&&r[S]||r["@@iterator"],typeof r=="function"?r:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,C={};function j(r,Y,ae){this.props=r,this.context=Y,this.refs=C,this.updater=ae||_}j.prototype.isReactComponent={},j.prototype.setState=function(r,Y){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,Y,"setState")},j.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function k(){}k.prototype=j.prototype;function w(r,Y,ae){this.props=r,this.context=Y,this.refs=C,this.updater=ae||_}var W=w.prototype=new k;W.constructor=w,te(W,j.prototype),W.isPureReactComponent=!0;var E=Array.isArray;function v(){}var V={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function ce(r,Y,ae){var ue=ae.ref;return{$$typeof:o,type:r,key:Y,ref:ue!==void 0?ue:null,props:ae}}function J(r,Y){return ce(r.type,Y,r.props)}function O(r){return typeof r=="object"&&r!==null&&r.$$typeof===o}function A(r){var Y={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(ae){return Y[ae]})}var R=/\/+/g;function ee(r,Y){return typeof r=="object"&&r!==null&&r.key!=null?A(""+r.key):Y.toString(36)}function ie(r){switch(r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:switch(typeof r.status=="string"?r.then(v,v):(r.status="pending",r.then(function(Y){r.status==="pending"&&(r.status="fulfilled",r.value=Y)},function(Y){r.status==="pending"&&(r.status="rejected",r.reason=Y)})),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason}}throw r}function D(r,Y,ae,ue,Z){var se=typeof r;(se==="undefined"||se==="boolean")&&(r=null);var fe=!1;if(r===null)fe=!0;else switch(se){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(r.$$typeof){case o:case L:fe=!0;break;case K:return fe=r._init,D(fe(r._payload),Y,ae,ue,Z)}}if(fe)return Z=Z(r),fe=ue===""?"."+ee(r,0):ue,E(Z)?(ae="",fe!=null&&(ae=fe.replace(R,"$&/")+"/"),D(Z,Y,ae,"",function(_e){return _e})):Z!=null&&(O(Z)&&(Z=J(Z,ae+(Z.key==null||r&&r.key===Z.key?"":(""+Z.key).replace(R,"$&/")+"/")+fe)),Y.push(Z)),1;fe=0;var ke=ue===""?".":ue+":";if(E(r))for(var xe=0;xe<r.length;xe++)ue=r[xe],se=ke+ee(ue,xe),fe+=D(ue,Y,ae,se,Z);else if(xe=y(r),typeof xe=="function")for(r=xe.call(r),xe=0;!(ue=r.next()).done;)ue=ue.value,se=ke+ee(ue,xe++),fe+=D(ue,Y,ae,se,Z);else if(se==="object"){if(typeof r.then=="function")return D(ie(r),Y,ae,ue,Z);throw Y=String(r),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return fe}function B(r,Y,ae){if(r==null)return r;var ue=[],Z=0;return D(r,ue,"","",function(se){return Y.call(ae,se,Z++)}),ue}function I(r){if(r._status===-1){var Y=r._result;Y=Y(),Y.then(function(ae){(r._status===0||r._status===-1)&&(r._status=1,r._result=ae)},function(ae){(r._status===0||r._status===-1)&&(r._status=2,r._result=ae)}),r._status===-1&&(r._status=0,r._result=Y)}if(r._status===1)return r._result.default;throw r._result}var ne=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},oe={map:B,forEach:function(r,Y,ae){B(r,function(){Y.apply(this,arguments)},ae)},count:function(r){var Y=0;return B(r,function(){Y++}),Y},toArray:function(r){return B(r,function(Y){return Y})||[]},only:function(r){if(!O(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};return ye.Activity=F,ye.Children=oe,ye.Component=j,ye.Fragment=p,ye.Profiler=b,ye.PureComponent=w,ye.StrictMode=d,ye.Suspense=f,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,ye.__COMPILER_RUNTIME={__proto__:null,c:function(r){return V.H.useMemoCache(r)}},ye.cache=function(r){return function(){return r.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(r,Y,ae){if(r==null)throw Error("The argument must be a React element, but you passed "+r+".");var ue=te({},r.props),Z=r.key;if(Y!=null)for(se in Y.key!==void 0&&(Z=""+Y.key),Y)!P.call(Y,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&Y.ref===void 0||(ue[se]=Y[se]);var se=arguments.length-2;if(se===1)ue.children=ae;else if(1<se){for(var fe=Array(se),ke=0;ke<se;ke++)fe[ke]=arguments[ke+2];ue.children=fe}return ce(r.type,Z,ue)},ye.createContext=function(r){return r={$$typeof:G,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null},r.Provider=r,r.Consumer={$$typeof:q,_context:r},r},ye.createElement=function(r,Y,ae){var ue,Z={},se=null;if(Y!=null)for(ue in Y.key!==void 0&&(se=""+Y.key),Y)P.call(Y,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Z[ue]=Y[ue]);var fe=arguments.length-2;if(fe===1)Z.children=ae;else if(1<fe){for(var ke=Array(fe),xe=0;xe<fe;xe++)ke[xe]=arguments[xe+2];Z.children=ke}if(r&&r.defaultProps)for(ue in fe=r.defaultProps,fe)Z[ue]===void 0&&(Z[ue]=fe[ue]);return ce(r,se,Z)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(r){return{$$typeof:le,render:r}},ye.isValidElement=O,ye.lazy=function(r){return{$$typeof:K,_payload:{_status:-1,_result:r},_init:I}},ye.memo=function(r,Y){return{$$typeof:m,type:r,compare:Y===void 0?null:Y}},ye.startTransition=function(r){var Y=V.T,ae={};V.T=ae;try{var ue=r(),Z=V.S;Z!==null&&Z(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(v,ne)}catch(se){ne(se)}finally{Y!==null&&ae.types!==null&&(Y.types=ae.types),V.T=Y}},ye.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},ye.use=function(r){return V.H.use(r)},ye.useActionState=function(r,Y,ae){return V.H.useActionState(r,Y,ae)},ye.useCallback=function(r,Y){return V.H.useCallback(r,Y)},ye.useContext=function(r){return V.H.useContext(r)},ye.useDebugValue=function(){},ye.useDeferredValue=function(r,Y){return V.H.useDeferredValue(r,Y)},ye.useEffect=function(r,Y){return V.H.useEffect(r,Y)},ye.useEffectEvent=function(r){return V.H.useEffectEvent(r)},ye.useId=function(){return V.H.useId()},ye.useImperativeHandle=function(r,Y,ae){return V.H.useImperativeHandle(r,Y,ae)},ye.useInsertionEffect=function(r,Y){return V.H.useInsertionEffect(r,Y)},ye.useLayoutEffect=function(r,Y){return V.H.useLayoutEffect(r,Y)},ye.useMemo=function(r,Y){return V.H.useMemo(r,Y)},ye.useOptimistic=function(r,Y){return V.H.useOptimistic(r,Y)},ye.useReducer=function(r,Y,ae){return V.H.useReducer(r,Y,ae)},ye.useRef=function(r){return V.H.useRef(r)},ye.useState=function(r){return V.H.useState(r)},ye.useSyncExternalStore=function(r,Y,ae){return V.H.useSyncExternalStore(r,Y,ae)},ye.useTransition=function(){return V.H.useTransition()},ye.version="19.2.3",ye}var t0;function Ju(){return t0||(t0=1,qu.exports=Bm()),qu.exports}var g=Ju();const vl=Um(g);var Bu={exports:{}},Js={},Yu={exports:{}},Qu={};var l0;function Ym(){return l0||(l0=1,(function(o){function L(D,B){var I=D.length;D.push(B);e:for(;0<I;){var ne=I-1>>>1,oe=D[ne];if(0<b(oe,B))D[ne]=B,D[I]=oe,I=ne;else break e}}function p(D){return D.length===0?null:D[0]}function d(D){if(D.length===0)return null;var B=D[0],I=D.pop();if(I!==B){D[0]=I;e:for(var ne=0,oe=D.length,r=oe>>>1;ne<r;){var Y=2*(ne+1)-1,ae=D[Y],ue=Y+1,Z=D[ue];if(0>b(ae,I))ue<oe&&0>b(Z,ae)?(D[ne]=Z,D[ue]=I,ne=ue):(D[ne]=ae,D[Y]=I,ne=Y);else if(ue<oe&&0>b(Z,I))D[ne]=Z,D[ue]=I,ne=ue;else break e}}return B}function b(D,B){var I=D.sortIndex-B.sortIndex;return I!==0?I:D.id-B.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var q=performance;o.unstable_now=function(){return q.now()}}else{var G=Date,le=G.now();o.unstable_now=function(){return G.now()-le}}var f=[],m=[],K=1,F=null,S=3,y=!1,_=!1,te=!1,C=!1,j=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function W(D){for(var B=p(m);B!==null;){if(B.callback===null)d(m);else if(B.startTime<=D)d(m),B.sortIndex=B.expirationTime,L(f,B);else break;B=p(m)}}function E(D){if(te=!1,W(D),!_)if(p(f)!==null)_=!0,v||(v=!0,A());else{var B=p(m);B!==null&&ie(E,B.startTime-D)}}var v=!1,V=-1,P=5,ce=-1;function J(){return C?!0:!(o.unstable_now()-ce<P)}function O(){if(C=!1,v){var D=o.unstable_now();ce=D;var B=!0;try{e:{_=!1,te&&(te=!1,k(V),V=-1),y=!0;var I=S;try{t:{for(W(D),F=p(f);F!==null&&!(F.expirationTime>D&&J());){var ne=F.callback;if(typeof ne=="function"){F.callback=null,S=F.priorityLevel;var oe=ne(F.expirationTime<=D);if(D=o.unstable_now(),typeof oe=="function"){F.callback=oe,W(D),B=!0;break t}F===p(f)&&d(f),W(D)}else d(f);F=p(f)}if(F!==null)B=!0;else{var r=p(m);r!==null&&ie(E,r.startTime-D),B=!1}}break e}finally{F=null,S=I,y=!1}B=void 0}}finally{B?A():v=!1}}}var A;if(typeof w=="function")A=function(){w(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ee=R.port2;R.port1.onmessage=O,A=function(){ee.postMessage(null)}}else A=function(){j(O,0)};function ie(D,B){V=j(function(){D(o.unstable_now())},B)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(D){D.callback=null},o.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<D?Math.floor(1e3/D):5},o.unstable_getCurrentPriorityLevel=function(){return S},o.unstable_next=function(D){switch(S){case 1:case 2:case 3:var B=3;break;default:B=S}var I=S;S=B;try{return D()}finally{S=I}},o.unstable_requestPaint=function(){C=!0},o.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var I=S;S=D;try{return B()}finally{S=I}},o.unstable_scheduleCallback=function(D,B,I){var ne=o.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ne+I:ne):I=ne,D){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=I+oe,D={id:K++,callback:B,priorityLevel:D,startTime:I,expirationTime:oe,sortIndex:-1},I>ne?(D.sortIndex=I,L(m,D),p(f)===null&&D===p(m)&&(te?(k(V),V=-1):te=!0,ie(E,I-ne))):(D.sortIndex=oe,L(f,D),_||y||(_=!0,v||(v=!0,A()))),D},o.unstable_shouldYield=J,o.unstable_wrapCallback=function(D){var B=S;return function(){var I=S;S=B;try{return D.apply(this,arguments)}finally{S=I}}}})(Qu)),Qu}var a0;function Qm(){return a0||(a0=1,Yu.exports=Ym()),Yu.exports}var Gu={exports:{}},dt={};var s0;function Gm(){if(s0)return dt;s0=1;var o=Ju();function L(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var K=2;K<arguments.length;K++)m+="&args[]="+encodeURIComponent(arguments[K])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(){}var d={d:{f:p,r:function(){throw Error(L(522))},D:p,C:p,L:p,m:p,X:p,S:p,M:p},p:0,findDOMNode:null},b=Symbol.for("react.portal");function q(f,m,K){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:F==null?null:""+F,children:f,containerInfo:m,implementation:K}}var G=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function le(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return dt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,dt.createPortal=function(f,m){var K=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(L(299));return q(f,m,null,K)},dt.flushSync=function(f){var m=G.T,K=d.p;try{if(G.T=null,d.p=2,f)return f()}finally{G.T=m,d.p=K,d.d.f()}},dt.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,d.d.C(f,m))},dt.prefetchDNS=function(f){typeof f=="string"&&d.d.D(f)},dt.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var K=m.as,F=le(K,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,y=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;K==="style"?d.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:F,integrity:S,fetchPriority:y}):K==="script"&&d.d.X(f,{crossOrigin:F,integrity:S,fetchPriority:y,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},dt.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var K=le(m.as,m.crossOrigin);d.d.M(f,{crossOrigin:K,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&d.d.M(f)},dt.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var K=m.as,F=le(K,m.crossOrigin);d.d.L(f,K,{crossOrigin:F,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},dt.preloadModule=function(f,m){if(typeof f=="string")if(m){var K=le(m.as,m.crossOrigin);d.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:K,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else d.d.m(f)},dt.requestFormReset=function(f){d.d.r(f)},dt.unstable_batchedUpdates=function(f,m){return f(m)},dt.useFormState=function(f,m,K){return G.H.useFormState(f,m,K)},dt.useFormStatus=function(){return G.H.useHostTransitionStatus()},dt.version="19.2.3",dt}var n0;function Km(){if(n0)return Gu.exports;n0=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(L){console.error(L)}}return o(),Gu.exports=Gm(),Gu.exports}var c0;function Vm(){if(c0)return Js;c0=1;var o=Qm(),L=Ju(),p=Km();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function q(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function G(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function le(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f(e){if(q(e)!==e)throw Error(d(188))}function m(e){var t=e.alternate;if(!t){if(t=q(e),t===null)throw Error(d(188));return t!==e?null:e}for(var l=e,s=t;;){var n=l.return;if(n===null)break;var c=n.alternate;if(c===null){if(s=n.return,s!==null){l=s;continue}break}if(n.child===c.child){for(c=n.child;c;){if(c===l)return f(n),e;if(c===s)return f(n),t;c=c.sibling}throw Error(d(188))}if(l.return!==s.return)l=n,s=c;else{for(var i=!1,u=n.child;u;){if(u===l){i=!0,l=n,s=c;break}if(u===s){i=!0,s=n,l=c;break}u=u.sibling}if(!i){for(u=c.child;u;){if(u===l){i=!0,l=c,s=n;break}if(u===s){i=!0,s=c,l=n;break}u=u.sibling}if(!i)throw Error(d(189))}}if(l.alternate!==s)throw Error(d(190))}if(l.tag!==3)throw Error(d(188));return l.stateNode.current===l?e:t}function K(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=K(e),t!==null)return t;e=e.sibling}return null}var F=Object.assign,S=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),w=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),ce=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function A(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case j:return"Profiler";case C:return"StrictMode";case E:return"Suspense";case v:return"SuspenseList";case ce:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case w:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case W:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:ee(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return ee(e(t))}catch{}}return null}var ie=Array.isArray,D=L.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=p.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},ne=[],oe=-1;function r(e){return{current:e}}function Y(e){0>oe||(e.current=ne[oe],ne[oe]=null,oe--)}function ae(e,t){oe++,ne[oe]=e.current,e.current=t}var ue=r(null),Z=r(null),se=r(null),fe=r(null);function ke(e,t){switch(ae(se,t),ae(Z,e),ae(ue,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?jf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=jf(t),e=Nf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ue),ae(ue,e)}function xe(){Y(ue),Y(Z),Y(se)}function _e(e){e.memoizedState!==null&&ae(fe,e);var t=ue.current,l=Nf(t,e.type);t!==l&&(ae(Z,e),ae(ue,l))}function Jt(e){Z.current===e&&(Y(ue),Y(Z)),fe.current===e&&(Y(fe),Ks._currentValue=I)}var wt,jl;function At(e){if(wt===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);wt=t&&t[1]||"",jl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wt+e+jl}var Nl=!1;function U(e,t){if(!e||Nl)return"";Nl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(H){var M=H}Reflect.construct(e,[],$)}else{try{$.call()}catch(H){M=H}e.call($.prototype)}}else{try{throw Error()}catch(H){M=H}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(H){if(H&&M&&typeof H.stack=="string")return[H.stack,M.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),i=c[0],u=c[1];if(i&&u){var x=i.split(`
`),T=u.split(`
`);for(n=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;n<T.length&&!T[n].includes("DetermineComponentFrameRoot");)n++;if(s===x.length||n===T.length)for(s=x.length-1,n=T.length-1;1<=s&&0<=n&&x[s]!==T[n];)n--;for(;1<=s&&0<=n;s--,n--)if(x[s]!==T[n]){if(s!==1||n!==1)do if(s--,n--,0>n||x[s]!==T[n]){var Q=`
`+x[s].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=s&&0<=n);break}}}finally{Nl=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?At(l):""}function pe(e,t){switch(e.tag){case 26:case 27:case 5:return At(e.type);case 16:return At("Lazy");case 13:return e.child!==t&&t!==null?At("Suspense Fallback"):At("Suspense");case 19:return At("SuspenseList");case 0:case 15:return U(e.type,!1);case 11:return U(e.type.render,!1);case 1:return U(e.type,!0);case 31:return At("Activity");default:return""}}function Be(e){try{var t="",l=null;do t+=pe(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ze=Object.prototype.hasOwnProperty,mt=o.unstable_scheduleCallback,Xe=o.unstable_cancelCallback,ht=o.unstable_shouldYield,el=o.unstable_requestPaint,pt=o.unstable_now,y0=o.unstable_getCurrentPriorityLevel,Fu=o.unstable_ImmediatePriority,Iu=o.unstable_UserBlockingPriority,Is=o.unstable_NormalPriority,b0=o.unstable_LowPriority,Pu=o.unstable_IdlePriority,g0=o.log,v0=o.unstable_setDisableYieldValue,ls=null,Dt=null;function Sl(e){if(typeof g0=="function"&&v0(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(ls,e)}catch{}}var Et=Math.clz32?Math.clz32:S0,j0=Math.log,N0=Math.LN2;function S0(e){return e>>>=0,e===0?32:31-(j0(e)/N0|0)|0}var Ps=256,en=262144,tn=4194304;function Wl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ln(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var n=0,c=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var u=s&134217727;return u!==0?(s=u&~c,s!==0?n=Wl(s):(i&=u,i!==0?n=Wl(i):l||(l=u&~e,l!==0&&(n=Wl(l))))):(u=s&~c,u!==0?n=Wl(u):i!==0?n=Wl(i):l||(l=s&~e,l!==0&&(n=Wl(l)))),n===0?0:t!==0&&t!==n&&(t&c)===0&&(c=n&-n,l=t&-t,c>=l||c===32&&(l&4194048)!==0)?t:n}function as(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function w0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function er(){var e=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),e}function Dc(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function ss(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function A0(e,t,l,s,n,c){var i=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var u=e.entanglements,x=e.expirationTimes,T=e.hiddenUpdates;for(l=i&~l;0<l;){var Q=31-Et(l),$=1<<Q;u[Q]=0,x[Q]=-1;var M=T[Q];if(M!==null)for(T[Q]=null,Q=0;Q<M.length;Q++){var H=M[Q];H!==null&&(H.lane&=-536870913)}l&=~$}s!==0&&tr(e,s,0),c!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=c&~(i&~t))}function tr(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Et(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function lr(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-Et(l),n=1<<s;n&t|e[s]&t&&(e[s]|=t),l&=~n}}function ar(e,t){var l=t&-t;return l=(l&42)!==0?1:Ec(l),(l&(e.suspendedLanes|t))!==0?0:l}function Ec(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sr(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:Vf(e.type))}function nr(e,t){var l=B.p;try{return B.p=e,t()}finally{B.p=l}}var wl=Math.random().toString(36).slice(2),nt="__reactFiber$"+wl,yt="__reactProps$"+wl,ya="__reactContainer$"+wl,Cc="__reactEvents$"+wl,D0="__reactListeners$"+wl,E0="__reactHandles$"+wl,cr="__reactResources$"+wl,ns="__reactMarker$"+wl;function Tc(e){delete e[nt],delete e[yt],delete e[Cc],delete e[D0],delete e[E0]}function ba(e){var t=e[nt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[ya]||l[nt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Cf(e);e!==null;){if(l=e[nt])return l;e=Cf(e)}return t}e=l,l=e.parentNode}return null}function ga(e){if(e=e[nt]||e[ya]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function cs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function va(e){var t=e[cr];return t||(t=e[cr]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[ns]=!0}var ir=new Set,ur={};function Fl(e,t){ja(e,t),ja(e+"Capture",t)}function ja(e,t){for(ur[e]=t,e=0;e<t.length;e++)ir.add(t[e])}var z0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rr={},or={};function C0(e){return ze.call(or,e)?!0:ze.call(rr,e)?!1:z0.test(e)?or[e]=!0:(rr[e]=!0,!1)}function an(e,t,l){if(C0(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function sn(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function tl(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function Rt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function T0(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){l=""+i,c.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _c(e){if(!e._valueTracker){var t=dr(e)?"checked":"value";e._valueTracker=T0(e,t,""+e[t])}}function fr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=dr(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function nn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _0=/[\n"\\]/g;function Lt(e){return e.replace(_0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Mc(e,t,l,s,n,c,i,u){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Rt(t)):e.value!==""+Rt(t)&&(e.value=""+Rt(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?kc(e,i,Rt(t)):l!=null?kc(e,i,Rt(l)):s!=null&&e.removeAttribute("value"),n==null&&c!=null&&(e.defaultChecked=!!c),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+Rt(u):e.removeAttribute("name")}function xr(e,t,l,s,n,c,i,u){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||l!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){_c(e);return}l=l!=null?""+Rt(l):"",t=t!=null?""+Rt(t):l,u||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=u?e.checked:!!s,e.defaultChecked=!!s,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),_c(e)}function kc(e,t,l){t==="number"&&nn(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Na(e,t,l,s){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Rt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function mr(e,t,l){if(t!=null&&(t=""+Rt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Rt(l):""}function hr(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(d(92));if(ie(s)){if(1<s.length)throw Error(d(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=Rt(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),_c(e)}function Sa(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var M0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pr(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||M0.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function yr(e,t,l){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&l[n]!==s&&pr(e,n,s)}else for(var c in t)t.hasOwnProperty(c)&&pr(e,c,t[c])}function Oc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),O0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cn(e){return O0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ll(){}var Rc=null;function Lc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wa=null,Aa=null;function br(e){var t=ga(e);if(t&&(e=t.stateNode)){var l=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Mc(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var n=s[yt]||null;if(!n)throw Error(d(90));Mc(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&fr(s)}break e;case"textarea":mr(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Na(e,!!l.multiple,t,!1)}}}var Uc=!1;function gr(e,t,l){if(Uc)return e(t,l);Uc=!0;try{var s=e(t);return s}finally{if(Uc=!1,(wa!==null||Aa!==null)&&($n(),wa&&(t=wa,e=Aa,Aa=wa=null,br(t),e)))for(t=0;t<e.length;t++)br(e[t])}}function is(e,t){var l=e.stateNode;if(l===null)return null;var s=l[yt]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(d(231,t,typeof l));return l}var al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hc=!1;if(al)try{var us={};Object.defineProperty(us,"passive",{get:function(){Hc=!0}}),window.addEventListener("test",us,us),window.removeEventListener("test",us,us)}catch{Hc=!1}var Al=null,qc=null,un=null;function vr(){if(un)return un;var e,t=qc,l=t.length,s,n="value"in Al?Al.value:Al.textContent,c=n.length;for(e=0;e<l&&t[e]===n[e];e++);var i=l-e;for(s=1;s<=i&&t[l-s]===n[c-s];s++);return un=n.slice(e,1<s?1-s:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function on(){return!0}function jr(){return!1}function bt(e){function t(l,s,n,c,i){this._reactName=l,this._targetInst=n,this.type=s,this.nativeEvent=c,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(l=e[u],this[u]=l?l(c):c[u]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?on:jr,this.isPropagationStopped=jr,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var Il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=bt(Il),rs=F({},Il,{view:0,detail:0}),R0=bt(rs),Bc,Yc,os,fn=F({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==os&&(os&&e.type==="mousemove"?(Bc=e.screenX-os.screenX,Yc=e.screenY-os.screenY):Yc=Bc=0,os=e),Bc)},movementY:function(e){return"movementY"in e?e.movementY:Yc}}),Nr=bt(fn),L0=F({},fn,{dataTransfer:0}),U0=bt(L0),H0=F({},rs,{relatedTarget:0}),Qc=bt(H0),q0=F({},Il,{animationName:0,elapsedTime:0,pseudoElement:0}),B0=bt(q0),Y0=F({},Il,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q0=bt(Y0),G0=F({},Il,{data:0}),Sr=bt(G0),K0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=X0[e])?!!t[e]:!1}function Gc(){return Z0}var $0=F({},rs,{key:function(e){if(e.key){var t=K0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gc,charCode:function(e){return e.type==="keypress"?rn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),J0=bt($0),W0=F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wr=bt(W0),F0=F({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gc}),I0=bt(F0),P0=F({},Il,{propertyName:0,elapsedTime:0,pseudoElement:0}),ex=bt(P0),tx=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lx=bt(tx),ax=F({},Il,{newState:0,oldState:0}),sx=bt(ax),nx=[9,13,27,32],Kc=al&&"CompositionEvent"in window,ds=null;al&&"documentMode"in document&&(ds=document.documentMode);var cx=al&&"TextEvent"in window&&!ds,Ar=al&&(!Kc||ds&&8<ds&&11>=ds),Dr=" ",Er=!1;function zr(e,t){switch(e){case"keyup":return nx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function ix(e,t){switch(e){case"compositionend":return Cr(t);case"keypress":return t.which!==32?null:(Er=!0,Dr);case"textInput":return e=t.data,e===Dr&&Er?null:e;default:return null}}function ux(e,t){if(Da)return e==="compositionend"||!Kc&&zr(e,t)?(e=vr(),un=qc=Al=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ar&&t.locale!=="ko"?null:t.data;default:return null}}var rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rx[e.type]:t==="textarea"}function _r(e,t,l,s){wa?Aa?Aa.push(s):Aa=[s]:wa=s,t=tc(t,"onChange"),0<t.length&&(l=new dn("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var fs=null,xs=null;function ox(e){hf(e,0)}function xn(e){var t=cs(e);if(fr(t))return e}function Mr(e,t){if(e==="change")return t}var kr=!1;if(al){var Vc;if(al){var Xc="oninput"in document;if(!Xc){var Or=document.createElement("div");Or.setAttribute("oninput","return;"),Xc=typeof Or.oninput=="function"}Vc=Xc}else Vc=!1;kr=Vc&&(!document.documentMode||9<document.documentMode)}function Rr(){fs&&(fs.detachEvent("onpropertychange",Lr),xs=fs=null)}function Lr(e){if(e.propertyName==="value"&&xn(xs)){var t=[];_r(t,xs,e,Lc(e)),gr(ox,t)}}function dx(e,t,l){e==="focusin"?(Rr(),fs=t,xs=l,fs.attachEvent("onpropertychange",Lr)):e==="focusout"&&Rr()}function fx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xn(xs)}function xx(e,t){if(e==="click")return xn(t)}function mx(e,t){if(e==="input"||e==="change")return xn(t)}function hx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:hx;function ms(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var n=l[s];if(!ze.call(t,n)||!zt(e[n],t[n]))return!1}return!0}function Ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hr(e,t){var l=Ur(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ur(l)}}function qr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qr(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Br(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=nn(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=nn(e.document)}return t}function Zc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var px=al&&"documentMode"in document&&11>=document.documentMode,Ea=null,$c=null,hs=null,Jc=!1;function Yr(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Jc||Ea==null||Ea!==nn(s)||(s=Ea,"selectionStart"in s&&Zc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),hs&&ms(hs,s)||(hs=s,s=tc($c,"onSelect"),0<s.length&&(t=new dn("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=Ea)))}function Pl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var za={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionrun:Pl("Transition","TransitionRun"),transitionstart:Pl("Transition","TransitionStart"),transitioncancel:Pl("Transition","TransitionCancel"),transitionend:Pl("Transition","TransitionEnd")},Wc={},Qr={};al&&(Qr=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function ea(e){if(Wc[e])return Wc[e];if(!za[e])return e;var t=za[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Qr)return Wc[e]=t[l];return e}var Gr=ea("animationend"),Kr=ea("animationiteration"),Vr=ea("animationstart"),yx=ea("transitionrun"),bx=ea("transitionstart"),gx=ea("transitioncancel"),Xr=ea("transitionend"),Zr=new Map,Fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fc.push("scrollEnd");function Vt(e,t){Zr.set(e,t),Fl(t,[e])}var mn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],Ca=0,Ic=0;function hn(){for(var e=Ca,t=Ic=Ca=0;t<e;){var l=Ut[t];Ut[t++]=null;var s=Ut[t];Ut[t++]=null;var n=Ut[t];Ut[t++]=null;var c=Ut[t];if(Ut[t++]=null,s!==null&&n!==null){var i=s.pending;i===null?n.next=n:(n.next=i.next,i.next=n),s.pending=n}c!==0&&$r(l,n,c)}}function pn(e,t,l,s){Ut[Ca++]=e,Ut[Ca++]=t,Ut[Ca++]=l,Ut[Ca++]=s,Ic|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Pc(e,t,l,s){return pn(e,t,l,s),yn(e)}function ta(e,t){return pn(e,null,null,t),yn(e)}function $r(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var n=!1,c=e.return;c!==null;)c.childLanes|=l,s=c.alternate,s!==null&&(s.childLanes|=l),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(n=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,n&&t!==null&&(n=31-Et(l),e=c.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=l|536870912),c):null}function yn(e){if(50<Us)throw Us=0,uu=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ta={};function vx(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,l,s){return new vx(e,t,l,s)}function ei(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sl(e,t){var l=e.alternate;return l===null?(l=Ct(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Jr(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bn(e,t,l,s,n,c){var i=0;if(s=e,typeof e=="function")ei(e)&&(i=1);else if(typeof e=="string")i=Am(e,l,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ce:return e=Ct(31,l,t,n),e.elementType=ce,e.lanes=c,e;case te:return la(l.children,n,c,t);case C:i=8,n|=24;break;case j:return e=Ct(12,l,t,n|2),e.elementType=j,e.lanes=c,e;case E:return e=Ct(13,l,t,n),e.elementType=E,e.lanes=c,e;case v:return e=Ct(19,l,t,n),e.elementType=v,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case w:i=10;break e;case k:i=9;break e;case W:i=11;break e;case V:i=14;break e;case P:i=16,s=null;break e}i=29,l=Error(d(130,e===null?"null":typeof e,"")),s=null}return t=Ct(i,l,t,n),t.elementType=e,t.type=s,t.lanes=c,t}function la(e,t,l,s){return e=Ct(7,e,s,t),e.lanes=l,e}function ti(e,t,l){return e=Ct(6,e,null,t),e.lanes=l,e}function Wr(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function li(e,t,l){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Fr=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var l=Fr.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Be(t)},Fr.set(e,t),t)}return{value:e,source:t,stack:Be(t)}}var _a=[],Ma=0,gn=null,ps=0,qt=[],Bt=0,Dl=null,Wt=1,Ft="";function nl(e,t){_a[Ma++]=ps,_a[Ma++]=gn,gn=e,ps=t}function Ir(e,t,l){qt[Bt++]=Wt,qt[Bt++]=Ft,qt[Bt++]=Dl,Dl=e;var s=Wt;e=Ft;var n=32-Et(s)-1;s&=~(1<<n),l+=1;var c=32-Et(t)+n;if(30<c){var i=n-n%5;c=(s&(1<<i)-1).toString(32),s>>=i,n-=i,Wt=1<<32-Et(t)+n|l<<n|s,Ft=c+e}else Wt=1<<c|l<<n|s,Ft=e}function ai(e){e.return!==null&&(nl(e,1),Ir(e,1,0))}function si(e){for(;e===gn;)gn=_a[--Ma],_a[Ma]=null,ps=_a[--Ma],_a[Ma]=null;for(;e===Dl;)Dl=qt[--Bt],qt[Bt]=null,Ft=qt[--Bt],qt[Bt]=null,Wt=qt[--Bt],qt[Bt]=null}function Pr(e,t){qt[Bt++]=Wt,qt[Bt++]=Ft,qt[Bt++]=Dl,Wt=t.id,Ft=t.overflow,Dl=e}var ct=null,Qe=null,Ee=!1,El=null,Yt=!1,ni=Error(d(519));function zl(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ys(Ht(t,e)),ni}function eo(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[nt]=e,t[yt]=s,l){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(l=0;l<qs.length;l++)we(qs[l],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),xr(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),hr(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||gf(t.textContent,l)?(s.popover!=null&&(we("beforetoggle",t),we("toggle",t)),s.onScroll!=null&&we("scroll",t),s.onScrollEnd!=null&&we("scrollend",t),s.onClick!=null&&(t.onclick=ll),t=!0):t=!1,t||zl(e,!0)}function to(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Yt=!1;return;case 27:case 3:Yt=!0;return;default:ct=ct.return}}function ka(e){if(e!==ct)return!1;if(!Ee)return to(e),Ee=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Su(e.type,e.memoizedProps)),l=!l),l&&Qe&&zl(e),to(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Qe=zf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Qe=zf(e)}else t===27?(t=Qe,Ql(e.type)?(e=zu,zu=null,Qe=e):Qe=t):Qe=ct?Gt(e.stateNode.nextSibling):null;return!0}function aa(){Qe=ct=null,Ee=!1}function ci(){var e=El;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),El=null),e}function ys(e){El===null?El=[e]:El.push(e)}var ii=r(null),sa=null,cl=null;function Cl(e,t,l){ae(ii,t._currentValue),t._currentValue=l}function il(e){e._currentValue=ii.current,Y(ii)}function ui(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function ri(e,t,l,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var c=n.dependencies;if(c!==null){var i=n.child;c=c.firstContext;e:for(;c!==null;){var u=c;c=n;for(var x=0;x<t.length;x++)if(u.context===t[x]){c.lanes|=l,u=c.alternate,u!==null&&(u.lanes|=l),ui(c.return,l,e),s||(i=null);break e}c=u.next}}else if(n.tag===18){if(i=n.return,i===null)throw Error(d(341));i.lanes|=l,c=i.alternate,c!==null&&(c.lanes|=l),ui(i,l,e),i=null}else i=n.child;if(i!==null)i.return=n;else for(i=n;i!==null;){if(i===e){i=null;break}if(n=i.sibling,n!==null){n.return=i.return,i=n;break}i=i.return}n=i}}function Oa(e,t,l,s){e=null;for(var n=t,c=!1;n!==null;){if(!c){if((n.flags&524288)!==0)c=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var i=n.alternate;if(i===null)throw Error(d(387));if(i=i.memoizedProps,i!==null){var u=n.type;zt(n.pendingProps.value,i.value)||(e!==null?e.push(u):e=[u])}}else if(n===fe.current){if(i=n.alternate,i===null)throw Error(d(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Ks):e=[Ks])}n=n.return}e!==null&&ri(t,e,l,s),t.flags|=262144}function vn(e){for(e=e.firstContext;e!==null;){if(!zt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function na(e){sa=e,cl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return lo(sa,e)}function jn(e,t){return sa===null&&na(e),lo(e,t)}function lo(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},cl===null){if(e===null)throw Error(d(308));cl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cl=cl.next=t;return l}var jx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Nx=o.unstable_scheduleCallback,Sx=o.unstable_NormalPriority,Fe={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oi(){return{controller:new jx,data:new Map,refCount:0}}function bs(e){e.refCount--,e.refCount===0&&Nx(Sx,function(){e.controller.abort()})}var gs=null,di=0,Ra=0,La=null;function wx(e,t){if(gs===null){var l=gs=[];di=0,Ra=mu(),La={status:"pending",value:void 0,then:function(s){l.push(s)}}}return di++,t.then(ao,ao),t}function ao(){if(--di===0&&gs!==null){La!==null&&(La.status="fulfilled");var e=gs;gs=null,Ra=0,La=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ax(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),s}var so=D.S;D.S=function(e,t){Qd=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&wx(e,t),so!==null&&so(e,t)};var ca=r(null);function fi(){var e=ca.current;return e!==null?e:qe.pooledCache}function Nn(e,t){t===null?ae(ca,ca.current):ae(ca,t.pool)}function no(){var e=fi();return e===null?null:{parent:Fe._currentValue,pool:e}}var Ua=Error(d(460)),xi=Error(d(474)),Sn=Error(d(542)),wn={then:function(){}};function co(e){return e=e.status,e==="fulfilled"||e==="rejected"}function io(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(ll,ll),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ro(e),e;default:if(typeof t.status=="string")t.then(ll,ll);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ro(e),e}throw ua=t,Ua}}function ia(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ua=l,Ua):l}}var ua=null;function uo(){if(ua===null)throw Error(d(459));var e=ua;return ua=null,e}function ro(e){if(e===Ua||e===Sn)throw Error(d(483))}var Ha=null,vs=0;function An(e){var t=vs;return vs+=1,Ha===null&&(Ha=[]),io(Ha,e,t)}function js(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Dn(e,t){throw t.$$typeof===S?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function oo(e){function t(N,h){if(e){var z=N.deletions;z===null?(N.deletions=[h],N.flags|=16):z.push(h)}}function l(N,h){if(!e)return null;for(;h!==null;)t(N,h),h=h.sibling;return null}function s(N){for(var h=new Map;N!==null;)N.key!==null?h.set(N.key,N):h.set(N.index,N),N=N.sibling;return h}function n(N,h){return N=sl(N,h),N.index=0,N.sibling=null,N}function c(N,h,z){return N.index=z,e?(z=N.alternate,z!==null?(z=z.index,z<h?(N.flags|=67108866,h):z):(N.flags|=67108866,h)):(N.flags|=1048576,h)}function i(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function u(N,h,z,X){return h===null||h.tag!==6?(h=ti(z,N.mode,X),h.return=N,h):(h=n(h,z),h.return=N,h)}function x(N,h,z,X){var me=z.type;return me===te?Q(N,h,z.props.children,X,z.key):h!==null&&(h.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===P&&ia(me)===h.type)?(h=n(h,z.props),js(h,z),h.return=N,h):(h=bn(z.type,z.key,z.props,null,N.mode,X),js(h,z),h.return=N,h)}function T(N,h,z,X){return h===null||h.tag!==4||h.stateNode.containerInfo!==z.containerInfo||h.stateNode.implementation!==z.implementation?(h=li(z,N.mode,X),h.return=N,h):(h=n(h,z.children||[]),h.return=N,h)}function Q(N,h,z,X,me){return h===null||h.tag!==7?(h=la(z,N.mode,X,me),h.return=N,h):(h=n(h,z),h.return=N,h)}function $(N,h,z){if(typeof h=="string"&&h!==""||typeof h=="number"||typeof h=="bigint")return h=ti(""+h,N.mode,z),h.return=N,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case y:return z=bn(h.type,h.key,h.props,null,N.mode,z),js(z,h),z.return=N,z;case _:return h=li(h,N.mode,z),h.return=N,h;case P:return h=ia(h),$(N,h,z)}if(ie(h)||A(h))return h=la(h,N.mode,z,null),h.return=N,h;if(typeof h.then=="function")return $(N,An(h),z);if(h.$$typeof===w)return $(N,jn(N,h),z);Dn(N,h)}return null}function M(N,h,z,X){var me=h!==null?h.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:u(N,h,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case y:return z.key===me?x(N,h,z,X):null;case _:return z.key===me?T(N,h,z,X):null;case P:return z=ia(z),M(N,h,z,X)}if(ie(z)||A(z))return me!==null?null:Q(N,h,z,X,null);if(typeof z.then=="function")return M(N,h,An(z),X);if(z.$$typeof===w)return M(N,h,jn(N,z),X);Dn(N,z)}return null}function H(N,h,z,X,me){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return N=N.get(z)||null,u(h,N,""+X,me);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case y:return N=N.get(X.key===null?z:X.key)||null,x(h,N,X,me);case _:return N=N.get(X.key===null?z:X.key)||null,T(h,N,X,me);case P:return X=ia(X),H(N,h,z,X,me)}if(ie(X)||A(X))return N=N.get(z)||null,Q(h,N,X,me,null);if(typeof X.then=="function")return H(N,h,z,An(X),me);if(X.$$typeof===w)return H(N,h,z,jn(h,X),me);Dn(h,X)}return null}function re(N,h,z,X){for(var me=null,Ce=null,de=h,ge=h=0,De=null;de!==null&&ge<z.length;ge++){de.index>ge?(De=de,de=null):De=de.sibling;var Te=M(N,de,z[ge],X);if(Te===null){de===null&&(de=De);break}e&&de&&Te.alternate===null&&t(N,de),h=c(Te,h,ge),Ce===null?me=Te:Ce.sibling=Te,Ce=Te,de=De}if(ge===z.length)return l(N,de),Ee&&nl(N,ge),me;if(de===null){for(;ge<z.length;ge++)de=$(N,z[ge],X),de!==null&&(h=c(de,h,ge),Ce===null?me=de:Ce.sibling=de,Ce=de);return Ee&&nl(N,ge),me}for(de=s(de);ge<z.length;ge++)De=H(de,N,ge,z[ge],X),De!==null&&(e&&De.alternate!==null&&de.delete(De.key===null?ge:De.key),h=c(De,h,ge),Ce===null?me=De:Ce.sibling=De,Ce=De);return e&&de.forEach(function(Zl){return t(N,Zl)}),Ee&&nl(N,ge),me}function he(N,h,z,X){if(z==null)throw Error(d(151));for(var me=null,Ce=null,de=h,ge=h=0,De=null,Te=z.next();de!==null&&!Te.done;ge++,Te=z.next()){de.index>ge?(De=de,de=null):De=de.sibling;var Zl=M(N,de,Te.value,X);if(Zl===null){de===null&&(de=De);break}e&&de&&Zl.alternate===null&&t(N,de),h=c(Zl,h,ge),Ce===null?me=Zl:Ce.sibling=Zl,Ce=Zl,de=De}if(Te.done)return l(N,de),Ee&&nl(N,ge),me;if(de===null){for(;!Te.done;ge++,Te=z.next())Te=$(N,Te.value,X),Te!==null&&(h=c(Te,h,ge),Ce===null?me=Te:Ce.sibling=Te,Ce=Te);return Ee&&nl(N,ge),me}for(de=s(de);!Te.done;ge++,Te=z.next())Te=H(de,N,ge,Te.value,X),Te!==null&&(e&&Te.alternate!==null&&de.delete(Te.key===null?ge:Te.key),h=c(Te,h,ge),Ce===null?me=Te:Ce.sibling=Te,Ce=Te);return e&&de.forEach(function(Lm){return t(N,Lm)}),Ee&&nl(N,ge),me}function He(N,h,z,X){if(typeof z=="object"&&z!==null&&z.type===te&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case y:e:{for(var me=z.key;h!==null;){if(h.key===me){if(me=z.type,me===te){if(h.tag===7){l(N,h.sibling),X=n(h,z.props.children),X.return=N,N=X;break e}}else if(h.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===P&&ia(me)===h.type){l(N,h.sibling),X=n(h,z.props),js(X,z),X.return=N,N=X;break e}l(N,h);break}else t(N,h);h=h.sibling}z.type===te?(X=la(z.props.children,N.mode,X,z.key),X.return=N,N=X):(X=bn(z.type,z.key,z.props,null,N.mode,X),js(X,z),X.return=N,N=X)}return i(N);case _:e:{for(me=z.key;h!==null;){if(h.key===me)if(h.tag===4&&h.stateNode.containerInfo===z.containerInfo&&h.stateNode.implementation===z.implementation){l(N,h.sibling),X=n(h,z.children||[]),X.return=N,N=X;break e}else{l(N,h);break}else t(N,h);h=h.sibling}X=li(z,N.mode,X),X.return=N,N=X}return i(N);case P:return z=ia(z),He(N,h,z,X)}if(ie(z))return re(N,h,z,X);if(A(z)){if(me=A(z),typeof me!="function")throw Error(d(150));return z=me.call(z),he(N,h,z,X)}if(typeof z.then=="function")return He(N,h,An(z),X);if(z.$$typeof===w)return He(N,h,jn(N,z),X);Dn(N,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,h!==null&&h.tag===6?(l(N,h.sibling),X=n(h,z),X.return=N,N=X):(l(N,h),X=ti(z,N.mode,X),X.return=N,N=X),i(N)):l(N,h)}return function(N,h,z,X){try{vs=0;var me=He(N,h,z,X);return Ha=null,me}catch(de){if(de===Ua||de===Sn)throw de;var Ce=Ct(29,de,null,N.mode);return Ce.lanes=X,Ce.return=N,Ce}}}var ra=oo(!0),fo=oo(!1),Tl=!1;function mi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _l(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ml(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Me&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=yn(e),$r(e,null,l),t}return pn(e,s,t,l),yn(e)}function Ns(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,lr(e,l)}}function pi(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var n=null,c=null;if(l=l.firstBaseUpdate,l!==null){do{var i={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};c===null?n=c=i:c=c.next=i,l=l.next}while(l!==null);c===null?n=c=t:c=c.next=t}else n=c=t;l={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var yi=!1;function Ss(){if(yi){var e=La;if(e!==null)throw e}}function ws(e,t,l,s){yi=!1;var n=e.updateQueue;Tl=!1;var c=n.firstBaseUpdate,i=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var x=u,T=x.next;x.next=null,i===null?c=T:i.next=T,i=x;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,u=Q.lastBaseUpdate,u!==i&&(u===null?Q.firstBaseUpdate=T:u.next=T,Q.lastBaseUpdate=x))}if(c!==null){var $=n.baseState;i=0,Q=T=x=null,u=c;do{var M=u.lane&-536870913,H=M!==u.lane;if(H?(Ae&M)===M:(s&M)===M){M!==0&&M===Ra&&(yi=!0),Q!==null&&(Q=Q.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var re=e,he=u;M=t;var He=l;switch(he.tag){case 1:if(re=he.payload,typeof re=="function"){$=re.call(He,$,M);break e}$=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=he.payload,M=typeof re=="function"?re.call(He,$,M):re,M==null)break e;$=F({},$,M);break e;case 2:Tl=!0}}M=u.callback,M!==null&&(e.flags|=64,H&&(e.flags|=8192),H=n.callbacks,H===null?n.callbacks=[M]:H.push(M))}else H={lane:M,tag:u.tag,payload:u.payload,callback:u.callback,next:null},Q===null?(T=Q=H,x=$):Q=Q.next=H,i|=M;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;H=u,u=H.next,H.next=null,n.lastBaseUpdate=H,n.shared.pending=null}}while(!0);Q===null&&(x=$),n.baseState=x,n.firstBaseUpdate=T,n.lastBaseUpdate=Q,c===null&&(n.shared.lanes=0),Ul|=i,e.lanes=i,e.memoizedState=$}}function xo(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function mo(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)xo(l[e],t)}var qa=r(null),En=r(0);function ho(e,t){e=pl,ae(En,e),ae(qa,t),pl=e|t.baseLanes}function bi(){ae(En,pl),ae(qa,qa.current)}function gi(){pl=En.current,Y(qa),Y(En)}var Tt=r(null),Qt=null;function kl(e){var t=e.alternate;ae(Je,Je.current&1),ae(Tt,e),Qt===null&&(t===null||qa.current!==null||t.memoizedState!==null)&&(Qt=e)}function vi(e){ae(Je,Je.current),ae(Tt,e),Qt===null&&(Qt=e)}function po(e){e.tag===22?(ae(Je,Je.current),ae(Tt,e),Qt===null&&(Qt=e)):Ol()}function Ol(){ae(Je,Je.current),ae(Tt,Tt.current)}function _t(e){Y(Tt),Qt===e&&(Qt=null),Y(Je)}var Je=r(0);function zn(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Du(l)||Eu(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=0,be=null,Le=null,Ie=null,Cn=!1,Ba=!1,oa=!1,Tn=0,As=0,Ya=null,Dx=0;function Ze(){throw Error(d(321))}function ji(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!zt(e[l],t[l]))return!1;return!0}function Ni(e,t,l,s,n,c){return ul=c,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Po:Ui,oa=!1,c=l(s,n),oa=!1,Ba&&(c=bo(t,l,s,n)),yo(e),c}function yo(e){D.H=zs;var t=Le!==null&&Le.next!==null;if(ul=0,Ie=Le=be=null,Cn=!1,As=0,Ya=null,t)throw Error(d(300));e===null||Pe||(e=e.dependencies,e!==null&&vn(e)&&(Pe=!0))}function bo(e,t,l,s){be=e;var n=0;do{if(Ba&&(Ya=null),As=0,Ba=!1,25<=n)throw Error(d(301));if(n+=1,Ie=Le=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}D.H=ed,c=t(l,s)}while(Ba);return c}function Ex(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Ds(t):t,e=e.useState()[0],(Le!==null?Le.memoizedState:null)!==e&&(be.flags|=1024),t}function Si(){var e=Tn!==0;return Tn=0,e}function wi(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Ai(e){if(Cn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Cn=!1}ul=0,Ie=Le=be=null,Ba=!1,As=Tn=0,Ya=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?be.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function We(){if(Le===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=Ie===null?be.memoizedState:Ie.next;if(t!==null)Ie=t,Le=e;else{if(e===null)throw be.alternate===null?Error(d(467)):Error(d(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},Ie===null?be.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function _n(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ds(e){var t=As;return As+=1,Ya===null&&(Ya=[]),e=io(Ya,e,t),t=be,(Ie===null?t.memoizedState:Ie.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Po:Ui),e}function Mn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ds(e);if(e.$$typeof===w)return it(e)}throw Error(d(438,String(e)))}function Di(e){var t=null,l=be.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=be.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=_n(),be.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=J;return t.index++,l}function rl(e,t){return typeof t=="function"?t(e):t}function kn(e){var t=We();return Ei(t,Le,e)}function Ei(e,t,l){var s=e.queue;if(s===null)throw Error(d(311));s.lastRenderedReducer=l;var n=e.baseQueue,c=s.pending;if(c!==null){if(n!==null){var i=n.next;n.next=c.next,c.next=i}t.baseQueue=n=c,s.pending=null}if(c=e.baseState,n===null)e.memoizedState=c;else{t=n.next;var u=i=null,x=null,T=t,Q=!1;do{var $=T.lane&-536870913;if($!==T.lane?(Ae&$)===$:(ul&$)===$){var M=T.revertLane;if(M===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),$===Ra&&(Q=!0);else if((ul&M)===M){T=T.next,M===Ra&&(Q=!0);continue}else $={lane:0,revertLane:T.revertLane,gesture:null,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},x===null?(u=x=$,i=c):x=x.next=$,be.lanes|=M,Ul|=M;$=T.action,oa&&l(c,$),c=T.hasEagerState?T.eagerState:l(c,$)}else M={lane:$,revertLane:T.revertLane,gesture:T.gesture,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},x===null?(u=x=M,i=c):x=x.next=M,be.lanes|=$,Ul|=$;T=T.next}while(T!==null&&T!==t);if(x===null?i=c:x.next=u,!zt(c,e.memoizedState)&&(Pe=!0,Q&&(l=La,l!==null)))throw l;e.memoizedState=c,e.baseState=i,e.baseQueue=x,s.lastRenderedState=c}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function zi(e){var t=We(),l=t.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=e;var s=l.dispatch,n=l.pending,c=t.memoizedState;if(n!==null){l.pending=null;var i=n=n.next;do c=e(c,i.action),i=i.next;while(i!==n);zt(c,t.memoizedState)||(Pe=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),l.lastRenderedState=c}return[c,s]}function go(e,t,l){var s=be,n=We(),c=Ee;if(c){if(l===void 0)throw Error(d(407));l=l()}else l=t();var i=!zt((Le||n).memoizedState,l);if(i&&(n.memoizedState=l,Pe=!0),n=n.queue,_i(No.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||Ie!==null&&Ie.memoizedState.tag&1){if(s.flags|=2048,Qa(9,{destroy:void 0},jo.bind(null,s,n,l,t),null),qe===null)throw Error(d(349));c||(ul&127)!==0||vo(s,t,l)}return l}function vo(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=be.updateQueue,t===null?(t=_n(),be.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function jo(e,t,l,s){t.value=l,t.getSnapshot=s,So(t)&&wo(e)}function No(e,t,l){return l(function(){So(t)&&wo(e)})}function So(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!zt(e,l)}catch{return!0}}function wo(e){var t=ta(e,2);t!==null&&St(t,e,2)}function Ci(e){var t=ft();if(typeof e=="function"){var l=e;if(e=l(),oa){Sl(!0);try{l()}finally{Sl(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t}function Ao(e,t,l,s){return e.baseState=l,Ei(e,Le,typeof s=="function"?s:rl)}function zx(e,t,l,s,n){if(Ln(e))throw Error(d(485));if(e=t.action,e!==null){var c={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){c.listeners.push(i)}};D.T!==null?l(!0):c.isTransition=!1,s(c),l=t.pending,l===null?(c.next=t.pending=c,Do(t,c)):(c.next=l.next,t.pending=l.next=c)}}function Do(e,t){var l=t.action,s=t.payload,n=e.state;if(t.isTransition){var c=D.T,i={};D.T=i;try{var u=l(n,s),x=D.S;x!==null&&x(i,u),Eo(e,t,u)}catch(T){Ti(e,t,T)}finally{c!==null&&i.types!==null&&(c.types=i.types),D.T=c}}else try{c=l(n,s),Eo(e,t,c)}catch(T){Ti(e,t,T)}}function Eo(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){zo(e,t,s)},function(s){return Ti(e,t,s)}):zo(e,t,l)}function zo(e,t,l){t.status="fulfilled",t.value=l,Co(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Do(e,l)))}function Ti(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,Co(t),t=t.next;while(t!==s)}e.action=null}function Co(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function To(e,t){return t}function _o(e,t){if(Ee){var l=qe.formState;if(l!==null){e:{var s=be;if(Ee){if(Qe){t:{for(var n=Qe,c=Yt;n.nodeType!==8;){if(!c){n=null;break t}if(n=Gt(n.nextSibling),n===null){n=null;break t}}c=n.data,n=c==="F!"||c==="F"?n:null}if(n){Qe=Gt(n.nextSibling),s=n.data==="F!";break e}}zl(s)}s=!1}s&&(t=l[0])}}return l=ft(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:t},l.queue=s,l=Wo.bind(null,be,s),s.dispatch=l,s=Ci(!1),c=Li.bind(null,be,!1,s.queue),s=ft(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,l=zx.bind(null,be,n,c,l),n.dispatch=l,s.memoizedState=e,[t,l,!1]}function Mo(e){var t=We();return ko(t,Le,e)}function ko(e,t,l){if(t=Ei(e,t,To)[0],e=kn(rl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ds(t)}catch(i){throw i===Ua?Sn:i}else s=t;t=We();var n=t.queue,c=n.dispatch;return l!==t.memoizedState&&(be.flags|=2048,Qa(9,{destroy:void 0},Cx.bind(null,n,l),null)),[s,c,e]}function Cx(e,t){e.action=t}function Oo(e){var t=We(),l=Le;if(l!==null)return ko(t,l,e);We(),t=t.memoizedState,l=We();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function Qa(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=be.updateQueue,t===null&&(t=_n(),be.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function Ro(){return We().memoizedState}function On(e,t,l,s){var n=ft();be.flags|=e,n.memoizedState=Qa(1|t,{destroy:void 0},l,s===void 0?null:s)}function Rn(e,t,l,s){var n=We();s=s===void 0?null:s;var c=n.memoizedState.inst;Le!==null&&s!==null&&ji(s,Le.memoizedState.deps)?n.memoizedState=Qa(t,c,l,s):(be.flags|=e,n.memoizedState=Qa(1|t,c,l,s))}function Lo(e,t){On(8390656,8,e,t)}function _i(e,t){Rn(2048,8,e,t)}function Tx(e){be.flags|=4;var t=be.updateQueue;if(t===null)t=_n(),be.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function Uo(e){var t=We().memoizedState;return Tx({ref:t,nextImpl:e}),function(){if((Me&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function Ho(e,t){return Rn(4,2,e,t)}function qo(e,t){return Rn(4,4,e,t)}function Bo(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yo(e,t,l){l=l!=null?l.concat([e]):null,Rn(4,4,Bo.bind(null,t,e),l)}function Mi(){}function Qo(e,t){var l=We();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&ji(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function Go(e,t){var l=We();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&ji(t,s[1]))return s[0];if(s=e(),oa){Sl(!0);try{e()}finally{Sl(!1)}}return l.memoizedState=[s,t],s}function ki(e,t,l){return l===void 0||(ul&1073741824)!==0&&(Ae&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Kd(),be.lanes|=e,Ul|=e,l)}function Ko(e,t,l,s){return zt(l,t)?l:qa.current!==null?(e=ki(e,l,s),zt(e,t)||(Pe=!0),e):(ul&42)===0||(ul&1073741824)!==0&&(Ae&261930)===0?(Pe=!0,e.memoizedState=l):(e=Kd(),be.lanes|=e,Ul|=e,t)}function Vo(e,t,l,s,n){var c=B.p;B.p=c!==0&&8>c?c:8;var i=D.T,u={};D.T=u,Li(e,!1,t,l);try{var x=n(),T=D.S;if(T!==null&&T(u,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=Ax(x,s);Es(e,t,Q,Ot(e))}else Es(e,t,s,Ot(e))}catch($){Es(e,t,{then:function(){},status:"rejected",reason:$},Ot())}finally{B.p=c,i!==null&&u.types!==null&&(i.types=u.types),D.T=i}}function _x(){}function Oi(e,t,l,s){if(e.tag!==5)throw Error(d(476));var n=Xo(e).queue;Vo(e,n,t,I,l===null?_x:function(){return Zo(e),l(s)})}function Xo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:I},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zo(e){var t=Xo(e);t.next===null&&(t=e.alternate.memoizedState),Es(e,t.next.queue,{},Ot())}function Ri(){return it(Ks)}function $o(){return We().memoizedState}function Jo(){return We().memoizedState}function Mx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Ot();e=_l(l);var s=Ml(t,e,l);s!==null&&(St(s,t,l),Ns(s,t,l)),t={cache:oi()},e.payload=t;return}t=t.return}}function kx(e,t,l){var s=Ot();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ln(e)?Fo(t,l):(l=Pc(e,t,l,s),l!==null&&(St(l,e,s),Io(l,t,s)))}function Wo(e,t,l){var s=Ot();Es(e,t,l,s)}function Es(e,t,l,s){var n={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ln(e))Fo(t,n);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var i=t.lastRenderedState,u=c(i,l);if(n.hasEagerState=!0,n.eagerState=u,zt(u,i))return pn(e,t,n,0),qe===null&&hn(),!1}catch{}if(l=Pc(e,t,n,s),l!==null)return St(l,e,s),Io(l,t,s),!0}return!1}function Li(e,t,l,s){if(s={lane:2,revertLane:mu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ln(e)){if(t)throw Error(d(479))}else t=Pc(e,l,s,2),t!==null&&St(t,e,2)}function Ln(e){var t=e.alternate;return e===be||t!==null&&t===be}function Fo(e,t){Ba=Cn=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Io(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,lr(e,l)}}var zs={readContext:it,use:Mn,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};zs.useEffectEvent=Ze;var Po={readContext:it,use:Mn,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Lo,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,On(4194308,4,Bo.bind(null,t,e),l)},useLayoutEffect:function(e,t){return On(4194308,4,e,t)},useInsertionEffect:function(e,t){On(4,2,e,t)},useMemo:function(e,t){var l=ft();t=t===void 0?null:t;var s=e();if(oa){Sl(!0);try{e()}finally{Sl(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=ft();if(l!==void 0){var n=l(t);if(oa){Sl(!0);try{l(t)}finally{Sl(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=kx.bind(null,be,e),[s.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:function(e){e=Ci(e);var t=e.queue,l=Wo.bind(null,be,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Mi,useDeferredValue:function(e,t){var l=ft();return ki(l,e,t)},useTransition:function(){var e=Ci(!1);return e=Vo.bind(null,be,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=be,n=ft();if(Ee){if(l===void 0)throw Error(d(407));l=l()}else{if(l=t(),qe===null)throw Error(d(349));(Ae&127)!==0||vo(s,t,l)}n.memoizedState=l;var c={value:l,getSnapshot:t};return n.queue=c,Lo(No.bind(null,s,c,e),[e]),s.flags|=2048,Qa(9,{destroy:void 0},jo.bind(null,s,c,l,t),null),l},useId:function(){var e=ft(),t=qe.identifierPrefix;if(Ee){var l=Ft,s=Wt;l=(s&~(1<<32-Et(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Tn++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Dx++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ri,useFormState:_o,useActionState:_o,useOptimistic:function(e){var t=ft();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Li.bind(null,be,!0,l),l.dispatch=t,[e,t]},useMemoCache:Di,useCacheRefresh:function(){return ft().memoizedState=Mx.bind(null,be)},useEffectEvent:function(e){var t=ft(),l={impl:e};return t.memoizedState=l,function(){if((Me&2)!==0)throw Error(d(440));return l.impl.apply(void 0,arguments)}}},Ui={readContext:it,use:Mn,useCallback:Qo,useContext:it,useEffect:_i,useImperativeHandle:Yo,useInsertionEffect:Ho,useLayoutEffect:qo,useMemo:Go,useReducer:kn,useRef:Ro,useState:function(){return kn(rl)},useDebugValue:Mi,useDeferredValue:function(e,t){var l=We();return Ko(l,Le.memoizedState,e,t)},useTransition:function(){var e=kn(rl)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Ds(e),t]},useSyncExternalStore:go,useId:$o,useHostTransitionStatus:Ri,useFormState:Mo,useActionState:Mo,useOptimistic:function(e,t){var l=We();return Ao(l,Le,e,t)},useMemoCache:Di,useCacheRefresh:Jo};Ui.useEffectEvent=Uo;var ed={readContext:it,use:Mn,useCallback:Qo,useContext:it,useEffect:_i,useImperativeHandle:Yo,useInsertionEffect:Ho,useLayoutEffect:qo,useMemo:Go,useReducer:zi,useRef:Ro,useState:function(){return zi(rl)},useDebugValue:Mi,useDeferredValue:function(e,t){var l=We();return Le===null?ki(l,e,t):Ko(l,Le.memoizedState,e,t)},useTransition:function(){var e=zi(rl)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Ds(e),t]},useSyncExternalStore:go,useId:$o,useHostTransitionStatus:Ri,useFormState:Oo,useActionState:Oo,useOptimistic:function(e,t){var l=We();return Le!==null?Ao(l,Le,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Di,useCacheRefresh:Jo};ed.useEffectEvent=Uo;function Hi(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:F({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var qi={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=Ot(),n=_l(s);n.payload=t,l!=null&&(n.callback=l),t=Ml(e,n,s),t!==null&&(St(t,e,s),Ns(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=Ot(),n=_l(s);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=Ml(e,n,s),t!==null&&(St(t,e,s),Ns(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Ot(),s=_l(l);s.tag=2,t!=null&&(s.callback=t),t=Ml(e,s,l),t!==null&&(St(t,e,l),Ns(t,e,l))}};function td(e,t,l,s,n,c,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,i):t.prototype&&t.prototype.isPureReactComponent?!ms(l,s)||!ms(n,c):!0}function ld(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&qi.enqueueReplaceState(t,t.state,null)}function da(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=F({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function ad(e){mn(e)}function sd(e){console.error(e)}function nd(e){mn(e)}function Un(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function cd(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Bi(e,t,l){return l=_l(l),l.tag=3,l.payload={element:null},l.callback=function(){Un(e,t)},l}function id(e){return e=_l(e),e.tag=3,e}function ud(e,t,l,s){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var c=s.value;e.payload=function(){return n(c)},e.callback=function(){cd(t,l,s)}}var i=l.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){cd(t,l,s),typeof n!="function"&&(Hl===null?Hl=new Set([this]):Hl.add(this));var u=s.stack;this.componentDidCatch(s.value,{componentStack:u!==null?u:""})})}function Ox(e,t,l,s,n){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&Oa(t,l,n,!0),l=Tt.current,l!==null){switch(l.tag){case 31:case 13:return Qt===null?Jn():l.alternate===null&&$e===0&&($e=3),l.flags&=-257,l.flags|=65536,l.lanes=n,s===wn?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),du(e,s,n)),!1;case 22:return l.flags|=65536,s===wn?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),du(e,s,n)),!1}throw Error(d(435,l.tag))}return du(e,s,n),Jn(),!1}if(Ee)return t=Tt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==ni&&(e=Error(d(422),{cause:s}),ys(Ht(e,l)))):(s!==ni&&(t=Error(d(423),{cause:s}),ys(Ht(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=Ht(s,l),n=Bi(e.stateNode,s,n),pi(e,n),$e!==4&&($e=2)),!1;var c=Error(d(520),{cause:s});if(c=Ht(c,l),Ls===null?Ls=[c]:Ls.push(c),$e!==4&&($e=2),t===null)return!0;s=Ht(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Bi(l.stateNode,s,e),pi(l,e),!1;case 1:if(t=l.type,c=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Hl===null||!Hl.has(c))))return l.flags|=65536,n&=-n,l.lanes|=n,n=id(n),ud(n,e,l,s),pi(l,n),!1}l=l.return}while(l!==null);return!1}var Yi=Error(d(461)),Pe=!1;function ut(e,t,l,s){t.child=e===null?fo(t,null,l,s):ra(t,e.child,l,s)}function rd(e,t,l,s,n){l=l.render;var c=t.ref;if("ref"in s){var i={};for(var u in s)u!=="ref"&&(i[u]=s[u])}else i=s;return na(t),s=Ni(e,t,l,i,c,n),u=Si(),e!==null&&!Pe?(wi(e,t,n),ol(e,t,n)):(Ee&&u&&ai(t),t.flags|=1,ut(e,t,s,n),t.child)}function od(e,t,l,s,n){if(e===null){var c=l.type;return typeof c=="function"&&!ei(c)&&c.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=c,dd(e,t,c,s,n)):(e=bn(l.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Ji(e,n)){var i=c.memoizedProps;if(l=l.compare,l=l!==null?l:ms,l(i,s)&&e.ref===t.ref)return ol(e,t,n)}return t.flags|=1,e=sl(c,s),e.ref=t.ref,e.return=t,t.child=e}function dd(e,t,l,s,n){if(e!==null){var c=e.memoizedProps;if(ms(c,s)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=s=c,Ji(e,n))(e.flags&131072)!==0&&(Pe=!0);else return t.lanes=e.lanes,ol(e,t,n)}return Qi(e,t,l,s,n)}function fd(e,t,l,s){var n=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|l:l,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~c}else s=0,t.child=null;return xd(e,t,c,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nn(t,c!==null?c.cachePool:null),c!==null?ho(t,c):bi(),po(t);else return s=t.lanes=536870912,xd(e,t,c!==null?c.baseLanes|l:l,l,s)}else c!==null?(Nn(t,c.cachePool),ho(t,c),Ol(),t.memoizedState=null):(e!==null&&Nn(t,null),bi(),Ol());return ut(e,t,n,l),t.child}function Cs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function xd(e,t,l,s,n){var c=fi();return c=c===null?null:{parent:Fe._currentValue,pool:c},t.memoizedState={baseLanes:l,cachePool:c},e!==null&&Nn(t,null),bi(),po(t),e!==null&&Oa(e,t,s,!0),t.childLanes=n,null}function Hn(e,t){return t=Bn({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function md(e,t,l){return ra(t,e.child,null,l),e=Hn(t,t.pendingProps),e.flags|=2,_t(t),t.memoizedState=null,e}function Rx(e,t,l){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(s.mode==="hidden")return e=Hn(t,s),t.lanes=536870912,Cs(null,e);if(vi(t),(e=Qe)?(e=Ef(e,Yt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dl!==null?{id:Wt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},l=Wr(e),l.return=t,t.child=l,ct=t,Qe=null)):e=null,e===null)throw zl(t);return t.lanes=536870912,null}return Hn(t,s)}var c=e.memoizedState;if(c!==null){var i=c.dehydrated;if(vi(t),n)if(t.flags&256)t.flags&=-257,t=md(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(Pe||Oa(e,t,l,!1),n=(l&e.childLanes)!==0,Pe||n){if(s=qe,s!==null&&(i=ar(s,l),i!==0&&i!==c.retryLane))throw c.retryLane=i,ta(e,i),St(s,e,i),Yi;Jn(),t=md(e,t,l)}else e=c.treeContext,Qe=Gt(i.nextSibling),ct=t,Ee=!0,El=null,Yt=!1,e!==null&&Pr(t,e),t=Hn(t,s),t.flags|=4096;return t}return e=sl(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function qn(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(d(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Qi(e,t,l,s,n){return na(t),l=Ni(e,t,l,s,void 0,n),s=Si(),e!==null&&!Pe?(wi(e,t,n),ol(e,t,n)):(Ee&&s&&ai(t),t.flags|=1,ut(e,t,l,n),t.child)}function hd(e,t,l,s,n,c){return na(t),t.updateQueue=null,l=bo(t,s,l,n),yo(e),s=Si(),e!==null&&!Pe?(wi(e,t,c),ol(e,t,c)):(Ee&&s&&ai(t),t.flags|=1,ut(e,t,l,c),t.child)}function pd(e,t,l,s,n){if(na(t),t.stateNode===null){var c=Ta,i=l.contextType;typeof i=="object"&&i!==null&&(c=it(i)),c=new l(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=qi,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},mi(t),i=l.contextType,c.context=typeof i=="object"&&i!==null?it(i):Ta,c.state=t.memoizedState,i=l.getDerivedStateFromProps,typeof i=="function"&&(Hi(t,l,i,s),c.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&qi.enqueueReplaceState(c,c.state,null),ws(t,s,c,n),Ss(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var u=t.memoizedProps,x=da(l,u);c.props=x;var T=c.context,Q=l.contextType;i=Ta,typeof Q=="object"&&Q!==null&&(i=it(Q));var $=l.getDerivedStateFromProps;Q=typeof $=="function"||typeof c.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,Q||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u||T!==i)&&ld(t,c,s,i),Tl=!1;var M=t.memoizedState;c.state=M,ws(t,s,c,n),Ss(),T=t.memoizedState,u||M!==T||Tl?(typeof $=="function"&&(Hi(t,l,$,s),T=t.memoizedState),(x=Tl||td(t,l,x,s,M,T,i))?(Q||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=T),c.props=s,c.state=T,c.context=i,s=x):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,hi(e,t),i=t.memoizedProps,Q=da(l,i),c.props=Q,$=t.pendingProps,M=c.context,T=l.contextType,x=Ta,typeof T=="object"&&T!==null&&(x=it(T)),u=l.getDerivedStateFromProps,(T=typeof u=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(i!==$||M!==x)&&ld(t,c,s,x),Tl=!1,M=t.memoizedState,c.state=M,ws(t,s,c,n),Ss();var H=t.memoizedState;i!==$||M!==H||Tl||e!==null&&e.dependencies!==null&&vn(e.dependencies)?(typeof u=="function"&&(Hi(t,l,u,s),H=t.memoizedState),(Q=Tl||td(t,l,Q,s,M,H,x)||e!==null&&e.dependencies!==null&&vn(e.dependencies))?(T||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,H,x),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,H,x)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||i===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=H),c.props=s,c.state=H,c.context=x,s=Q):(typeof c.componentDidUpdate!="function"||i===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,qn(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=ra(t,e.child,null,n),t.child=ra(t,null,l,n)):ut(e,t,l,n),t.memoizedState=c.state,e=t.child):e=ol(e,t,n),e}function yd(e,t,l,s){return aa(),t.flags|=256,ut(e,t,l,s),t.child}var Gi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ki(e){return{baseLanes:e,cachePool:no()}}function Vi(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=kt),e}function bd(e,t,l){var s=t.pendingProps,n=!1,c=(t.flags&128)!==0,i;if((i=c)||(i=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),i&&(n=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(n?kl(t):Ol(),(e=Qe)?(e=Ef(e,Yt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Dl!==null?{id:Wt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},l=Wr(e),l.return=t,t.child=l,ct=t,Qe=null)):e=null,e===null)throw zl(t);return Eu(e)?t.lanes=32:t.lanes=536870912,null}var u=s.children;return s=s.fallback,n?(Ol(),n=t.mode,u=Bn({mode:"hidden",children:u},n),s=la(s,n,l,null),u.return=t,s.return=t,u.sibling=s,t.child=u,s=t.child,s.memoizedState=Ki(l),s.childLanes=Vi(e,i,l),t.memoizedState=Gi,Cs(null,s)):(kl(t),Xi(t,u))}var x=e.memoizedState;if(x!==null&&(u=x.dehydrated,u!==null)){if(c)t.flags&256?(kl(t),t.flags&=-257,t=Zi(e,t,l)):t.memoizedState!==null?(Ol(),t.child=e.child,t.flags|=128,t=null):(Ol(),u=s.fallback,n=t.mode,s=Bn({mode:"visible",children:s.children},n),u=la(u,n,l,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,ra(t,e.child,null,l),s=t.child,s.memoizedState=Ki(l),s.childLanes=Vi(e,i,l),t.memoizedState=Gi,t=Cs(null,s));else if(kl(t),Eu(u)){if(i=u.nextSibling&&u.nextSibling.dataset,i)var T=i.dgst;i=T,s=Error(d(419)),s.stack="",s.digest=i,ys({value:s,source:null,stack:null}),t=Zi(e,t,l)}else if(Pe||Oa(e,t,l,!1),i=(l&e.childLanes)!==0,Pe||i){if(i=qe,i!==null&&(s=ar(i,l),s!==0&&s!==x.retryLane))throw x.retryLane=s,ta(e,s),St(i,e,s),Yi;Du(u)||Jn(),t=Zi(e,t,l)}else Du(u)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,Qe=Gt(u.nextSibling),ct=t,Ee=!0,El=null,Yt=!1,e!==null&&Pr(t,e),t=Xi(t,s.children),t.flags|=4096);return t}return n?(Ol(),u=s.fallback,n=t.mode,x=e.child,T=x.sibling,s=sl(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,T!==null?u=sl(T,u):(u=la(u,n,l,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,Cs(null,s),s=t.child,u=e.child.memoizedState,u===null?u=Ki(l):(n=u.cachePool,n!==null?(x=Fe._currentValue,n=n.parent!==x?{parent:x,pool:x}:n):n=no(),u={baseLanes:u.baseLanes|l,cachePool:n}),s.memoizedState=u,s.childLanes=Vi(e,i,l),t.memoizedState=Gi,Cs(e.child,s)):(kl(t),l=e.child,e=l.sibling,l=sl(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=l,t.memoizedState=null,l)}function Xi(e,t){return t=Bn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Bn(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function Zi(e,t,l){return ra(t,e.child,null,l),e=Xi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gd(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ui(e.return,t,l)}function $i(e,t,l,s,n,c){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:n,treeForkCount:c}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=l,i.tailMode=n,i.treeForkCount=c)}function vd(e,t,l){var s=t.pendingProps,n=s.revealOrder,c=s.tail;s=s.children;var i=Je.current,u=(i&2)!==0;if(u?(i=i&1|2,t.flags|=128):i&=1,ae(Je,i),ut(e,t,s,l),s=Ee?ps:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gd(e,l,t);else if(e.tag===19)gd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&zn(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),$i(t,!1,n,l,c,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&zn(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}$i(t,!0,l,null,c,s);break;case"together":$i(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ol(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Ul|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Oa(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,l=sl(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=sl(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Ji(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vn(e)))}function Lx(e,t,l){switch(t.tag){case 3:ke(t,t.stateNode.containerInfo),Cl(t,Fe,e.memoizedState.cache),aa();break;case 27:case 5:_e(t);break;case 4:ke(t,t.stateNode.containerInfo);break;case 10:Cl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,vi(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(kl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?bd(e,t,l):(kl(t),e=ol(e,t,l),e!==null?e.sibling:null);kl(t);break;case 19:var n=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(Oa(e,t,l,!1),s=(l&t.childLanes)!==0),n){if(s)return vd(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ae(Je,Je.current),s)break;return null;case 22:return t.lanes=0,fd(e,t,l,t.pendingProps);case 24:Cl(t,Fe,e.memoizedState.cache)}return ol(e,t,l)}function jd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!Ji(e,l)&&(t.flags&128)===0)return Pe=!1,Lx(e,t,l);Pe=(e.flags&131072)!==0}else Pe=!1,Ee&&(t.flags&1048576)!==0&&Ir(t,ps,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ia(t.elementType),t.type=e,typeof e=="function")ei(e)?(s=da(e,s),t.tag=1,t=pd(null,t,e,s,l)):(t.tag=0,t=Qi(null,t,e,s,l));else{if(e!=null){var n=e.$$typeof;if(n===W){t.tag=11,t=rd(null,t,e,s,l);break e}else if(n===V){t.tag=14,t=od(null,t,e,s,l);break e}}throw t=ee(e)||e,Error(d(306,t,""))}}return t;case 0:return Qi(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,n=da(s,t.pendingProps),pd(e,t,s,n,l);case 3:e:{if(ke(t,t.stateNode.containerInfo),e===null)throw Error(d(387));s=t.pendingProps;var c=t.memoizedState;n=c.element,hi(e,t),ws(t,s,null,l);var i=t.memoizedState;if(s=i.cache,Cl(t,Fe,s),s!==c.cache&&ri(t,[Fe],l,!0),Ss(),s=i.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=yd(e,t,s,l);break e}else if(s!==n){n=Ht(Error(d(424)),t),ys(n),t=yd(e,t,s,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Qe=Gt(e.firstChild),ct=t,Ee=!0,El=null,Yt=!0,l=fo(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(aa(),s===n){t=ol(e,t,l);break e}ut(e,t,s,l)}t=t.child}return t;case 26:return qn(e,t),e===null?(l=kf(t.type,null,t.pendingProps,null))?t.memoizedState=l:Ee||(l=t.type,e=t.pendingProps,s=lc(se.current).createElement(l),s[nt]=t,s[yt]=e,rt(s,l,e),lt(s),t.stateNode=s):t.memoizedState=kf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return _e(t),e===null&&Ee&&(s=t.stateNode=Tf(t.type,t.pendingProps,se.current),ct=t,Yt=!0,n=Qe,Ql(t.type)?(zu=n,Qe=Gt(s.firstChild)):Qe=n),ut(e,t,t.pendingProps.children,l),qn(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((n=s=Qe)&&(s=fm(s,t.type,t.pendingProps,Yt),s!==null?(t.stateNode=s,ct=t,Qe=Gt(s.firstChild),Yt=!1,n=!0):n=!1),n||zl(t)),_e(t),n=t.type,c=t.pendingProps,i=e!==null?e.memoizedProps:null,s=c.children,Su(n,c)?s=null:i!==null&&Su(n,i)&&(t.flags|=32),t.memoizedState!==null&&(n=Ni(e,t,Ex,null,null,l),Ks._currentValue=n),qn(e,t),ut(e,t,s,l),t.child;case 6:return e===null&&Ee&&((e=l=Qe)&&(l=xm(l,t.pendingProps,Yt),l!==null?(t.stateNode=l,ct=t,Qe=null,e=!0):e=!1),e||zl(t)),null;case 13:return bd(e,t,l);case 4:return ke(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ra(t,null,s,l):ut(e,t,s,l),t.child;case 11:return rd(e,t,t.type,t.pendingProps,l);case 7:return ut(e,t,t.pendingProps,l),t.child;case 8:return ut(e,t,t.pendingProps.children,l),t.child;case 12:return ut(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,Cl(t,t.type,s.value),ut(e,t,s.children,l),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,na(t),n=it(n),s=s(n),t.flags|=1,ut(e,t,s,l),t.child;case 14:return od(e,t,t.type,t.pendingProps,l);case 15:return dd(e,t,t.type,t.pendingProps,l);case 19:return vd(e,t,l);case 31:return Rx(e,t,l);case 22:return fd(e,t,l,t.pendingProps);case 24:return na(t),s=it(Fe),e===null?(n=fi(),n===null&&(n=qe,c=oi(),n.pooledCache=c,c.refCount++,c!==null&&(n.pooledCacheLanes|=l),n=c),t.memoizedState={parent:s,cache:n},mi(t),Cl(t,Fe,n)):((e.lanes&l)!==0&&(hi(e,t),ws(t,null,null,l),Ss()),n=e.memoizedState,c=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Cl(t,Fe,s)):(s=c.cache,Cl(t,Fe,s),s!==n.cache&&ri(t,[Fe],l,!0))),ut(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function dl(e){e.flags|=4}function Wi(e,t,l,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if($d())e.flags|=8192;else throw ua=wn,xi}else e.flags&=-16777217}function Nd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Hf(t))if($d())e.flags|=8192;else throw ua=wn,xi}function Yn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?er():536870912,e.lanes|=t,Xa|=t)}function Ts(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function Ux(e,t,l){var s=t.pendingProps;switch(si(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),il(Fe),xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ka(t)?dl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,ci())),Ge(t),null;case 26:var n=t.type,c=t.memoizedState;return e===null?(dl(t),c!==null?(Ge(t),Nd(t,c)):(Ge(t),Wi(t,n,null,s,l))):c?c!==e.memoizedState?(dl(t),Ge(t),Nd(t,c)):(Ge(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&dl(t),Ge(t),Wi(t,n,e,s,l)),null;case 27:if(Jt(t),l=se.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&dl(t);else{if(!s){if(t.stateNode===null)throw Error(d(166));return Ge(t),null}e=ue.current,ka(t)?eo(t):(e=Tf(n,s,l),t.stateNode=e,dl(t))}return Ge(t),null;case 5:if(Jt(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&dl(t);else{if(!s){if(t.stateNode===null)throw Error(d(166));return Ge(t),null}if(c=ue.current,ka(t))eo(t);else{var i=lc(se.current);switch(c){case 1:c=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:c=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":c=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":c=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":c=i.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?i.createElement(n,{is:s.is}):i.createElement(n)}}c[nt]=t,c[yt]=s;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)c.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=c;e:switch(rt(c,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&dl(t)}}return Ge(t),Wi(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&dl(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(d(166));if(e=se.current,ka(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,n=ct,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[nt]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||gf(e.nodeValue,l)),e||zl(t,!0)}else e=lc(e).createTextNode(s),e[nt]=t,t.stateNode=e}return Ge(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=ka(t),l!==null){if(e===null){if(!s)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[nt]=t}else aa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),e=!1}else l=ci(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(_t(t),t):(_t(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Ge(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=ka(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(d(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(d(317));n[nt]=t}else aa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),n=!1}else n=ci(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(_t(t),t):(_t(t),null)}return _t(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==n&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Yn(t,t.updateQueue),Ge(t),null);case 4:return xe(),e===null&&bu(t.stateNode.containerInfo),Ge(t),null;case 10:return il(t.type),Ge(t),null;case 19:if(Y(Je),s=t.memoizedState,s===null)return Ge(t),null;if(n=(t.flags&128)!==0,c=s.rendering,c===null)if(n)Ts(s,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=zn(e),c!==null){for(t.flags|=128,Ts(s,!1),e=c.updateQueue,t.updateQueue=e,Yn(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Jr(l,e),l=l.sibling;return ae(Je,Je.current&1|2),Ee&&nl(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&pt()>Xn&&(t.flags|=128,n=!0,Ts(s,!1),t.lanes=4194304)}else{if(!n)if(e=zn(c),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Yn(t,e),Ts(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!Ee)return Ge(t),null}else 2*pt()-s.renderingStartTime>Xn&&l!==536870912&&(t.flags|=128,n=!0,Ts(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pt(),e.sibling=null,l=Je.current,ae(Je,n?l&1|2:l&1),Ee&&nl(t,s.treeForkCount),e):(Ge(t),null);case 22:case 23:return _t(t),gi(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),l=t.updateQueue,l!==null&&Yn(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&Y(ca),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),il(Fe),Ge(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Hx(e,t){switch(si(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return il(Fe),xe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Jt(t),null;case 31:if(t.memoizedState!==null){if(_t(t),t.alternate===null)throw Error(d(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(_t(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Je),null;case 4:return xe(),null;case 10:return il(t.type),null;case 22:case 23:return _t(t),gi(),e!==null&&Y(ca),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return il(Fe),null;case 25:return null;default:return null}}function Sd(e,t){switch(si(t),t.tag){case 3:il(Fe),xe();break;case 26:case 27:case 5:Jt(t);break;case 4:xe();break;case 31:t.memoizedState!==null&&_t(t);break;case 13:_t(t);break;case 19:Y(Je);break;case 10:il(t.type);break;case 22:case 23:_t(t),gi(),e!==null&&Y(ca);break;case 24:il(Fe)}}function _s(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var n=s.next;l=n;do{if((l.tag&e)===e){s=void 0;var c=l.create,i=l.inst;s=c(),i.destroy=s}l=l.next}while(l!==n)}}catch(u){Re(t,t.return,u)}}function Rl(e,t,l){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var c=n.next;s=c;do{if((s.tag&e)===e){var i=s.inst,u=i.destroy;if(u!==void 0){i.destroy=void 0,n=t;var x=l,T=u;try{T()}catch(Q){Re(n,x,Q)}}}s=s.next}while(s!==c)}}catch(Q){Re(t,t.return,Q)}}function wd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{mo(t,l)}catch(s){Re(e,e.return,s)}}}function Ad(e,t,l){l.props=da(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Re(e,t,s)}}function Ms(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(n){Re(e,t,n)}}function It(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(n){Re(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){Re(e,t,n)}else l.current=null}function Dd(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(n){Re(e,e.return,n)}}function Fi(e,t,l){try{var s=e.stateNode;cm(s,e.type,l,t),s[yt]=t}catch(n){Re(e,e.return,n)}}function Ed(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ql(e.type)||e.tag===4}function Ii(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ed(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ql(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pi(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=ll));else if(s!==4&&(s===27&&Ql(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Pi(e,t,l),e=e.sibling;e!==null;)Pi(e,t,l),e=e.sibling}function Qn(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&Ql(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Qn(e,t,l),e=e.sibling;e!==null;)Qn(e,t,l),e=e.sibling}function zd(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);rt(t,s,l),t[nt]=e,t[yt]=l}catch(c){Re(e,e.return,c)}}var fl=!1,et=!1,eu=!1,Cd=typeof WeakSet=="function"?WeakSet:Set,at=null;function qx(e,t){if(e=e.containerInfo,ju=rc,e=Br(e),Zc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var n=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var i=0,u=-1,x=-1,T=0,Q=0,$=e,M=null;t:for(;;){for(var H;$!==l||n!==0&&$.nodeType!==3||(u=i+n),$!==c||s!==0&&$.nodeType!==3||(x=i+s),$.nodeType===3&&(i+=$.nodeValue.length),(H=$.firstChild)!==null;)M=$,$=H;for(;;){if($===e)break t;if(M===l&&++T===n&&(u=i),M===c&&++Q===s&&(x=i),(H=$.nextSibling)!==null)break;$=M,M=$.parentNode}$=H}l=u===-1||x===-1?null:{start:u,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(Nu={focusedElem:e,selectionRange:l},rc=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,l=t,n=c.memoizedProps,c=c.memoizedState,s=l.stateNode;try{var re=da(l.type,n);e=s.getSnapshotBeforeUpdate(re,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(he){Re(l,l.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Au(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Au(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function Td(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:ml(e,l),s&4&&_s(5,l);break;case 1:if(ml(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(i){Re(l,l.return,i)}else{var n=da(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){Re(l,l.return,i)}}s&64&&wd(l),s&512&&Ms(l,l.return);break;case 3:if(ml(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{mo(e,t)}catch(i){Re(l,l.return,i)}}break;case 27:t===null&&s&4&&zd(l);case 26:case 5:ml(e,l),t===null&&s&4&&Dd(l),s&512&&Ms(l,l.return);break;case 12:ml(e,l);break;case 31:ml(e,l),s&4&&kd(e,l);break;case 13:ml(e,l),s&4&&Od(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=$x.bind(null,l),mm(e,l))));break;case 22:if(s=l.memoizedState!==null||fl,!s){t=t!==null&&t.memoizedState!==null||et,n=fl;var c=et;fl=s,(et=t)&&!c?hl(e,l,(l.subtreeFlags&8772)!==0):ml(e,l),fl=n,et=c}break;case 30:break;default:ml(e,l)}}function _d(e){var t=e.alternate;t!==null&&(e.alternate=null,_d(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,gt=!1;function xl(e,t,l){for(l=l.child;l!==null;)Md(e,t,l),l=l.sibling}function Md(e,t,l){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(ls,l)}catch{}switch(l.tag){case 26:et||It(l,t),xl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:et||It(l,t);var s=Ve,n=gt;Ql(l.type)&&(Ve=l.stateNode,gt=!1),xl(e,t,l),Ys(l.stateNode),Ve=s,gt=n;break;case 5:et||It(l,t);case 6:if(s=Ve,n=gt,Ve=null,xl(e,t,l),Ve=s,gt=n,Ve!==null)if(gt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(l.stateNode)}catch(c){Re(l,t,c)}else try{Ve.removeChild(l.stateNode)}catch(c){Re(l,t,c)}break;case 18:Ve!==null&&(gt?(e=Ve,Af(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),es(e)):Af(Ve,l.stateNode));break;case 4:s=Ve,n=gt,Ve=l.stateNode.containerInfo,gt=!0,xl(e,t,l),Ve=s,gt=n;break;case 0:case 11:case 14:case 15:Rl(2,l,t),et||Rl(4,l,t),xl(e,t,l);break;case 1:et||(It(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Ad(l,t,s)),xl(e,t,l);break;case 21:xl(e,t,l);break;case 22:et=(s=et)||l.memoizedState!==null,xl(e,t,l),et=s;break;default:xl(e,t,l)}}function kd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{es(e)}catch(l){Re(t,t.return,l)}}}function Od(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{es(e)}catch(l){Re(t,t.return,l)}}function Bx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Cd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Cd),t;default:throw Error(d(435,e.tag))}}function Gn(e,t){var l=Bx(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var n=Jx.bind(null,e,s);s.then(n,n)}})}function vt(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var n=l[s],c=e,i=t,u=i;e:for(;u!==null;){switch(u.tag){case 27:if(Ql(u.type)){Ve=u.stateNode,gt=!1;break e}break;case 5:Ve=u.stateNode,gt=!1;break e;case 3:case 4:Ve=u.stateNode.containerInfo,gt=!0;break e}u=u.return}if(Ve===null)throw Error(d(160));Md(c,i,n),Ve=null,gt=!1,c=n.alternate,c!==null&&(c.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Rd(t,e),t=t.sibling}var Xt=null;function Rd(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vt(t,e),jt(e),s&4&&(Rl(3,e,e.return),_s(3,e),Rl(5,e,e.return));break;case 1:vt(t,e),jt(e),s&512&&(et||l===null||It(l,l.return)),s&64&&fl&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var n=Xt;if(vt(t,e),jt(e),s&512&&(et||l===null||It(l,l.return)),s&4){var c=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":c=n.getElementsByTagName("title")[0],(!c||c[ns]||c[nt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=n.createElement(s),n.head.insertBefore(c,n.querySelector("head > title"))),rt(c,s,l),c[nt]=e,lt(c),s=c;break e;case"link":var i=Lf("link","href",n).get(s+(l.href||""));if(i){for(var u=0;u<i.length;u++)if(c=i[u],c.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&c.getAttribute("rel")===(l.rel==null?null:l.rel)&&c.getAttribute("title")===(l.title==null?null:l.title)&&c.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){i.splice(u,1);break t}}c=n.createElement(s),rt(c,s,l),n.head.appendChild(c);break;case"meta":if(i=Lf("meta","content",n).get(s+(l.content||""))){for(u=0;u<i.length;u++)if(c=i[u],c.getAttribute("content")===(l.content==null?null:""+l.content)&&c.getAttribute("name")===(l.name==null?null:l.name)&&c.getAttribute("property")===(l.property==null?null:l.property)&&c.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&c.getAttribute("charset")===(l.charSet==null?null:l.charSet)){i.splice(u,1);break t}}c=n.createElement(s),rt(c,s,l),n.head.appendChild(c);break;default:throw Error(d(468,s))}c[nt]=e,lt(c),s=c}e.stateNode=s}else Uf(n,e.type,e.stateNode);else e.stateNode=Rf(n,s,e.memoizedProps);else c!==s?(c===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):c.count--,s===null?Uf(n,e.type,e.stateNode):Rf(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Fi(e,e.memoizedProps,l.memoizedProps)}break;case 27:vt(t,e),jt(e),s&512&&(et||l===null||It(l,l.return)),l!==null&&s&4&&Fi(e,e.memoizedProps,l.memoizedProps);break;case 5:if(vt(t,e),jt(e),s&512&&(et||l===null||It(l,l.return)),e.flags&32){n=e.stateNode;try{Sa(n,"")}catch(re){Re(e,e.return,re)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,Fi(e,n,l!==null?l.memoizedProps:n)),s&1024&&(eu=!0);break;case 6:if(vt(t,e),jt(e),s&4){if(e.stateNode===null)throw Error(d(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(re){Re(e,e.return,re)}}break;case 3:if(nc=null,n=Xt,Xt=ac(t.containerInfo),vt(t,e),Xt=n,jt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{es(t.containerInfo)}catch(re){Re(e,e.return,re)}eu&&(eu=!1,Ld(e));break;case 4:s=Xt,Xt=ac(e.stateNode.containerInfo),vt(t,e),jt(e),Xt=s;break;case 12:vt(t,e),jt(e);break;case 31:vt(t,e),jt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Gn(e,s)));break;case 13:vt(t,e),jt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Vn=pt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Gn(e,s)));break;case 22:n=e.memoizedState!==null;var x=l!==null&&l.memoizedState!==null,T=fl,Q=et;if(fl=T||n,et=Q||x,vt(t,e),et=Q,fl=T,jt(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||x||fl||et||fa(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){x=l=t;try{if(c=x.stateNode,n)i=c.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{u=x.stateNode;var $=x.memoizedProps.style,M=$!=null&&$.hasOwnProperty("display")?$.display:null;u.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(re){Re(x,x.return,re)}}}else if(t.tag===6){if(l===null){x=t;try{x.stateNode.nodeValue=n?"":x.memoizedProps}catch(re){Re(x,x.return,re)}}}else if(t.tag===18){if(l===null){x=t;try{var H=x.stateNode;n?Df(H,!0):Df(x.stateNode,!1)}catch(re){Re(x,x.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,Gn(e,l))));break;case 19:vt(t,e),jt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Gn(e,s)));break;case 30:break;case 21:break;default:vt(t,e),jt(e)}}function jt(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(Ed(s)){l=s;break}s=s.return}if(l==null)throw Error(d(160));switch(l.tag){case 27:var n=l.stateNode,c=Ii(e);Qn(e,c,n);break;case 5:var i=l.stateNode;l.flags&32&&(Sa(i,""),l.flags&=-33);var u=Ii(e);Qn(e,u,i);break;case 3:case 4:var x=l.stateNode.containerInfo,T=Ii(e);Pi(e,T,x);break;default:throw Error(d(161))}}catch(Q){Re(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ld(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ld(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ml(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Td(e,t.alternate,t),t=t.sibling}function fa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Rl(4,t,t.return),fa(t);break;case 1:It(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Ad(t,t.return,l),fa(t);break;case 27:Ys(t.stateNode);case 26:case 5:It(t,t.return),fa(t);break;case 22:t.memoizedState===null&&fa(t);break;case 30:fa(t);break;default:fa(t)}e=e.sibling}}function hl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,c=t,i=c.flags;switch(c.tag){case 0:case 11:case 15:hl(n,c,l),_s(4,c);break;case 1:if(hl(n,c,l),s=c,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(T){Re(s,s.return,T)}if(s=c,n=s.updateQueue,n!==null){var u=s.stateNode;try{var x=n.shared.hiddenCallbacks;if(x!==null)for(n.shared.hiddenCallbacks=null,n=0;n<x.length;n++)xo(x[n],u)}catch(T){Re(s,s.return,T)}}l&&i&64&&wd(c),Ms(c,c.return);break;case 27:zd(c);case 26:case 5:hl(n,c,l),l&&s===null&&i&4&&Dd(c),Ms(c,c.return);break;case 12:hl(n,c,l);break;case 31:hl(n,c,l),l&&i&4&&kd(n,c);break;case 13:hl(n,c,l),l&&i&4&&Od(n,c);break;case 22:c.memoizedState===null&&hl(n,c,l),Ms(c,c.return);break;case 30:break;default:hl(n,c,l)}t=t.sibling}}function tu(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&bs(l))}function lu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bs(e))}function Zt(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ud(e,t,l,s),t=t.sibling}function Ud(e,t,l,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Zt(e,t,l,s),n&2048&&_s(9,t);break;case 1:Zt(e,t,l,s);break;case 3:Zt(e,t,l,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&bs(e)));break;case 12:if(n&2048){Zt(e,t,l,s),e=t.stateNode;try{var c=t.memoizedProps,i=c.id,u=c.onPostCommit;typeof u=="function"&&u(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Re(t,t.return,x)}}else Zt(e,t,l,s);break;case 31:Zt(e,t,l,s);break;case 13:Zt(e,t,l,s);break;case 23:break;case 22:c=t.stateNode,i=t.alternate,t.memoizedState!==null?c._visibility&2?Zt(e,t,l,s):ks(e,t):c._visibility&2?Zt(e,t,l,s):(c._visibility|=2,Ga(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&tu(i,t);break;case 24:Zt(e,t,l,s),n&2048&&lu(t.alternate,t);break;default:Zt(e,t,l,s)}}function Ga(e,t,l,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,i=t,u=l,x=s,T=i.flags;switch(i.tag){case 0:case 11:case 15:Ga(c,i,u,x,n),_s(8,i);break;case 23:break;case 22:var Q=i.stateNode;i.memoizedState!==null?Q._visibility&2?Ga(c,i,u,x,n):ks(c,i):(Q._visibility|=2,Ga(c,i,u,x,n)),n&&T&2048&&tu(i.alternate,i);break;case 24:Ga(c,i,u,x,n),n&&T&2048&&lu(i.alternate,i);break;default:Ga(c,i,u,x,n)}t=t.sibling}}function ks(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,n=s.flags;switch(s.tag){case 22:ks(l,s),n&2048&&tu(s.alternate,s);break;case 24:ks(l,s),n&2048&&lu(s.alternate,s);break;default:ks(l,s)}t=t.sibling}}var Os=8192;function Ka(e,t,l){if(e.subtreeFlags&Os)for(e=e.child;e!==null;)Hd(e,t,l),e=e.sibling}function Hd(e,t,l){switch(e.tag){case 26:Ka(e,t,l),e.flags&Os&&e.memoizedState!==null&&Dm(l,Xt,e.memoizedState,e.memoizedProps);break;case 5:Ka(e,t,l);break;case 3:case 4:var s=Xt;Xt=ac(e.stateNode.containerInfo),Ka(e,t,l),Xt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Os,Os=16777216,Ka(e,t,l),Os=s):Ka(e,t,l));break;default:Ka(e,t,l)}}function qd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];at=s,Yd(s,e)}qd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bd(e),e=e.sibling}function Bd(e){switch(e.tag){case 0:case 11:case 15:Rs(e),e.flags&2048&&Rl(9,e,e.return);break;case 3:Rs(e);break;case 12:Rs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Kn(e)):Rs(e);break;default:Rs(e)}}function Kn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];at=s,Yd(s,e)}qd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Rl(8,t,t.return),Kn(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Kn(t));break;default:Kn(t)}e=e.sibling}}function Yd(e,t){for(;at!==null;){var l=at;switch(l.tag){case 0:case 11:case 15:Rl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:bs(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,at=s;else e:for(l=e;at!==null;){s=at;var n=s.sibling,c=s.return;if(_d(s),s===l){at=null;break e}if(n!==null){n.return=c,at=n;break e}at=c}}}var Yx={getCacheForType:function(e){var t=it(Fe),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return it(Fe).controller.signal}},Qx=typeof WeakMap=="function"?WeakMap:Map,Me=0,qe=null,Se=null,Ae=0,Oe=0,Mt=null,Ll=!1,Va=!1,au=!1,pl=0,$e=0,Ul=0,xa=0,su=0,kt=0,Xa=0,Ls=null,Nt=null,nu=!1,Vn=0,Qd=0,Xn=1/0,Zn=null,Hl=null,tt=0,ql=null,Za=null,yl=0,cu=0,iu=null,Gd=null,Us=0,uu=null;function Ot(){return(Me&2)!==0&&Ae!==0?Ae&-Ae:D.T!==null?mu():sr()}function Kd(){if(kt===0)if((Ae&536870912)===0||Ee){var e=en;en<<=1,(en&3932160)===0&&(en=262144),kt=e}else kt=536870912;return e=Tt.current,e!==null&&(e.flags|=32),kt}function St(e,t,l){(e===qe&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&($a(e,0),Bl(e,Ae,kt,!1)),ss(e,l),((Me&2)===0||e!==qe)&&(e===qe&&((Me&2)===0&&(xa|=l),$e===4&&Bl(e,Ae,kt,!1)),Pt(e))}function Vd(e,t,l){if((Me&6)!==0)throw Error(d(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||as(e,t),n=s?Vx(e,t):ou(e,t,!0),c=s;do{if(n===0){Va&&!s&&Bl(e,t,0,!1);break}else{if(l=e.current.alternate,c&&!Gx(l)){n=ou(e,t,!1),c=!1;continue}if(n===2){if(c=t,e.errorRecoveryDisabledLanes&c)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var u=e;n=Ls;var x=u.current.memoizedState.isDehydrated;if(x&&($a(u,i).flags|=256),i=ou(u,i,!1),i!==2){if(au&&!x){u.errorRecoveryDisabledLanes|=c,xa|=c,n=4;break e}c=Nt,Nt=n,c!==null&&(Nt===null?Nt=c:Nt.push.apply(Nt,c))}n=i}if(c=!1,n!==2)continue}}if(n===1){$a(e,0),Bl(e,t,0,!0);break}e:{switch(s=e,c=n,c){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Bl(s,t,kt,!Ll);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(n=Vn+300-pt(),10<n)){if(Bl(s,t,kt,!Ll),ln(s,0,!0)!==0)break e;yl=t,s.timeoutHandle=Sf(Xd.bind(null,s,l,Nt,Zn,nu,t,kt,xa,Xa,Ll,c,"Throttled",-0,0),n);break e}Xd(s,l,Nt,Zn,nu,t,kt,xa,Xa,Ll,c,null,-0,0)}}break}while(!0);Pt(e)}function Xd(e,t,l,s,n,c,i,u,x,T,Q,$,M,H){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ll},Hd(t,c,$);var re=(c&62914560)===c?Vn-pt():(c&4194048)===c?Qd-pt():0;if(re=Em($,re),re!==null){yl=c,e.cancelPendingCommit=re(ef.bind(null,e,t,c,l,s,n,i,u,x,Q,$,null,M,H)),Bl(e,c,i,!T);return}}ef(e,t,c,l,s,n,i,u,x)}function Gx(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var n=l[s],c=n.getSnapshot;n=n.value;try{if(!zt(c(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bl(e,t,l,s){t&=~su,t&=~xa,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var c=31-Et(n),i=1<<c;s[c]=-1,n&=~i}l!==0&&tr(e,l,t)}function $n(){return(Me&6)===0?(Hs(0),!1):!0}function ru(){if(Se!==null){if(Oe===0)var e=Se.return;else e=Se,cl=sa=null,Ai(e),Ha=null,vs=0,e=Se;for(;e!==null;)Sd(e.alternate,e),e=e.return;Se=null}}function $a(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,rm(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),yl=0,ru(),qe=e,Se=l=sl(e.current,null),Ae=t,Oe=0,Mt=null,Ll=!1,Va=as(e,t),au=!1,Xa=kt=su=xa=Ul=$e=0,Nt=Ls=null,nu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-Et(s),c=1<<n;t|=e[n],s&=~c}return pl=t,hn(),l}function Zd(e,t){be=null,D.H=zs,t===Ua||t===Sn?(t=uo(),Oe=3):t===xi?(t=uo(),Oe=4):Oe=t===Yi?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,Se===null&&($e=1,Un(e,Ht(t,e.current)))}function $d(){var e=Tt.current;return e===null?!0:(Ae&4194048)===Ae?Qt===null:(Ae&62914560)===Ae||(Ae&536870912)!==0?e===Qt:!1}function Jd(){var e=D.H;return D.H=zs,e===null?zs:e}function Wd(){var e=D.A;return D.A=Yx,e}function Jn(){$e=4,Ll||(Ae&4194048)!==Ae&&Tt.current!==null||(Va=!0),(Ul&134217727)===0&&(xa&134217727)===0||qe===null||Bl(qe,Ae,kt,!1)}function ou(e,t,l){var s=Me;Me|=2;var n=Jd(),c=Wd();(qe!==e||Ae!==t)&&(Zn=null,$a(e,t)),t=!1;var i=$e;e:do try{if(Oe!==0&&Se!==null){var u=Se,x=Mt;switch(Oe){case 8:ru(),i=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var T=Oe;if(Oe=0,Mt=null,Ja(e,u,x,T),l&&Va){i=0;break e}break;default:T=Oe,Oe=0,Mt=null,Ja(e,u,x,T)}}Kx(),i=$e;break}catch(Q){Zd(e,Q)}while(!0);return t&&e.shellSuspendCounter++,cl=sa=null,Me=s,D.H=n,D.A=c,Se===null&&(qe=null,Ae=0,hn()),i}function Kx(){for(;Se!==null;)Fd(Se)}function Vx(e,t){var l=Me;Me|=2;var s=Jd(),n=Wd();qe!==e||Ae!==t?(Zn=null,Xn=pt()+500,$a(e,t)):Va=as(e,t);e:do try{if(Oe!==0&&Se!==null){t=Se;var c=Mt;t:switch(Oe){case 1:Oe=0,Mt=null,Ja(e,t,c,1);break;case 2:case 9:if(co(c)){Oe=0,Mt=null,Id(t);break}t=function(){Oe!==2&&Oe!==9||qe!==e||(Oe=7),Pt(e)},c.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:co(c)?(Oe=0,Mt=null,Id(t)):(Oe=0,Mt=null,Ja(e,t,c,7));break;case 5:var i=null;switch(Se.tag){case 26:i=Se.memoizedState;case 5:case 27:var u=Se;if(i?Hf(i):u.stateNode.complete){Oe=0,Mt=null;var x=u.sibling;if(x!==null)Se=x;else{var T=u.return;T!==null?(Se=T,Wn(T)):Se=null}break t}}Oe=0,Mt=null,Ja(e,t,c,5);break;case 6:Oe=0,Mt=null,Ja(e,t,c,6);break;case 8:ru(),$e=6;break e;default:throw Error(d(462))}}Xx();break}catch(Q){Zd(e,Q)}while(!0);return cl=sa=null,D.H=s,D.A=n,Me=l,Se!==null?0:(qe=null,Ae=0,hn(),$e)}function Xx(){for(;Se!==null&&!ht();)Fd(Se)}function Fd(e){var t=jd(e.alternate,e,pl);e.memoizedProps=e.pendingProps,t===null?Wn(e):Se=t}function Id(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=hd(l,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=hd(l,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:Ai(t);default:Sd(l,t),t=Se=Jr(t,pl),t=jd(l,t,pl)}e.memoizedProps=e.pendingProps,t===null?Wn(e):Se=t}function Ja(e,t,l,s){cl=sa=null,Ai(t),Ha=null,vs=0;var n=t.return;try{if(Ox(e,n,t,l,Ae)){$e=1,Un(e,Ht(l,e.current)),Se=null;return}}catch(c){if(n!==null)throw Se=n,c;$e=1,Un(e,Ht(l,e.current)),Se=null;return}t.flags&32768?(Ee||s===1?e=!0:Va||(Ae&536870912)!==0?e=!1:(Ll=e=!0,(s===2||s===9||s===3||s===6)&&(s=Tt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Pd(t,e)):Wn(t)}function Wn(e){var t=e;do{if((t.flags&32768)!==0){Pd(t,Ll);return}e=t.return;var l=Ux(t.alternate,t,pl);if(l!==null){Se=l;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);$e===0&&($e=5)}function Pd(e,t){do{var l=Hx(e.alternate,e);if(l!==null){l.flags&=32767,Se=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=l}while(e!==null);$e=6,Se=null}function ef(e,t,l,s,n,c,i,u,x){e.cancelPendingCommit=null;do Fn();while(tt!==0);if((Me&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(c=t.lanes|t.childLanes,c|=Ic,A0(e,l,c,i,u,x),e===qe&&(Se=qe=null,Ae=0),Za=t,ql=e,yl=l,cu=c,iu=n,Gd=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Wx(Is,function(){return nf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=D.T,D.T=null,n=B.p,B.p=2,i=Me,Me|=4;try{qx(e,t,l)}finally{Me=i,B.p=n,D.T=s}}tt=1,tf(),lf(),af()}}function tf(){if(tt===1){tt=0;var e=ql,t=Za,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=D.T,D.T=null;var s=B.p;B.p=2;var n=Me;Me|=4;try{Rd(t,e);var c=Nu,i=Br(e.containerInfo),u=c.focusedElem,x=c.selectionRange;if(i!==u&&u&&u.ownerDocument&&qr(u.ownerDocument.documentElement,u)){if(x!==null&&Zc(u)){var T=x.start,Q=x.end;if(Q===void 0&&(Q=T),"selectionStart"in u)u.selectionStart=T,u.selectionEnd=Math.min(Q,u.value.length);else{var $=u.ownerDocument||document,M=$&&$.defaultView||window;if(M.getSelection){var H=M.getSelection(),re=u.textContent.length,he=Math.min(x.start,re),He=x.end===void 0?he:Math.min(x.end,re);!H.extend&&he>He&&(i=He,He=he,he=i);var N=Hr(u,he),h=Hr(u,He);if(N&&h&&(H.rangeCount!==1||H.anchorNode!==N.node||H.anchorOffset!==N.offset||H.focusNode!==h.node||H.focusOffset!==h.offset)){var z=$.createRange();z.setStart(N.node,N.offset),H.removeAllRanges(),he>He?(H.addRange(z),H.extend(h.node,h.offset)):(z.setEnd(h.node,h.offset),H.addRange(z))}}}}for($=[],H=u;H=H.parentNode;)H.nodeType===1&&$.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<$.length;u++){var X=$[u];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}rc=!!ju,Nu=ju=null}finally{Me=n,B.p=s,D.T=l}}e.current=t,tt=2}}function lf(){if(tt===2){tt=0;var e=ql,t=Za,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=D.T,D.T=null;var s=B.p;B.p=2;var n=Me;Me|=4;try{Td(e,t.alternate,t)}finally{Me=n,B.p=s,D.T=l}}tt=3}}function af(){if(tt===4||tt===3){tt=0,el();var e=ql,t=Za,l=yl,s=Gd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,Za=ql=null,sf(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Hl=null),zc(l),t=t.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(ls,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=D.T,n=B.p,B.p=2,D.T=null;try{for(var c=e.onRecoverableError,i=0;i<s.length;i++){var u=s[i];c(u.value,{componentStack:u.stack})}}finally{D.T=t,B.p=n}}(yl&3)!==0&&Fn(),Pt(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===uu?Us++:(Us=0,uu=e):Us=0,Hs(0)}}function sf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,bs(t)))}function Fn(){return tf(),lf(),af(),nf()}function nf(){if(tt!==5)return!1;var e=ql,t=cu;cu=0;var l=zc(yl),s=D.T,n=B.p;try{B.p=32>l?32:l,D.T=null,l=iu,iu=null;var c=ql,i=yl;if(tt=0,Za=ql=null,yl=0,(Me&6)!==0)throw Error(d(331));var u=Me;if(Me|=4,Bd(c.current),Ud(c,c.current,i,l),Me=u,Hs(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(ls,c)}catch{}return!0}finally{B.p=n,D.T=s,sf(e,t)}}function cf(e,t,l){t=Ht(l,t),t=Bi(e.stateNode,t,2),e=Ml(e,t,2),e!==null&&(ss(e,2),Pt(e))}function Re(e,t,l){if(e.tag===3)cf(e,e,l);else for(;t!==null;){if(t.tag===3){cf(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Hl===null||!Hl.has(s))){e=Ht(l,e),l=id(2),s=Ml(t,l,2),s!==null&&(ud(l,s,t,e),ss(s,2),Pt(s));break}}t=t.return}}function du(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Qx;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(l)||(au=!0,n.add(l),e=Zx.bind(null,e,t,l),t.then(e,e))}function Zx(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,qe===e&&(Ae&l)===l&&($e===4||$e===3&&(Ae&62914560)===Ae&&300>pt()-Vn?(Me&2)===0&&$a(e,0):su|=l,Xa===Ae&&(Xa=0)),Pt(e)}function uf(e,t){t===0&&(t=er()),e=ta(e,t),e!==null&&(ss(e,t),Pt(e))}function $x(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),uf(e,l)}function Jx(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(d(314))}s!==null&&s.delete(t),uf(e,l)}function Wx(e,t){return mt(e,t)}var In=null,Wa=null,fu=!1,Pn=!1,xu=!1,Yl=0;function Pt(e){e!==Wa&&e.next===null&&(Wa===null?In=Wa=e:Wa=Wa.next=e),Pn=!0,fu||(fu=!0,Ix())}function Hs(e,t){if(!xu&&Pn){xu=!0;do for(var l=!1,s=In;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var c=0;else{var i=s.suspendedLanes,u=s.pingedLanes;c=(1<<31-Et(42|e)+1)-1,c&=n&~(i&~u),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(l=!0,ff(s,c))}else c=Ae,c=ln(s,s===qe?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||as(s,c)||(l=!0,ff(s,c));s=s.next}while(l);xu=!1}}function Fx(){rf()}function rf(){Pn=fu=!1;var e=0;Yl!==0&&um()&&(e=Yl);for(var t=pt(),l=null,s=In;s!==null;){var n=s.next,c=of(s,t);c===0?(s.next=null,l===null?In=n:l.next=n,n===null&&(Wa=l)):(l=s,(e!==0||(c&3)!==0)&&(Pn=!0)),s=n}tt!==0&&tt!==5||Hs(e),Yl!==0&&(Yl=0)}function of(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var i=31-Et(c),u=1<<i,x=n[i];x===-1?((u&l)===0||(u&s)!==0)&&(n[i]=w0(u,t)):x<=t&&(e.expiredLanes|=u),c&=~u}if(t=qe,l=Ae,l=ln(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Xe(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||as(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&Xe(s),zc(l)){case 2:case 8:l=Iu;break;case 32:l=Is;break;case 268435456:l=Pu;break;default:l=Is}return s=df.bind(null,e),l=mt(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&Xe(s),e.callbackPriority=2,e.callbackNode=null,2}function df(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Fn()&&e.callbackNode!==l)return null;var s=Ae;return s=ln(e,e===qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Vd(e,s,t),of(e,pt()),e.callbackNode!=null&&e.callbackNode===l?df.bind(null,e):null)}function ff(e,t){if(Fn())return null;Vd(e,t,!0)}function Ix(){om(function(){(Me&6)!==0?mt(Fu,Fx):rf()})}function mu(){if(Yl===0){var e=Ra;e===0&&(e=Ps,Ps<<=1,(Ps&261888)===0&&(Ps=256)),Yl=e}return Yl}function xf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:cn(""+e)}function mf(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Px(e,t,l,s,n){if(t==="submit"&&l&&l.stateNode===n){var c=xf((n[yt]||null).action),i=s.submitter;i&&(t=(t=i[yt]||null)?xf(t.formAction):i.getAttribute("formAction"),t!==null&&(c=t,i=null));var u=new dn("action","action",null,s,n);e.push({event:u,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Yl!==0){var x=i?mf(n,i):new FormData(n);Oi(l,{pending:!0,data:x,method:n.method,action:c},null,x)}}else typeof c=="function"&&(u.preventDefault(),x=i?mf(n,i):new FormData(n),Oi(l,{pending:!0,data:x,method:n.method,action:c},c,x))},currentTarget:n}]})}}for(var hu=0;hu<Fc.length;hu++){var pu=Fc[hu],em=pu.toLowerCase(),tm=pu[0].toUpperCase()+pu.slice(1);Vt(em,"on"+tm)}Vt(Gr,"onAnimationEnd"),Vt(Kr,"onAnimationIteration"),Vt(Vr,"onAnimationStart"),Vt("dblclick","onDoubleClick"),Vt("focusin","onFocus"),Vt("focusout","onBlur"),Vt(yx,"onTransitionRun"),Vt(bx,"onTransitionStart"),Vt(gx,"onTransitionCancel"),Vt(Xr,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),Fl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qs));function hf(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],n=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var i=s.length-1;0<=i;i--){var u=s[i],x=u.instance,T=u.currentTarget;if(u=u.listener,x!==c&&n.isPropagationStopped())break e;c=u,n.currentTarget=T;try{c(n)}catch(Q){mn(Q)}n.currentTarget=null,c=x}else for(i=0;i<s.length;i++){if(u=s[i],x=u.instance,T=u.currentTarget,u=u.listener,x!==c&&n.isPropagationStopped())break e;c=u,n.currentTarget=T;try{c(n)}catch(Q){mn(Q)}n.currentTarget=null,c=x}}}}function we(e,t){var l=t[Cc];l===void 0&&(l=t[Cc]=new Set);var s=e+"__bubble";l.has(s)||(pf(t,e,2,!1),l.add(s))}function yu(e,t,l){var s=0;t&&(s|=4),pf(l,e,s,t)}var ec="_reactListening"+Math.random().toString(36).slice(2);function bu(e){if(!e[ec]){e[ec]=!0,ir.forEach(function(l){l!=="selectionchange"&&(lm.has(l)||yu(l,!1,e),yu(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ec]||(t[ec]=!0,yu("selectionchange",!1,t))}}function pf(e,t,l,s){switch(Vf(t)){case 2:var n=Tm;break;case 8:n=_m;break;default:n=ku}l=n.bind(null,t,l,e),n=void 0,!Hc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function gu(e,t,l,s,n){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var u=s.stateNode.containerInfo;if(u===n)break;if(i===4)for(i=s.return;i!==null;){var x=i.tag;if((x===3||x===4)&&i.stateNode.containerInfo===n)return;i=i.return}for(;u!==null;){if(i=ba(u),i===null)return;if(x=i.tag,x===5||x===6||x===26||x===27){s=c=i;continue e}u=u.parentNode}}s=s.return}gr(function(){var T=c,Q=Lc(l),$=[];e:{var M=Zr.get(e);if(M!==void 0){var H=dn,re=e;switch(e){case"keypress":if(rn(l)===0)break e;case"keydown":case"keyup":H=J0;break;case"focusin":re="focus",H=Qc;break;case"focusout":re="blur",H=Qc;break;case"beforeblur":case"afterblur":H=Qc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=U0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=I0;break;case Gr:case Kr:case Vr:H=B0;break;case Xr:H=ex;break;case"scroll":case"scrollend":H=R0;break;case"wheel":H=lx;break;case"copy":case"cut":case"paste":H=Q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=wr;break;case"toggle":case"beforetoggle":H=sx}var he=(t&4)!==0,He=!he&&(e==="scroll"||e==="scrollend"),N=he?M!==null?M+"Capture":null:M;he=[];for(var h=T,z;h!==null;){var X=h;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||N===null||(X=is(h,N),X!=null&&he.push(Bs(h,X,z))),He)break;h=h.return}0<he.length&&(M=new H(M,re,null,l,Q),$.push({event:M,listeners:he}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",M&&l!==Rc&&(re=l.relatedTarget||l.fromElement)&&(ba(re)||re[ya]))break e;if((H||M)&&(M=Q.window===Q?Q:(M=Q.ownerDocument)?M.defaultView||M.parentWindow:window,H?(re=l.relatedTarget||l.toElement,H=T,re=re?ba(re):null,re!==null&&(He=q(re),he=re.tag,re!==He||he!==5&&he!==27&&he!==6)&&(re=null)):(H=null,re=T),H!==re)){if(he=Nr,X="onMouseLeave",N="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(he=wr,X="onPointerLeave",N="onPointerEnter",h="pointer"),He=H==null?M:cs(H),z=re==null?M:cs(re),M=new he(X,h+"leave",H,l,Q),M.target=He,M.relatedTarget=z,X=null,ba(Q)===T&&(he=new he(N,h+"enter",re,l,Q),he.target=z,he.relatedTarget=He,X=he),He=X,H&&re)t:{for(he=am,N=H,h=re,z=0,X=N;X;X=he(X))z++;X=0;for(var me=h;me;me=he(me))X++;for(;0<z-X;)N=he(N),z--;for(;0<X-z;)h=he(h),X--;for(;z--;){if(N===h||h!==null&&N===h.alternate){he=N;break t}N=he(N),h=he(h)}he=null}else he=null;H!==null&&yf($,M,H,he,!1),re!==null&&He!==null&&yf($,He,re,he,!0)}}e:{if(M=T?cs(T):window,H=M.nodeName&&M.nodeName.toLowerCase(),H==="select"||H==="input"&&M.type==="file")var Ce=Mr;else if(Tr(M))if(kr)Ce=mx;else{Ce=fx;var de=dx}else H=M.nodeName,!H||H.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?T&&Oc(T.elementType)&&(Ce=Mr):Ce=xx;if(Ce&&(Ce=Ce(e,T))){_r($,Ce,l,Q);break e}de&&de(e,M,T),e==="focusout"&&T&&M.type==="number"&&T.memoizedProps.value!=null&&kc(M,"number",M.value)}switch(de=T?cs(T):window,e){case"focusin":(Tr(de)||de.contentEditable==="true")&&(Ea=de,$c=T,hs=null);break;case"focusout":hs=$c=Ea=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,Yr($,l,Q);break;case"selectionchange":if(px)break;case"keydown":case"keyup":Yr($,l,Q)}var ge;if(Kc)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else Da?zr(e,l)&&(De="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(De="onCompositionStart");De&&(Ar&&l.locale!=="ko"&&(Da||De!=="onCompositionStart"?De==="onCompositionEnd"&&Da&&(ge=vr()):(Al=Q,qc="value"in Al?Al.value:Al.textContent,Da=!0)),de=tc(T,De),0<de.length&&(De=new Sr(De,e,null,l,Q),$.push({event:De,listeners:de}),ge?De.data=ge:(ge=Cr(l),ge!==null&&(De.data=ge)))),(ge=cx?ix(e,l):ux(e,l))&&(De=tc(T,"onBeforeInput"),0<De.length&&(de=new Sr("onBeforeInput","beforeinput",null,l,Q),$.push({event:de,listeners:De}),de.data=ge)),Px($,e,T,l,Q)}hf($,t)})}function Bs(e,t,l){return{instance:e,listener:t,currentTarget:l}}function tc(e,t){for(var l=t+"Capture",s=[];e!==null;){var n=e,c=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||c===null||(n=is(e,l),n!=null&&s.unshift(Bs(e,n,c)),n=is(e,t),n!=null&&s.push(Bs(e,n,c))),e.tag===3)return s;e=e.return}return[]}function am(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function yf(e,t,l,s,n){for(var c=t._reactName,i=[];l!==null&&l!==s;){var u=l,x=u.alternate,T=u.stateNode;if(u=u.tag,x!==null&&x===s)break;u!==5&&u!==26&&u!==27||T===null||(x=T,n?(T=is(l,c),T!=null&&i.unshift(Bs(l,T,x))):n||(T=is(l,c),T!=null&&i.push(Bs(l,T,x)))),l=l.return}i.length!==0&&e.push({event:t,listeners:i})}var sm=/\r\n?/g,nm=/\u0000|\uFFFD/g;function bf(e){return(typeof e=="string"?e:""+e).replace(sm,`
`).replace(nm,"")}function gf(e,t){return t=bf(t),bf(e)===t}function Ue(e,t,l,s,n,c){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Sa(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Sa(e,""+s);break;case"className":sn(e,"class",s);break;case"tabIndex":sn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":sn(e,l,s);break;case"style":yr(e,s,c);break;case"data":if(t!=="object"){sn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=cn(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(l==="formAction"?(t!=="input"&&Ue(e,t,"name",n.name,n,null),Ue(e,t,"formEncType",n.formEncType,n,null),Ue(e,t,"formMethod",n.formMethod,n,null),Ue(e,t,"formTarget",n.formTarget,n,null)):(Ue(e,t,"encType",n.encType,n,null),Ue(e,t,"method",n.method,n,null),Ue(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=cn(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=ll);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(d(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=cn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":we("beforetoggle",e),we("toggle",e),an(e,"popover",s);break;case"xlinkActuate":tl(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":tl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":tl(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":tl(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":tl(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":tl(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":tl(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":tl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":tl(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":an(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=k0.get(l)||l,an(e,l,s))}}function vu(e,t,l,s,n,c){switch(l){case"style":yr(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(d(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Sa(e,s):(typeof s=="number"||typeof s=="bigint")&&Sa(e,""+s);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ur.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),c=e[yt]||null,c=c!=null?c[l]:null,typeof c=="function"&&e.removeEventListener(t,c,n),typeof s=="function")){typeof c!="function"&&c!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,n);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):an(e,l,s)}}}function rt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var s=!1,n=!1,c;for(c in l)if(l.hasOwnProperty(c)){var i=l[c];if(i!=null)switch(c){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Ue(e,t,c,i,l,null)}}n&&Ue(e,t,"srcSet",l.srcSet,l,null),s&&Ue(e,t,"src",l.src,l,null);return;case"input":we("invalid",e);var u=c=i=n=null,x=null,T=null;for(s in l)if(l.hasOwnProperty(s)){var Q=l[s];if(Q!=null)switch(s){case"name":n=Q;break;case"type":i=Q;break;case"checked":x=Q;break;case"defaultChecked":T=Q;break;case"value":c=Q;break;case"defaultValue":u=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(d(137,t));break;default:Ue(e,t,s,Q,l,null)}}xr(e,c,u,x,T,i,n,!1);return;case"select":we("invalid",e),s=i=c=null;for(n in l)if(l.hasOwnProperty(n)&&(u=l[n],u!=null))switch(n){case"value":c=u;break;case"defaultValue":i=u;break;case"multiple":s=u;default:Ue(e,t,n,u,l,null)}t=c,l=i,e.multiple=!!s,t!=null?Na(e,!!s,t,!1):l!=null&&Na(e,!!s,l,!0);return;case"textarea":we("invalid",e),c=n=s=null;for(i in l)if(l.hasOwnProperty(i)&&(u=l[i],u!=null))switch(i){case"value":s=u;break;case"defaultValue":n=u;break;case"children":c=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(d(91));break;default:Ue(e,t,i,u,l,null)}hr(e,s,n,c);return;case"option":for(x in l)l.hasOwnProperty(x)&&(s=l[x],s!=null)&&(x==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ue(e,t,x,s,l,null));return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(s=0;s<qs.length;s++)we(qs[s],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(T in l)if(l.hasOwnProperty(T)&&(s=l[T],s!=null))switch(T){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Ue(e,t,T,s,l,null)}return;default:if(Oc(t)){for(Q in l)l.hasOwnProperty(Q)&&(s=l[Q],s!==void 0&&vu(e,t,Q,s,l,void 0));return}}for(u in l)l.hasOwnProperty(u)&&(s=l[u],s!=null&&Ue(e,t,u,s,l,null))}function cm(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,c=null,i=null,u=null,x=null,T=null,Q=null;for(H in l){var $=l[H];if(l.hasOwnProperty(H)&&$!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=$;default:s.hasOwnProperty(H)||Ue(e,t,H,null,s,$)}}for(var M in s){var H=s[M];if($=l[M],s.hasOwnProperty(M)&&(H!=null||$!=null))switch(M){case"type":c=H;break;case"name":n=H;break;case"checked":T=H;break;case"defaultChecked":Q=H;break;case"value":i=H;break;case"defaultValue":u=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(d(137,t));break;default:H!==$&&Ue(e,t,M,H,s,$)}}Mc(e,i,u,x,T,Q,c,n);return;case"select":H=i=u=M=null;for(c in l)if(x=l[c],l.hasOwnProperty(c)&&x!=null)switch(c){case"value":break;case"multiple":H=x;default:s.hasOwnProperty(c)||Ue(e,t,c,null,s,x)}for(n in s)if(c=s[n],x=l[n],s.hasOwnProperty(n)&&(c!=null||x!=null))switch(n){case"value":M=c;break;case"defaultValue":u=c;break;case"multiple":i=c;default:c!==x&&Ue(e,t,n,c,s,x)}t=u,l=i,s=H,M!=null?Na(e,!!l,M,!1):!!s!=!!l&&(t!=null?Na(e,!!l,t,!0):Na(e,!!l,l?[]:"",!1));return;case"textarea":H=M=null;for(u in l)if(n=l[u],l.hasOwnProperty(u)&&n!=null&&!s.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Ue(e,t,u,null,s,n)}for(i in s)if(n=s[i],c=l[i],s.hasOwnProperty(i)&&(n!=null||c!=null))switch(i){case"value":M=n;break;case"defaultValue":H=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(d(91));break;default:n!==c&&Ue(e,t,i,n,s,c)}mr(e,M,H);return;case"option":for(var re in l)M=l[re],l.hasOwnProperty(re)&&M!=null&&!s.hasOwnProperty(re)&&(re==="selected"?e.selected=!1:Ue(e,t,re,null,s,M));for(x in s)M=s[x],H=l[x],s.hasOwnProperty(x)&&M!==H&&(M!=null||H!=null)&&(x==="selected"?e.selected=M&&typeof M!="function"&&typeof M!="symbol":Ue(e,t,x,M,s,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in l)M=l[he],l.hasOwnProperty(he)&&M!=null&&!s.hasOwnProperty(he)&&Ue(e,t,he,null,s,M);for(T in s)if(M=s[T],H=l[T],s.hasOwnProperty(T)&&M!==H&&(M!=null||H!=null))switch(T){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(d(137,t));break;default:Ue(e,t,T,M,s,H)}return;default:if(Oc(t)){for(var He in l)M=l[He],l.hasOwnProperty(He)&&M!==void 0&&!s.hasOwnProperty(He)&&vu(e,t,He,void 0,s,M);for(Q in s)M=s[Q],H=l[Q],!s.hasOwnProperty(Q)||M===H||M===void 0&&H===void 0||vu(e,t,Q,M,s,H);return}}for(var N in l)M=l[N],l.hasOwnProperty(N)&&M!=null&&!s.hasOwnProperty(N)&&Ue(e,t,N,null,s,M);for($ in s)M=s[$],H=l[$],!s.hasOwnProperty($)||M===H||M==null&&H==null||Ue(e,t,$,M,s,H)}function vf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function im(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var n=l[s],c=n.transferSize,i=n.initiatorType,u=n.duration;if(c&&u&&vf(i)){for(i=0,u=n.responseEnd,s+=1;s<l.length;s++){var x=l[s],T=x.startTime;if(T>u)break;var Q=x.transferSize,$=x.initiatorType;Q&&vf($)&&(x=x.responseEnd,i+=Q*(x<u?1:(u-T)/(x-T)))}if(--s,t+=8*(c+i)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ju=null,Nu=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function jf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Su(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wu=null;function um(){var e=window.event;return e&&e.type==="popstate"?e===wu?!1:(wu=e,!0):(wu=null,!1)}var Sf=typeof setTimeout=="function"?setTimeout:void 0,rm=typeof clearTimeout=="function"?clearTimeout:void 0,wf=typeof Promise=="function"?Promise:void 0,om=typeof queueMicrotask=="function"?queueMicrotask:typeof wf<"u"?function(e){return wf.resolve(null).then(e).catch(dm)}:Sf;function dm(e){setTimeout(function(){throw e})}function Ql(e){return e==="head"}function Af(e,t){var l=t,s=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(n),es(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Ys(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Ys(l);for(var c=l.firstChild;c;){var i=c.nextSibling,u=c.nodeName;c[ns]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&c.rel.toLowerCase()==="stylesheet"||l.removeChild(c),c=i}}else l==="body"&&Ys(e.ownerDocument.body);l=n}while(l);es(t)}function Df(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Au(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Au(l),Tc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function fm(e,t,l,s){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ns])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function xm(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Gt(e.nextSibling),e===null))return null;return e}function Ef(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Gt(e.nextSibling),e===null))return null;return e}function Du(e){return e.data==="$?"||e.data==="$~"}function Eu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mm(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var zu=null;function zf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Gt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Cf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Tf(e,t,l){switch(t=lc(l),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Ys(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tc(e)}var Kt=new Map,_f=new Set;function ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bl=B.d;B.d={f:hm,r:pm,D:ym,C:bm,L:gm,m:vm,X:Nm,S:jm,M:Sm};function hm(){var e=bl.f(),t=$n();return e||t}function pm(e){var t=ga(e);t!==null&&t.tag===5&&t.type==="form"?Zo(t):bl.r(e)}var Fa=typeof document>"u"?null:document;function Mf(e,t,l){var s=Fa;if(s&&typeof t=="string"&&t){var n=Lt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),_f.has(n)||(_f.add(n),e={rel:e,crossOrigin:l,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),rt(t,"link",e),lt(t),s.head.appendChild(t)))}}function ym(e){bl.D(e),Mf("dns-prefetch",e,null)}function bm(e,t){bl.C(e,t),Mf("preconnect",e,t)}function gm(e,t,l){bl.L(e,t,l);var s=Fa;if(s&&e&&t){var n='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Lt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Lt(l.imageSizes)+'"]')):n+='[href="'+Lt(e)+'"]';var c=n;switch(t){case"style":c=Ia(e);break;case"script":c=Pa(e)}Kt.has(c)||(e=F({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Kt.set(c,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(Qs(c))||t==="script"&&s.querySelector(Gs(c))||(t=s.createElement("link"),rt(t,"link",e),lt(t),s.head.appendChild(t)))}}function vm(e,t){bl.m(e,t);var l=Fa;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Lt(s)+'"][href="'+Lt(e)+'"]',c=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Pa(e)}if(!Kt.has(c)&&(e=F({rel:"modulepreload",href:e},t),Kt.set(c,e),l.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Gs(c)))return}s=l.createElement("link"),rt(s,"link",e),lt(s),l.head.appendChild(s)}}}function jm(e,t,l){bl.S(e,t,l);var s=Fa;if(s&&e){var n=va(s).hoistableStyles,c=Ia(e);t=t||"default";var i=n.get(c);if(!i){var u={loading:0,preload:null};if(i=s.querySelector(Qs(c)))u.loading=5;else{e=F({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Kt.get(c))&&Cu(e,l);var x=i=s.createElement("link");lt(x),rt(x,"link",e),x._p=new Promise(function(T,Q){x.onload=T,x.onerror=Q}),x.addEventListener("load",function(){u.loading|=1}),x.addEventListener("error",function(){u.loading|=2}),u.loading|=4,sc(i,t,s)}i={type:"stylesheet",instance:i,count:1,state:u},n.set(c,i)}}}function Nm(e,t){bl.X(e,t);var l=Fa;if(l&&e){var s=va(l).hoistableScripts,n=Pa(e),c=s.get(n);c||(c=l.querySelector(Gs(n)),c||(e=F({src:e,async:!0},t),(t=Kt.get(n))&&Tu(e,t),c=l.createElement("script"),lt(c),rt(c,"link",e),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(n,c))}}function Sm(e,t){bl.M(e,t);var l=Fa;if(l&&e){var s=va(l).hoistableScripts,n=Pa(e),c=s.get(n);c||(c=l.querySelector(Gs(n)),c||(e=F({src:e,async:!0,type:"module"},t),(t=Kt.get(n))&&Tu(e,t),c=l.createElement("script"),lt(c),rt(c,"link",e),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(n,c))}}function kf(e,t,l,s){var n=(n=se.current)?ac(n):null;if(!n)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ia(l.href),l=va(n).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ia(l.href);var c=va(n).hoistableStyles,i=c.get(e);if(i||(n=n.ownerDocument||n,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,i),(c=n.querySelector(Qs(e)))&&!c._p&&(i.instance=c,i.state.loading=5),Kt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Kt.set(e,l),c||wm(n,e,l,i.state))),t&&s===null)throw Error(d(528,""));return i}if(t&&s!==null)throw Error(d(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Pa(l),l=va(n).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Ia(e){return'href="'+Lt(e)+'"'}function Qs(e){return'link[rel="stylesheet"]['+e+"]"}function Of(e){return F({},e,{"data-precedence":e.precedence,precedence:null})}function wm(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),rt(t,"link",l),lt(t),e.head.appendChild(t))}function Pa(e){return'[src="'+Lt(e)+'"]'}function Gs(e){return"script[async]"+e}function Rf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Lt(l.href)+'"]');if(s)return t.instance=s,lt(s),s;var n=F({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),lt(s),rt(s,"style",n),sc(s,l.precedence,e),t.instance=s;case"stylesheet":n=Ia(l.href);var c=e.querySelector(Qs(n));if(c)return t.state.loading|=4,t.instance=c,lt(c),c;s=Of(l),(n=Kt.get(n))&&Cu(s,n),c=(e.ownerDocument||e).createElement("link"),lt(c);var i=c;return i._p=new Promise(function(u,x){i.onload=u,i.onerror=x}),rt(c,"link",s),t.state.loading|=4,sc(c,l.precedence,e),t.instance=c;case"script":return c=Pa(l.src),(n=e.querySelector(Gs(c)))?(t.instance=n,lt(n),n):(s=l,(n=Kt.get(c))&&(s=F({},l),Tu(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),lt(n),rt(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,sc(s,l.precedence,e));return t.instance}function sc(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,c=n,i=0;i<s.length;i++){var u=s[i];if(u.dataset.precedence===t)c=u;else if(c!==n)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var nc=null;function Lf(e,t,l){if(nc===null){var s=new Map,n=nc=new Map;n.set(l,s)}else n=nc,s=n.get(l),s||(s=new Map,n.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var c=l[n];if(!(c[ns]||c[nt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var i=c.getAttribute(t)||"";i=e+i;var u=s.get(i);u?u.push(c):s.set(i,[c])}}return s}function Uf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Am(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Hf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Dm(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=Ia(s.href),c=t.querySelector(Qs(n));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=cc.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=c,lt(c);return}c=t.ownerDocument||t,s=Of(s),(n=Kt.get(n))&&Cu(s,n),c=c.createElement("link"),lt(c);var i=c;i._p=new Promise(function(u,x){i.onload=u,i.onerror=x}),rt(c,"link",s),l.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=cc.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var _u=0;function Em(e,t){return e.stylesheets&&e.count===0&&uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&_u===0&&(_u=62500*im());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uc(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>_u?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ic=null;function uc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ic=new Map,t.forEach(zm,e),ic=null,cc.call(e))}function zm(e,t){if(!(t.state.loading&4)){var l=ic.get(e);if(l)var s=l.get(null);else{l=new Map,ic.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<n.length;c++){var i=n[c];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(l.set(i.dataset.precedence,i),s=i)}s&&l.set(null,s)}n=t.instance,i=n.getAttribute("data-precedence"),c=l.get(i)||s,c===s&&l.set(null,n),l.set(i,n),this.count++,s=cc.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),c?c.parentNode.insertBefore(n,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Ks={$$typeof:w,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Cm(e,t,l,s,n,c,i,u,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dc(0),this.hiddenUpdates=Dc(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=c,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function qf(e,t,l,s,n,c,i,u,x,T,Q,$){return e=new Cm(e,t,l,i,x,T,Q,$,u),t=1,c===!0&&(t|=24),c=Ct(3,null,null,t),e.current=c,c.stateNode=e,t=oi(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:l,cache:t},mi(c),e}function Bf(e){return e?(e=Ta,e):Ta}function Yf(e,t,l,s,n,c){n=Bf(n),s.context===null?s.context=n:s.pendingContext=n,s=_l(t),s.payload={element:l},c=c===void 0?null:c,c!==null&&(s.callback=c),l=Ml(e,s,t),l!==null&&(St(l,e,t),Ns(l,e,t))}function Qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Mu(e,t){Qf(e,t),(e=e.alternate)&&Qf(e,t)}function Gf(e){if(e.tag===13||e.tag===31){var t=ta(e,67108864);t!==null&&St(t,e,67108864),Mu(e,67108864)}}function Kf(e){if(e.tag===13||e.tag===31){var t=Ot();t=Ec(t);var l=ta(e,t);l!==null&&St(l,e,t),Mu(e,t)}}var rc=!0;function Tm(e,t,l,s){var n=D.T;D.T=null;var c=B.p;try{B.p=2,ku(e,t,l,s)}finally{B.p=c,D.T=n}}function _m(e,t,l,s){var n=D.T;D.T=null;var c=B.p;try{B.p=8,ku(e,t,l,s)}finally{B.p=c,D.T=n}}function ku(e,t,l,s){if(rc){var n=Ou(s);if(n===null)gu(e,t,s,oc,l),Xf(e,s);else if(km(n,e,t,l,s))s.stopPropagation();else if(Xf(e,s),t&4&&-1<Mm.indexOf(e)){for(;n!==null;){var c=ga(n);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var i=Wl(c.pendingLanes);if(i!==0){var u=c;for(u.pendingLanes|=2,u.entangledLanes|=2;i;){var x=1<<31-Et(i);u.entanglements[1]|=x,i&=~x}Pt(c),(Me&6)===0&&(Xn=pt()+500,Hs(0))}}break;case 31:case 13:u=ta(c,2),u!==null&&St(u,c,2),$n(),Mu(c,2)}if(c=Ou(s),c===null&&gu(e,t,s,oc,l),c===n)break;n=c}n!==null&&s.stopPropagation()}else gu(e,t,s,null,l)}}function Ou(e){return e=Lc(e),Ru(e)}var oc=null;function Ru(e){if(oc=null,e=ba(e),e!==null){var t=q(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=G(t),e!==null)return e;e=null}else if(l===31){if(e=le(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oc=e,null}function Vf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(y0()){case Fu:return 2;case Iu:return 8;case Is:case b0:return 32;case Pu:return 268435456;default:return 32}default:return 32}}var Lu=!1,Gl=null,Kl=null,Vl=null,Vs=new Map,Xs=new Map,Xl=[],Mm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xf(e,t){switch(e){case"focusin":case"focusout":Gl=null;break;case"dragenter":case"dragleave":Kl=null;break;case"mouseover":case"mouseout":Vl=null;break;case"pointerover":case"pointerout":Vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(t.pointerId)}}function Zs(e,t,l,s,n,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:c,targetContainers:[n]},t!==null&&(t=ga(t),t!==null&&Gf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function km(e,t,l,s,n){switch(t){case"focusin":return Gl=Zs(Gl,e,t,l,s,n),!0;case"dragenter":return Kl=Zs(Kl,e,t,l,s,n),!0;case"mouseover":return Vl=Zs(Vl,e,t,l,s,n),!0;case"pointerover":var c=n.pointerId;return Vs.set(c,Zs(Vs.get(c)||null,e,t,l,s,n)),!0;case"gotpointercapture":return c=n.pointerId,Xs.set(c,Zs(Xs.get(c)||null,e,t,l,s,n)),!0}return!1}function Zf(e){var t=ba(e.target);if(t!==null){var l=q(t);if(l!==null){if(t=l.tag,t===13){if(t=G(l),t!==null){e.blockedOn=t,nr(e.priority,function(){Kf(l)});return}}else if(t===31){if(t=le(l),t!==null){e.blockedOn=t,nr(e.priority,function(){Kf(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Ou(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Rc=s,l.target.dispatchEvent(s),Rc=null}else return t=ga(l),t!==null&&Gf(t),e.blockedOn=l,!1;t.shift()}return!0}function $f(e,t,l){dc(e)&&l.delete(t)}function Om(){Lu=!1,Gl!==null&&dc(Gl)&&(Gl=null),Kl!==null&&dc(Kl)&&(Kl=null),Vl!==null&&dc(Vl)&&(Vl=null),Vs.forEach($f),Xs.forEach($f)}function fc(e,t){e.blockedOn===t&&(e.blockedOn=null,Lu||(Lu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Om)))}var xc=null;function Jf(e){xc!==e&&(xc=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){xc===e&&(xc=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(Ru(s||l)===null)continue;break}var c=ga(l);c!==null&&(e.splice(t,3),t-=3,Oi(c,{pending:!0,data:n,method:l.method,action:s},s,n))}}))}function es(e){function t(x){return fc(x,e)}Gl!==null&&fc(Gl,e),Kl!==null&&fc(Kl,e),Vl!==null&&fc(Vl,e),Vs.forEach(t),Xs.forEach(t);for(var l=0;l<Xl.length;l++){var s=Xl[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Xl.length&&(l=Xl[0],l.blockedOn===null);)Zf(l),l.blockedOn===null&&Xl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var n=l[s],c=l[s+1],i=n[yt]||null;if(typeof c=="function")i||Jf(l);else if(i){var u=null;if(c&&c.hasAttribute("formAction")){if(n=c,i=c[yt]||null)u=i.formAction;else if(Ru(n)!==null)continue}else u=i.action;typeof u=="function"?l[s+1]=u:(l.splice(s,3),s-=3),Jf(l)}}}function Wf(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(i){return n=i})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Uu(e){this._internalRoot=e}mc.prototype.render=Uu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var l=t.current,s=Ot();Yf(l,s,e,t,null,null)},mc.prototype.unmount=Uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yf(e.current,2,null,e,null,null),$n(),t[ya]=null}};function mc(e){this._internalRoot=e}mc.prototype.unstable_scheduleHydration=function(e){if(e){var t=sr();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Xl.length&&t!==0&&t<Xl[l].priority;l++);Xl.splice(l,0,e),l===0&&Zf(e)}};var Ff=L.version;if(Ff!=="19.2.3")throw Error(d(527,Ff,"19.2.3"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=m(t),e=e!==null?K(e):null,e=e===null?null:e.stateNode,e};var Rm={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{ls=hc.inject(Rm),Dt=hc}catch{}}return Js.createRoot=function(e,t){if(!b(e))throw Error(d(299));var l=!1,s="",n=ad,c=sd,i=nd;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=qf(e,1,!1,null,null,l,s,null,n,c,i,Wf),e[ya]=t.current,bu(e),new Uu(t)},Js.hydrateRoot=function(e,t,l){if(!b(e))throw Error(d(299));var s=!1,n="",c=ad,i=sd,u=nd,x=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(c=l.onUncaughtError),l.onCaughtError!==void 0&&(i=l.onCaughtError),l.onRecoverableError!==void 0&&(u=l.onRecoverableError),l.formState!==void 0&&(x=l.formState)),t=qf(e,1,!0,t,l??null,s,n,x,c,i,u,Wf),t.context=Bf(null),l=t.current,s=Ot(),s=Ec(s),n=_l(s),n.callback=null,Ml(l,n,s),l=s,t.current.lanes=l,ss(t,l),Pt(t),e[ya]=t.current,bu(e),new mc(t)},Js.version="19.2.3",Js}var i0;function Xm(){if(i0)return Bu.exports;i0=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(L){console.error(L)}}return o(),Bu.exports=Vm(),Bu.exports}var Zm=Xm();const $m=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jm=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(L,p,d)=>d?d.toUpperCase():p.toLowerCase()),u0=o=>{const L=Jm(o);return L.charAt(0).toUpperCase()+L.slice(1)},d0=(...o)=>o.filter((L,p,d)=>!!L&&L.trim()!==""&&d.indexOf(L)===p).join(" ").trim(),Wm=o=>{for(const L in o)if(L.startsWith("aria-")||L==="role"||L==="title")return!0};var Fm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Im=g.forwardRef(({color:o="currentColor",size:L=24,strokeWidth:p=2,absoluteStrokeWidth:d,className:b="",children:q,iconNode:G,...le},f)=>g.createElement("svg",{ref:f,...Fm,width:L,height:L,stroke:o,strokeWidth:d?Number(p)*24/Number(L):p,className:d0("lucide",b),...!q&&!Wm(le)&&{"aria-hidden":"true"},...le},[...G.map(([m,K])=>g.createElement(m,K)),...Array.isArray(q)?q:[q]]));const je=(o,L)=>{const p=g.forwardRef(({className:d,...b},q)=>g.createElement(Im,{ref:q,iconNode:L,className:d0(`lucide-${$m(u0(o))}`,`lucide-${o}`,d),...b}));return p.displayName=u0(o),p};const Pm=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ku=je("activity",Pm);const eh=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],pc=je("archive",eh);const th=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lh=je("arrow-right",th);const ah=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],sh=je("calculator",ah);const nh=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$t=je("calendar",nh);const ch=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Vu=je("chart-no-axes-column",ch);const ih=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Xu=je("chart-pie",ih);const uh=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Fs=je("chevron-down",uh);const rh=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],f0=je("chevron-up",rh);const oh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],x0=je("circle-alert",oh);const dh=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],m0=je("circle-check-big",dh);const fh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],xh=je("circle-minus",fh);const mh=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ts=je("clipboard-list",mh);const hh=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],ph=je("clipboard",hh);const yh=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h0=je("clock",yh);const bh=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],gh=je("credit-card",bh);const vh=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ot=je("dollar-sign",vh);const jh=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ws=je("file-text",jh);const Nh=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Wu=je("funnel",Nh);const Sh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wh=je("info",Sh);const Ah=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dh=je("lock",Ah);const Eh=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zh=je("log-out",Eh);const Ch=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],yc=je("package-plus",Ch);const Th=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gc=je("package",Th);const _h=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Mh=je("piggy-bank",_h);const kh=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],st=je("refresh-cw",kh);const Oh=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Rh=je("rotate-ccw",Oh);const Lh=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wc=je("save",Lh);const Uh=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xt=je("search",Uh);const Hh=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qh=je("settings",Hh);const Bh=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],gl=je("shield",Bh);const Yh=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],bc=je("shopping-cart",Yh);const Qh=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vc=je("square-check-big",Qh);const Gh=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],p0=je("trash-2",Gh);const Kh=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],pa=je("trending-up",Kh);const Vh=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jc=je("triangle-alert",Vh);const Xh=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Zu=je("truck",Xh);const Zh=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],$h=je("user-plus",Zh);const Jh=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Nc=je("user",Jh);const Wh=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sc=je("users",Wh);const Fh=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Jl=je("wallet",Fh),ve=async(o,L,p,d=null)=>{try{const b=new AbortController,q=setTimeout(()=>b.abort(),3e4),G=await fetch(o,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:L,payload:p,token:d}),signal:b.signal});if(clearTimeout(q),!G.ok)throw new Error(`HTTP error! status: ${G.status}`);const le=await G.json();if(le.error)throw new Error(le.error);return le}catch(b){throw console.error(`API Error [${L}]:`,b),b.name==="AbortError"?new Error(" GAS "):b.message.includes("Load failed")||b.message.includes("Failed to fetch")?new Error(" GAS Anyone CORS "):b}};function Ih({onLogin:o,apiUrl:L}){const[p,d]=g.useState(!1),[b,q]=g.useState(""),[G,le]=g.useState(""),[f,m]=g.useState(!1),K=async F=>{F.preventDefault(),m(!0);try{const y=await ve(L,p?"register":"login",{username:b,password:G});console.log("Login API Result:",y),p?(alert(" ()"),d(!1)):o(y)}catch(S){alert(S.message)}finally{m(!1)}};return a.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 bg-slate-50",children:a.jsxs("div",{className:"bg-white border border-slate-200 p-8 w-full max-w-md rounded-2xl shadow-2xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("img",{src:"/inventory-system/logo.png",alt:"Logo",className:"h-20 w-auto object-contain"})}),a.jsx("p",{className:"text-slate-500",children:p?"":""})]}),a.jsxs("form",{onSubmit:K,className:"space-y-6",children:[a.jsx("div",{children:a.jsxs("div",{className:"relative",children:[a.jsx(Nc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),a.jsx("input",{required:!0,type:"text",placeholder:"",className:"input-field pl-10 bg-slate-50 border-slate-200 focus:bg-white transition-all",value:b,onChange:F=>q(F.target.value)})]})}),a.jsx("div",{children:a.jsxs("div",{className:"relative",children:[a.jsx(Dh,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),a.jsx("input",{required:!0,type:"password",placeholder:"",className:"input-field pl-10 bg-slate-50 border-slate-200 focus:bg-white transition-all",value:G,onChange:F=>le(F.target.value)})]})}),a.jsxs("button",{type:"submit",disabled:f,className:"btn-primary w-full flex justify-center items-center gap-2 py-3",children:[f?"...":p?"":""," ",a.jsx(lh,{size:18})]})]}),a.jsx("div",{className:"mt-6 text-center text-sm text-slate-500",children:a.jsx("button",{onClick:()=>d(!p),className:"hover:text-blue-400 transition-colors",children:p?"":""})})]})})}const $u={1L:75,1L:80,2L:155,1L:80,2L:155,:90,:20,:20,:20,:20,:18.3,:20,:16.7,:20,:18.3,:45,:70,:70,:70,:70,1L:55,471:30,1795:75,:27.5,:25,:25,:30,:30,:27.5,:25,:20,:10,:20,:20,:25,:20,:20,:20,:20,:10,:10,:20,:20,:20,:20,:20,:16.7,:20,1L:70,2L:140,:50,:70,:50,:20,400:16.7,1000:25,1000:40,2000:40,2000:60,1000:60,2000:100,500:50,1000:60},r0=Object.keys($u),o0={1L:20,1L:20,2L:12,1L:20,2L:12,:20,:70,:70,:70,:12,:24,:20,:108,:40,:40,:15,:4,:4,:4,:4,1L:16,471:30,1795ml:9,:60,:20,:24,:15,:15,:24,:25,:15,:15,:15,:15,:24,:24,:24,:24,:15,:15,:15,:15,:15,:15,:15,:15,:24,:15},Ac=(o,L)=>[...o].sort((p,d)=>{const b=String(p[L]||""),q=String(d[L]||""),G=r0.indexOf(b),le=r0.indexOf(q);return G===-1&&le===-1?b.localeCompare(q):G===-1?1:le===-1?-1:G-le}),Ye=()=>{const o=new Date;return`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`};function Ph({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState({1e3:0,500:0,100:0,50:0,10:0,5:0,1:0}),[G,le]=g.useState(5e3),[f,m]=g.useState({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0}),[K,F]=g.useState(""),[S,y]=g.useState("CASH"),[_,te]=g.useState(!1);g.useEffect(()=>{le(S==="CASH"?5e3:0)},[S]);const C=g.useCallback(async()=>{try{const A=await ve(L,"getProducts",{},o.token);if(console.log("Sales Page - Raw Products Data:",A),Array.isArray(A)){const R=A.filter(ie=>(Number(ie.stock)||0)>0||(Number(ie.originalStock)||0)>0),ee=Ac(R,"name");console.log("Sales Page - Sorted Products (Stock or Original > 0):",ee),d(ee.map(ie=>{const D=Number(ie.price)||0,B=$u[ie.name]!==void 0?$u[ie.name]:D;return{id:ie.id,name:ie.name,stock:Number(ie.stock)||0,originalStock:Number(ie.originalStock)||0,picked:0,original:0,returns:0,sold:0,price:B,subtotal:0}}))}else console.error("Sales Page - Data is not an array:",A)}catch(A){console.error("Fetch products failed",A),alert(": "+A.message)}},[L,o.token]);g.useEffect(()=>{(async()=>o?.token&&await C())()},[o.token,C]);const j=(A,R,ee)=>{let ie=Number(ee);isNaN(ie)&&(ie=0),d(D=>D.map(B=>{if(B.id!==A)return B;let I=R==="picked"?ie:B.picked||0,ne=R==="original"?ie:B.original||0,oe=R==="returns"?ie:B.returns||0,r=R==="price"?ie:B.price||0;I>B.stock&&(I=B.stock),I<0&&(I=0),ne>B.originalStock&&(ne=B.originalStock),ne<0&&(ne=0);const Y=I+ne;oe>Y&&(oe=Y),oe<0&&(oe=0);const ae={...B,picked:I,original:ne,returns:oe,price:r};return ae.sold=ae.picked+ae.original-ae.returns,ae.subtotal=ae.sold*(ae.price||0),ae}))},k=A=>{const R=document.getElementById(A);R&&(R.focus(),R.select?.(),R.scrollIntoView({block:"nearest",behavior:"smooth"}))},w=(A,R,ee,ie="input-")=>{if(!["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(A.key))return;A.key.startsWith("Arrow")&&A.preventDefault();const B=["picked","original","returns","price"],I=B.indexOf(ee);if(A.key==="Enter"){A.preventDefault();const oe=["picked","original","returns"],r=oe.indexOf(ee);if(r<oe.length-1&&r!==-1){const Y=oe[r+1];k(`${ie}${R}-${Y}`)}else R<p.length-1?k(`${ie}${R+1}-picked`):k("input-cash-1000");return}let ne=null;A.key==="ArrowUp"?R>0&&(ne=`${ie}${R-1}-${ee}`):A.key==="ArrowDown"?R<p.length-1?ne=`${ie}${R+1}-${ee}`:ne="input-cash-1000":A.key==="ArrowLeft"?I>0&&(ne=`${ie}${R}-${B[I-1]}`):A.key==="ArrowRight"&&(I<B.length-1?ne=`${ie}${R}-${B[I+1]}`:ne="input-cash-1000"),ne&&k(ne)},W=(A,R,ee,ie)=>{["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(A.key)&&(A.key.startsWith("Arrow")&&A.preventDefault(),A.key==="Enter"||A.key==="ArrowDown"?(A.preventDefault(),ee&&k(ee)):A.key==="ArrowUp"?ie?k(ie):p.length>0&&k(`input-${p.length-1}-price`):A.key==="ArrowLeft"&&p.length>0&&k(`input-${p.length-1}-price`))},E=p.reduce((A,R)=>A+(R.subtotal||0),0),V=Object.entries(b).reduce((A,[R,ee])=>A+Number(R)*ee,0)-G,P=Number(f.stall)+Number(f.cleaning)+Number(f.electricity)+Number(f.gas)+Number(f.parking)+Number(f.goods)+Number(f.bags)+Number(f.others)+Number(f.linePay),ce=S==="CREDIT",J=ce?E:V+P+Number(f.serviceFee)-E,O=async()=>{if(!K.trim()){alert("");const R=document.getElementById("input-location");R&&R.focus();return}const A={salesRep:o.username,customer:K,paymentMethod:S,salesData:p.map(R=>({productId:R.id,picked:R.picked,original:R.original,returns:R.returns,sold:R.sold,unitPrice:R.price})),cashData:{totalCash:S==="CREDIT"?0:V,reserve:G},expenseData:{...f,finalTotal:J}};te(!0);try{await ve(L,"saveSales",A,o.token),alert(" Google Sheet"),window.location.reload()}catch(R){alert(": "+R.message)}finally{te(!1)}};return a.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 h-full overflow-y-auto xl:overflow-hidden",children:[_&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),a.jsxs("div",{className:"xl:col-span-2 glass-panel p-6 overflow-hidden flex flex-col h-auto min-h-[60vh] xl:h-[calc(100vh-10rem)]",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-slate-800",children:[a.jsx(st,{size:20,className:"text-blue-600"})," "]}),a.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-4 w-full md:w-auto",children:[a.jsxs("div",{className:"flex bg-slate-50 rounded-lg p-1 border border-slate-200 self-start md:self-auto",children:[a.jsx("button",{onClick:()=>y("CASH"),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${S==="CASH"?"bg-emerald-500 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""}),a.jsx("button",{onClick:()=>y("CREDIT"),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${S==="CREDIT"?"bg-amber-500 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""})]}),a.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[a.jsx("label",{className:"text-sm text-slate-500 font-bold whitespace-nowrap",children:":"}),a.jsx("input",{id:"input-location",type:"text",className:"input-field py-1 px-3 w-full md:w-48",placeholder:"...",value:K,onChange:A=>F(A.target.value),onKeyDown:A=>{A.key==="Enter"&&(A.preventDefault(),k("input-m-0-picked")||k("input-0-picked"))}})]})]})]}),a.jsxs("div",{className:"flex-1 overflow-auto",children:[a.jsx("div",{className:"md:hidden space-y-4",children:p.map((A,R)=>a.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("div",{className:"font-bold text-slate-800 text-lg",children:A.name}),a.jsxs("div",{className:"text-xs font-mono bg-white px-2 py-1 rounded border border-slate-200",children:[a.jsx("span",{className:"text-slate-400 mr-1",children:""}),a.jsx("span",{className:"text-blue-600 font-bold",children:A.stock}),a.jsx("span",{className:"text-slate-300 mx-1",children:"/"}),a.jsx("span",{className:"text-orange-600 font-bold",children:A.originalStock||0})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 text-center font-bold",children:""}),a.jsx("input",{id:`input-m-${R}-picked`,type:"number",className:"input-field text-center p-2 text-base font-bold",value:A.picked||"",onChange:ee=>j(A.id,"picked",ee.target.value),onKeyDown:ee=>w(ee,R,"picked","input-m-")})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 text-center font-bold",children:""}),a.jsx("input",{id:`input-m-${R}-original`,type:"number",className:"input-field text-center p-2 text-base font-bold",value:A.original||"",onChange:ee=>j(A.id,"original",ee.target.value),onKeyDown:ee=>w(ee,R,"original","input-m-")})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 text-center font-bold",children:""}),a.jsx("input",{id:`input-m-${R}-returns`,type:"number",className:"input-field text-center p-2 text-base font-bold text-red-600",value:A.returns||"",onChange:ee=>j(A.id,"returns",ee.target.value),onKeyDown:ee=>w(ee,R,"returns","input-m-")})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 text-center font-bold",children:""}),a.jsx("input",{id:`input-m-${R}-price`,type:"number",className:"input-field text-center p-2 text-base font-bold",value:A.price,onChange:ee=>j(A.id,"price",ee.target.value),onKeyDown:ee=>w(ee,R,"price","input-m-")})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-200",children:[a.jsxs("div",{className:"text-xs text-slate-500",children:[": ",a.jsx("span",{className:"font-bold text-blue-600 text-sm ml-1",children:A.sold})]}),a.jsxs("div",{className:"text-sm font-bold text-emerald-600 font-mono",children:[a.jsx("span",{className:"text-xs text-slate-400 font-normal mr-1",children:""}),"$",A.subtotal?.toLocaleString()]})]})]},A.id))}),a.jsxs("table",{className:"hidden md:table w-full text-left border-collapse",children:[a.jsx("thead",{className:"sticky top-0 bg-white z-10 text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:""}),a.jsx("th",{className:"p-3 w-20",children:""}),a.jsx("th",{className:"p-3 w-24",children:"(+)"}),a.jsx("th",{className:"p-3 w-24",children:"(+)"}),a.jsx("th",{className:"p-3 w-24",children:"(-)"}),a.jsx("th",{className:"p-3 w-20 text-center",children:""}),a.jsx("th",{className:"p-3 w-24",children:""}),a.jsx("th",{className:"p-3 w-28 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:p.map((A,R)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-3 font-medium text-slate-800",children:A.name}),a.jsxs("td",{className:"p-3 text-slate-500 font-mono tracking-wider",children:[a.jsx("span",{className:"text-blue-600",children:A.stock}),a.jsx("span",{className:"text-slate-200 mx-1",children:"/"}),a.jsx("span",{className:"text-orange-600",children:A.originalStock||0})]}),a.jsx("td",{className:"p-3",children:a.jsx("input",{id:`input-${R}-picked`,type:"number",className:"input-field text-center p-1 bg-white",value:A.picked||"",onChange:ee=>j(A.id,"picked",ee.target.value),onKeyDown:ee=>w(ee,R,"picked")})}),a.jsx("td",{className:"p-3",children:a.jsx("input",{id:`input-${R}-original`,type:"number",className:"input-field text-center p-1 bg-white",value:A.original||"",onChange:ee=>j(A.id,"original",ee.target.value),onKeyDown:ee=>w(ee,R,"original")})}),a.jsx("td",{className:"p-3",children:a.jsx("input",{id:`input-${R}-returns`,type:"number",className:"input-field text-center p-1 text-red-600",value:A.returns||"",onChange:ee=>j(A.id,"returns",ee.target.value),onKeyDown:ee=>w(ee,R,"returns")})}),a.jsx("td",{className:"p-3 text-center font-bold text-blue-600",children:A.sold}),a.jsx("td",{className:"p-3",children:a.jsx("input",{id:`input-${R}-price`,type:"number",className:"input-field text-center p-1 w-20 bg-white",value:A.price,onChange:ee=>j(A.id,"price",ee.target.value),onKeyDown:ee=>w(ee,R,"price")})}),a.jsxs("td",{className:"p-3 text-right font-mono text-emerald-600",children:["$",A.subtotal?.toLocaleString()]})]},A.id))})]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 flex justify-between items-center bg-slate-50 p-4 rounded-lg",children:[a.jsx("span",{className:"text-slate-500",children:" ()"}),a.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:["$",E.toLocaleString()]})]})]}),a.jsxs("div",{className:"flex flex-col h-auto xl:h-[calc(100vh-10rem)] gap-6",children:[a.jsxs("div",{className:`flex-1 xl:overflow-y-auto pr-0 xl:pr-2 space-y-6 transition-opacity ${ce?"opacity-50 pointer-events-none grayscale":""}`,children:[a.jsxs("div",{className:"glass-panel p-6 relative",children:[ce&&a.jsx("div",{className:"absolute inset-0 z-50 cursor-not-allowed"}),a.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-slate-800",children:[a.jsx(sh,{size:20,className:"text-amber-600"})," "]}),a.jsxs("div",{className:"space-y-3",children:[[1e3,500,100,50,10,5,1].map((A,R,ee)=>{const ie=`input-cash-${A}`,D=R<ee.length-1?`input-cash-${ee[R+1]}`:"input-reserve",B=R>0?`input-cash-${ee[R-1]}`:null;return a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"w-12 text-slate-500 font-mono text-right",children:A}),a.jsx("span",{className:"text-slate-300",children:"x"}),a.jsx("input",{id:ie,type:"number",className:"input-field flex-1",placeholder:"0",value:b[A]||"",onChange:I=>q({...b,[A]:Number(I.target.value)}),onKeyDown:I=>W(I,ie,D,B),disabled:ce}),a.jsxs("span",{className:"w-20 text-right font-mono text-slate-500",children:["$",(A*b[A]).toLocaleString()]})]},A)}),a.jsxs("div",{className:"border-t border-slate-100 my-2 pt-2 flex items-center gap-4 text-red-600",children:[a.jsx("span",{className:"w-12 text-right",children:""}),a.jsx("span",{className:"text-slate-300",children:"-"}),a.jsx("input",{id:"input-reserve",type:"number",className:"input-field flex-1 border-red-900/50 focus:ring-red-500",value:G,onChange:A=>le(Number(A.target.value)),onKeyDown:A=>W(A,"input-reserve","input-expense-stall","input-cash-1"),disabled:ce})]}),a.jsxs("div",{className:"bg-slate-50 p-3 rounded flex justify-between items-center border border-slate-100",children:[a.jsx("span",{className:"text-slate-500",children:""}),a.jsxs("span",{className:"text-xl font-bold text-amber-600",children:["$",(ce?0:V).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"glass-panel p-6 relative",children:[ce&&a.jsx("div",{className:"absolute inset-0 z-50 cursor-not-allowed"}),a.jsx("h2",{className:"text-lg font-bold mb-4 text-rose-600",children:""}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["stall:","cleaning:","electricity:","gas:","parking:","goods:","bags:","others:"].map((A,R,ee)=>{const[ie,D]=A.split(":"),B=`input-expense-${ie}`,I=R<ee.length-1?ee[R+1].split(":")[0]:"linePay",ne=R<ee.length-1?`input-expense-${I}`:"input-expense-linePay",oe=R>0?ee[R-1].split(":")[0]:null,r=R>0?`input-expense-${oe}`:"input-reserve";return a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:D}),a.jsx("input",{id:B,type:"number",className:"input-field text-sm",value:f[ie]||"",onChange:Y=>m({...f,[ie]:Number(Y.target.value)}),onKeyDown:Y=>W(Y,B,ne,r),disabled:ce})]},ie)})}),a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Line Pay ()"}),a.jsx("input",{id:"input-expense-linePay",type:"number",className:"input-field border-green-200 text-green-600",value:f.linePay||"",onChange:A=>m({...f,linePay:Number(A.target.value)}),onKeyDown:A=>W(A,"input-expense-linePay","input-expense-serviceFee","input-expense-others"),disabled:ce})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:" ()"}),a.jsx("input",{id:"input-expense-serviceFee",type:"number",className:"input-field border-red-200 text-red-600",value:f.serviceFee||"",onChange:A=>m({...f,serviceFee:Number(A.target.value)}),disabled:ce,onKeyDown:A=>W(A,"input-expense-serviceFee","btn-save-data","input-expense-linePay")})]})]})]})]}),a.jsxs("div",{className:"p-6 glass-panel shadow-lg border-t-4 border-t-blue-600 opacity-100 pointer-events-auto",children:[a.jsx("div",{className:"text-sm text-slate-500 mb-1 font-bold",children:" ()"}),a.jsxs("div",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-700 to-indigo-700",children:["$",(ce?E:J).toLocaleString()]}),a.jsxs("button",{id:"btn-save-data",onClick:O,className:"btn-primary w-full mt-6 flex justify-center items-center gap-2 py-4 text-lg",children:[a.jsx(wc,{size:20})," "]})]})]})]})}function ep({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState(!0),[G,le]=g.useState(""),[f,m]=g.useState(!1),[K,F]=g.useState(null),[S,y]=g.useState("SCRAP"),[_,te]=g.useState(""),[C,j]=g.useState(""),[k,w]=g.useState({}),[W,E]=g.useState({}),[v,V]=g.useState({}),[P,ce]=g.useState(!1),J=g.useCallback(async()=>{q(!0);try{const Z=await ve(L,"getInventory",{},o.token);if(console.log("Inventory API Response:",Z),Array.isArray(Z)){const se=Z.filter(ke=>{const xe=Number(ke.quantity);return!isNaN(xe)&&xe>0});console.log("Filtered Inventory:",se);const fe=Ac(se,"productName");console.log("Sorted Inventory:",fe),d(fe)}else console.error("Inventory data is not an array:",Z),d([])}catch(Z){console.error("Failed to fetch inventory:",Z),alert(": "+Z.message),d([])}finally{q(!1)}},[L,o.token]);g.useEffect(()=>{(async()=>{if(o?.token){await J();const se=localStorage.getItem("safetyStocks");se&&w(JSON.parse(se));const fe=localStorage.getItem("customCaseSizes");fe&&V(JSON.parse(fe))}})()},[o.token,J]);const O=Z=>{if(!Z)return"-";const se=new Date(Z);return isNaN(se.getTime())?String(Z):se.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})},A=Z=>{F(Z),te(""),j(""),m(!0)},R=async()=>{if(!_||Number(_)<=0){alert("");return}if(!C.trim()){alert("");return}ce(!0);try{await ve(L,"adjustInventory",{batchId:K.batchId,type:S,quantity:Number(_),note:C},o.token),alert(""),m(!1),J()}catch(Z){alert(": "+Z.message)}finally{ce(!1)}},ee=(Z,se)=>{const fe={...k,[Z]:Number(se)||0};w(fe),localStorage.setItem("safetyStocks",JSON.stringify(fe))},ie=(Z,se)=>{E({...W,[Z]:se})},D=Z=>{const se=W[Z];se!==void 0&&ee(Z,se)},B=(Z,se)=>{const fe={...v,[Z]:Number(se)||0};V(fe),localStorage.setItem("customCaseSizes",JSON.stringify(fe))},I=Z=>{const se=document.getElementById(Z);se&&(se.focus(),se.select?.(),se.scrollIntoView({block:"nearest",behavior:"smooth"}))},ne=(Z,se,fe,ke)=>{const xe=ke[se];if(Z.key==="Enter"||Z.key==="ArrowRight"){if(Z.preventDefault(),fe==="case")I(`safety-input-${xe.productName}-${xe.batchId}`);else if(se<ke.length-1){const _e=ke[se+1];I(`case-input-${_e.productName}-${_e.batchId}`)}}else if(Z.key==="ArrowLeft"){if(Z.preventDefault(),fe==="safety")I(`case-input-${xe.productName}-${xe.batchId}`);else if(se>0){const _e=ke[se-1];I(`safety-input-${_e.productName}-${_e.batchId}`)}}else if(Z.key==="ArrowDown"){if(Z.preventDefault(),se<ke.length-1){const _e=ke[se+1];I(`${fe}-input-${_e.productName}-${_e.batchId}`)}}else if(Z.key==="ArrowUp"&&(Z.preventDefault(),se>0)){const _e=ke[se-1];I(`${fe}-input-${_e.productName}-${_e.batchId}`)}},oe=p.filter(Z=>{const se=String(Z.productName||"").toLowerCase(),fe=G.toLowerCase();return se.includes(fe)?!0:fe.length>6?String(Z.batchId||"").toLowerCase().includes(fe):!1}),r=oe.filter(Z=>Z.type==="STOCK"),Y=oe.filter(Z=>Z.type!=="STOCK"),ae={};p.forEach(Z=>{ae[Z.productName]||(ae[Z.productName]=0),ae[Z.productName]+=Number(Z.quantity)});const ue=(Z,se,fe,ke)=>a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 flex flex-col shadow-sm",children:[a.jsxs("h3",{className:`text-lg font-bold mb-4 flex items-center gap-2 ${ke}`,children:[a.jsx(fe,{size:20})," ",se]}),a.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-center",children:" / "}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-6 text-center text-slate-500",children:"..."})}):Z.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-6 text-center text-slate-500",children:""})}):Z.map((xe,_e)=>{const Jt=k[xe.productName]||0,wt=v[xe.productName],jl=wt!==void 0&&wt!==0?wt:o0[xe.productName]||0,At=ae[xe.productName]||0,Nl=Jt>0&&At<=Jt,U=xe.expiry?new Date(xe.expiry):null,pe=new Date;pe.setHours(0,0,0,0);const Be=new Date(pe);Be.setDate(pe.getDate()+3);const ze=U&&U>=pe&&U<=Be,mt=U&&U<pe;return a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${Nl?"bg-red-50":""} ${mt?"bg-rose-50":ze?"bg-amber-50":""}`,children:[a.jsx("td",{className:"p-4 font-medium text-slate-900",children:a.jsxs("div",{className:"flex items-center gap-2",children:[Nl&&a.jsx(jc,{size:16,className:"text-red-400"}),xe.productName]})}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"font-mono text-emerald-600 font-bold text-lg",children:xe.quantity}),jl>0&&a.jsxs("span",{className:"text-blue-600 font-mono text-sm",children:["",(xe.quantity/jl).toFixed(1)]})]})}),a.jsx("td",{className:"p-4 text-sm whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:mt?"text-rose-600 line-through":ze?"text-amber-600 font-bold":"text-slate-500",children:O(xe.expiry)}),ze&&a.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-700 border border-amber-200 px-1.5 py-0.5 rounded self-start flex items-center gap-1 font-bold",children:[a.jsx(h0,{size:10})," "]}),mt&&a.jsxs("span",{className:"text-[10px] bg-rose-100 text-rose-700 border border-rose-200 px-1.5 py-0.5 rounded self-start flex items-center gap-1 font-bold",children:[a.jsx(jc,{size:10})," "]})]})}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("input",{id:`case-input-${xe.productName}-${xe.batchId}`,type:"number",className:"input-field w-16 text-center text-xs p-1 bg-white border-blue-200",value:wt!==void 0?wt:o0[xe.productName]||"",onChange:Xe=>B(xe.productName,Xe.target.value),onKeyDown:Xe=>ne(Xe,_e,"case",Z),placeholder:""})}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("input",{id:`safety-input-${xe.productName}-${xe.batchId}`,type:"number",className:"input-field w-16 text-center text-xs p-1 bg-white border-amber-200",value:W[xe.productName]!==void 0?W[xe.productName]:k[xe.productName]||"",onChange:Xe=>ie(xe.productName,Xe.target.value),onBlur:()=>D(xe.productName),onKeyDown:Xe=>ne(Xe,_e,"safety",Z),placeholder:""})}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("button",{onClick:()=>A(xe),className:"btn-secondary text-xs px-3 py-1 flex items-center gap-1 mx-auto",children:[a.jsx(p0,{size:14})," "]})})]},_e)})})]})})]});return a.jsxs("div",{className:"max-w-6xl mx-auto h-[calc(100vh-6rem)] flex flex-col p-4 gap-4",children:[a.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-slate-800",children:[a.jsx(gc,{className:"text-blue-600"})," "]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-64 bg-white",value:G,onChange:Z=>le(Z.target.value)})]}),a.jsx("button",{onClick:J,className:"btn-secondary p-2",title:"",children:a.jsx(st,{size:20})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-6 pb-6",children:[ue(r,"",gc,"text-blue-600"),ue(Y,"/",x0,"text-orange-600")]}),f&&a.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:[P&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),a.jsxs("div",{className:"glass-panel p-6 w-96 max-w-[90vw]",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-500 block mb-1",children:""}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 rounded-lg border border-slate-100",children:[a.jsx("div",{className:"text-slate-900 font-bold",children:K?.productName}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-400",children:":"}),a.jsx("span",{className:"text-emerald-600 font-mono font-bold text-lg",children:K?.quantity})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:""}),a.jsxs("select",{className:"input-field w-full",value:S,onChange:Z=>y(Z.target.value),children:[a.jsx("option",{value:"SCRAP",children:""}),a.jsx("option",{value:"RETURN",children:""}),a.jsx("option",{value:"LOSS",children:""}),a.jsx("option",{value:"OTHER",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:""}),a.jsx("input",{id:"adjustment-qty-input",type:"number",className:"input-field w-full",value:_,onChange:Z=>te(Z.target.value),onKeyDown:Z=>{(Z.key==="Enter"||Z.key==="ArrowDown")&&(Z.preventDefault(),document.getElementById("adjustment-note-input")?.focus())},placeholder:"",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm text-slate-400 block mb-1",children:[" ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("textarea",{id:"adjustment-note-input",className:"input-field w-full",rows:"3",value:C,onChange:Z=>j(Z.target.value),onKeyDown:Z=>{Z.key==="Enter"?(Z.preventDefault(),R()):Z.key==="ArrowUp"&&(Z.preventDefault(),document.getElementById("adjustment-qty-input")?.focus())},placeholder:"..."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:R,className:"btn-primary flex-1",children:""}),a.jsx("button",{onClick:()=>m(!1),className:"btn-secondary flex-1",children:""})]})]})]})]})]})}function tp({user:o,apiUrl:L}){const p=new Date().getFullYear().toString(),[d,b]=g.useState([{id:Date.now(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:p,expiryMonth:"",expiryDay:""}]),[q,G]=g.useState({vendors:[],vendorProductMap:{}}),[le,f]=g.useState(!1),[m,K]=g.useState("CASH");g.useEffect(()=>{const k=async()=>{try{const w=await ve(L,"getPurchaseSuggestions",{},o.token);w.vendors&&G(w)}catch(w){console.error("Failed to fetch suggestions",w)}};o?.token&&k()},[o.token,L]);const F=k=>{if(k&&q.vendorProductMap[k])return q.vendorProductMap[k];const w=new Set;return Object.values(q.vendorProductMap||{}).forEach(W=>W.forEach(E=>w.add(E))),Array.from(w)},S=(k,w,W)=>{b(E=>E.map(v=>v.id===k?{...v,[w]:W}:v))},y=()=>{b(k=>[...k,{id:Date.now()+Math.random(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:p,expiryMonth:"",expiryDay:""}])},_=k=>{d.length>1&&b(w=>w.filter(W=>W.id!==k))},te=k=>{const w=document.getElementById(k);w&&(w.focus(),w.select?.(),w.scrollIntoView({block:"nearest",behavior:"smooth"}))},C=(k,w,W)=>{const E=["vendor","product","qty","price","year","month","day"],v=E.indexOf(W);k.key==="Enter"||k.key==="ArrowRight"?(k.preventDefault(),v<E.length-1?te(`item-${w}-${E[v+1]}`):w<d.length-1?te(`item-${w+1}-vendor`):k.key==="Enter"&&(y(),setTimeout(()=>te(`item-${w+1}-vendor`),50))):k.key==="ArrowLeft"?(k.preventDefault(),v>0?te(`item-${w}-${E[v-1]}`):w>0&&te(`item-${w-1}-day`)):k.key==="ArrowDown"?(k.preventDefault(),w<d.length-1&&te(`item-${w+1}-${W}`)):k.key==="ArrowUp"&&(k.preventDefault(),w>0&&te(`item-${w-1}-${W}`))},j=async k=>{k.preventDefault();for(let W=0;W<d.length;W++){const E=d[W];if(!E.vendor.trim()||!E.productName.trim()||!E.quantity||!E.unitPrice||!E.expiryYear||!E.expiryMonth||!E.expiryDay){alert(` ${W+1} 
`);return}}f(!0);const w=d.map(W=>{const E=W.expiryMonth.padStart(2,"0"),v=W.expiryDay.padStart(2,"0");return{vendor:W.vendor,productName:W.productName,quantity:Number(W.quantity),price:Number(W.unitPrice),expiry:`${W.expiryYear}-${E}-${v}`}});try{const W=await ve(L,"addPurchase",{items:w,operator:o.username,paymentMethod:m},o.token);alert(` ${W.count} `),b([{id:Date.now(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:p,expiryMonth:"",expiryDay:""}]),K("CASH")}catch(W){alert(": "+W.message)}finally{f(!1)}};return a.jsxs("div",{className:"max-w-[90rem] mx-auto p-4",children:[le&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold flex items-center gap-2 text-slate-800",children:""}),a.jsxs("div",{className:"flex bg-slate-50 p-1 rounded-lg border border-slate-200",children:[a.jsx("button",{onClick:()=>K("CASH"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${m==="CASH"?"bg-emerald-500 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""}),a.jsx("button",{onClick:()=>K("CREDIT"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${m==="CREDIT"?"bg-purple-600 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""})]})]}),a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:""}),a.jsxs("span",{className:"text-xs text-slate-400",children:[" ",d.length," "]})]}),a.jsx("datalist",{id:"vendors-list",children:q.vendors.map((k,w)=>a.jsx("option",{value:k},w))}),d.map((k,w)=>{const W=F(k.vendor);return a.jsxs("div",{className:"group relative p-4 bg-slate-50 rounded-xl border border-slate-200 hover:border-emerald-500/30 hover:shadow-lg transition-all duration-200",children:[a.jsx("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-emerald-50 border border-emerald-200 flex items-center justify-center",children:a.jsx("span",{className:"text-[10px] font-bold text-emerald-600",children:w+1})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[a.jsxs("div",{className:"col-span-12 md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${w}-vendor`,list:"vendors-list",className:"input-field w-full bg-white",placeholder:"",value:k.vendor,onChange:E=>S(k.id,"vendor",E.target.value),onKeyDown:E=>C(E,w,"vendor"),autoFocus:w===d.length-1})]}),a.jsxs("div",{className:"col-span-12 md:col-span-3",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${w}-product`,list:`products-list-${w}`,className:"input-field w-full bg-white",placeholder:"",value:k.productName,onChange:E=>S(k.id,"productName",E.target.value),onKeyDown:E=>C(E,w,"product")}),a.jsx("datalist",{id:`products-list-${w}`,children:W.map((E,v)=>a.jsx("option",{value:E},v))})]}),a.jsxs("div",{className:"col-span-6 md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${w}-qty`,type:"number",className:"input-field w-full text-center bg-white",placeholder:"0",value:k.quantity,onChange:E=>S(k.id,"quantity",E.target.value),onKeyDown:E=>C(E,w,"qty")})]}),a.jsxs("div",{className:"col-span-6 md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${w}-price`,type:"number",className:"input-field w-full text-center bg-white",placeholder:"0",value:k.unitPrice,onChange:E=>S(k.id,"unitPrice",E.target.value),onKeyDown:E=>C(E,w,"price")})]}),a.jsxs("div",{className:"col-span-12 md:col-span-3 grid grid-cols-[1fr_auto_1fr_auto_1fr_auto] gap-1 relative",children:[a.jsx("label",{className:"absolute -top-6 left-0 text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${w}-year`,className:"input-field w-full text-center font-mono px-1 bg-white",placeholder:"YYYY",value:k.expiryYear,onChange:E=>S(k.id,"expiryYear",E.target.value),onKeyDown:E=>C(E,w,"year")}),a.jsx("span",{className:"text-slate-400 self-center",children:"/"}),a.jsx("input",{id:`item-${w}-month`,className:"input-field w-full text-center font-mono px-1 bg-white",placeholder:"MM",value:k.expiryMonth,onChange:E=>S(k.id,"expiryMonth",E.target.value),onKeyDown:E=>C(E,w,"month")}),a.jsx("span",{className:"text-slate-200 self-center",children:"/"}),a.jsx("input",{id:`item-${w}-day`,type:"number",className:"input-field w-full text-center font-mono px-1 bg-white",placeholder:"DD",value:k.expiryDay,onChange:E=>S(k.id,"expiryDay",E.target.value),onKeyDown:E=>C(E,w,"day")}),d.length>1&&a.jsx("button",{type:"button",onClick:()=>_(k.id),className:"w-8 h-8 ml-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-all flex items-center justify-center self-center",title:"",children:""})]})]})]},k.id)})]}),a.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-slate-100",children:[a.jsxs("button",{type:"button",onClick:y,className:"btn-secondary flex-1 py-4 text-base font-semibold flex items-center justify-center gap-2 hover:scale-105 transition-transform",children:[a.jsx("span",{className:"text-xl",children:""})," "]}),a.jsx("button",{type:"submit",disabled:le,className:"btn-primary flex-[2] py-4 text-lg font-bold shadow-lg shadow-emerald-100 hover:shadow-xl hover:shadow-emerald-200 hover:scale-105 transition-all flex items-center justify-center gap-2",children:le?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""})," ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xl",children:""})," "]})})]})]})]})]})}function lp({user:o,apiUrl:L}){const[p,d]=g.useState(Ye()),[b,q]=g.useState(Ye()),[G,le]=g.useState(""),[f,m]=g.useState(""),[K,F]=g.useState(!1),[S,y]=g.useState([]),[_,te]=g.useState([]),[C,j]=g.useState("SALES"),k=g.useCallback(async()=>{if(!(!p||!b)){F(!0);try{const O={startDate:p,endDate:b},A=o.role==="BOSS"||o.permissions&&o.permissions.includes("finance"),R=[ve(L,"getSalesHistory",O,o.token)];A&&R.push(ve(L,"getExpenditures",O,o.token));const ee=await Promise.all(R),ie=ee[0],D=A?ee[1]:[];let B=Array.isArray(ie)?ie:[];const I=G.trim().toLowerCase(),ne=f.trim().toLowerCase();I&&(B=B.filter(r=>String(r.location||"").toLowerCase().includes(I))),ne&&(B=B.filter(r=>String(r.salesRep||"").toLowerCase().includes(ne))),y(B);let oe=Array.isArray(D)?D:[];I&&(oe=oe.filter(r=>String(r.customer||"").toLowerCase().includes(I)||String(r.note||"").toLowerCase().includes(I))),ne&&(oe=oe.filter(r=>String(r.salesRep||"").toLowerCase().includes(ne))),oe.forEach(r=>{const Y=Number(r.stall||0)+Number(r.cleaning||0)+Number(r.electricity||0)+Number(r.gas||0)+Number(r.parking||0)+Number(r.goods||0)+Number(r.bags||0)+Number(r.others||0)+Number(r.vehicleMaintenance||0)+Number(r.salary||0)+Number(r.linePay||0)+Number(r.serviceFee||0)+Number(r.reserve||0);r.rowTotal=Y,r.salaryAmount=Number(r.salary||0);const ae=Object.keys(r).find(Z=>{const se=Z.toLowerCase().trim();return se==="finaltotal"||se.includes("")||se.includes("")||se.includes("")||se.includes("")}),ue=Number(ae?r[ae]:r.finalTotal||0);r.displayFinalTotal=ue}),te(oe)}catch(O){console.error(O),alert(": "+O.message)}finally{F(!1)}}},[p,b,G,f,o.token,L]);vl.useEffect(()=>{k()},[k]);const w=O=>{O.preventDefault(),k()},W=S?.reduce((O,A)=>O+(Number(A.totalAmount)||0),0)||0,E=S?.reduce((O,A)=>O+(Number(A.soldQty)||0),0)||0,v=_?.reduce((O,A)=>O+(A.rowTotal||0)-(A.salaryAmount||0),0)||0,V=_?.reduce((O,A)=>O+(Number(A.displayFinalTotal)||0),0)||0,P=W-v+V,ce=S?.reduce((O,A)=>{const R=A.productName;return O[R]||(O[R]={name:A.productName,qty:0,amount:0}),O[R].qty+=A.soldQty,O[R].amount+=A.totalAmount,O},{}),J=ce?Object.values(ce).sort((O,A)=>A.qty-O.qty):[];return a.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-slate-200 pb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Ws,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),S&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[a.jsxs("div",{className:"px-4 py-2 rounded-xl bg-amber-50 border border-amber-200 shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-amber-700 text-center",children:["$",P.toLocaleString()]})]}),a.jsxs("div",{className:"px-4 py-2 rounded-xl bg-emerald-50 border border-emerald-200 shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-emerald-700 text-center",children:["$",W.toLocaleString()]})]}),a.jsxs("div",{className:"px-4 py-2 rounded-xl bg-rose-50 border border-rose-200 shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-rose-700 text-center",children:["$",v.toLocaleString()]})]}),a.jsxs("div",{className:"px-4 py-2 rounded-xl bg-cyan-50 border border-cyan-200 shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-cyan-700 text-center",children:["$",V.toLocaleString()]})]}),a.jsxs("div",{className:"px-4 py-2 rounded-xl bg-blue-50 border border-blue-200 shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-xl font-bold text-blue-700 text-center",children:E.toLocaleString()})]}),a.jsxs("div",{className:"px-4 py-2 rounded-xl bg-purple-50 border border-purple-200 shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-xl font-bold text-purple-700 text-center",children:S.length})]})]})]}),a.jsx("form",{onSubmit:w,className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),a.jsx("input",{type:"date",required:!0,className:"input-field w-full",value:p,onChange:O=>d(O.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),a.jsx("input",{type:"date",required:!0,className:"input-field w-full",value:b,onChange:O=>q(O.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:G,onChange:O=>le(O.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:f,onChange:O=>m(O.target.value)})]}),a.jsxs("button",{onClick:w,disabled:K,className:"btn-primary py-2 px-6 flex items-center gap-2 self-end h-[42px]",children:[K?"...":a.jsx(xt,{size:18})," "]})]})]})}),S&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200",children:a.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(gc,{size:16,className:"text-blue-600"})," "]})}),a.jsx("div",{className:"overflow-x-auto max-h-60",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:J.length>0?J.map((O,A)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 text-slate-900",children:O.name}),a.jsx("td",{className:"p-4 text-right text-slate-500",children:O.qty}),a.jsxs("td",{className:"p-4 text-right text-emerald-600",children:["$",O.amount.toLocaleString()]})]},A)):a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"p-8 text-center text-slate-500",children:""})})})]})})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 overflow-hidden flex flex-col h-[600px]",children:[a.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200 flex gap-4",children:[a.jsxs("button",{onClick:()=>j("SALES"),className:`font-bold flex items-center gap-2 pb-2 border-b-2 transition-colors ${C==="SALES"?"text-blue-600 border-blue-600":"text-slate-500 border-transparent hover:text-slate-900"}`,children:[a.jsx(pa,{size:16}),"  (",S.length,")"]}),a.jsxs("button",{onClick:()=>j("EXPENSES"),className:`font-bold flex items-center gap-2 pb-2 border-b-2 transition-colors ${C==="EXPENSES"?"text-rose-600 border-rose-600":"text-slate-500 border-transparent hover:text-slate-900"}`,children:[a.jsx(ot,{size:16}),"  (",_.length,")"]})]}),a.jsx("div",{className:"overflow-auto flex-1",children:C==="SALES"?a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 sticky top-0 z-10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 font-medium w-48",children:""}),a.jsx("th",{className:"p-3 font-medium w-32",children:""}),a.jsx("th",{className:"p-3 font-medium w-32",children:""}),a.jsx("th",{className:"p-3 font-medium",children:""}),a.jsx("th",{className:"p-3 font-medium text-right w-24",children:""}),a.jsx("th",{className:"p-3 font-medium text-right w-32",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 text-slate-600 bg-white",children:S.map((O,A)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-3 text-slate-500",children:new Date(O.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),a.jsx("td",{className:"p-3",children:O.location}),a.jsx("td",{className:"p-3",children:O.salesRep}),a.jsx("td",{className:"p-3 text-slate-900",children:O.productName}),a.jsx("td",{className:"p-3 text-right",children:O.soldQty}),a.jsxs("td",{className:"p-3 text-right",children:["$",O.totalAmount]})]},A))})]}):a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 sticky top-0 z-10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 font-medium w-48",children:""}),a.jsx("th",{className:"p-3 font-medium w-32",children:"/"}),a.jsx("th",{className:"p-3 font-medium w-32",children:""}),a.jsx("th",{className:"p-3 font-medium",children:""}),a.jsx("th",{className:"p-3 font-medium text-right w-28",children:""}),a.jsx("th",{className:"p-3 font-medium text-right w-28 text-emerald-600",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 text-slate-600 bg-white",children:_.map((O,A)=>{const R=[];return O.stall&&R.push(` $${O.stall}`),O.cleaning&&R.push(` $${O.cleaning}`),O.electricity&&R.push(` $${O.electricity}`),O.gas&&R.push(` $${O.gas}`),O.parking&&R.push(` $${O.parking}`),O.goods&&R.push(` $${O.goods}`),O.bags&&R.push(` $${O.bags}`),O.others&&R.push(` $${O.others}`),O.linePay&&R.push(`Line Pay $${O.linePay}`),O.serviceFee&&R.push(` $${O.serviceFee}`),O.reserve&&R.push(` $${O.reserve}`),O.vehicleMaintenance&&R.push(` $${O.vehicleMaintenance}`),O.salary&&R.push(` $${O.salary}`),a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-3 text-slate-500",children:new Date(O.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),a.jsx("td",{className:"p-3 font-bold text-slate-900",children:O.customer||O.note||"-"}),a.jsx("td",{className:"p-3",children:O.salesRep}),a.jsx("td",{className:"p-3 text-xs text-slate-400",children:R.join(", ")}),a.jsxs("td",{className:"p-3 text-right font-mono text-rose-600",children:["$",(O.rowTotal||0).toLocaleString()]}),a.jsxs("td",{className:"p-3 text-right font-mono font-bold text-emerald-600",children:["$",(Number(O.displayFinalTotal)||0).toLocaleString()]})]},A)})})]})})]})]})]})})}function ap({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState(!1),[G,le]=g.useState(""),[f,m]=g.useState(""),[K,F]=g.useState(Ye()),[S,y]=g.useState(Ye()),_=vl.useCallback(async()=>{q(!0);try{const j=await ve(L,"getPurchaseHistory",{startDate:K,endDate:S},o.token);Array.isArray(j)&&d(j)}catch(j){console.error("Failed to fetch purchase history:",j)}finally{q(!1)}},[L,o.token,K,S]);g.useEffect(()=>{_()},[_]);const te=p.filter(j=>{const k=String(j.productName||"").toLowerCase(),w=String(j.vendorName||j.vendor||"").toLowerCase(),W=G.toLowerCase(),E=f.toLowerCase();return k.includes(W)&&w.includes(E)}),C=te.reduce((j,k)=>j+(Number(k.totalPrice)||0),0);return a.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Zu,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"px-5 py-3 rounded-xl border border-emerald-200 bg-emerald-50 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-emerald-100 text-emerald-700",children:a.jsx(ot,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:""}),a.jsxs("p",{className:"text-xl font-bold text-emerald-700",children:["$",C.toLocaleString()]})]})]})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:G,onChange:j=>le(j.target.value)})]})]}),a.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:f,onChange:j=>m(j.target.value)})]})]}),a.jsxs("div",{className:"w-full md:w-40 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:K,onChange:j=>F(j.target.value)})]}),a.jsxs("div",{className:"w-full md:w-40 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:S,onChange:j=>y(j.target.value)})]}),a.jsxs("button",{onClick:_,disabled:b,className:"btn-secondary h-[42px] flex items-center gap-2 whitespace-nowrap px-6",children:[a.jsx(st,{size:18,className:b?"animate-spin":""})," "]})]})}),a.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:b?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((j,k)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[a.jsx($t,{size:14,className:"text-slate-400 group-hover:text-blue-600 transition-colors"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-slate-600",children:j.date?new Date(j.date).toLocaleDateString("zh-TW"):"-"}),a.jsx("span",{className:"text-xs text-slate-400",children:j.date?new Date(j.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]})]})}),a.jsx("td",{className:"p-4 text-slate-600",children:j.vendorName||j.vendor||"-"}),a.jsx("td",{className:"p-4 font-medium text-slate-900",children:j.productName}),a.jsx("td",{className:"p-4 text-right font-mono text-blue-600",children:j.quantity}),a.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",(Number(j.unitPrice)||0).toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-600",children:["$",(Number(j.totalPrice)||0).toLocaleString()]}),a.jsx("td",{className:"p-4 text-slate-400 text-xs",children:j.expiry?new Date(j.expiry).toLocaleDateString("zh-TW"):"-"}),a.jsx("td",{className:"p-4 text-slate-400",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Nc,{size:12})," ",j.operator||"-"]})})]},k)):a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Wu,{size:32,className:"text-slate-600"}),a.jsx("p",{className:"text-slate-500",children:""})]})})})})]})})})]})})}function sp({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState(!1),[G,le]=g.useState(""),[f,m]=g.useState("ALL"),[K,F]=g.useState(Ye()),[S,y]=g.useState(Ye()),_=vl.useCallback(async()=>{q(!0);try{const C=await ve(L,"getAdjustmentHistory",{startDate:K,endDate:S,productName:G},o.token);Array.isArray(C)&&d(C)}catch(C){console.error("Failed to fetch adjustment history:",C)}finally{q(!1)}},[L,o.token,K,S,G]);g.useEffect(()=>{_()},[_]);const te=p.filter(C=>{const j=String(C.productName||"").toLowerCase().includes(G.toLowerCase()),k=f==="ALL"||C.type===f;return j&&k});return a.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-slate-200 pb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(ts,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("div",{className:"px-5 py-2 rounded-xl bg-blue-50 border border-blue-200",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-xl font-bold text-blue-600 text-center",children:te.length})]})})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:G,onChange:C=>le(C.target.value)})]})]}),a.jsxs("div",{className:"w-full md:w-32 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsxs("select",{value:f,onChange:C=>m(C.target.value),className:"input-field w-full text-sm appearance-none bg-white font-medium",children:[a.jsx("option",{value:"ALL",children:""}),a.jsx("option",{value:"SCRAP",children:""}),a.jsx("option",{value:"RETURN",children:""}),a.jsx("option",{value:"LOSS",children:""}),a.jsx("option",{value:"OTHER",children:""})]})]}),a.jsxs("div",{className:"w-full md:w-36 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:K,onChange:C=>F(C.target.value)})]}),a.jsxs("div",{className:"w-full md:w-36 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:S,onChange:C=>y(C.target.value)})]}),a.jsxs("button",{onClick:_,disabled:b,className:"btn-secondary h-[42px] flex items-center gap-2 whitespace-nowrap px-6",children:[a.jsx(st,{size:18,className:b?"animate-spin":""})," "]})]})}),a.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4",children:"/"}),a.jsx("th",{className:"p-4",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:b?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((C,j)=>{const k={SCRAP:"",RETURN:"",LOSS:"",OTHER:""};return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex flex-col gap-0.5 text-slate-500",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:14,className:"text-slate-400"}),a.jsx("span",{children:C.date?new Date(C.date).toLocaleDateString("zh-TW"):"-"})]}),a.jsx("span",{className:"text-xs text-slate-400 ml-6",children:C.date?new Date(C.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]})}),a.jsx("td",{className:"p-4 font-medium text-slate-900",children:C.productName}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${C.type==="SCRAP"?"bg-rose-100 text-rose-700":C.type==="RETURN"?"bg-blue-100 text-blue-700":C.type==="LOSS"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-700"}`,children:k[C.type]||C.type})}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-rose-600",children:["-",C.quantity]}),a.jsx("td",{className:"p-4 text-slate-600 max-w-xs truncate",title:C.note,children:C.note||"-"}),a.jsx("td",{className:"p-4 text-slate-400",children:C.operator||"-"})]},j)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Wu,{size:32,className:"text-slate-600"}),a.jsx("p",{className:"text-slate-500",children:""})]})})})})]})})})]})})}function np({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState(!1),[G,le]=g.useState(""),f=async()=>{q(!0);try{const S=await ve(L,"getInventoryValuation",{},o.token);if(console.log("Inventory Valuation Data:",S),Array.isArray(S)){const y=Ac(S,"name");d(y)}else console.error("Valuation data is not an array:",S),d([])}catch(S){console.error("Failed to fetch valuation:",S),alert(": "+S.message)}finally{q(!1)}};g.useEffect(()=>{o?.token&&f()},[o.token,L]);const m=p.filter(S=>String(S.name||"").toLowerCase().includes(G.toLowerCase())),K=m.reduce((S,y)=>S+(Number(y.totalValue)||0),0),F=m.reduce((S,y)=>S+(Number(y.totalQty)||0),0);return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(ot,{className:"text-amber-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"bg-amber-50 px-5 py-3 border border-amber-200 rounded-xl shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:""}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600 flex items-baseline gap-1",children:[a.jsx("span",{className:"text-sm opacity-50",children:"$"}),K.toLocaleString()]})]}),a.jsxs("div",{className:"bg-blue-50 px-5 py-3 border border-blue-200 rounded-xl shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:""}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:F.toLocaleString()})]})]})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 flex gap-4 items-center shadow-sm",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:G,onChange:S=>le(S.target.value)})]}),a.jsxs("button",{onClick:f,disabled:b,className:"btn-secondary h-[42px] px-4 flex items-center gap-2",children:[a.jsx(st,{size:18,className:b?"animate-spin":""})," "]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0 font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):m.length>0?m.map((S,y)=>{const _=Number(S.totalQty)||0,te=Number(S.totalValue)||0,C=_>0?te/_:0,j=K>0?te/K*100:0;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 font-medium text-slate-800",children:S.name}),a.jsx("td",{className:"p-4 text-right font-mono text-slate-600",children:_.toLocaleString()}),a.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",C.toFixed(2)]}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-amber-600",children:["$",te.toLocaleString()]}),a.jsx("td",{className:"p-4 text-right w-24",children:a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{className:"text-xs text-slate-500 w-8",children:[j.toFixed(1),"%"]}),a.jsx("div",{className:"w-12 h-1.5 bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-amber-500",style:{width:`${Math.min(j,100)}%`}})})]})})]},y)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(pa,{size:32,className:"text-slate-600"}),a.jsx("p",{className:"text-slate-500",children:""})]})})})})]})})})]})}function cp({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState({}),[G,le]=g.useState(!0),[f,m]=g.useState(!1),[K,F]=g.useState(""),[S,y]=g.useState(!1),_=g.useCallback(J=>`${J.id}-${J.batchId||"no-batch"}`,[]),te=g.useCallback(async()=>{le(!0);try{const J=await ve(L,"getInventory",{},o.token);if(Array.isArray(J)){const O=Ac(J,"productName");d(O);const A={};O.forEach(R=>{R.type==="STOCK"&&(A[_(R)]={physicalQty:"",reason:"",accountability:""})}),q(A)}}catch(J){console.error("Failed to fetch inventory for stocktake:",J),alert("")}finally{le(!1)}},[L,o.token,_]);g.useEffect(()=>{o?.token&&te()},[o.token,te]);const C=(J,O,A)=>{q(R=>({...R,[J]:{...R[J],[O]:A}}))},j=J=>{const O=document.getElementById(J);O&&(O.focus(),O.select?.(),O.scrollIntoView({block:"nearest",behavior:"smooth"}))},k=(J,O,A,R)=>{const ee=R[O],ie=_(ee),D=b[ie]||{},B=w(ee.quantity,D.physicalQty),I=D.physicalQty!==""&&B!==0,ne=["qty","reason","acc"],oe=ne.indexOf(A);J.key==="ArrowRight"||J.key==="Enter"&&!J.shiftKey?(J.preventDefault(),A==="qty"&&!I?O<R.length-1&&j(`qty-${_(R[O+1])}`):oe<ne.length-1?j(`${ne[oe+1]}-${ie}`):O<R.length-1&&j(`qty-${_(R[O+1])}`)):J.key==="ArrowLeft"?(J.preventDefault(),oe>0&&j(`${ne[oe-1]}-${ie}`)):J.key==="ArrowDown"?(J.preventDefault(),O<R.length-1&&j(`${A}-${_(R[O+1])}`)):J.key==="ArrowUp"&&(J.preventDefault(),O>0&&j(`${A}-${_(R[O-1])}`))},w=(J,O)=>O===""||O===void 0?0:Number(O)-Number(J),W=()=>p.filter(J=>{if(J.type!=="STOCK")return!1;const O=b[_(J)];return O&&O.physicalQty!==""}).map(J=>{const O=b[_(J)],A=w(J.quantity,O.physicalQty);return{productId:J.id,productName:J.productName,bookQty:Number(J.quantity),physicalQty:Number(O.physicalQty),diff:A,reason:O.reason,accountability:O.accountability,batchId:J.batchId||""}}),E=async()=>{const J=p.filter(R=>{if(R.type!=="STOCK"||Number(R.quantity)===0)return!1;const ee=_(R),ie=b[ee];return!ie||ie.physicalQty===""||ie.physicalQty===void 0});if(J.length>0){alert(` ${J.length} 
`);const R=_(J[0]);j(`qty-${R}`);return}const O=W();O.length===0&&p.some(R=>R.type==="STOCK");const A=O.find(R=>R.diff!==0&&(!R.reason||!R.accountability));if(A){alert(`${A.productName}`);const R=_(A);b[R].reason?document.getElementById(`acc-${R}`)?.focus():document.getElementById(`reason-${R}`)?.focus();return}if(confirm(` ${O.length} `)){m(!0);try{await ve(L,"saveStocktake",{date:Ye(),items:O,operator:o.username},o.token),alert(""),q({}),await te()}catch(R){console.error("Stocktake submit failed:",R),alert(": "+R.message)}finally{m(!1)}}},v=p.filter(J=>!J||!S&&(Number(J.quantity)||0)===0?!1:String(J.productName||"").toLowerCase().includes(K.toLowerCase())),V=v.filter(J=>J.type==="STOCK"),P=v.filter(J=>J.type!=="STOCK"),ce=(J,O,A,R,ee)=>a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 flex flex-col shadow-sm",children:[a.jsxs("h3",{className:`text-lg font-bold mb-4 flex items-center gap-2 ${R}`,children:[a.jsx(A,{size:20})," ",O,!ee&&a.jsx("span",{className:"text-xs text-slate-500 font-normal ml-2",children:""})]}),a.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),ee&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""})]})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:G?a.jsx("tr",{children:a.jsx("td",{colSpan:ee?"6":"2",className:"p-6 text-center text-slate-500",children:"..."})}):J.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:ee?"6":"2",className:"p-6 text-center text-slate-500",children:""})}):J.map((ie,D)=>{if(!ie)return null;const B=_(ie),I=b[B]||{physicalQty:"",reason:"",accountability:o.username||""},ne=w(ie.quantity,I.physicalQty),oe=!ee&&Number(ie.quantity)>0;return a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${ee&&ne!==0&&I.physicalQty!==""?"bg-amber-50":oe?"bg-orange-50 border-l-4 border-orange-500":""}`,children:[a.jsx("td",{className:`p-4 font-medium ${oe?"text-orange-700 font-bold":"text-slate-800"}`,children:ie.productName||""}),a.jsx("td",{className:`p-4 text-right font-mono ${oe?"text-orange-600 font-bold text-lg":"text-slate-500"}`,children:ie.quantity}),ee&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-4",children:a.jsx("input",{id:`qty-${B}`,type:"number",className:`input-field w-full text-right font-mono bg-white ${ne!==0&&I.physicalQty!==""?"border-red-300 text-red-700":""}`,placeholder:"0",value:I.physicalQty,onChange:r=>C(B,"physicalQty",r.target.value),onKeyDown:r=>k(r,D,"qty",J),onWheel:r=>r.target.blur()})}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("span",{className:`inline-flex items-center gap-1 font-mono font-bold ${I.physicalQty===""||ne===0?"text-green-500":"text-red-500 underline"}`,children:[I.physicalQty!==""?ne>0?`+${ne}`:ne:0,I.physicalQty!==""&&ne!==0&&a.jsx(jc,{size:12})]})}),a.jsx("td",{className:"p-4",children:a.jsx("input",{id:`reason-${B}`,type:"text",disabled:I.physicalQty===""||ne===0,className:`input-field w-full text-xs transition-all ${I.physicalQty!==""&&ne!==0?"bg-white":"bg-slate-100 cursor-not-allowed opacity-50"}`,placeholder:ne!==0&&I.physicalQty!==""?"...":"-",value:I.reason,onChange:r=>C(B,"reason",r.target.value),onKeyDown:r=>k(r,D,"reason",J)})}),a.jsx("td",{className:"p-4",children:a.jsx("input",{id:`acc-${B}`,type:"text",disabled:I.physicalQty===""||ne===0,className:`input-field w-full text-xs transition-all ${I.physicalQty!==""&&ne!==0?"bg-white":"bg-slate-100 cursor-not-allowed opacity-50"}`,placeholder:ne!==0&&I.physicalQty!==""?"...":"-",value:I.accountability,onChange:r=>C(B,"accountability",r.target.value),onKeyDown:r=>k(r,D,"acc",J)})})]})]},B)})})]})})]});return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)] relative",children:[f&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(vc,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:te,className:"btn-secondary h-[42px] px-4",title:"",children:a.jsx(Rh,{size:18})}),a.jsx("button",{onClick:E,disabled:f,className:"btn-primary h-[42px] px-6 flex items-center gap-2",children:f?"...":a.jsxs(a.Fragment,{children:[a.jsx(wc,{size:18})," "]})})]})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:K,onChange:J=>F(J.target.value)})]}),a.jsx("div",{className:"flex items-center gap-3 bg-white p-2 px-4 rounded-xl border border-slate-200 shadow-sm shrink-0",children:a.jsxs("label",{className:"text-sm font-bold text-slate-600 flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:S,onChange:J=>y(J.target.checked)})," 0 "]})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-6 pb-6",children:[ce(V,"",gc,"text-blue-600",!0),ce(P,"/",x0,"text-orange-600",!1)]})]})}function ip({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState(!1),[G,le]=g.useState(""),[f,m]=g.useState(!0),[K,F]=g.useState(Ye()),[S,y]=g.useState(Ye()),_=vl.useCallback(async()=>{q(!0);try{const w=await ve(L,"getStocktakeHistory",{startDate:K,endDate:S,productName:G,diffOnly:f},o.token);Array.isArray(w)&&d(w)}catch(w){console.error("Failed to fetch stocktake history:",w)}finally{q(!1)}},[L,o.token,K,S,G,f]);g.useEffect(()=>{_()},[_]),g.useEffect(()=>{const w=()=>{if(document.hidden)return;const W=Ye();if(K===S&&K!==W){const E=new Date;E.setDate(E.getDate()-1);const v=`${E.getFullYear()}-${String(E.getMonth()+1).padStart(2,"0")}-${String(E.getDate()).padStart(2,"0")}`;K===v&&(console.log("Detected stale date (yesterday), auto-updating to today:",W),F(W),y(W))}};return window.addEventListener("focus",w),document.addEventListener("visibilitychange",w),()=>{window.removeEventListener("focus",w),document.removeEventListener("visibilitychange",w)}},[K,S]);const te=p.filter(w=>String(w.productName||"").toLowerCase().includes(G.toLowerCase())),C=te.length,j=te.filter(w=>w.diff!==0).length,k=te.filter(w=>w.diff===0).length;return a.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-slate-200 pb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(ts,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"px-5 py-2 rounded-xl bg-blue-50 border border-blue-200",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-xl font-bold text-slate-800 text-center",children:C})]}),a.jsxs("div",{className:"px-5 py-2 rounded-xl bg-rose-50 border border-rose-200",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-xl font-bold text-rose-600 text-center",children:j})]}),a.jsxs("div",{className:"px-5 py-2 rounded-xl bg-emerald-50 border border-emerald-200",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-xl font-bold text-emerald-600 text-center",children:k})]})]})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:G,onChange:w=>le(w.target.value)})]})]}),a.jsxs("div",{className:"w-full md:w-32 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:K,onChange:w=>F(w.target.value)})]}),a.jsxs("div",{className:"w-full md:w-32 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:S,onChange:w=>y(w.target.value)})]}),a.jsx("div",{className:"pb-1",children:a.jsxs("label",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-white border border-slate-200 cursor-pointer hover:bg-slate-50 transition-colors select-none",children:[a.jsx("input",{type:"checkbox",checked:f,onChange:w=>m(w.target.checked),className:"w-4 h-4 rounded border-slate-600 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-slate-300",children:""})]})}),a.jsxs("button",{onClick:_,disabled:b,className:"btn-secondary h-[42px] flex items-center gap-2 whitespace-nowrap px-6",children:[a.jsx(st,{size:18,className:b?"animate-spin":""})," "]})]})}),a.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:b?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"}),a.jsx("span",{className:"text-slate-500",children:"..."})]})})}):te.length>0?te.map((w,W)=>a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${w.diff!==0?"bg-amber-50":""}`,children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[a.jsx($t,{size:14,className:"text-slate-400"}),w.date]})}),a.jsx("td",{className:"p-4 font-medium text-slate-900",children:w.productName}),a.jsx("td",{className:"p-4 text-right font-mono text-slate-500",children:w.bookQty}),a.jsx("td",{className:"p-4 text-right font-mono text-blue-600",children:w.physicalQty}),a.jsx("td",{className:"p-4 text-center",children:w.diff===0?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 text-xs font-bold",children:[a.jsx(m0,{size:14})," 0"]}):a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${w.diff>0?"bg-blue-100 text-blue-700":"bg-rose-100 text-rose-700"}`,children:[a.jsx(jc,{size:14}),w.diff>0?`+${w.diff}`:w.diff]})}),a.jsx("td",{className:"p-4 text-slate-600",children:w.reason||"-"}),a.jsx("td",{className:"p-4 text-slate-600",children:w.accountability||"-"}),a.jsx("td",{className:"p-4 text-slate-500",children:w.operator||"-"})]},W)):a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-50 flex items-center justify-center",children:a.jsx(Wu,{size:32,className:"text-slate-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-900 font-medium",children:""}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:""})]})]})})})})]})})})]})})}function up({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState(!1),[G,le]=g.useState(Ye()),[f,m]=g.useState(Ye()),[K,F]=g.useState(""),[S,y]=g.useState(""),[_,te]=g.useState(new Set),C=vl.useCallback(async()=>{q(!0);try{const v={};G&&(v.startDate=G),f&&(v.endDate=f);const V=await ve(L,"getReceivables",v,o.token);if(Array.isArray(V)){const P=V.sort((ce,J)=>new Date(J.date)-new Date(ce.date));d(P)}}catch(v){console.error("Failed to fetch data:",v),alert(": "+v.message)}finally{q(!1)}},[L,o.token,G,f]);g.useEffect(()=>{C()},[C]);const j=async v=>{if(confirm("")){q(!0);try{await ve(L,"markAsPaid",{recordId:v},o.token),alert(""),C()}catch(V){console.error("Failed to mark as paid:",V),alert(": "+V.message)}finally{q(!1)}}},k=v=>{const V=new Set(_);V.has(v)?V.delete(v):V.add(v),te(V)},w=v=>[v.salesRep,v.salesPerson,v.operator,v.Operator,v.buyer].find(ce=>ce&&String(ce).toLowerCase()!=="unknown")||"-",W=p.filter(v=>{const V=String(v.clientName||v.customer||v.location||"").toLowerCase(),P=String(w(v)).toLowerCase(),ce=!K||V.includes(K.toLowerCase()),J=!S||P.includes(S.toLowerCase());return ce&&J}),E=W.reduce((v,V)=>v+(Number(V.amount)||Number(V.total)||0),0);return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{children:a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Jl,{className:"text-emerald-600"}),"  (Receivables)"]})}),a.jsxs("div",{className:"glass-panel px-4 py-2 border-emerald-200 bg-emerald-50",children:[a.jsx("p",{className:"text-xs text-slate-500",children:""}),a.jsxs("p",{className:"text-xl font-bold text-emerald-600",children:["$",E.toLocaleString()]})]})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full",value:G,onChange:v=>le(v.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full",value:f,onChange:v=>m(v.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:"/"}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:K,onChange:v=>F(v.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:S,onChange:v=>y(v.target.value)})]}),a.jsxs("button",{onClick:C,className:"btn-secondary h-[42px] px-6 flex items-center gap-2 justify-center",children:[a.jsx(st,{size:18})," "]})]})}),a.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-10"}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:b?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:"..."})}):W.length>0?W.map((v,V)=>a.jsxs(vl.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>k(V),children:[a.jsx("td",{className:"p-4 text-slate-400",children:_.has(V)?a.jsx(f0,{size:16}):a.jsx(Fs,{size:16})}),a.jsx("td",{className:"p-4 text-slate-500",children:(()=>{const P=v.serverTimestamp||v.timestamp||v.date;if(!P)return"-";const ce=String(P),J=new Date(P);return isNaN(J.getTime())?ce:ce.length<=10&&!ce.includes("T")&&!ce.includes(":")?J.toLocaleDateString("zh-TW"):J.toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})()}),a.jsx("td",{className:"p-4 font-medium text-slate-800",children:v.clientName||v.customer||v.location||"-"}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-600",children:["$",(Number(v.amount)||Number(v.total)||0).toLocaleString()]}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${v.status==="PAID"?"bg-green-100 text-green-700":"bg-rose-100 text-rose-700"}`,children:v.status==="PAID"?"":""})}),a.jsx("td",{className:"p-4 text-center",onClick:P=>P.stopPropagation(),children:v.status!=="PAID"&&a.jsx("button",{onClick:()=>j(v.id),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:""})})]}),_.has(V)&&a.jsx("tr",{className:"bg-slate-50/50",children:a.jsx("td",{colSpan:"6",className:"p-4 pl-12",children:a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 text-slate-500 border-b border-slate-100",children:[a.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-right font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-center font-medium",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:(v.items||v.products||v.salesData||[]).length>0?(v.items||v.products||v.salesData||[]).map((P,ce)=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-slate-500",children:w(v)}),a.jsx("td",{className:"py-3 px-4 text-slate-800 font-medium",children:P.productName||P.name||"-"}),a.jsxs("td",{className:"py-3 px-4 text-right text-slate-500 font-mono",children:["$",(Number(P.price)||Number(P.unitPrice)||0).toLocaleString()]}),a.jsx("td",{className:"py-3 px-4 text-center text-slate-500 font-mono",children:P.qty||P.soldQty||1})]},ce)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"py-4 text-center text-slate-500 italic",children:""})})})]}),a.jsxs("div",{className:"p-3 bg-slate-50 text-xs text-slate-400 flex gap-4 border-t border-slate-100",children:[a.jsxs("span",{children:[": ",v.id||"-"]}),a.jsxs("span",{children:[": ",v.operator||v.Operator||v.salesRep||"-"]}),a.jsxs("span",{children:[": ",v.paymentMethod||""]})]})]})})})]},V)):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:""})})})]})})]})}function rp({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState(!1),[G,le]=g.useState(Ye()),[f,m]=g.useState(Ye()),[K,F]=g.useState(""),[S,y]=g.useState(""),[_,te]=g.useState(new Set),C=vl.useCallback(async()=>{q(!0);try{const v={};G&&(v.startDate=G),f&&(v.endDate=f);const V=await ve(L,"getPayables",v,o.token);if(Array.isArray(V)){const P=V.sort((ce,J)=>new Date(J.date)-new Date(ce.date));d(P)}}catch(v){console.error("Failed to fetch payables:",v)}finally{q(!1)}},[L,o.token,G,f]);g.useEffect(()=>{C()},[C]);const j=async v=>{if(confirm("")){q(!0);try{await ve(L,"markPayableAsPaid",{recordId:v},o.token),alert(""),C()}catch(V){console.error("Failed to mark as paid:",V),alert(": "+V.message)}finally{q(!1)}}},k=v=>{const V=new Set(_);V.has(v)?V.delete(v):V.add(v),te(V)},w=v=>v.operator||v.Operator||v.buyer||v.salesRep||v.salesPerson||"-",W=p.filter(v=>{const V=String(v.vendorName||v.vendor||"").toLowerCase(),P=String(w(v)).toLowerCase(),ce=!K||V.includes(K.toLowerCase()),J=!S||P.includes(S.toLowerCase());return ce&&J}),E=W.reduce((v,V)=>v+(Number(V.amount)||Number(V.total)||0),0);return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{children:a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Jl,{className:"text-rose-600"}),"  (Payables)"]})}),a.jsxs("div",{className:"glass-panel px-4 py-2 border-rose-200 bg-rose-50",children:[a.jsx("p",{className:"text-xs text-slate-500",children:""}),a.jsxs("p",{className:"text-xl font-bold text-rose-600",children:["$",E.toLocaleString()]})]})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full",value:G,onChange:v=>le(v.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full",value:f,onChange:v=>m(v.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:K,onChange:v=>F(v.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:S,onChange:v=>y(v.target.value)})]}),a.jsxs("button",{onClick:C,className:"btn-secondary h-[42px] px-6 flex items-center gap-2 justify-center",children:[a.jsx(st,{size:18})," "]})]})}),a.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-10"}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:b?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:"..."})}):W.length>0?W.map((v,V)=>a.jsxs(vl.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>k(V),children:[a.jsx("td",{className:"p-4 text-slate-400",children:_.has(V)?a.jsx(f0,{size:16}):a.jsx(Fs,{size:16})}),a.jsx("td",{className:"p-4 text-slate-500 text-center",children:(()=>{const P=v.serverTimestamp||v.timestamp||v.date;if(!P)return"-";const ce=String(P),J=new Date(P);return isNaN(J.getTime())?ce:ce.length<=10&&!ce.includes("T")&&!ce.includes(":")?J.toLocaleDateString("zh-TW"):J.toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})()}),a.jsx("td",{className:"p-4 font-medium text-slate-800",children:v.vendorName||v.vendor||"-"}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-rose-600",children:["$",(Number(v.amount)||Number(v.total)||0).toLocaleString()]}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${v.status==="PAID"?"bg-green-100 text-green-700":"bg-rose-100 text-rose-700"}`,children:v.status==="PAID"?"":""})}),a.jsx("td",{className:"p-4 text-center",onClick:P=>P.stopPropagation(),children:v.status!=="PAID"&&a.jsx("button",{onClick:()=>j(v.id),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:""})})]}),_.has(V)&&a.jsx("tr",{className:"bg-slate-50/50",children:a.jsx("td",{colSpan:"6",className:"p-4 pl-12",children:a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 text-slate-500 border-b border-slate-100",children:[a.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-right font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-center font-medium",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:(v.items||v.products||[]).length>0?(v.items||v.products||[]).map((P,ce)=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-slate-500",children:w(v)}),a.jsx("td",{className:"py-3 px-4 text-slate-800 font-medium",children:P.productName||P.name||"-"}),a.jsxs("td",{className:"py-3 px-4 text-right text-slate-500 font-mono",children:["$",(Number(P.price)||Number(P.unitPrice)||0).toLocaleString()]}),a.jsx("td",{className:"py-3 px-4 text-center text-slate-500 font-mono",children:P.qty||P.quantity||P.soldQty||1})]},ce)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"py-4 text-center text-slate-500 italic",children:""})})})]}),a.jsxs("div",{className:"p-3 bg-slate-50 text-xs text-slate-400 flex gap-4 border-t border-slate-100",children:[a.jsxs("span",{children:[": ",v.id||"-"]}),a.jsxs("span",{children:[": ",v.operator||v.Operator||v.buyer||"-"]}),a.jsxs("span",{children:[": ",v.location||v.customer||"-"]})]})]})})})]},V)):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:""})})})]})})]})}function op({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState({}),[G,le]=g.useState(!1),[f,m]=g.useState(Ye()),[K,F]=g.useState(Ye()),[S,y]=g.useState(""),_=async()=>{le(!0);try{const C=await ve(L,"getProducts",{},o.token),j={};Array.isArray(C)&&(C.forEach(w=>{j[w.id]=w.name}),q(j));const k=await ve(L,"getSalesRanking",{startDate:f,endDate:K},o.token);Array.isArray(k)?d(k):d([])}catch(C){console.error("Failed to fetch sales ranking:",C),alert("")}finally{le(!1)}};g.useEffect(()=>{o?.token&&_()},[o.token,L]);const te=p.filter(C=>{const j=b[C.productName]||C.productName;return String(j||"").toLowerCase().includes(S.toLowerCase())});return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Vu,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsx("button",{onClick:_,disabled:G,className:"btn-secondary p-2 rounded-xl",children:a.jsx(st,{size:20,className:G?"animate-spin":""})})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:f,onChange:C=>m(C.target.value)}),a.jsx("span",{className:"text-slate-500 font-bold",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:K,onChange:C=>F(C.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:S,onChange:C=>y(C.target.value)})]}),a.jsxs("button",{onClick:_,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[a.jsx(xt,{size:18})," "]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsx("div",{className:"overflow-y-auto flex-1",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-16 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:G?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((C,j)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 text-center font-mono",children:j<3?a.jsx("span",{className:`w-6 h-6 rounded-full inline-flex items-center justify-center text-[10px] font-bold shadow-sm ${j===0?"bg-amber-100 text-amber-700 border border-amber-200":j===1?"bg-slate-100 text-slate-600 border border-slate-200":"bg-orange-100 text-orange-700 border border-orange-200"}`,children:j+1}):j+1}),a.jsx("td",{className:"p-4 font-bold text-slate-800",children:b[C.productName]||C.productName}),a.jsx("td",{className:"p-4 text-right font-mono text-emerald-700",children:C.totalQty.toLocaleString()}),a.jsxs("td",{className:"p-4 text-right font-mono text-blue-700",children:["$",C.totalAmount.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",(C.totalAmount/C.totalQty).toFixed(1)]})]},j)):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function dp({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState(!1),[G,le]=g.useState(Ye()),[f,m]=g.useState(Ye()),[K,F]=g.useState(""),S=async()=>{q(!0);try{const _=await ve(L,"getCustomerRanking",{startDate:G,endDate:f},o.token);Array.isArray(_)?d(_):d([])}catch(_){console.error("Failed to fetch customer ranking:",_),alert("")}finally{q(!1)}};g.useEffect(()=>{o?.token&&S()},[o.token,L]);const y=p.filter(_=>String(_.customerName||"").toLowerCase().includes(K.toLowerCase()));return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Sc,{className:"text-purple-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsx("button",{onClick:S,disabled:b,className:"btn-secondary p-2 rounded-xl",children:a.jsx(st,{size:20,className:b?"animate-spin":""})})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:G,onChange:_=>le(_.target.value)}),a.jsx("span",{className:"text-slate-500 font-bold",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:f,onChange:_=>m(_.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:K,onChange:_=>F(_.target.value)})]}),a.jsxs("button",{onClick:S,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[a.jsx(xt,{size:18})," "]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsx("div",{className:"overflow-y-auto flex-1",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-16 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):y.length>0?y.map((_,te)=>{const C=p.reduce((k,w)=>k+w.totalAmount,0),j=_.totalAmount/C*100;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 text-center font-mono text-slate-500",children:te+1}),a.jsx("td",{className:"p-4 font-bold text-slate-800",children:_.customerName}),a.jsx("td",{className:"p-4 text-right font-mono text-slate-600",children:_.transactionCount.toLocaleString()}),a.jsxs("td",{className:"p-4 text-right font-mono text-purple-700 font-bold",children:["$",_.totalAmount.toLocaleString()]}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("span",{className:"text-xs text-slate-500",children:[j.toFixed(1),"%"]}),a.jsx("div",{className:"w-16 h-1.5 bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-purple-500",style:{width:`${j}%`}})})]})})]},te)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function fp({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState({}),[G,le]=g.useState(!1),[f,m]=g.useState(Ye()),[K,F]=g.useState(Ye()),[S,y]=g.useState(""),_=async()=>{le(!0);try{const W=await ve(L,"getProducts",{},o.token),E={};Array.isArray(W)&&(W.forEach(V=>{E[V.id]=V.name}),q(E));const v=await ve(L,"getProfitAnalysis",{startDate:f,endDate:K},o.token);Array.isArray(v)?d(v):d([])}catch(W){console.error("Failed to fetch profit analysis:",W),alert("")}finally{le(!1)}};g.useEffect(()=>{o?.token&&_()},[o.token,L]);const te=p.filter(W=>{const E=b[W.productName]||W.productName;return String(E||"").toLowerCase().includes(S.toLowerCase())}),C=te.reduce((W,E)=>W+E.revenue,0),j=te.reduce((W,E)=>W+E.cost,0),k=C-j,w=C>0?k/C*100:0;return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(pa,{className:"text-emerald-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"bg-emerald-50 px-4 py-2 border border-emerald-200 rounded-xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-emerald-700 text-center",children:["$",k.toLocaleString()]})]}),a.jsxs("div",{className:"bg-blue-50 px-4 py-2 border border-blue-200 rounded-xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-blue-700 text-center",children:[w.toFixed(1),"%"]})]})]})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:f,onChange:W=>m(W.target.value)}),a.jsx("span",{className:"text-slate-500 font-bold",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:K,onChange:W=>F(W.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:S,onChange:W=>y(W.target.value)})]}),a.jsxs("button",{onClick:_,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[a.jsx(st,{size:18,className:G?"animate-spin":""})," "]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsx("div",{className:"overflow-y-auto flex-1",children:a.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 whitespace-nowrap",children:""}),a.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),a.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),a.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),a.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:G?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(st,{className:"animate-spin text-emerald-500"}),a.jsx("span",{children:"..."})]})})}):te.length>0?te.map((W,E)=>{const v=W.revenue-W.cost,V=W.revenue>0?v/W.revenue*100:0,P=b[W.productName]||W.productName;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"p-4 font-bold text-slate-800",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:P}),b[W.productName]&&a.jsxs("span",{className:"text-[10px] text-slate-400 font-normal mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["ID: ",W.productName.substring(0,8),"..."]})]})}),a.jsxs("td",{className:"p-4 text-right font-mono text-slate-600",children:["$",Math.round(W.revenue).toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono text-rose-600/80",children:["$",Math.round(W.cost).toLocaleString()]}),a.jsxs("td",{className:`p-4 text-right font-mono font-bold ${v>=0?"text-emerald-700":"text-rose-600"}`,children:[v<0?"-":"","$",Math.abs(Math.round(v)).toLocaleString()]}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold min-w-[50px] text-center ${V>=30?"bg-emerald-100 text-emerald-700 border border-emerald-200":V>=10?"bg-blue-100 text-blue-700 border border-blue-200":"bg-rose-100 text-rose-700 border border-rose-200"}`,children:[V.toFixed(1),"%"]})})]},E)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function xp({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState({}),[G,le]=g.useState(!1),[f,m]=g.useState(Ye()),[K,F]=g.useState(Ye()),[S,y]=g.useState(""),_=async()=>{le(!0);try{const C=await ve(L,"getProducts",{},o.token),j={};Array.isArray(C)&&(C.forEach(w=>{j[w.id]=w.name}),q(j));const k=await ve(L,"getTurnoverRate",{startDate:f,endDate:K},o.token);Array.isArray(k)?d(k):d([])}catch(C){console.error("Failed to fetch turnover rate:",C),alert("")}finally{le(!1)}};g.useEffect(()=>{o?.token&&_()},[o.token,L]);const te=p.filter(C=>{const j=b[C.productName]||C.productName;return String(j||"").toLowerCase().includes(S.toLowerCase())});return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Ku,{className:"text-orange-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:" =  / "})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 bg-blue-50 px-3 py-1.5 rounded-lg border border-blue-200 shadow-sm font-bold",children:[a.jsx(wh,{size:14}),a.jsx("span",{children:""})]})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:f,onChange:C=>m(C.target.value)}),a.jsx("span",{className:"text-slate-500 font-bold",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:K,onChange:C=>F(C.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:S,onChange:C=>y(C.target.value)})]}),a.jsxs("button",{onClick:_,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[a.jsx(st,{size:18})," "]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsx("div",{className:"overflow-y-auto flex-1",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:" (COGS)"}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:G?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((C,j)=>{const k=C.avgInventory>0?C.cogs/C.avgInventory:0;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 font-bold text-slate-900",children:b[C.productName]||C.productName}),a.jsxs("td",{className:"p-4 text-right font-mono text-slate-600 font-bold",children:["$",C.cogs.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",C.avgInventory.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono text-orange-600 font-bold",children:[k.toFixed(2)," "]}),a.jsx("td",{className:"p-4 text-center",children:k>=4?a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-emerald-100 text-emerald-700 border border-emerald-200 uppercase",children:""}):k>=1?a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-blue-100 text-blue-700 border border-blue-200 uppercase",children:""}):a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-rose-100 text-rose-700 border border-rose-200 uppercase",children:""})})]},j)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function mp({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState(!1),[G,le]=g.useState(Ye()),[f,m]=g.useState(Ye()),[K,F]=g.useState(""),S=async()=>{q(!0);try{const j=await ve(L,"getExpenditures",{startDate:G,endDate:f},o.token);Array.isArray(j)?d(j):d([])}catch(j){console.error("Failed to fetch expenditures:",j)}finally{q(!1)}};g.useEffect(()=>{o?.token&&S()},[o.token,L]);const y=p.filter(j=>`${j.customer||""} ${j.salesRep||""} ${j.note||""}`.toLowerCase().includes(K.toLowerCase())),_=y.reduce((j,k)=>(j.stall+=Number(k.stall||0),j.cleaning+=Number(k.cleaning||0),j.electricity+=Number(k.electricity||0),j.gas+=Number(k.gas||0),j.parking+=Number(k.parking||0),j.goods+=Number(k.goods||0),j.bags+=Number(k.bags||0),j.others+=Number(k.others||0),j.serviceFee+=Number(k.serviceFee||0),j.linePay+=Number(k.linePay||0),j.finalTotal+=Number(k.finalTotal||0),j.vehicleMaintenance+=Number(k.vehicleMaintenance||0),j.salary+=Number(k.salary||0),j.reserve+=Number(k.reserve||0),j),{stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,serviceFee:0,linePay:0,finalTotal:0,vehicleMaintenance:0,salary:0,reserve:0}),te=_.stall+_.cleaning+_.electricity+_.gas+_.parking+_.bags+_.others+_.vehicleMaintenance+_.salary+_.serviceFee,C=[{key:"stall",label:"",color:"text-blue-600"},{key:"cleaning",label:"",color:"text-indigo-600"},{key:"electricity",label:"",color:"text-amber-600"},{key:"gas",label:"",color:"text-orange-600"},{key:"parking",label:"",color:"text-slate-600"},{key:"bags",label:"",color:"text-teal-600"},{key:"serviceFee",label:"",color:"text-rose-600"},{key:"others",label:"",color:"text-purple-600"},{key:"vehicleMaintenance",label:"",color:"text-indigo-600"},{key:"salary",label:"",color:"text-amber-600"}];return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)] animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(ot,{className:"text-rose-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:" Expenditures "})]}),a.jsxs("div",{className:"flex gap-4 flex-wrap",children:[a.jsxs("div",{className:"glass-panel px-4 py-2 bg-rose-50 border-rose-200",children:[a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-rose-600 text-center",children:["$",te.toLocaleString()]})]}),a.jsxs("div",{className:"glass-panel px-4 py-2 bg-emerald-50 border-emerald-200",children:[a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-emerald-700 text-center",children:["$",_.goods.toLocaleString()]})]}),a.jsxs("div",{className:"glass-panel px-4 py-2 bg-teal-50 border-teal-200",children:[a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-teal-700 text-center",children:["$",_.reserve.toLocaleString()]})]}),a.jsxs("div",{className:"glass-panel px-4 py-2 bg-slate-50 border-slate-200",children:[a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:"Line Pay "}),a.jsxs("p",{className:"text-xl font-bold text-slate-800 text-center",children:["$",_.linePay.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"mb-2 p-4 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 bg-slate-50 rounded-xl border border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"date",className:"input-field flex-1 text-slate-800 bg-white",value:G,onChange:j=>le(j.target.value)}),a.jsx("span",{className:"text-slate-400",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 text-slate-800 bg-white",value:f,onChange:j=>m(j.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full text-slate-800 bg-white",value:K,onChange:j=>F(j.target.value)})]}),a.jsxs("button",{onClick:S,className:"btn-primary flex items-center justify-center gap-2",children:[a.jsx(st,{size:18,className:b?"animate-spin":""})," "]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-12 gap-3 shrink-0",children:C.map(j=>a.jsxs("div",{className:"p-3 bg-white border border-slate-200 rounded-xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase truncate",children:j.label}),a.jsxs("p",{className:`text-sm md:text-md font-bold ${j.color} mt-1`,children:["$",_[j.key].toLocaleString()]})]},j.key))}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-0 overflow-hidden flex-1 border border-slate-200 relative",children:a.jsx("div",{className:"h-full overflow-auto custom-scrollbar",children:a.jsxs("table",{className:"w-full text-left text-sm border-separate border-spacing-0 min-w-[1100px]",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 border-b border-slate-100 sticky left-0 z-40 bg-slate-50",children:"//"}),a.jsx("th",{className:"p-4 text-right border-b border-slate-100",children:""}),a.jsx("th",{className:"p-4 text-right border-b border-slate-100",children:""}),a.jsx("th",{className:"p-4 text-right border-b border-slate-100",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:b?a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"p-20 text-center text-slate-500 font-medium",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(st,{className:"animate-spin text-rose-500"}),a.jsx("span",{children:"..."})]})})}):y.length>0?y.map((j,k)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"p-4 sticky left-0 z-10 bg-white border-b border-slate-100 group-hover:bg-slate-50 transition-colors",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("span",{className:"text-slate-500 font-mono text-xs flex items-center gap-1",children:[a.jsx(h0,{size:12,className:"text-slate-400"}),(()=>{const w=j.date||j.serverTimestamp;if(!w)return"";const W=new Date(w);return isNaN(W.getTime())?String(w):W.toLocaleString("zh-TW",{hour12:!1})})()]}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:j.customer||""}),a.jsx("span",{className:"text-xs text-slate-500 font-medium bg-slate-100 self-start px-1.5 py-0.5 rounded",children:j.salesRep||"-"})]})}),a.jsx("td",{className:"p-4 text-right align-top",children:a.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 text-[11px] content-start",children:[a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(j.stall||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(j.cleaning||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(j.electricity||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(j.gas||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(j.parking||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(j.goods||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(j.bags||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(j.others||0).toLocaleString()]})]})]})}),a.jsx("td",{className:"p-4 text-right align-top",children:a.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[a.jsxs("div",{className:"flex justify-between w-32 bg-emerald-50 px-2 py-1 rounded border border-emerald-100",children:[a.jsx("span",{className:"text-[10px] text-emerald-600/70 uppercase font-bold",children:"LP "}),a.jsxs("span",{className:"text-xs font-bold text-emerald-700",children:["+$",Number(j.linePay||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between w-32 bg-rose-50 px-2 py-1 rounded border border-rose-100",children:[a.jsx("span",{className:"text-[10px] text-rose-600/70 uppercase font-bold",children:""}),a.jsxs("span",{className:"text-xs font-bold text-rose-700",children:["-$",Number(j.serviceFee||0).toLocaleString()]})]})]})}),a.jsx("td",{className:"p-4 text-right align-top",children:a.jsxs("div",{className:"flex flex-col gap-1 text-xs items-end",children:[a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-indigo-600 font-bold",children:["$",Number(j.vehicleMaintenance||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-amber-600 font-bold",children:["$",Number(j.salary||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-purple-600 font-bold",children:["$",Number(j.reserve||0).toLocaleString()]})]})]})})]},k)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"p-20 text-center text-slate-500 font-medium",children:""})})})]})})})]})}function hp({user:o,apiUrl:L}){const[p,d]=g.useState(!1),[b,q]=g.useState(Ye().substring(0,8)+"01"),[G,le]=g.useState(Ye()),[f,m]=g.useState({revenue:0,cogs:0,grossProfit:0,expenses:{},totalExpenses:0,netIncome:0}),K=async()=>{d(!0);try{const[y,_]=await Promise.all([ve(L,"getProfitAnalysis",{startDate:b,endDate:G},o.token),ve(L,"getExpenditures",{startDate:b,endDate:G},o.token)]);let te=0,C=0;Array.isArray(y)&&y.forEach(w=>{te+=Number(w.revenue||0),C+=Number(w.cost||0)});let j=0;const k={stall:0,cleaning:0,electricity:0,gas:0,parking:0,bags:0,serviceFee:0,others:0,vehicleMaintenance:0,salary:0};Array.isArray(_)&&_.forEach(w=>{k.stall+=Number(w.stall||0),k.cleaning+=Number(w.cleaning||0),k.electricity+=Number(w.electricity||0),k.gas+=Number(w.gas||0),k.parking+=Number(w.parking||0),k.bags+=Number(w.bags||0),k.serviceFee+=Number(w.serviceFee||0),k.others+=Number(w.others||0),k.vehicleMaintenance+=Number(w.vehicleMaintenance||0),k.salary+=Number(w.salary||0)}),Object.values(k).forEach(w=>j+=w),m({revenue:te,cogs:C,grossProfit:te-C,expenses:k,totalExpenses:j,netIncome:te-C-j})}catch(y){console.error("Failed to fetch income statement data:",y),alert("")}finally{d(!1)}};g.useEffect(()=>{o?.token&&K()},[o.token,L]);const F=y=>`$${Math.round(y).toLocaleString()}`,S=(y,_)=>_===0?"0%":`${(y/_*100).toFixed(1)}%`;return a.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Xu,{className:"text-emerald-600"}),"  (Income Statement)"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsx("button",{onClick:K,className:"btn-secondary p-2 rounded-xl",children:a.jsx(st,{size:20,className:p?"animate-spin":""})})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 flex items-center gap-4 shadow-sm",children:[a.jsx($t,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:b,onChange:y=>q(y.target.value)}),a.jsx("span",{className:"text-slate-500 font-bold",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:G,onChange:y=>le(y.target.value)}),a.jsx("button",{onClick:K,className:"btn-primary h-[42px] px-6",children:""})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsx("div",{className:"overflow-y-auto flex-1 p-8",children:a.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto font-mono text-sm md:text-base",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-emerald-700 font-bold text-lg border-b border-emerald-200 pb-2 mb-4",children:" (Revenue)"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-600",children:""}),a.jsx("span",{className:"text-slate-900 font-bold",children:F(f.revenue)})]}),a.jsxs("div",{className:"flex justify-between items-center text-rose-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(xh,{size:14})," "]}),a.jsxs("span",{children:["- ",F(f.cogs)]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-100",children:[a.jsx("span",{className:"text-emerald-700 font-bold",children:" (Gross Profit)"}),a.jsx("span",{className:"text-emerald-700 font-bold",children:F(f.grossProfit)})]}),a.jsxs("div",{className:"text-right text-xs text-slate-500",children:[": ",S(f.grossProfit,f.revenue)]})]}),a.jsxs("div",{className:"space-y-2 mt-8",children:[a.jsx("h3",{className:"text-orange-700 font-bold text-lg border-b border-orange-200 pb-2 mb-4",children:" (Operating Expenses)"}),Object.entries(f.expenses).map(([y,_])=>{const te={stall:"",cleaning:"",electricity:"",gas:"",parking:"",bags:"",serviceFee:"",others:"",vehicleMaintenance:"",salary:""};return _===0?null:a.jsxs("div",{className:"flex justify-between items-center text-slate-400 text-sm",children:[a.jsx("span",{children:te[y]}),a.jsx("span",{children:F(_)})]},y)}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-100 text-orange-700",children:[a.jsx("span",{className:"font-bold",children:""}),a.jsxs("span",{className:"font-bold",children:["- ",F(f.totalExpenses)]})]})]}),a.jsxs("div",{className:"mt-8 pt-4 border-t-2 border-slate-200",children:[a.jsxs("div",{className:"flex justify-between items-center text-xl",children:[a.jsx("span",{className:"text-slate-800 font-bold",children:" (Net Income)"}),a.jsx("span",{className:`font-bold ${f.netIncome>=0?"text-emerald-700":"text-rose-600"}`,children:F(f.netIncome)})]}),a.jsxs("div",{className:"text-right text-sm text-slate-500 mt-1",children:[": ",S(f.netIncome,f.revenue)]})]})]})})})]})}function pp({user:o,apiUrl:L}){const[p,d]=g.useState(!1),[b,q]=g.useState({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0,vehicleMaintenance:0,salary:0,reserve:0}),[G,le]=g.useState(""),f=async()=>{if(!G.trim()){alert(""),document.getElementById("input-note")?.focus();return}const _=Number(b.stall)+Number(b.cleaning)+Number(b.electricity)+Number(b.gas)+Number(b.parking)+Number(b.goods)+Number(b.bags)+Number(b.others)+Number(b.serviceFee)+Number(b.vehicleMaintenance)+Number(b.salary)+Number(b.reserve)+Number(b.linePay),te={note:G,salesRep:o.username,...b,finalTotal:_};d(!0);try{await ve(L,"saveExpenditure",te,o.token),alert(" Expenditures "),q({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0,vehicleMaintenance:0,salary:0,reserve:0}),le("")}catch(C){alert(": "+C.message)}finally{d(!1)}},m=y=>{const _=document.getElementById(y);_&&(_.focus(),_.select?.(),_.scrollIntoView({block:"nearest",behavior:"smooth"}))},K=(y,_)=>{const te=["note","stall","cleaning","electricity","gas","parking","goods","bags","others","linePay","serviceFee","vehicleMaintenance","salary","reserve"],C=te.indexOf(_);y.key==="Enter"||y.key==="ArrowRight"?(y.preventDefault(),C<te.length-1?m(`input-expense-${te[C+1]}`):y.key==="Enter"&&f()):y.key==="ArrowLeft"?(y.preventDefault(),C>0&&m(`input-expense-${te[C-1]}`)):y.key==="ArrowDown"?(y.preventDefault(),["stall","cleaning","electricity","gas","parking","goods"].includes(_)?m(`input-expense-${{stall:"electricity",cleaning:"gas",electricity:"parking",gas:"goods",parking:"bags",goods:"others"}[_]}`):C<te.length-1&&m(`input-expense-${te[C+1]}`)):y.key==="ArrowUp"&&(y.preventDefault(),["electricity","gas","parking","goods","bags","others"].includes(_)?m(`input-expense-${{electricity:"stall",gas:"cleaning",parking:"electricity",goods:"gas",bags:"parking",others:"goods"}[_]}`):C>0&&m(`input-expense-${te[C-1]}`))},S=Number(b.stall)+Number(b.cleaning)+Number(b.electricity)+Number(b.gas)+Number(b.parking)+Number(b.goods)+Number(b.bags)+Number(b.others)+Number(b.serviceFee)+Number(b.vehicleMaintenance)+Number(b.salary)+Number(b.reserve)+Number(b.linePay);return a.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6 space-y-6 animate-in fade-in duration-500 relative",children:[p&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-rose-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-rose-100 rounded-lg",children:a.jsx(ot,{className:"text-rose-600",size:24})}),""]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"bg-rose-50 px-6 py-3 border border-rose-200 rounded-xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:" ()"}),a.jsxs("p",{className:"text-2xl font-black text-rose-600",children:["$",S.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 text-blue-600 font-bold",children:[a.jsx(ph,{size:18}),a.jsx("span",{children:""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 font-bold block mb-2",children:" /  *"}),a.jsx("input",{id:"input-expense-note",type:"text",className:"input-field w-full text-lg py-3 bg-white",placeholder:"1/7 ...",value:G,onChange:y=>le(y.target.value),onKeyDown:y=>K(y,"note")})]})]}),a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6 text-emerald-600 font-bold",children:[a.jsx(qh,{size:18}),a.jsx("span",{children:""})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[{key:"stall",label:"",next:"cleaning"},{key:"cleaning",label:"",next:"electricity",prev:"stall"},{key:"electricity",label:"",next:"gas",prev:"cleaning"},{key:"gas",label:"",next:"parking",prev:"electricity"},{key:"parking",label:"",next:"goods",prev:"gas"},{key:"goods",label:"",next:"bags",prev:"parking"},{key:"bags",label:"",next:"others",prev:"goods"},{key:"others",label:"",next:"linePay",prev:"bags"}].map(y=>a.jsxs("div",{className:"flex items-center justify-between gap-4 p-2 hover:bg-slate-50 rounded-lg transition-colors border-b border-slate-100 last:border-0",children:[a.jsx("label",{className:"text-sm text-slate-600 font-medium whitespace-nowrap",children:y.label}),a.jsx("input",{id:`input-expense-${y.key}`,type:"number",className:"input-field text-right w-32 bg-white",value:b[y.key]||"",onChange:_=>q({...b,[y.key]:Number(_.target.value)}),onKeyDown:_=>K(_,y.key),onWheel:_=>_.target.blur()})]},y.key))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"glass-panel p-6 border-amber-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6 text-amber-600 font-bold",children:[a.jsx(gh,{size:18}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Line Pay "}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"input-expense-linePay",type:"number",className:"input-field w-full pl-8 border-emerald-200 text-emerald-700 bg-emerald-50",value:b.linePay||"",onChange:y=>q({...b,linePay:Number(y.target.value)}),onKeyDown:y=>K(y,"linePay"),onWheel:y=>y.target.blur()}),a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-emerald-600 font-bold",children:"+"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"input-expense-serviceFee",type:"number",className:"input-field w-full pl-8 border-rose-200 text-rose-700 bg-rose-50",value:b.serviceFee||"",onChange:y=>q({...b,serviceFee:Number(y.target.value)}),onKeyDown:y=>K(y,"serviceFee"),onWheel:y=>y.target.blur()}),a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-rose-600 font-bold",children:"-"})]})]})]})]}),a.jsxs("div",{className:"glass-panel p-6 border-indigo-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6 text-indigo-600 font-bold",children:[a.jsx(Zu,{size:18}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("label",{className:"text-xs text-slate-500 flex items-center gap-2 font-bold",children:[a.jsx(Zu,{size:14})," "]}),a.jsx("input",{id:"input-expense-vehicleMaintenance",type:"number",className:"input-field w-28 text-right bg-white",value:b.vehicleMaintenance||"",onChange:y=>q({...b,vehicleMaintenance:Number(y.target.value)}),onKeyDown:y=>K(y,"vehicleMaintenance"),onWheel:y=>y.target.blur()})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("label",{className:"text-xs text-slate-500 flex items-center gap-2 font-bold",children:[a.jsx(Sc,{size:14})," "]}),a.jsx("input",{id:"input-expense-salary",type:"number",className:"input-field w-28 text-right bg-white",value:b.salary||"",onChange:y=>q({...b,salary:Number(y.target.value)}),onKeyDown:y=>K(y,"salary"),onWheel:y=>y.target.blur()})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("label",{className:"text-xs text-slate-500 flex items-center gap-2 font-bold",children:[a.jsx(Mh,{size:14})," "]}),a.jsx("input",{id:"input-expense-reserve",type:"number",className:"input-field w-28 text-right bg-white",value:b.reserve||"",onChange:y=>q({...b,reserve:Number(y.target.value)}),onKeyDown:y=>K(y,"reserve"),onWheel:y=>y.target.blur()})]})]})]}),a.jsxs("button",{onClick:f,className:"btn-primary w-full py-4 text-lg font-black shadow-lg shadow-blue-100 hover:shadow-xl hover:shadow-blue-200 transition-all flex justify-center items-center gap-3 active:scale-95",children:[a.jsx(wc,{size:22})," "]}),a.jsx("p",{className:"text-center text-slate-500 text-[10px] uppercase font-bold tracking-tighter",children:"Data will be saved to Expenditures Sheet"})]})]})]})}function yp({user:o,apiUrl:L}){const[p,d]=g.useState([]),[b,q]=g.useState(!1),[G,le]=g.useState(!1),[f,m]=g.useState(""),[K,F]=g.useState({username:"",password:"",role:"VIEWER"}),[S,y]=g.useState(null),_=[{group:"",items:[{key:"sales_entry",label:""},{key:"sales_report",label:""}]},{group:"",items:[{key:"purchase_entry",label:""},{key:"purchase_history",label:""}]},{group:"",items:[{key:"inventory_adjust",label:""},{key:"inventory_stocktake",label:""},{key:"inventory_valuation",label:""},{key:"inventory_history",label:"/"}]},{group:"",items:[{key:"finance_expenditure",label:""},{key:"finance_receivable",label:""},{key:"finance_payable",label:""},{key:"finance_income",label:""},{key:"finance_cost",label:""},{key:"finance_payroll",label:""}]},{group:"",items:[{key:"analytics_sales",label:""},{key:"analytics_customer",label:""},{key:"analytics_profit",label:""},{key:"analytics_turnover",label:""}]},{group:"",items:[{key:"system_config",label:""}]}],te=async()=>{if(!K.username||!K.password){alert("");return}le(!0),m(" ...");try{await ve(L,"addUser",K,o.token),F({username:"",password:"",role:"VIEWER"}),await j(),alert("")}catch(E){alert(": "+E.message)}finally{le(!1)}},C=async E=>{if(window.confirm(` ${E}?`)){le(!0),m(" ...");try{await ve(L,"deleteUser",{username:E},o.token),await j(),alert("")}catch(v){alert(": "+v.message)}finally{le(!1)}}},j=async()=>{q(!0);try{const E=await ve(L,"getUsers",{},o.token);if(Array.isArray(E)){const v=E.map(V=>{let P=V.permissions;if(typeof P=="string")try{P=JSON.parse(P)}catch(ce){console.error(`Failed to parse permissions for ${V.username}`,ce),P=[]}return{...V,permissions:Array.isArray(P)?P:[]}});d(v)}else console.warn("Backend returned non-array for users")}catch(E){console.error("Failed to fetch users:",E),alert("")}finally{q(!1)}};g.useEffect(()=>{o?.token&&j()},[o.token,L]);const k=async()=>{if(S){le(!0),m(" ...");try{await ve(L,"updateUserPermissions",{username:S.username,permissions:S.permissions},o.token),y(null),await j(),alert("")}catch(E){console.error(E),alert(": "+E.message)}finally{le(!1)}}},w=E=>{if(!S)return;const v=S.permissions||[];v.includes(E)?y({...S,permissions:v.filter(V=>V!==E)}):y({...S,permissions:[...v,E]})},W=E=>{if(!S)return;const v=S.permissions||[],V=E.map(ce=>ce.key);if(V.every(ce=>v.includes(ce)))y({...S,permissions:v.filter(ce=>!V.includes(ce))});else{const ce=v.filter(J=>!V.includes(J));y({...S,permissions:[...ce,...V]})}};return a.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[G&&a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-[2px] z-[60] flex items-center justify-center animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl flex flex-col items-center gap-4 min-w-[200px]",children:[a.jsx(st,{className:"animate-spin text-blue-600",size:32}),a.jsx("span",{className:"text-slate-700 font-bold text-base",children:f})]})}),a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(gl,{className:"text-rose-600"}),"  (Permission Control)"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsx("button",{onClick:j,className:"btn-secondary p-2 rounded-xl",children:a.jsx(st,{size:20,className:b?"animate-spin":""})})]}),a.jsxs("div",{className:"glass-panel p-6 border-l-4 border-l-emerald-500 shrink-0",children:[a.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-slate-800",children:[a.jsx($h,{size:20,className:"text-emerald-600"})," "]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end relative",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-slate-500 uppercase font-bold px-1",children:" (Username)"}),a.jsx("input",{id:"input-new-username",type:"text",className:"input-field w-full",value:K.username,onChange:E=>F({...K,username:E.target.value}),onKeyDown:E=>{(E.key==="Enter"||E.key==="ArrowRight")&&(E.preventDefault(),document.getElementById("input-new-password")?.focus())},placeholder:""})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-slate-500 uppercase font-bold px-1",children:" (Password)"}),a.jsx("input",{id:"input-new-password",type:"password",className:"input-field w-full",value:K.password,onChange:E=>F({...K,password:E.target.value}),onKeyDown:E=>{E.key==="Enter"||E.key==="ArrowRight"?(E.preventDefault(),document.getElementById("input-new-role")?.focus()):E.key==="ArrowLeft"&&(E.preventDefault(),document.getElementById("input-new-username")?.focus())},placeholder:""})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-slate-500 uppercase font-bold px-1",children:" (Role)"}),a.jsxs("select",{id:"input-new-role",className:"input-field w-full",value:K.role,onChange:E=>F({...K,role:E.target.value}),onKeyDown:E=>{E.key==="Enter"||E.key==="ArrowRight"?(E.preventDefault(),document.getElementById("btn-add-user")?.focus()):E.key==="ArrowLeft"&&(E.preventDefault(),document.getElementById("input-new-password")?.focus())},children:[a.jsx("option",{value:"BOSS",children:" (BOSS)"}),a.jsx("option",{value:"ADMIN",children:" (ADMIN)"}),a.jsx("option",{value:"EMPLOYEE",children:" (EMPLOYEE)"}),a.jsx("option",{value:"VIEWER",children:" (VIEWER)"})]})]}),a.jsxs("button",{id:"btn-add-user",onClick:te,onKeyDown:E=>{E.key==="ArrowLeft"&&(E.preventDefault(),document.getElementById("input-new-role")?.focus())},className:"btn-primary flex justify-center items-center gap-2",disabled:b,children:[a.jsx(wc,{size:18})," "]})]})]}),a.jsx("div",{className:"glass-panel p-0 overflow-hidden flex-1 flex flex-col",children:a.jsx("div",{className:"overflow-y-auto flex-1",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:" (Username)"}),a.jsx("th",{className:"p-4",children:" (Role)"}),a.jsx("th",{className:"p-4 text-center",children:" (Status)"}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:p.length>0?p.map((E,v)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 text-slate-900 font-bold",children:E.username}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold border ${E.role==="BOSS"?"bg-amber-500/10 text-amber-500 border-amber-500/20":E.role==="ADMIN"?"bg-rose-500/10 text-rose-500 border-rose-500/20":E.role==="EMPLOYEE"?"bg-blue-500/10 text-blue-500 border-blue-500/20":(E.role==="VIEWER","bg-slate-500/10 text-slate-500 border-slate-500/20")}`,children:E.role})}),a.jsx("td",{className:"p-4 text-center",children:E.status==="ACTIVE"?a.jsxs("span",{className:"flex items-center justify-center gap-2 text-emerald-600 font-bold text-xs",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.3)]"})," ACTIVE"]}):a.jsxs("span",{className:"flex items-center justify-center gap-2 text-slate-500 font-bold text-xs",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-500"})," ",E.status||"UNKNOWN"]})}),a.jsx("td",{className:"p-4 text-center flex items-center justify-center gap-2",children:E.username!=="admin"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{let V=Array.isArray(E.permissions)?[...E.permissions]:[];const P={sales:["sales_entry","sales_report"],purchase:["purchase_entry","purchase_history"],inventory:["inventory_adjust","inventory_stocktake","inventory_valuation","inventory_history"],finance:["finance_expenditure","finance_receivable","finance_payable","finance_income","finance_cost"],analytics:["analytics_sales","analytics_customer","analytics_profit","analytics_turnover"],system:["system_config"]};Object.keys(P).forEach(ce=>{V.includes(ce)&&(V=V.filter(J=>J!==ce),P[ce].forEach(J=>{V.includes(J)||V.push(J)}))}),y({username:E.username,permissions:V})},className:"p-2 text-slate-400 hover:text-blue-400 transition-colors",title:"",children:a.jsx(gl,{size:16})}),a.jsx("button",{onClick:()=>C(E.username),className:"p-2 text-slate-400 hover:text-rose-400 transition-colors",title:"",children:a.jsx(p0,{size:16})})]})})]},v)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"p-20 text-center text-slate-500",children:b?"...":""})})})]})})}),S&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(gl,{className:"text-blue-600"}),"  (",S.username,")"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:" (BOSS )"})]}),a.jsx("div",{className:"p-6 space-y-6 max-h-[65vh] overflow-y-auto custom-scrollbar",children:_.map(E=>{const v=E.items.map(P=>P.key),V=v.every(P=>S.permissions?.includes(P));return v.some(P=>S.permissions?.includes(P)),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between px-1 cursor-pointer group/title",onClick:()=>W(E.items),children:[a.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 group-hover/title:text-blue-600 transition-colors",children:E.group}),a.jsx("span",{className:"text-[10px] text-blue-600 font-bold opacity-0 group-hover/title:opacity-100 transition-opacity",children:V?"":""})]}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:E.items.map((P,ce)=>{const J=`perm-item-${P.key}`,O=A=>{if(!["Enter"," ","ArrowDown","ArrowUp","ArrowRight","ArrowLeft"].includes(A.key))return;A.preventDefault();const ee=[];_.forEach(D=>{D.items.forEach(B=>ee.push(B.key))});const ie=ee.indexOf(P.key);if(A.key==="Enter"||A.key===" "){if(w(P.key),ie<ee.length-1){const D=ee[ie+1];document.getElementById(`perm-item-${D}`)?.focus()}}else if(A.key==="ArrowDown"||A.key==="ArrowRight"){if(ie<ee.length-1){const D=ee[ie+1];document.getElementById(`perm-item-${D}`)?.focus()}}else if((A.key==="ArrowUp"||A.key==="ArrowLeft")&&ie>0){const D=ee[ie-1];document.getElementById(`perm-item-${D}`)?.focus()}};return a.jsxs("label",{id:J,tabIndex:"0",onKeyDown:O,className:`flex items-center gap-3 p-3 rounded-xl border transition-all cursor-pointer group outline-none ring-offset-2 focus:ring-2 focus:ring-blue-400 ${S.permissions?.includes(P.key)?"bg-blue-50 border-blue-200 shadow-sm":"bg-slate-50 border-slate-100 hover:bg-slate-100 hover:border-slate-200"}`,children:[a.jsx("div",{className:`w-5 h-5 rounded-lg border flex items-center justify-center transition-all ${S.permissions?.includes(P.key)?"bg-blue-600 border-blue-600 text-white scale-110":"bg-white border-slate-200 group-hover:border-blue-300"}`,children:S.permissions?.includes(P.key)&&a.jsx(vc,{size:12,fill:"currentColor"})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:S.permissions?.includes(P.key),onChange:()=>w(P.key)}),a.jsx("span",{className:`text-sm transition-colors ${S.permissions?.includes(P.key)?"text-slate-900 font-bold":"text-slate-500"}`,children:P.label})]},P.key)})})]},E.group)})}),a.jsxs("div",{className:"p-6 border-t border-slate-100 flex justify-end gap-3 bg-slate-50",children:[a.jsx("button",{onClick:()=>y(null),className:"px-4 py-2 rounded-lg text-slate-500 hover:text-slate-900 hover:bg-black/5 transition-colors",children:""}),a.jsx("button",{onClick:k,className:"btn-primary px-6 py-2",children:""})]})]})})]})}function bp({user:o,apiUrl:L}){const[p,d]=g.useState(new Date().getFullYear()),[b,q]=g.useState(new Date().getMonth()+1),[G,le]=g.useState(o.username),[f,m]=g.useState([]),[K,F]=g.useState(!1),[S,y]=g.useState(null),[_,te]=g.useState(null),[C,j]=g.useState("LEAVE"),[k,w]=g.useState(""),[W,E]=g.useState(""),[v,V]=g.useState(!1),[P,ce]=g.useState({baseSalary:0,attendanceBonus:0,insurance:0,monthlyOffDays:8,bonusTiers:"[]"}),[J,O]=g.useState(!1),[A,R]=g.useState(!1),[ee,ie]=g.useState({profile:{joinedDate:"",birthday:"",identityId:"",contact:"",note:""},seniorityText:"",estimatedLeaveDays:0}),[D,B]=g.useState({joinedDate:"",birthday:"",identityId:"",contact:"",note:""}),I={baseSalary:g.useRef(null),attendanceBonus:g.useRef(null),monthlyOffDays:g.useRef(null),insurance:g.useRef(null),bonusTiers:g.useRef(null)},ne={editValue:g.useRef(null),editNote:g.useRef(null)};g.useEffect(()=>{o.role==="BOSS"&&ve(L,"getUsers",{},o.token).then(pe=>m(pe)).catch(pe=>console.error(pe))},[o.role,o.token,L]);const oe=g.useCallback(async()=>{F(!0);try{const U=await ve(L,"getPayrollData",{year:p,month:b,targetUser:G},o.token);U&&!U.error?(y(U),U.config&&ce({...U.config,bonusTiers:JSON.stringify(U.config.bonusTiers||[])})):console.error(U?.error)}catch(U){console.error(U),alert(": "+U.message)}finally{F(!1)}},[p,b,G,o.token]),r=g.useCallback(async()=>{try{const U=await ve(L,"getEmployeeProfile",{targetUser:G},o.token);U&&!U.error&&(ie(U),B(U.profile))}catch(U){console.error(U)}},[G,o.token,L]),Y=async()=>{if(!S||!S.summary){alert("");return}const U=` ${G} 

: $${(S.summary.finalSalary||0).toLocaleString()}
: ${p}${b}`;if(confirm(U)){O(!0);try{await ve(L,"savePayrollToExpenditure",{targetUser:G,year:p,month:b,finalSalary:S.summary.finalSalary},o.token),alert("")}catch(pe){console.error("Save payroll failed:",pe),alert(": "+pe.message)}finally{O(!1)}}};g.useEffect(()=>{oe(),r()},[oe,r]);const ae=async()=>{if(_){O(!0);try{await ve(L,"saveDailyRecord",{date:_.date,username:G,type:C,value:C==="WORK"||C==="LEAVE"||C==="SPECIAL_LEAVE"||C==="SICK_LEAVE"?1:Number(k),note:W},o.token),te(null),oe()}catch(U){alert(": "+U.message)}finally{O(!1)}}},ue=async()=>{O(!0);try{await ve(L,"saveEmployeeProfile",{username:G,...D},o.token),R(!1),r()}catch(U){alert(": "+U.message)}finally{O(!1)}},Z=async()=>{let U=[];try{U=JSON.parse(P.bonusTiers)}catch{alert(" (JSON Error)");return}O(!0);try{await ve(L,"savePayrollSettings",{targetUser:G,baseSalary:Number(P.baseSalary),attendanceBonus:Number(P.attendanceBonus),insurance:Number(P.insurance),monthlyOffDays:Number(P.monthlyOffDays),bonusTiers:U},o.token),V(!1),oe()}catch(pe){alert(": "+pe.message)}finally{O(!1)}},se=(U,pe)=>{const Be=["baseSalary","attendanceBonus","monthlyOffDays","insurance","bonusTiers"],ze=Be.indexOf(pe);if(!(pe==="bonusTiers")&&(U.key==="ArrowUp"||U.key==="ArrowDown")&&U.preventDefault(),U.key==="Enter"){if(pe==="bonusTiers"&&!U.ctrlKey)return;U.preventDefault();const el=Be[ze+1];el&&I[el].current&&(I[el].current.focus(),I[el].current.select?.());return}const ht={baseSalary:{ArrowRight:"attendanceBonus",ArrowDown:"monthlyOffDays"},attendanceBonus:{ArrowLeft:"baseSalary",ArrowDown:"insurance"},monthlyOffDays:{ArrowRight:"insurance",ArrowUp:"baseSalary",ArrowDown:"bonusTiers"},insurance:{ArrowLeft:"monthlyOffDays",ArrowUp:"attendanceBonus",ArrowDown:"bonusTiers"},bonusTiers:{}}[pe]?.[U.key];ht&&I[ht].current&&(U.preventDefault(),I[ht].current.focus(),I[ht].current.select?.())},fe=(U,pe)=>{if(U.key==="Enter"&&(U.preventDefault(),pe==="editType"?C==="LOSS"?ne.editValue.current?.focus():ne.editNote.current?.focus():pe==="editValue"?ne.editNote.current?.focus():pe==="editNote"&&ae()),pe==="editType"&&(U.key==="ArrowLeft"||U.key==="ArrowRight")){U.preventDefault();const Be=["WORK","LEAVE","SPECIAL_LEAVE","SICK_LEAVE","LOSS"];let ze=Be.indexOf(C);U.key==="ArrowLeft"&&(ze=(ze-1+Be.length)%Be.length),U.key==="ArrowRight"&&(ze=(ze+1)%Be.length),j(Be[ze])}},xe=((U,pe)=>{const Be=new Date(U,pe,0).getDate();return Array.from({length:Be},(ze,mt)=>{const Xe=new Date(U,pe-1,mt+1),ht=Xe.getTimezoneOffset()*6e4;return{date:new Date(Xe.getTime()-ht).toISOString().split("T")[0],day:mt+1,weekday:["","","","","","",""][Xe.getDay()]}})})(p,b),_e=S?.summary||{};let Jt=0,wt=0,jl=0,At=0;xe.forEach(U=>{const pe=U.date,Be=S?.dailyData?.[pe]||0,ze=S?.dailyRecords?.[pe]||{};Be>0?Jt++:ze.isLeave?wt++:ze.isSpecialLeave?jl++:ze.isSickLeave?At++:wt++});const Nl=U=>{if(!U)return"";try{if(U instanceof Date)return`${U.getMonth()+1}${U.getDate()}`;const pe=String(U),Be=new Date(pe);if(!isNaN(Be.getTime()))return`${Be.getMonth()+1}${Be.getDate()}`;const ze=pe.match(/(\d{1,2})[/-](\d{1,2})/);return ze?`${ze[1]}${ze[2]}`:pe.replace(/[/.-]/g,"")+""}catch(pe){return console.error("Format err",pe),String(U)}};return a.jsxs("div",{className:"p-4 md:p-8 space-y-6 max-w-7xl mx-auto pb-24",children:[a.jsxs("div",{className:"glass-panel p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400 flex items-center gap-3",children:[a.jsx(ot,{})," "]}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("select",{value:p,onChange:U=>d(Number(U.target.value)),className:"input-field w-24",children:[2025,2026,2027].map(U=>a.jsxs("option",{value:U,children:[U,""]},U))}),a.jsx("select",{value:b,onChange:U=>q(Number(U.target.value)),className:"input-field w-20",children:Array.from({length:12},(U,pe)=>pe+1).map(U=>a.jsxs("option",{value:U,children:[U,""]},U))}),o.role==="BOSS"&&a.jsxs("select",{value:G,onChange:U=>le(U.target.value),className:"input-field w-32",children:[f.map(U=>a.jsx("option",{value:U.username,children:U.username},U.userid)),!f.some(U=>U.username===G)&&a.jsx("option",{value:G,children:G})]}),o.role==="BOSS"&&a.jsxs("button",{onClick:()=>V(!0),className:"btn-secondary flex items-center gap-2",children:[a.jsx(Nc,{size:16})," "]}),o.role==="BOSS"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>R(!0),className:"btn-secondary flex items-center gap-2 border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:[a.jsx($t,{size:16})," "]}),a.jsxs("button",{onClick:Y,disabled:J||!S,className:"btn-secondary flex items-center gap-2 border-blue-200 text-blue-700 hover:bg-blue-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(ot,{size:16})," ",J?"...":""]})]}),a.jsx("button",{onClick:oe,className:"btn-primary",children:""})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 px-2",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-1.5 rounded-full text-sm font-medium border border-blue-100",children:[a.jsx($t,{size:14})," : ",ee.profile.joinedDate||""]}),a.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 text-indigo-700 px-3 py-1.5 rounded-full text-sm font-medium border border-indigo-100",children:[a.jsx(Nc,{size:14})," : ",ee.seniorityText]}),a.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 text-emerald-700 px-3 py-1.5 rounded-full text-sm font-medium border border-emerald-100",children:[a.jsx(m0,{size:14})," :  ",ee.estimatedLeaveDays,"  /  ",S?.totalSpecialLeaveUsed||0,"  /  ",ee.estimatedLeaveDays-(S?.totalSpecialLeaveUsed||0)," "]})]}),o.role==="BOSS"&&S?.isBirthdayMonth&&a.jsx("div",{className:"px-2",children:a.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 border border-pink-100 rounded-xl p-4 flex items-center gap-4 animate-bounce-subtle",children:[a.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm text-2xl",children:""}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-rose-700 font-bold",children:[" ",ee.profile.birthday?`(${Nl(ee.profile.birthday)})`:"",""]}),a.jsx("p",{className:"text-rose-600/80 text-sm",children:""})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 px-2",children:[a.jsx($l,{title:"",amount:S?.config?.baseSalary,color:"text-slate-800"}),a.jsx($l,{title:"",amount:0,subtext:`: $${(_e.sales||0).toLocaleString()}`,color:"text-indigo-600"}),a.jsx($l,{title:" ()",amount:_e.insurance,isDeduction:!0,color:"text-red-600",hoverContent:a.jsx("div",{className:"flex flex-col items-end",children:a.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:["$",(_e.bonus||0).toLocaleString()]})})}),a.jsx($l,{title:"",amount:_e.finalSalary,color:"text-blue-600",subtext:"/"})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-4 px-2",children:[a.jsx($l,{title:"",amount:_e.attendanceBonus,color:"text-yellow-600",hoverContent:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),a.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:[Jt," "]})]})}),a.jsx($l,{title:"",amount:wt,isCurrency:!1,suffix:" ",color:"text-slate-500",hoverContent:a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),a.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:[S?.config?.monthlyOffDays||0," "]})]}),a.jsxs("div",{className:"w-full border-t border-emerald-100 pt-1 mt-0.5",children:[a.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),a.jsxs("p",{className:`text-sm font-bold font-mono ${(_e.leaveCompensation||0)>=0?"text-blue-600":"text-red-600"}`,children:[(_e.leaveCompensation||0)>=0?"+":"-","$",Math.abs(_e.leaveCompensation||0).toLocaleString()]})]})]})}),a.jsx($l,{title:"",amount:jl,isCurrency:!1,suffix:" ",color:"text-emerald-500"}),a.jsx($l,{title:"",amount:At,isCurrency:!1,suffix:" ",color:"text-amber-500",hoverContent:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),a.jsxs("p",{className:"text-sm font-bold text-red-600 font-mono",children:["-$",(At*500).toLocaleString()]})]})})]}),a.jsx("div",{className:"px-2 mt-4",children:a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-red-100 flex justify-between items-center shadow-sm",children:[a.jsx("span",{className:"text-sm text-red-600 font-bold",children:"/"}),a.jsxs("span",{className:"text-lg font-bold text-red-600",children:["-$",(_e.loss||0).toLocaleString()]})]})}),a.jsx("div",{className:"glass-panel overflow-hidden",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-32",children:""}),a.jsx("th",{className:"p-4 w-24 text-center",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-right",children:"/"}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:xe.map(U=>{const pe=U.date,Be=S?.dailyData?.[pe]||0,ze=S?.dailyRecords?.[pe]||{},mt=Be>0;let Xe="",ht="text-yellow-500 bg-yellow-500/10 px-2 rounded font-medium";mt?(Xe=" ()",ht="text-green-400 font-bold"):ze.isLeave?(Xe="",ht="text-yellow-500 bg-yellow-500/10 px-2 rounded font-medium"):ze.isSpecialLeave?(Xe="",ht="text-emerald-500 bg-emerald-500/10 px-2 rounded font-medium"):ze.isSickLeave&&(Xe="",ht="text-amber-500 bg-amber-500/10 px-2 rounded font-medium");const el=U.weekday===""||U.weekday==="";return a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${el?"bg-slate-50/50":""}`,children:[a.jsx("td",{className:"p-4 font-mono text-slate-600",children:pe}),a.jsx("td",{className:`p-4 text-center ${U.weekday===""?"text-red-600":"text-slate-500"}`,children:U.weekday}),a.jsx("td",{className:"p-4 text-right font-mono text-emerald-600",children:Math.abs(Be)>.01?`$${Be.toLocaleString()}`:"-"}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:`text-sm ${ht}`,children:Xe})}),a.jsxs("td",{className:"p-4 text-right font-mono text-red-600",children:[Math.abs(ze.loss||0)>.01?`-$${Math.abs(ze.loss).toLocaleString()}`:"",ze.note&&a.jsx("span",{className:"block text-xs text-slate-500",children:ze.note})]}),a.jsx("td",{className:"p-4 text-center",children:o.role==="BOSS"&&a.jsx("button",{onClick:()=>{te(U),j("LEAVE")},className:"text-xs btn-ghost text-blue-400 hover:text-blue-300",children:""})})]},pe)})})]})}),_&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"glass-panel w-full max-w-md p-6 animate-fadeIn",children:[a.jsxs("h3",{className:"text-xl font-bold mb-4",children:[_.date," (",_.weekday,") "]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:" ()"}),a.jsx("div",{className:"flex bg-slate-50 rounded p-1 border border-slate-200 outline-none focus-within:ring-2 focus-within:ring-blue-500/20",tabIndex:"0",onKeyDown:U=>fe(U,"editType"),children:[{id:"WORK",label:"",color:"bg-blue-600"},{id:"LEAVE",label:"",color:"bg-yellow-600"},{id:"SPECIAL_LEAVE",label:"",color:"bg-emerald-600"},{id:"SICK_LEAVE",label:"",color:"bg-amber-600"},{id:"LOSS",label:"/",color:"bg-red-600"}].map(U=>a.jsx("button",{className:`flex-1 py-2 rounded text-xs transition-all ${C===U.id?`${U.color} text-white shadow-sm`:"text-slate-500 hover:bg-slate-100"}`,onClick:()=>j(U.id),children:U.label},U.id))})]}),C==="LOSS"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:" ()"}),a.jsx("input",{type:"number",className:"input-field w-full",placeholder:"-100",ref:ne.editValue,value:k,onChange:U=>w(U.target.value),onKeyDown:U=>fe(U,"editValue")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),a.jsx("input",{type:"text",className:"input-field w-full",placeholder:"...",ref:ne.editNote,value:W,onChange:U=>E(U.target.value),onKeyDown:U=>fe(U,"editNote")})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>te(null),className:"btn-secondary flex-1",disabled:J,children:""}),a.jsx("button",{onClick:ae,className:"btn-primary flex-1",disabled:J,children:J?"...":""})]}),J&&a.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] z-10 flex items-center justify-center rounded-lg",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-sm font-medium text-blue-600",children:"..."})]})})]})}),v&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"glass-panel w-full max-w-lg p-6 animate-fadeIn max-h-[90vh] overflow-y-auto",children:[a.jsxs("h3",{className:"text-xl font-bold mb-4",children:[" - ",G]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"number",className:"input-field w-full",ref:I.baseSalary,value:P.baseSalary,onChange:U=>ce({...P,baseSalary:U.target.value}),onKeyDown:U=>se(U,"baseSalary")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"number",className:"input-field w-full",ref:I.attendanceBonus,value:P.attendanceBonus,onChange:U=>ce({...P,attendanceBonus:U.target.value}),onKeyDown:U=>se(U,"attendanceBonus")})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"number",className:"input-field w-full",ref:I.monthlyOffDays,value:P.monthlyOffDays,onChange:U=>ce({...P,monthlyOffDays:U.target.value}),onKeyDown:U=>se(U,"monthlyOffDays")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:" ()"}),a.jsx("input",{type:"number",className:"input-field w-full",ref:I.insurance,value:P.insurance,onChange:U=>ce({...P,insurance:U.target.value}),onKeyDown:U=>se(U,"insurance")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:" (JSON)"}),a.jsx("textarea",{className:"input-field w-full font-mono text-xs h-32",ref:I.bonusTiers,value:P.bonusTiers,onChange:U=>ce({...P,bonusTiers:U.target.value}),onKeyDown:U=>se(U,"bonusTiers"),placeholder:'[{"threshold": 50000, "bonus": 1000}]'}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:': `[{"threshold": , "bonus":  }]` ( Enter )'})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>V(!1),className:"btn-secondary flex-1",disabled:J,children:""}),a.jsx("button",{onClick:Z,className:"btn-primary flex-1",disabled:J,children:J?"...":""})]}),J&&a.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] z-10 flex items-center justify-center rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),a.jsxs("span",{className:"text-sm font-medium text-blue-600 font-bold",children:["",a.jsx("br",{}),a.jsx("span",{className:"text-[10px] opacity-70",children:""})]})]})})]})}),A&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"glass-panel w-full max-w-lg p-6 animate-fadeIn",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold",children:[" - ",G]}),a.jsx("p",{className:"text-sm text-slate-400 mt-1",children:""})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"block text-xs text-slate-400 uppercase font-bold tracking-wider",children:""}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:ee.seniorityText})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"date",className:"input-field w-full",value:D.joinedDate,onChange:U=>B({...D,joinedDate:U.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:" (/)"}),a.jsx("input",{type:"text",placeholder:"05/20",className:"input-field w-full",value:D.birthday,onChange:U=>B({...D,birthday:U.target.value})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"/"}),a.jsx("input",{type:"text",className:"input-field w-full",placeholder:"A123456789",value:D.identityId,onChange:U=>B({...D,identityId:U.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"text",className:"input-field w-full",placeholder:"0912-345-678",value:D.contact,onChange:U=>B({...D,contact:U.target.value})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("textarea",{className:"input-field w-full h-24",placeholder:"...",value:D.note,onChange:U=>B({...D,note:U.target.value})})]}),a.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-lg p-3 flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-emerald-800 font-medium",children:""}),a.jsxs("span",{className:"text-xl font-bold text-emerald-600 font-mono",children:[ee.estimatedLeaveDays," "]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx("button",{onClick:()=>R(!1),className:"btn-secondary flex-1",disabled:J,children:""}),a.jsx("button",{onClick:ue,className:"btn-primary flex-1",disabled:J,children:J?"...":""})]})]})})]})}function $l({title:o,amount:L,subtext:p,color:d,isDeduction:b,isCurrency:q=!0,suffix:G="",hiddenAmount:le,hiddenTitle:f="",hoverContent:m}){const[K,F]=g.useState(!1);return a.jsxs("div",{className:"glass-panel p-4 flex flex-col justify-between h-28 relative overflow-hidden group hover:border-blue-500 transition-all cursor-default",onMouseEnter:()=>F(!0),onMouseLeave:()=>F(!1),children:[a.jsx("div",{className:"flex justify-between items-start z-10",children:a.jsx("span",{className:"text-slate-500 text-sm font-medium",children:o})}),a.jsxs("div",{className:"z-10",children:[a.jsxs("span",{className:`text-2xl font-bold tracking-tight ${d}`,children:[b&&"-",q&&"$",(L||0).toLocaleString(),G]}),p&&a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:p})]}),(le!==void 0||m)&&a.jsx("div",{className:`absolute top-0 right-0 p-2 transition-all duration-300 ${K?"translate-y-2 opacity-100":"-translate-y-full opacity-0"}`,children:a.jsx("div",{className:"bg-white/90 backdrop-blur shadow-sm border border-emerald-100 rounded px-2 py-0.5 text-right",children:m||a.jsxs(a.Fragment,{children:[f&&a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:f}),a.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:[q&&"$",(le||0).toLocaleString()]})]})})}),a.jsx("div",{className:`absolute -right-2 -bottom-2 w-16 h-16 rounded-full opacity-5 ${d?.replace("text-","bg-")||"bg-slate-400"}`})]})}const Ke="https://script.google.com/macros/s/AKfycbzIoBBRytN2Qja-AUSILlXwdAnbwnU6nfil9403HYHXJH_KrvDy3lC9rQ_U8dlP9AIt/exec";console.log("---  ---");console.log("Base URL:","/inventory-system/");Ke.includes("YOUR_SCRIPT_ID")?(console.error("  VITE_GAS_API_URL "),console.log(" GitHub Settings -> Secrets ")):console.log(" API URL :",Ke);console.log("------------------");const ma=({label:o,icon:L,active:p,children:d,id:b,openDropdown:q,setOpenDropdown:G})=>{const le=q===b;return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:f=>{f.stopPropagation(),G(le?null:b)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all duration-200 ${p?"bg-blue-50 text-blue-600 border border-blue-200 shadow-sm":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:[a.jsx(L,{size:18}),a.jsx("span",{className:"font-medium",children:o}),a.jsx(Fs,{size:14,className:`transition-transform duration-300 ${le?"rotate-180":""}`})]}),le&&a.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white/95 backdrop-blur-xl border border-slate-200 rounded-xl shadow-2xl py-2 z-[100] animate-in fade-in slide-in-from-top-2 duration-200",onClick:f=>f.stopPropagation(),children:a.jsx("div",{className:"flex flex-col gap-1 px-1",children:d})})]})},Ne=({label:o,onClick:L,active:p,icon:d})=>a.jsxs("button",{onClick:L,className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-all flex items-center gap-2 ${p?"text-blue-600 bg-blue-50 font-bold":"text-slate-500 hover:text-slate-900 hover:bg-slate-100"}`,children:[d&&a.jsx(d,{size:14}),o]}),ha=({label:o,icon:L,children:p})=>{const[d,b]=g.useState(!1);return a.jsxs("div",{className:"border-b border-slate-100 last:border-0 border-l-4 border-l-transparent hover:border-l-blue-200 transition-all",children:[a.jsxs("button",{onClick:q=>{q.stopPropagation(),b(!d)},className:"w-full flex items-center justify-between p-3 text-slate-700 font-medium active:bg-slate-50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[L&&a.jsx(L,{size:18,className:"text-slate-400"}),a.jsx("span",{children:o})]}),a.jsx(Fs,{size:16,className:`text-slate-400 transition-transform duration-300 ${d?"rotate-180":""}`})]}),a.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${d?"grid-rows-[1fr] opacity-100 pb-2":"grid-rows-[0fr] opacity-0"}`,children:a.jsx("div",{className:"overflow-hidden bg-slate-50/50 rounded-lg mx-2 border border-slate-100/50",children:p})})]})};function gp(){const[o,L]=g.useState(null),[p,d]=g.useState("sales"),[b,q]=g.useState(null),[G,le]=g.useState(!1);vl.useEffect(()=>{const S=localStorage.getItem("inventory_user");if(S){const _=JSON.parse(S);_&&typeof _.permissions>"u"?(console.warn("Detected stale user data (no permissions). Clearing session."),localStorage.removeItem("inventory_user"),L(null)):L(_)}const y=()=>{q(null),le(!1)};return window.addEventListener("click",y),()=>window.removeEventListener("click",y)},[]);const f=S=>{if(!o)return!1;if(o.role==="BOSS")return!0;let y=o.permissions;if(typeof y>"u"||y===null)y=[];else if(typeof y=="string")try{y=JSON.parse(y)}catch(_){console.error("Failed to parse permissions string:",_),y=[]}switch(Array.isArray(y)||(y=[]),S){case"sales":return y.includes("sales_entry")||y.includes("sales");case"report":return y.includes("sales_report")||y.includes("sales");case"purchase":return y.includes("purchase_entry")||y.includes("purchase");case"purchaseHistory":return y.includes("purchase_history")||y.includes("purchase");case"inventory":return y.includes("inventory_adjust")||y.includes("inventory");case"stocktake":return y.includes("inventory_stocktake")||y.includes("inventory");case"valuation":return y.includes("inventory_valuation")||y.includes("inventory");case"adjustHistory":case"stocktakeHistory":return y.includes("inventory_history")||y.includes("inventory");case"expenditureManagement":return y.includes("finance_expenditure")||y.includes("finance");case"receivable":return y.includes("finance_receivable")||y.includes("finance");case"payable":return y.includes("finance_payable")||y.includes("finance");case"incomeStatement":return y.includes("finance_income")||y.includes("finance");case"costCalculation":return y.includes("finance_cost")||y.includes("finance");case"payroll":return y.includes("finance_payroll")||y.includes("finance");case"salesRanking":return y.includes("analytics_sales")||y.includes("analytics");case"customerRanking":return y.includes("analytics_customer")||y.includes("analytics");case"profitAnalysis":return y.includes("analytics_profit")||y.includes("analytics");case"turnoverRate":return y.includes("analytics_turnover")||y.includes("analytics");case"permissionControl":return y.includes("system_config")||y.includes("system");default:return!0}},m=S=>{f(S)?(d(S),q(null),le(!1)):console.warn(`Access denied for page: ${S}`)},K=S=>{L(S),localStorage.setItem("inventory_user",JSON.stringify(S))},F=()=>{L(null),localStorage.removeItem("inventory_user")};return Ke.includes("YOUR_SCRIPT_ID")?a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-red-50 text-red-900",children:[a.jsx(gl,{size:64,className:"mb-4 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:""}),a.jsx("p",{className:"text-center max-w-md mb-6",children:" `VITE_GAS_API_URL`  GitHub Secrets  Actions "}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-200 font-mono text-xs w-full max-w-lg",children:[a.jsx("p",{className:"font-bold mb-2",children:""}),a.jsxs("p",{children:["GAS_API_URL: ",String(Ke)]}),a.jsxs("p",{children:["Base URL: ","/inventory-system/"]})]})]}):o?a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsxs("header",{className:"h-16 border-b border-slate-200 bg-white/80 backdrop-blur-md flex justify-between items-center px-6 sticky top-0 z-[60]",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("img",{src:"/inventory-system/logo.png",alt:"Logo",className:"h-10 w-auto object-contain"})}),a.jsxs("div",{className:"md:hidden relative",onClick:S=>S.stopPropagation(),children:[a.jsxs("button",{onClick:()=>le(!G),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-all ${G?"bg-blue-50 border-blue-200 text-blue-600 ring-2 ring-blue-100":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[a.jsx("span",{className:"font-bold text-sm",children:""}),a.jsx(Fs,{size:16,className:`transition-transform duration-300 ${G?"rotate-180":""}`})]}),G&&a.jsx("div",{className:"fixed top-16 left-0 right-0 mx-auto mt-2 w-[90%] max-w-md bg-white/95 backdrop-blur-xl border border-slate-200 rounded-2xl shadow-2xl overflow-y-auto max-h-[80vh] animate-in fade-in slide-in-from-top-4 duration-200 z-[100]",children:a.jsxs("div",{className:"p-2 flex flex-col",children:[(o.role==="BOSS"||f("sales")||f("report"))&&a.jsxs(ha,{label:"",icon:bc,children:[f("sales")&&a.jsx(Ne,{label:"",icon:bc,onClick:()=>m("sales"),active:p==="sales"}),f("report")&&a.jsx(Ne,{label:"",icon:Ws,onClick:()=>m("report"),active:p==="report"})]}),(o.role==="BOSS"||f("purchase")||f("purchaseHistory"))&&a.jsxs(ha,{label:"",icon:yc,children:[f("purchase")&&a.jsx(Ne,{label:"",icon:yc,onClick:()=>m("purchase"),active:p==="purchase"}),f("purchaseHistory")&&a.jsx(Ne,{label:"",icon:ts,onClick:()=>m("purchaseHistory"),active:p==="purchaseHistory"})]}),(o.role==="BOSS"||f("inventory")||f("stocktake")||f("valuation")||f("adjustHistory")||f("stocktakeHistory"))&&a.jsxs(ha,{label:"",icon:pc,children:[f("inventory")&&a.jsx(Ne,{label:"",icon:pc,onClick:()=>m("inventory"),active:p==="inventory"}),f("stocktake")&&a.jsx(Ne,{label:"",icon:vc,onClick:()=>m("stocktake"),active:p==="stocktake"}),f("valuation")&&a.jsx(Ne,{label:"",icon:ot,onClick:()=>m("valuation"),active:p==="valuation"}),f("adjustHistory")&&a.jsx(Ne,{label:"",icon:Ws,onClick:()=>m("adjustHistory"),active:p==="adjustHistory"}),f("stocktakeHistory")&&a.jsx(Ne,{label:"",icon:ts,onClick:()=>m("stocktakeHistory"),active:p==="stocktakeHistory"})]}),(o.role==="BOSS"||f("expenditureManagement"))&&a.jsx(ha,{label:"",icon:ot,children:a.jsx(Ne,{label:"",icon:ot,onClick:()=>m("expenditureManagement"),active:p==="expenditureManagement"})}),(o.role==="BOSS"||f("receivable")||f("payable")||f("incomeStatement")||f("costCalculation"))&&a.jsxs(ha,{label:"",icon:Jl,children:[f("receivable")&&a.jsx(Ne,{label:"",icon:Jl,onClick:()=>m("receivable"),active:p==="receivable"}),f("payable")&&a.jsx(Ne,{label:"",icon:Jl,onClick:()=>m("payable"),active:p==="payable"}),f("incomeStatement")&&a.jsx(Ne,{label:"",icon:Xu,onClick:()=>m("incomeStatement"),active:p==="incomeStatement"}),f("costCalculation")&&a.jsx(Ne,{label:"",icon:ot,onClick:()=>m("costCalculation"),active:p==="costCalculation"}),f("payroll")&&a.jsx(Ne,{label:"",icon:ot,onClick:()=>m("payroll"),active:p==="payroll"})]}),(o.role==="BOSS"||f("salesRanking")||f("customerRanking")||f("profitAnalysis")||f("turnoverRate"))&&a.jsxs(ha,{label:"",icon:pa,children:[f("salesRanking")&&a.jsx(Ne,{label:"",icon:Vu,onClick:()=>m("salesRanking"),active:p==="salesRanking"}),f("customerRanking")&&a.jsx(Ne,{label:"",icon:Sc,onClick:()=>m("customerRanking"),active:p==="customerRanking"}),f("profitAnalysis")&&a.jsx(Ne,{label:"",icon:pa,onClick:()=>m("profitAnalysis"),active:p==="profitAnalysis"}),f("turnoverRate")&&a.jsx(Ne,{label:"",icon:Ku,onClick:()=>m("turnoverRate"),active:p==="turnoverRate"})]}),(o.role==="BOSS"||f("permissionControl"))&&a.jsx(ha,{label:"",icon:gl,children:a.jsx(Ne,{label:"",icon:gl,onClick:()=>m("permissionControl"),active:p==="permissionControl"})})]})})]}),a.jsxs("nav",{className:"hidden md:flex gap-1",children:[(o.role==="BOSS"||f("sales")||f("report"))&&a.jsxs(ma,{id:"sales",label:"",icon:bc,openDropdown:b,setOpenDropdown:q,active:["sales","report"].includes(p),children:[f("sales")&&a.jsx(Ne,{label:"",icon:bc,onClick:()=>m("sales"),active:p==="sales"}),f("report")&&a.jsx(Ne,{label:"",icon:Ws,onClick:()=>m("report"),active:p==="report"})]}),(o.role==="BOSS"||f("purchase")||f("purchaseHistory"))&&a.jsxs(ma,{id:"purchase",label:"",icon:yc,openDropdown:b,setOpenDropdown:q,active:["purchase","purchaseHistory"].includes(p),children:[f("purchase")&&a.jsx(Ne,{label:"",icon:yc,onClick:()=>m("purchase"),active:p==="purchase"}),f("purchaseHistory")&&a.jsx(Ne,{label:"",icon:ts,onClick:()=>m("purchaseHistory"),active:p==="purchaseHistory"})]}),(o.role==="BOSS"||f("inventory")||f("stocktake")||f("valuation")||f("adjustHistory")||f("stocktakeHistory"))&&a.jsxs(ma,{id:"inventory",label:"",icon:pc,openDropdown:b,setOpenDropdown:q,active:["inventory","stocktake","valuation","adjustHistory","stocktakeHistory"].includes(p),children:[f("inventory")&&a.jsx(Ne,{label:"",icon:pc,onClick:()=>m("inventory"),active:p==="inventory"}),f("stocktake")&&a.jsx(Ne,{label:"",icon:vc,onClick:()=>m("stocktake"),active:p==="stocktake"}),f("valuation")&&a.jsx(Ne,{label:"",icon:ot,onClick:()=>m("valuation"),active:p==="valuation"}),a.jsx("div",{className:"my-1 border-t border-slate-100"}),f("adjustHistory")&&a.jsx(Ne,{label:"",icon:Ws,onClick:()=>m("adjustHistory"),active:p==="adjustHistory"}),f("stocktakeHistory")&&a.jsx(Ne,{label:"",icon:ts,onClick:()=>m("stocktakeHistory"),active:p==="stocktakeHistory"})]}),(o.role==="BOSS"||f("expenditureManagement"))&&a.jsx(ma,{id:"expenditure",label:"",icon:ot,openDropdown:b,setOpenDropdown:q,active:p==="expenditureManagement",children:a.jsx(Ne,{label:"",icon:ot,onClick:()=>m("expenditureManagement"),active:p==="expenditureManagement"})}),(o.role==="BOSS"||f("receivable")||f("payable")||f("incomeStatement")||f("costCalculation"))&&a.jsxs(ma,{id:"accounting",label:"",icon:Jl,openDropdown:b,setOpenDropdown:q,active:["receivable","payable","incomeStatement","costCalculation"].includes(p),children:[f("receivable")&&a.jsx(Ne,{label:"",icon:Jl,onClick:()=>m("receivable"),active:p==="receivable"}),f("payable")&&a.jsx(Ne,{label:"",icon:Jl,onClick:()=>m("payable"),active:p==="payable"}),f("incomeStatement")&&a.jsx(Ne,{label:"",icon:Xu,onClick:()=>m("incomeStatement"),active:p==="incomeStatement"}),a.jsx("div",{className:"my-1 border-t border-slate-100"}),f("costCalculation")&&a.jsx(Ne,{label:"",icon:ot,onClick:()=>m("costCalculation"),active:p==="costCalculation"}),f("payroll")&&a.jsx(Ne,{label:"",icon:ot,onClick:()=>m("payroll"),active:p==="payroll"})]}),(o.role==="BOSS"||f("salesRanking")||f("customerRanking")||f("profitAnalysis")||f("turnoverRate"))&&a.jsxs(ma,{id:"analytics",label:"",icon:pa,openDropdown:b,setOpenDropdown:q,active:["salesRanking","customerRanking","profitAnalysis","turnoverRate"].includes(p),children:[f("salesRanking")&&a.jsx(Ne,{label:"",icon:Vu,onClick:()=>m("salesRanking"),active:p==="salesRanking"}),f("customerRanking")&&a.jsx(Ne,{label:"",icon:Sc,onClick:()=>m("customerRanking"),active:p==="customerRanking"}),f("profitAnalysis")&&a.jsx(Ne,{label:"",icon:pa,onClick:()=>m("profitAnalysis"),active:p==="profitAnalysis"}),f("turnoverRate")&&a.jsx(Ne,{label:"",icon:Ku,onClick:()=>m("turnoverRate"),active:p==="turnoverRate"})]}),(o.role==="BOSS"||f("permissionControl"))&&a.jsx(ma,{id:"system",label:"",icon:gl,openDropdown:b,setOpenDropdown:q,active:p==="permissionControl",children:a.jsx(Ne,{label:"",icon:gl,onClick:()=>m("permissionControl"),active:p==="permissionControl"})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[a.jsx("span",{className:"text-xs font-bold text-blue-600 leading-none",children:o.username}),a.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-tighter",children:o.role})]}),a.jsx("button",{onClick:F,className:"w-10 h-10 rounded-xl flex items-center justify-center text-slate-400 hover:text-red-500 hover:bg-red-50 transition-all border border-transparent hover:border-red-100",title:"",children:a.jsx(zh,{size:20})})]})]}),a.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-hidden",children:f(p)?a.jsxs(a.Fragment,{children:[p==="sales"&&a.jsx(Ph,{user:o,apiUrl:Ke}),p==="inventory"&&a.jsx(ep,{user:o,apiUrl:Ke}),p==="purchase"&&a.jsx(tp,{user:o,apiUrl:Ke}),p==="report"&&a.jsx(lp,{user:o,apiUrl:Ke}),p==="purchaseHistory"&&a.jsx(ap,{user:o,apiUrl:Ke}),p==="adjustHistory"&&a.jsx(sp,{user:o,apiUrl:Ke}),p==="valuation"&&a.jsx(np,{user:o,apiUrl:Ke}),p==="stocktake"&&a.jsx(cp,{user:o,apiUrl:Ke}),p==="stocktakeHistory"&&a.jsx(ip,{user:o,apiUrl:Ke}),p==="receivable"&&a.jsx(up,{user:o,apiUrl:Ke}),p==="payable"&&a.jsx(rp,{user:o,apiUrl:Ke}),p==="salesRanking"&&a.jsx(op,{user:o,apiUrl:Ke}),p==="customerRanking"&&a.jsx(dp,{user:o,apiUrl:Ke}),p==="profitAnalysis"&&a.jsx(fp,{user:o,apiUrl:Ke}),p==="turnoverRate"&&a.jsx(xp,{user:o,apiUrl:Ke}),p==="costCalculation"&&a.jsx(mp,{user:o,apiUrl:Ke}),p==="expenditureManagement"&&a.jsx(pp,{user:o,apiUrl:Ke}),p==="incomeStatement"&&a.jsx(hp,{user:o,apiUrl:Ke}),p==="permissionControl"&&a.jsx(yp,{user:o,apiUrl:Ke}),p==="payroll"&&a.jsx(bp,{user:o,apiUrl:Ke})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[a.jsx(gl,{size:64,className:"mb-4 text-slate-200"}),a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),a.jsx("p",{className:"mt-2",children:""}),a.jsx("button",{onClick:()=>d("sales"),className:"mt-6 px-4 py-2 bg-white hover:bg-slate-50 text-blue-600 rounded-lg transition-colors border border-slate-200 shadow-sm",children:""})]})})]}):a.jsx(Ih,{onLogin:K,apiUrl:Ke})}Zm.createRoot(document.getElementById("root")).render(a.jsx(g.StrictMode,{children:a.jsx(gp,{})}));
