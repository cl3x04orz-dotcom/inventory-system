(function(){const q=document.createElement("link").relList;if(q&&q.supports&&q.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))d(m);new MutationObserver(m=>{for(const V of m)if(V.type==="childList")for(const w of V.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&d(w)}).observe(document,{childList:!0,subtree:!0});function g(m){const V={};return m.integrity&&(V.integrity=m.integrity),m.referrerPolicy&&(V.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?V.credentials="include":m.crossOrigin==="anonymous"?V.credentials="omit":V.credentials="same-origin",V}function d(m){if(m.ep)return;m.ep=!0;const V=g(m);fetch(m.href,V)}})();function Lm(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Tu={exports:{}},Vs={};var Xf;function Um(){if(Xf)return Vs;Xf=1;var o=Symbol.for("react.transitional.element"),q=Symbol.for("react.fragment");function g(d,m,V){var w=null;if(V!==void 0&&(w=""+V),m.key!==void 0&&(w=""+m.key),"key"in m){V={};for(var P in m)P!=="key"&&(V[P]=m[P])}else V=m;return m=V.ref,{$$typeof:o,type:d,key:w,ref:m!==void 0?m:null,props:V}}return Vs.Fragment=q,Vs.jsx=g,Vs.jsxs=g,Vs}var Kf;function Hm(){return Kf||(Kf=1,Tu.exports=Um()),Tu.exports}var s=Hm(),_u={exports:{}},ye={};var Zf;function qm(){if(Zf)return ye;Zf=1;var o=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),w=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),j=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=j&&r[j]||r["@@iterator"],typeof r=="function"?r:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,z={};function b(r,X,le){this.props=r,this.context=X,this.refs=z,this.updater=le||O}b.prototype.isReactComponent={},b.prototype.setState=function(r,X){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,X,"setState")},b.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function k(){}k.prototype=b.prototype;function S(r,X,le){this.props=r,this.context=X,this.refs=z,this.updater=le||O}var I=S.prototype=new k;I.constructor=S,te(I,b.prototype),I.isPureReactComponent=!0;var A=Array.isArray;function h(){}var K={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function ne(r,X,le){var ue=le.ref;return{$$typeof:o,type:r,key:X,ref:ue!==void 0?ue:null,props:le}}function W(r,X){return ne(r.type,X,r.props)}function R(r){return typeof r=="object"&&r!==null&&r.$$typeof===o}function M(r){var X={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(le){return X[le]})}var B=/\/+/g;function se(r,X){return typeof r=="object"&&r!==null&&r.key!=null?M(""+r.key):X.toString(36)}function ie(r){switch(r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:switch(typeof r.status=="string"?r.then(h,h):(r.status="pending",r.then(function(X){r.status==="pending"&&(r.status="fulfilled",r.value=X)},function(X){r.status==="pending"&&(r.status="rejected",r.reason=X)})),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason}}throw r}function N(r,X,le,ue,$){var ae=typeof r;(ae==="undefined"||ae==="boolean")&&(r=null);var fe=!1;if(r===null)fe=!0;else switch(ae){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(r.$$typeof){case o:case q:fe=!0;break;case Y:return fe=r._init,N(fe(r._payload),X,le,ue,$)}}if(fe)return $=$(r),fe=ue===""?"."+se(r,0):ue,A($)?(le="",fe!=null&&(le=fe.replace(B,"$&/")+"/"),N($,X,le,"",function(Te){return Te})):$!=null&&(R($)&&($=W($,le+($.key==null||r&&r.key===$.key?"":(""+$.key).replace(B,"$&/")+"/")+fe)),X.push($)),1;fe=0;var Me=ue===""?".":ue+":";if(A(r))for(var xe=0;xe<r.length;xe++)ue=r[xe],ae=Me+se(ue,xe),fe+=N(ue,X,le,ae,$);else if(xe=L(r),typeof xe=="function")for(r=xe.call(r),xe=0;!(ue=r.next()).done;)ue=ue.value,ae=Me+se(ue,xe++),fe+=N(ue,X,le,ae,$);else if(ae==="object"){if(typeof r.then=="function")return N(ie(r),X,le,ue,$);throw X=String(r),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return fe}function Q(r,X,le){if(r==null)return r;var ue=[],$=0;return N(r,ue,"","",function(ae){return X.call(le,ae,$++)}),ue}function F(r){if(r._status===-1){var X=r._result;X=X(),X.then(function(le){(r._status===0||r._status===-1)&&(r._status=1,r._result=le)},function(le){(r._status===0||r._status===-1)&&(r._status=2,r._result=le)}),r._status===-1&&(r._status=0,r._result=X)}if(r._status===1)return r._result.default;throw r._result}var ce=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},oe={map:Q,forEach:function(r,X,le){Q(r,function(){X.apply(this,arguments)},le)},count:function(r){var X=0;return Q(r,function(){X++}),X},toArray:function(r){return Q(r,function(X){return X})||[]},only:function(r){if(!R(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};return ye.Activity=E,ye.Children=oe,ye.Component=b,ye.Fragment=g,ye.Profiler=m,ye.PureComponent=S,ye.StrictMode=d,ye.Suspense=T,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ye.__COMPILER_RUNTIME={__proto__:null,c:function(r){return K.H.useMemoCache(r)}},ye.cache=function(r){return function(){return r.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(r,X,le){if(r==null)throw Error("The argument must be a React element, but you passed "+r+".");var ue=te({},r.props),$=r.key;if(X!=null)for(ae in X.key!==void 0&&($=""+X.key),X)!ee.call(X,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&X.ref===void 0||(ue[ae]=X[ae]);var ae=arguments.length-2;if(ae===1)ue.children=le;else if(1<ae){for(var fe=Array(ae),Me=0;Me<ae;Me++)fe[Me]=arguments[Me+2];ue.children=fe}return ne(r.type,$,ue)},ye.createContext=function(r){return r={$$typeof:w,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null},r.Provider=r,r.Consumer={$$typeof:V,_context:r},r},ye.createElement=function(r,X,le){var ue,$={},ae=null;if(X!=null)for(ue in X.key!==void 0&&(ae=""+X.key),X)ee.call(X,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&($[ue]=X[ue]);var fe=arguments.length-2;if(fe===1)$.children=le;else if(1<fe){for(var Me=Array(fe),xe=0;xe<fe;xe++)Me[xe]=arguments[xe+2];$.children=Me}if(r&&r.defaultProps)for(ue in fe=r.defaultProps,fe)$[ue]===void 0&&($[ue]=fe[ue]);return ne(r,ae,$)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(r){return{$$typeof:P,render:r}},ye.isValidElement=R,ye.lazy=function(r){return{$$typeof:Y,_payload:{_status:-1,_result:r},_init:F}},ye.memo=function(r,X){return{$$typeof:v,type:r,compare:X===void 0?null:X}},ye.startTransition=function(r){var X=K.T,le={};K.T=le;try{var ue=r(),$=K.S;$!==null&&$(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(h,ce)}catch(ae){ce(ae)}finally{X!==null&&le.types!==null&&(X.types=le.types),K.T=X}},ye.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ye.use=function(r){return K.H.use(r)},ye.useActionState=function(r,X,le){return K.H.useActionState(r,X,le)},ye.useCallback=function(r,X){return K.H.useCallback(r,X)},ye.useContext=function(r){return K.H.useContext(r)},ye.useDebugValue=function(){},ye.useDeferredValue=function(r,X){return K.H.useDeferredValue(r,X)},ye.useEffect=function(r,X){return K.H.useEffect(r,X)},ye.useEffectEvent=function(r){return K.H.useEffectEvent(r)},ye.useId=function(){return K.H.useId()},ye.useImperativeHandle=function(r,X,le){return K.H.useImperativeHandle(r,X,le)},ye.useInsertionEffect=function(r,X){return K.H.useInsertionEffect(r,X)},ye.useLayoutEffect=function(r,X){return K.H.useLayoutEffect(r,X)},ye.useMemo=function(r,X){return K.H.useMemo(r,X)},ye.useOptimistic=function(r,X){return K.H.useOptimistic(r,X)},ye.useReducer=function(r,X,le){return K.H.useReducer(r,X,le)},ye.useRef=function(r){return K.H.useRef(r)},ye.useState=function(r){return K.H.useState(r)},ye.useSyncExternalStore=function(r,X,le){return K.H.useSyncExternalStore(r,X,le)},ye.useTransition=function(){return K.H.useTransition()},ye.version="19.2.3",ye}var $f;function qu(){return $f||($f=1,_u.exports=qm()),_u.exports}var p=qu();const gl=Lm(p);var Mu={exports:{}},Xs={},Ou={exports:{}},ku={};var Jf;function Bm(){return Jf||(Jf=1,(function(o){function q(N,Q){var F=N.length;N.push(Q);e:for(;0<F;){var ce=F-1>>>1,oe=N[ce];if(0<m(oe,Q))N[ce]=Q,N[F]=oe,F=ce;else break e}}function g(N){return N.length===0?null:N[0]}function d(N){if(N.length===0)return null;var Q=N[0],F=N.pop();if(F!==Q){N[0]=F;e:for(var ce=0,oe=N.length,r=oe>>>1;ce<r;){var X=2*(ce+1)-1,le=N[X],ue=X+1,$=N[ue];if(0>m(le,F))ue<oe&&0>m($,le)?(N[ce]=$,N[ue]=F,ce=ue):(N[ce]=le,N[X]=F,ce=X);else if(ue<oe&&0>m($,F))N[ce]=$,N[ue]=F,ce=ue;else break e}}return Q}function m(N,Q){var F=N.sortIndex-Q.sortIndex;return F!==0?F:N.id-Q.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var V=performance;o.unstable_now=function(){return V.now()}}else{var w=Date,P=w.now();o.unstable_now=function(){return w.now()-P}}var T=[],v=[],Y=1,E=null,j=3,L=!1,O=!1,te=!1,z=!1,b=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function I(N){for(var Q=g(v);Q!==null;){if(Q.callback===null)d(v);else if(Q.startTime<=N)d(v),Q.sortIndex=Q.expirationTime,q(T,Q);else break;Q=g(v)}}function A(N){if(te=!1,I(N),!O)if(g(T)!==null)O=!0,h||(h=!0,M());else{var Q=g(v);Q!==null&&ie(A,Q.startTime-N)}}var h=!1,K=-1,ee=5,ne=-1;function W(){return z?!0:!(o.unstable_now()-ne<ee)}function R(){if(z=!1,h){var N=o.unstable_now();ne=N;var Q=!0;try{e:{O=!1,te&&(te=!1,k(K),K=-1),L=!0;var F=j;try{t:{for(I(N),E=g(T);E!==null&&!(E.expirationTime>N&&W());){var ce=E.callback;if(typeof ce=="function"){E.callback=null,j=E.priorityLevel;var oe=ce(E.expirationTime<=N);if(N=o.unstable_now(),typeof oe=="function"){E.callback=oe,I(N),Q=!0;break t}E===g(T)&&d(T),I(N)}else d(T);E=g(T)}if(E!==null)Q=!0;else{var r=g(v);r!==null&&ie(A,r.startTime-N),Q=!1}}break e}finally{E=null,j=F,L=!1}Q=void 0}}finally{Q?M():h=!1}}}var M;if(typeof S=="function")M=function(){S(R)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,se=B.port2;B.port1.onmessage=R,M=function(){se.postMessage(null)}}else M=function(){b(R,0)};function ie(N,Q){K=b(function(){N(o.unstable_now())},Q)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(N){N.callback=null},o.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<N?Math.floor(1e3/N):5},o.unstable_getCurrentPriorityLevel=function(){return j},o.unstable_next=function(N){switch(j){case 1:case 2:case 3:var Q=3;break;default:Q=j}var F=j;j=Q;try{return N()}finally{j=F}},o.unstable_requestPaint=function(){z=!0},o.unstable_runWithPriority=function(N,Q){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var F=j;j=N;try{return Q()}finally{j=F}},o.unstable_scheduleCallback=function(N,Q,F){var ce=o.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ce+F:ce):F=ce,N){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=F+oe,N={id:Y++,callback:Q,priorityLevel:N,startTime:F,expirationTime:oe,sortIndex:-1},F>ce?(N.sortIndex=F,q(v,N),g(T)===null&&N===g(v)&&(te?(k(K),K=-1):te=!0,ie(A,F-ce))):(N.sortIndex=oe,q(T,N),O||L||(O=!0,h||(h=!0,M()))),N},o.unstable_shouldYield=W,o.unstable_wrapCallback=function(N){var Q=j;return function(){var F=j;j=Q;try{return N.apply(this,arguments)}finally{j=F}}}})(ku)),ku}var Wf;function Ym(){return Wf||(Wf=1,Ou.exports=Bm()),Ou.exports}var Ru={exports:{}},ot={};var Ff;function Qm(){if(Ff)return ot;Ff=1;var o=qu();function q(T){var v="https://react.dev/errors/"+T;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var Y=2;Y<arguments.length;Y++)v+="&args[]="+encodeURIComponent(arguments[Y])}return"Minified React error #"+T+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function g(){}var d={d:{f:g,r:function(){throw Error(q(522))},D:g,C:g,L:g,m:g,X:g,S:g,M:g},p:0,findDOMNode:null},m=Symbol.for("react.portal");function V(T,v,Y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:E==null?null:""+E,children:T,containerInfo:v,implementation:Y}}var w=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function P(T,v){if(T==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,ot.createPortal=function(T,v){var Y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(q(299));return V(T,v,null,Y)},ot.flushSync=function(T){var v=w.T,Y=d.p;try{if(w.T=null,d.p=2,T)return T()}finally{w.T=v,d.p=Y,d.d.f()}},ot.preconnect=function(T,v){typeof T=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,d.d.C(T,v))},ot.prefetchDNS=function(T){typeof T=="string"&&d.d.D(T)},ot.preinit=function(T,v){if(typeof T=="string"&&v&&typeof v.as=="string"){var Y=v.as,E=P(Y,v.crossOrigin),j=typeof v.integrity=="string"?v.integrity:void 0,L=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;Y==="style"?d.d.S(T,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:E,integrity:j,fetchPriority:L}):Y==="script"&&d.d.X(T,{crossOrigin:E,integrity:j,fetchPriority:L,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},ot.preinitModule=function(T,v){if(typeof T=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var Y=P(v.as,v.crossOrigin);d.d.M(T,{crossOrigin:Y,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&d.d.M(T)},ot.preload=function(T,v){if(typeof T=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var Y=v.as,E=P(Y,v.crossOrigin);d.d.L(T,Y,{crossOrigin:E,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},ot.preloadModule=function(T,v){if(typeof T=="string")if(v){var Y=P(v.as,v.crossOrigin);d.d.m(T,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:Y,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else d.d.m(T)},ot.requestFormReset=function(T){d.d.r(T)},ot.unstable_batchedUpdates=function(T,v){return T(v)},ot.useFormState=function(T,v,Y){return w.H.useFormState(T,v,Y)},ot.useFormStatus=function(){return w.H.useHostTransitionStatus()},ot.version="19.2.3",ot}var If;function Gm(){if(If)return Ru.exports;If=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(q){console.error(q)}}return o(),Ru.exports=Qm(),Ru.exports}var Pf;function Vm(){if(Pf)return Xs;Pf=1;var o=Ym(),q=qu(),g=Gm();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function V(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function w(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function P(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T(e){if(V(e)!==e)throw Error(d(188))}function v(e){var t=e.alternate;if(!t){if(t=V(e),t===null)throw Error(d(188));return t!==e?null:e}for(var l=e,a=t;;){var n=l.return;if(n===null)break;var c=n.alternate;if(c===null){if(a=n.return,a!==null){l=a;continue}break}if(n.child===c.child){for(c=n.child;c;){if(c===l)return T(n),e;if(c===a)return T(n),t;c=c.sibling}throw Error(d(188))}if(l.return!==a.return)l=n,a=c;else{for(var i=!1,u=n.child;u;){if(u===l){i=!0,l=n,a=c;break}if(u===a){i=!0,a=n,l=c;break}u=u.sibling}if(!i){for(u=c.child;u;){if(u===l){i=!0,l=c,a=n;break}if(u===a){i=!0,a=c,l=n;break}u=u.sibling}if(!i)throw Error(d(189))}}if(l.alternate!==a)throw Error(d(190))}if(l.tag!==3)throw Error(d(188));return l.stateNode.current===l?e:t}function Y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Y(e),t!==null)return t;e=e.sibling}return null}var E=Object.assign,j=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=R&&e[R]||e["@@iterator"],typeof e=="function"?e:null)}var B=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===B?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case b:return"Profiler";case z:return"StrictMode";case A:return"Suspense";case h:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case S:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:se(e.type)||"Memo";case ee:t=e._payload,e=e._init;try{return se(e(t))}catch{}}return null}var ie=Array.isArray,N=q.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=g.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ce=[],oe=-1;function r(e){return{current:e}}function X(e){0>oe||(e.current=ce[oe],ce[oe]=null,oe--)}function le(e,t){oe++,ce[oe]=e.current,e.current=t}var ue=r(null),$=r(null),ae=r(null),fe=r(null);function Me(e,t){switch(le(ae,t),le($,e),le(ue,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?mf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=mf(t),e=hf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ue),le(ue,e)}function xe(){X(ue),X($),X(ae)}function Te(e){e.memoizedState!==null&&le(fe,e);var t=ue.current,l=hf(t,e.type);t!==l&&(le($,e),le(ue,l))}function Jt(e){$.current===e&&(X(ue),X($)),fe.current===e&&(X(fe),Bs._currentValue=F)}var St,vl;function wt(e){if(St===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);St=t&&t[1]||"",vl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+St+e+vl}var Nl=!1;function U(e,t){if(!e||Nl)return"";Nl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(H){var _=H}Reflect.construct(e,[],J)}else{try{J.call()}catch(H){_=H}e.call(J.prototype)}}else{try{throw Error()}catch(H){_=H}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(H){if(H&&_&&typeof H.stack=="string")return[H.stack,_.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),i=c[0],u=c[1];if(i&&u){var f=i.split(`
`),C=u.split(`
`);for(n=a=0;a<f.length&&!f[a].includes("DetermineComponentFrameRoot");)a++;for(;n<C.length&&!C[n].includes("DetermineComponentFrameRoot");)n++;if(a===f.length||n===C.length)for(a=f.length-1,n=C.length-1;1<=a&&0<=n&&f[a]!==C[n];)n--;for(;1<=a&&0<=n;a--,n--)if(f[a]!==C[n]){if(a!==1||n!==1)do if(a--,n--,0>n||f[a]!==C[n]){var G=`
`+f[a].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=a&&0<=n);break}}}finally{Nl=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?wt(l):""}function pe(e,t){switch(e.tag){case 26:case 27:case 5:return wt(e.type);case 16:return wt("Lazy");case 13:return e.child!==t&&t!==null?wt("Suspense Fallback"):wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return U(e.type,!1);case 11:return U(e.type.render,!1);case 1:return U(e.type,!0);case 31:return wt("Activity");default:return""}}function qe(e){try{var t="",l=null;do t+=pe(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var Ee=Object.prototype.hasOwnProperty,xt=o.unstable_scheduleCallback,Xe=o.unstable_cancelCallback,mt=o.unstable_shouldYield,el=o.unstable_requestPaint,ht=o.unstable_now,p0=o.unstable_getCurrentPriorityLevel,Vu=o.unstable_ImmediatePriority,Xu=o.unstable_UserBlockingPriority,$s=o.unstable_NormalPriority,y0=o.unstable_LowPriority,Ku=o.unstable_IdlePriority,b0=o.log,g0=o.unstable_setDisableYieldValue,Ia=null,At=null;function jl(e){if(typeof b0=="function"&&g0(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Ia,e)}catch{}}var Dt=Math.clz32?Math.clz32:j0,v0=Math.log,N0=Math.LN2;function j0(e){return e>>>=0,e===0?32:31-(v0(e)/N0|0)|0}var Js=256,Ws=262144,Fs=4194304;function $l(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Is(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var n=0,c=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var u=a&134217727;return u!==0?(a=u&~c,a!==0?n=$l(a):(i&=u,i!==0?n=$l(i):l||(l=u&~e,l!==0&&(n=$l(l))))):(u=a&~c,u!==0?n=$l(u):i!==0?n=$l(i):l||(l=a&~e,l!==0&&(n=$l(l)))),n===0?0:t!==0&&t!==n&&(t&c)===0&&(c=n&-n,l=t&-t,c>=l||c===32&&(l&4194048)!==0)?t:n}function Pa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function S0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zu(){var e=Fs;return Fs<<=1,(Fs&62914560)===0&&(Fs=4194304),e}function bc(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function es(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function w0(e,t,l,a,n,c){var i=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var u=e.entanglements,f=e.expirationTimes,C=e.hiddenUpdates;for(l=i&~l;0<l;){var G=31-Dt(l),J=1<<G;u[G]=0,f[G]=-1;var _=C[G];if(_!==null)for(C[G]=null,G=0;G<_.length;G++){var H=_[G];H!==null&&(H.lane&=-536870913)}l&=~J}a!==0&&$u(e,a,0),c!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=c&~(i&~t))}function $u(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Dt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Ju(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-Dt(l),n=1<<a;n&t|e[a]&t&&(e[a]|=t),l&=~n}}function Wu(e,t){var l=t&-t;return l=(l&42)!==0?1:gc(l),(l&(e.suspendedLanes|t))!==0?0:l}function gc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fu(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Hf(e.type))}function Iu(e,t){var l=Q.p;try{return Q.p=e,t()}finally{Q.p=l}}var Sl=Math.random().toString(36).slice(2),nt="__reactFiber$"+Sl,pt="__reactProps$"+Sl,ma="__reactContainer$"+Sl,Nc="__reactEvents$"+Sl,A0="__reactListeners$"+Sl,D0="__reactHandles$"+Sl,Pu="__reactResources$"+Sl,ts="__reactMarker$"+Sl;function jc(e){delete e[nt],delete e[pt],delete e[Nc],delete e[A0],delete e[D0]}function ha(e){var t=e[nt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[ma]||l[nt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=jf(e);e!==null;){if(l=e[nt])return l;e=jf(e)}return t}e=l,l=e.parentNode}return null}function pa(e){if(e=e[nt]||e[ma]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ls(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function ya(e){var t=e[Pu];return t||(t=e[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[ts]=!0}var er=new Set,tr={};function Jl(e,t){ba(e,t),ba(e+"Capture",t)}function ba(e,t){for(tr[e]=t,e=0;e<t.length;e++)er.add(t[e])}var E0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lr={},ar={};function z0(e){return Ee.call(ar,e)?!0:Ee.call(lr,e)?!1:E0.test(e)?ar[e]=!0:(lr[e]=!0,!1)}function Ps(e,t,l){if(z0(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function en(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function tl(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C0(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,c=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){l=""+i,c.call(this,i)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sc(e){if(!e._valueTracker){var t=sr(e)?"checked":"value";e._valueTracker=C0(e,t,""+e[t])}}function nr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=sr(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function tn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var T0=/[\n"\\]/g;function Rt(e){return e.replace(T0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wc(e,t,l,a,n,c,i,u){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?Ac(e,i,kt(t)):l!=null?Ac(e,i,kt(l)):a!=null&&e.removeAttribute("value"),n==null&&c!=null&&(e.defaultChecked=!!c),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+kt(u):e.removeAttribute("name")}function cr(e,t,l,a,n,c,i,u){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||l!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Sc(e);return}l=l!=null?""+kt(l):"",t=t!=null?""+kt(t):l,u||t===e.value||(e.value=t),e.defaultValue=t}a=a??n,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=u?e.checked:!!a,e.defaultChecked=!!a,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),Sc(e)}function Ac(e,t,l){t==="number"&&tn(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ga(e,t,l,a){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&a&&(e[l].defaultSelected=!0)}else{for(l=""+kt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function ir(e,t,l){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+kt(l):""}function ur(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(d(92));if(ie(a)){if(1<a.length)throw Error(d(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=kt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),Sc(e)}function va(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var _0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rr(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||_0.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function or(e,t,l){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var n in t)a=t[n],t.hasOwnProperty(n)&&l[n]!==a&&rr(e,n,a)}else for(var c in t)t.hasOwnProperty(c)&&rr(e,c,t[c])}function Dc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),O0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ln(e){return O0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ll(){}var Ec=null;function zc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,ja=null;function dr(e){var t=pa(e);if(t&&(e=t.stateNode)){var l=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(wc(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Rt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var n=a[pt]||null;if(!n)throw Error(d(90));wc(a,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&nr(a)}break e;case"textarea":ir(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ga(e,!!l.multiple,t,!1)}}}var Cc=!1;function fr(e,t,l){if(Cc)return e(t,l);Cc=!0;try{var a=e(t);return a}finally{if(Cc=!1,(Na!==null||ja!==null)&&(Vn(),Na&&(t=Na,e=ja,ja=Na=null,dr(t),e)))for(t=0;t<e.length;t++)dr(e[t])}}function as(e,t){var l=e.stateNode;if(l===null)return null;var a=l[pt]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(d(231,t,typeof l));return l}var al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=!1;if(al)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Tc=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Tc=!1}var wl=null,_c=null,an=null;function xr(){if(an)return an;var e,t=_c,l=t.length,a,n="value"in wl?wl.value:wl.textContent,c=n.length;for(e=0;e<l&&t[e]===n[e];e++);var i=l-e;for(a=1;a<=i&&t[l-a]===n[c-a];a++);return an=n.slice(e,1<a?1-a:void 0)}function sn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nn(){return!0}function mr(){return!1}function yt(e){function t(l,a,n,c,i){this._reactName=l,this._targetInst=n,this.type=a,this.nativeEvent=c,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(l=e[u],this[u]=l?l(c):c[u]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?nn:mr,this.isPropagationStopped=mr,this}return E(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var Wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=yt(Wl),ns=E({},Wl,{view:0,detail:0}),k0=yt(ns),Mc,Oc,cs,un=E({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cs&&(cs&&e.type==="mousemove"?(Mc=e.screenX-cs.screenX,Oc=e.screenY-cs.screenY):Oc=Mc=0,cs=e),Mc)},movementY:function(e){return"movementY"in e?e.movementY:Oc}}),hr=yt(un),R0=E({},un,{dataTransfer:0}),L0=yt(R0),U0=E({},ns,{relatedTarget:0}),kc=yt(U0),H0=E({},Wl,{animationName:0,elapsedTime:0,pseudoElement:0}),q0=yt(H0),B0=E({},Wl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Y0=yt(B0),Q0=E({},Wl,{data:0}),pr=yt(Q0),G0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=X0[e])?!!t[e]:!1}function Rc(){return K0}var Z0=E({},ns,{key:function(e){if(e.key){var t=G0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(e){return e.type==="keypress"?sn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$0=yt(Z0),J0=E({},un,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=yt(J0),W0=E({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),F0=yt(W0),I0=E({},Wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),P0=yt(I0),ex=E({},un,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tx=yt(ex),lx=E({},Wl,{newState:0,oldState:0}),ax=yt(lx),sx=[9,13,27,32],Lc=al&&"CompositionEvent"in window,is=null;al&&"documentMode"in document&&(is=document.documentMode);var nx=al&&"TextEvent"in window&&!is,br=al&&(!Lc||is&&8<is&&11>=is),gr=" ",vr=!1;function Nr(e,t){switch(e){case"keyup":return sx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function cx(e,t){switch(e){case"compositionend":return jr(t);case"keypress":return t.which!==32?null:(vr=!0,gr);case"textInput":return e=t.data,e===gr&&vr?null:e;default:return null}}function ix(e,t){if(Sa)return e==="compositionend"||!Lc&&Nr(e,t)?(e=xr(),an=_c=wl=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return br&&t.locale!=="ko"?null:t.data;default:return null}}var ux={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ux[e.type]:t==="textarea"}function wr(e,t,l,a){Na?ja?ja.push(a):ja=[a]:Na=a,t=Fn(t,"onChange"),0<t.length&&(l=new cn("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var us=null,rs=null;function rx(e){uf(e,0)}function rn(e){var t=ls(e);if(nr(t))return e}function Ar(e,t){if(e==="change")return t}var Dr=!1;if(al){var Uc;if(al){var Hc="oninput"in document;if(!Hc){var Er=document.createElement("div");Er.setAttribute("oninput","return;"),Hc=typeof Er.oninput=="function"}Uc=Hc}else Uc=!1;Dr=Uc&&(!document.documentMode||9<document.documentMode)}function zr(){us&&(us.detachEvent("onpropertychange",Cr),rs=us=null)}function Cr(e){if(e.propertyName==="value"&&rn(rs)){var t=[];wr(t,rs,e,zc(e)),fr(rx,t)}}function ox(e,t,l){e==="focusin"?(zr(),us=t,rs=l,us.attachEvent("onpropertychange",Cr)):e==="focusout"&&zr()}function dx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rn(rs)}function fx(e,t){if(e==="click")return rn(t)}function xx(e,t){if(e==="input"||e==="change")return rn(t)}function mx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:mx;function os(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var n=l[a];if(!Ee.call(t,n)||!Et(e[n],t[n]))return!1}return!0}function Tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _r(e,t){var l=Tr(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Tr(l)}}function Mr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mr(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Or(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=tn(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=tn(e.document)}return t}function qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var hx=al&&"documentMode"in document&&11>=document.documentMode,wa=null,Bc=null,ds=null,Yc=!1;function kr(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yc||wa==null||wa!==tn(a)||(a=wa,"selectionStart"in a&&qc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ds&&os(ds,a)||(ds=a,a=Fn(Bc,"onSelect"),0<a.length&&(t=new cn("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=wa)))}function Fl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Aa={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionrun:Fl("Transition","TransitionRun"),transitionstart:Fl("Transition","TransitionStart"),transitioncancel:Fl("Transition","TransitionCancel"),transitionend:Fl("Transition","TransitionEnd")},Qc={},Rr={};al&&(Rr=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Il(e){if(Qc[e])return Qc[e];if(!Aa[e])return e;var t=Aa[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Rr)return Qc[e]=t[l];return e}var Lr=Il("animationend"),Ur=Il("animationiteration"),Hr=Il("animationstart"),px=Il("transitionrun"),yx=Il("transitionstart"),bx=Il("transitioncancel"),qr=Il("transitionend"),Br=new Map,Gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gc.push("scrollEnd");function Xt(e,t){Br.set(e,t),Jl(t,[e])}var on=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Da=0,Vc=0;function dn(){for(var e=Da,t=Vc=Da=0;t<e;){var l=Lt[t];Lt[t++]=null;var a=Lt[t];Lt[t++]=null;var n=Lt[t];Lt[t++]=null;var c=Lt[t];if(Lt[t++]=null,a!==null&&n!==null){var i=a.pending;i===null?n.next=n:(n.next=i.next,i.next=n),a.pending=n}c!==0&&Yr(l,n,c)}}function fn(e,t,l,a){Lt[Da++]=e,Lt[Da++]=t,Lt[Da++]=l,Lt[Da++]=a,Vc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Xc(e,t,l,a){return fn(e,t,l,a),xn(e)}function Pl(e,t){return fn(e,null,null,t),xn(e)}function Yr(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var n=!1,c=e.return;c!==null;)c.childLanes|=l,a=c.alternate,a!==null&&(a.childLanes|=l),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(n=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,n&&t!==null&&(n=31-Dt(l),e=c.hiddenUpdates,a=e[n],a===null?e[n]=[t]:a.push(t),t.lane=l|536870912),c):null}function xn(e){if(50<Os)throw Os=0,eu=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ea={};function gx(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,l,a){return new gx(e,t,l,a)}function Kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sl(e,t){var l=e.alternate;return l===null?(l=zt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Qr(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mn(e,t,l,a,n,c){var i=0;if(a=e,typeof e=="function")Kc(e)&&(i=1);else if(typeof e=="string")i=wm(e,l,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=zt(31,l,t,n),e.elementType=ne,e.lanes=c,e;case te:return ea(l.children,n,c,t);case z:i=8,n|=24;break;case b:return e=zt(12,l,t,n|2),e.elementType=b,e.lanes=c,e;case A:return e=zt(13,l,t,n),e.elementType=A,e.lanes=c,e;case h:return e=zt(19,l,t,n),e.elementType=h,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:i=10;break e;case k:i=9;break e;case I:i=11;break e;case K:i=14;break e;case ee:i=16,a=null;break e}i=29,l=Error(d(130,e===null?"null":typeof e,"")),a=null}return t=zt(i,l,t,n),t.elementType=e,t.type=a,t.lanes=c,t}function ea(e,t,l,a){return e=zt(7,e,a,t),e.lanes=l,e}function Zc(e,t,l){return e=zt(6,e,null,t),e.lanes=l,e}function Gr(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function $c(e,t,l){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vr=new WeakMap;function Ut(e,t){if(typeof e=="object"&&e!==null){var l=Vr.get(e);return l!==void 0?l:(t={value:e,source:t,stack:qe(t)},Vr.set(e,t),t)}return{value:e,source:t,stack:qe(t)}}var za=[],Ca=0,hn=null,fs=0,Ht=[],qt=0,Al=null,Wt=1,Ft="";function nl(e,t){za[Ca++]=fs,za[Ca++]=hn,hn=e,fs=t}function Xr(e,t,l){Ht[qt++]=Wt,Ht[qt++]=Ft,Ht[qt++]=Al,Al=e;var a=Wt;e=Ft;var n=32-Dt(a)-1;a&=~(1<<n),l+=1;var c=32-Dt(t)+n;if(30<c){var i=n-n%5;c=(a&(1<<i)-1).toString(32),a>>=i,n-=i,Wt=1<<32-Dt(t)+n|l<<n|a,Ft=c+e}else Wt=1<<c|l<<n|a,Ft=e}function Jc(e){e.return!==null&&(nl(e,1),Xr(e,1,0))}function Wc(e){for(;e===hn;)hn=za[--Ca],za[Ca]=null,fs=za[--Ca],za[Ca]=null;for(;e===Al;)Al=Ht[--qt],Ht[qt]=null,Ft=Ht[--qt],Ht[qt]=null,Wt=Ht[--qt],Ht[qt]=null}function Kr(e,t){Ht[qt++]=Wt,Ht[qt++]=Ft,Ht[qt++]=Al,Wt=t.id,Ft=t.overflow,Al=e}var ct=null,Ye=null,De=!1,Dl=null,Bt=!1,Fc=Error(d(519));function El(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xs(Ut(t,e)),Fc}function Zr(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[nt]=e,t[pt]=a,l){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(l=0;l<Rs.length;l++)Se(Rs[l],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),cr(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),ur(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||ff(t.textContent,l)?(a.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),a.onScroll!=null&&Se("scroll",t),a.onScrollEnd!=null&&Se("scrollend",t),a.onClick!=null&&(t.onclick=ll),t=!0):t=!1,t||El(e,!0)}function $r(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:ct=ct.return}}function Ta(e){if(e!==ct)return!1;if(!De)return $r(e),De=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||hu(e.type,e.memoizedProps)),l=!l),l&&Ye&&El(e),$r(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Ye=Nf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Ye=Nf(e)}else t===27?(t=Ye,Yl(e.type)?(e=vu,vu=null,Ye=e):Ye=t):Ye=ct?Qt(e.stateNode.nextSibling):null;return!0}function ta(){Ye=ct=null,De=!1}function Ic(){var e=Dl;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),Dl=null),e}function xs(e){Dl===null?Dl=[e]:Dl.push(e)}var Pc=r(null),la=null,cl=null;function zl(e,t,l){le(Pc,t._currentValue),t._currentValue=l}function il(e){e._currentValue=Pc.current,X(Pc)}function ei(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function ti(e,t,l,a){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var c=n.dependencies;if(c!==null){var i=n.child;c=c.firstContext;e:for(;c!==null;){var u=c;c=n;for(var f=0;f<t.length;f++)if(u.context===t[f]){c.lanes|=l,u=c.alternate,u!==null&&(u.lanes|=l),ei(c.return,l,e),a||(i=null);break e}c=u.next}}else if(n.tag===18){if(i=n.return,i===null)throw Error(d(341));i.lanes|=l,c=i.alternate,c!==null&&(c.lanes|=l),ei(i,l,e),i=null}else i=n.child;if(i!==null)i.return=n;else for(i=n;i!==null;){if(i===e){i=null;break}if(n=i.sibling,n!==null){n.return=i.return,i=n;break}i=i.return}n=i}}function _a(e,t,l,a){e=null;for(var n=t,c=!1;n!==null;){if(!c){if((n.flags&524288)!==0)c=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var i=n.alternate;if(i===null)throw Error(d(387));if(i=i.memoizedProps,i!==null){var u=n.type;Et(n.pendingProps.value,i.value)||(e!==null?e.push(u):e=[u])}}else if(n===fe.current){if(i=n.alternate,i===null)throw Error(d(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Bs):e=[Bs])}n=n.return}e!==null&&ti(t,e,l,a),t.flags|=262144}function pn(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function aa(e){la=e,cl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Jr(la,e)}function yn(e,t){return la===null&&aa(e),Jr(e,t)}function Jr(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},cl===null){if(e===null)throw Error(d(308));cl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cl=cl.next=t;return l}var vx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Nx=o.unstable_scheduleCallback,jx=o.unstable_NormalPriority,We={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function li(){return{controller:new vx,data:new Map,refCount:0}}function ms(e){e.refCount--,e.refCount===0&&Nx(jx,function(){e.controller.abort()})}var hs=null,ai=0,Ma=0,Oa=null;function Sx(e,t){if(hs===null){var l=hs=[];ai=0,Ma=cu(),Oa={status:"pending",value:void 0,then:function(a){l.push(a)}}}return ai++,t.then(Wr,Wr),t}function Wr(){if(--ai===0&&hs!==null){Oa!==null&&(Oa.status="fulfilled");var e=hs;hs=null,Ma=0,Oa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function wx(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(a.status="rejected",a.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),a}var Fr=N.S;N.S=function(e,t){Rd=ht(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Sx(e,t),Fr!==null&&Fr(e,t)};var sa=r(null);function si(){var e=sa.current;return e!==null?e:He.pooledCache}function bn(e,t){t===null?le(sa,sa.current):le(sa,t.pool)}function Ir(){var e=si();return e===null?null:{parent:We._currentValue,pool:e}}var ka=Error(d(460)),ni=Error(d(474)),gn=Error(d(542)),vn={then:function(){}};function Pr(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eo(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(ll,ll),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lo(e),e;default:if(typeof t.status=="string")t.then(ll,ll);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=a}},function(a){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lo(e),e}throw ca=t,ka}}function na(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ca=l,ka):l}}var ca=null;function to(){if(ca===null)throw Error(d(459));var e=ca;return ca=null,e}function lo(e){if(e===ka||e===gn)throw Error(d(483))}var Ra=null,ps=0;function Nn(e){var t=ps;return ps+=1,Ra===null&&(Ra=[]),eo(Ra,e,t)}function ys(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function jn(e,t){throw t.$$typeof===j?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ao(e){function t(y,x){if(e){var D=y.deletions;D===null?(y.deletions=[x],y.flags|=16):D.push(x)}}function l(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function a(y){for(var x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function n(y,x){return y=sl(y,x),y.index=0,y.sibling=null,y}function c(y,x,D){return y.index=D,e?(D=y.alternate,D!==null?(D=D.index,D<x?(y.flags|=67108866,x):D):(y.flags|=67108866,x)):(y.flags|=1048576,x)}function i(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function u(y,x,D,Z){return x===null||x.tag!==6?(x=Zc(D,y.mode,Z),x.return=y,x):(x=n(x,D),x.return=y,x)}function f(y,x,D,Z){var me=D.type;return me===te?G(y,x,D.props.children,Z,D.key):x!==null&&(x.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ee&&na(me)===x.type)?(x=n(x,D.props),ys(x,D),x.return=y,x):(x=mn(D.type,D.key,D.props,null,y.mode,Z),ys(x,D),x.return=y,x)}function C(y,x,D,Z){return x===null||x.tag!==4||x.stateNode.containerInfo!==D.containerInfo||x.stateNode.implementation!==D.implementation?(x=$c(D,y.mode,Z),x.return=y,x):(x=n(x,D.children||[]),x.return=y,x)}function G(y,x,D,Z,me){return x===null||x.tag!==7?(x=ea(D,y.mode,Z,me),x.return=y,x):(x=n(x,D),x.return=y,x)}function J(y,x,D){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Zc(""+x,y.mode,D),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case L:return D=mn(x.type,x.key,x.props,null,y.mode,D),ys(D,x),D.return=y,D;case O:return x=$c(x,y.mode,D),x.return=y,x;case ee:return x=na(x),J(y,x,D)}if(ie(x)||M(x))return x=ea(x,y.mode,D,null),x.return=y,x;if(typeof x.then=="function")return J(y,Nn(x),D);if(x.$$typeof===S)return J(y,yn(y,x),D);jn(y,x)}return null}function _(y,x,D,Z){var me=x!==null?x.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return me!==null?null:u(y,x,""+D,Z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case L:return D.key===me?f(y,x,D,Z):null;case O:return D.key===me?C(y,x,D,Z):null;case ee:return D=na(D),_(y,x,D,Z)}if(ie(D)||M(D))return me!==null?null:G(y,x,D,Z,null);if(typeof D.then=="function")return _(y,x,Nn(D),Z);if(D.$$typeof===S)return _(y,x,yn(y,D),Z);jn(y,D)}return null}function H(y,x,D,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return y=y.get(D)||null,u(x,y,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case L:return y=y.get(Z.key===null?D:Z.key)||null,f(x,y,Z,me);case O:return y=y.get(Z.key===null?D:Z.key)||null,C(x,y,Z,me);case ee:return Z=na(Z),H(y,x,D,Z,me)}if(ie(Z)||M(Z))return y=y.get(D)||null,G(x,y,Z,me,null);if(typeof Z.then=="function")return H(y,x,D,Nn(Z),me);if(Z.$$typeof===S)return H(y,x,D,yn(x,Z),me);jn(x,Z)}return null}function re(y,x,D,Z){for(var me=null,ze=null,de=x,ge=x=0,Ae=null;de!==null&&ge<D.length;ge++){de.index>ge?(Ae=de,de=null):Ae=de.sibling;var Ce=_(y,de,D[ge],Z);if(Ce===null){de===null&&(de=Ae);break}e&&de&&Ce.alternate===null&&t(y,de),x=c(Ce,x,ge),ze===null?me=Ce:ze.sibling=Ce,ze=Ce,de=Ae}if(ge===D.length)return l(y,de),De&&nl(y,ge),me;if(de===null){for(;ge<D.length;ge++)de=J(y,D[ge],Z),de!==null&&(x=c(de,x,ge),ze===null?me=de:ze.sibling=de,ze=de);return De&&nl(y,ge),me}for(de=a(de);ge<D.length;ge++)Ae=H(de,y,ge,D[ge],Z),Ae!==null&&(e&&Ae.alternate!==null&&de.delete(Ae.key===null?ge:Ae.key),x=c(Ae,x,ge),ze===null?me=Ae:ze.sibling=Ae,ze=Ae);return e&&de.forEach(function(Kl){return t(y,Kl)}),De&&nl(y,ge),me}function he(y,x,D,Z){if(D==null)throw Error(d(151));for(var me=null,ze=null,de=x,ge=x=0,Ae=null,Ce=D.next();de!==null&&!Ce.done;ge++,Ce=D.next()){de.index>ge?(Ae=de,de=null):Ae=de.sibling;var Kl=_(y,de,Ce.value,Z);if(Kl===null){de===null&&(de=Ae);break}e&&de&&Kl.alternate===null&&t(y,de),x=c(Kl,x,ge),ze===null?me=Kl:ze.sibling=Kl,ze=Kl,de=Ae}if(Ce.done)return l(y,de),De&&nl(y,ge),me;if(de===null){for(;!Ce.done;ge++,Ce=D.next())Ce=J(y,Ce.value,Z),Ce!==null&&(x=c(Ce,x,ge),ze===null?me=Ce:ze.sibling=Ce,ze=Ce);return De&&nl(y,ge),me}for(de=a(de);!Ce.done;ge++,Ce=D.next())Ce=H(de,y,ge,Ce.value,Z),Ce!==null&&(e&&Ce.alternate!==null&&de.delete(Ce.key===null?ge:Ce.key),x=c(Ce,x,ge),ze===null?me=Ce:ze.sibling=Ce,ze=Ce);return e&&de.forEach(function(Rm){return t(y,Rm)}),De&&nl(y,ge),me}function Ue(y,x,D,Z){if(typeof D=="object"&&D!==null&&D.type===te&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case L:e:{for(var me=D.key;x!==null;){if(x.key===me){if(me=D.type,me===te){if(x.tag===7){l(y,x.sibling),Z=n(x,D.props.children),Z.return=y,y=Z;break e}}else if(x.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ee&&na(me)===x.type){l(y,x.sibling),Z=n(x,D.props),ys(Z,D),Z.return=y,y=Z;break e}l(y,x);break}else t(y,x);x=x.sibling}D.type===te?(Z=ea(D.props.children,y.mode,Z,D.key),Z.return=y,y=Z):(Z=mn(D.type,D.key,D.props,null,y.mode,Z),ys(Z,D),Z.return=y,y=Z)}return i(y);case O:e:{for(me=D.key;x!==null;){if(x.key===me)if(x.tag===4&&x.stateNode.containerInfo===D.containerInfo&&x.stateNode.implementation===D.implementation){l(y,x.sibling),Z=n(x,D.children||[]),Z.return=y,y=Z;break e}else{l(y,x);break}else t(y,x);x=x.sibling}Z=$c(D,y.mode,Z),Z.return=y,y=Z}return i(y);case ee:return D=na(D),Ue(y,x,D,Z)}if(ie(D))return re(y,x,D,Z);if(M(D)){if(me=M(D),typeof me!="function")throw Error(d(150));return D=me.call(D),he(y,x,D,Z)}if(typeof D.then=="function")return Ue(y,x,Nn(D),Z);if(D.$$typeof===S)return Ue(y,x,yn(y,D),Z);jn(y,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,x!==null&&x.tag===6?(l(y,x.sibling),Z=n(x,D),Z.return=y,y=Z):(l(y,x),Z=Zc(D,y.mode,Z),Z.return=y,y=Z),i(y)):l(y,x)}return function(y,x,D,Z){try{ps=0;var me=Ue(y,x,D,Z);return Ra=null,me}catch(de){if(de===ka||de===gn)throw de;var ze=zt(29,de,null,y.mode);return ze.lanes=Z,ze.return=y,ze}}}var ia=ao(!0),so=ao(!1),Cl=!1;function ci(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ii(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _l(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(_e&2)!==0){var n=a.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),a.pending=t,t=xn(e),Yr(e,null,l),t}return fn(e,a,t,l),xn(e)}function bs(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Ju(e,l)}}function ui(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var n=null,c=null;if(l=l.firstBaseUpdate,l!==null){do{var i={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};c===null?n=c=i:c=c.next=i,l=l.next}while(l!==null);c===null?n=c=t:c=c.next=t}else n=c=t;l={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var ri=!1;function gs(){if(ri){var e=Oa;if(e!==null)throw e}}function vs(e,t,l,a){ri=!1;var n=e.updateQueue;Cl=!1;var c=n.firstBaseUpdate,i=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var f=u,C=f.next;f.next=null,i===null?c=C:i.next=C,i=f;var G=e.alternate;G!==null&&(G=G.updateQueue,u=G.lastBaseUpdate,u!==i&&(u===null?G.firstBaseUpdate=C:u.next=C,G.lastBaseUpdate=f))}if(c!==null){var J=n.baseState;i=0,G=C=f=null,u=c;do{var _=u.lane&-536870913,H=_!==u.lane;if(H?(we&_)===_:(a&_)===_){_!==0&&_===Ma&&(ri=!0),G!==null&&(G=G.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var re=e,he=u;_=t;var Ue=l;switch(he.tag){case 1:if(re=he.payload,typeof re=="function"){J=re.call(Ue,J,_);break e}J=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=he.payload,_=typeof re=="function"?re.call(Ue,J,_):re,_==null)break e;J=E({},J,_);break e;case 2:Cl=!0}}_=u.callback,_!==null&&(e.flags|=64,H&&(e.flags|=8192),H=n.callbacks,H===null?n.callbacks=[_]:H.push(_))}else H={lane:_,tag:u.tag,payload:u.payload,callback:u.callback,next:null},G===null?(C=G=H,f=J):G=G.next=H,i|=_;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;H=u,u=H.next,H.next=null,n.lastBaseUpdate=H,n.shared.pending=null}}while(!0);G===null&&(f=J),n.baseState=f,n.firstBaseUpdate=C,n.lastBaseUpdate=G,c===null&&(n.shared.lanes=0),Ll|=i,e.lanes=i,e.memoizedState=J}}function no(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function co(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)no(l[e],t)}var La=r(null),Sn=r(0);function io(e,t){e=pl,le(Sn,e),le(La,t),pl=e|t.baseLanes}function oi(){le(Sn,pl),le(La,La.current)}function di(){pl=Sn.current,X(La),X(Sn)}var Ct=r(null),Yt=null;function Ml(e){var t=e.alternate;le($e,$e.current&1),le(Ct,e),Yt===null&&(t===null||La.current!==null||t.memoizedState!==null)&&(Yt=e)}function fi(e){le($e,$e.current),le(Ct,e),Yt===null&&(Yt=e)}function uo(e){e.tag===22?(le($e,$e.current),le(Ct,e),Yt===null&&(Yt=e)):Ol()}function Ol(){le($e,$e.current),le(Ct,Ct.current)}function Tt(e){X(Ct),Yt===e&&(Yt=null),X($e)}var $e=r(0);function wn(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||bu(l)||gu(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=0,be=null,Re=null,Fe=null,An=!1,Ua=!1,ua=!1,Dn=0,Ns=0,Ha=null,Ax=0;function Ke(){throw Error(d(321))}function xi(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Et(e[l],t[l]))return!1;return!0}function mi(e,t,l,a,n,c){return ul=c,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?Ko:Ci,ua=!1,c=l(a,n),ua=!1,Ua&&(c=oo(t,l,a,n)),ro(e),c}function ro(e){N.H=ws;var t=Re!==null&&Re.next!==null;if(ul=0,Fe=Re=be=null,An=!1,Ns=0,Ha=null,t)throw Error(d(300));e===null||Ie||(e=e.dependencies,e!==null&&pn(e)&&(Ie=!0))}function oo(e,t,l,a){be=e;var n=0;do{if(Ua&&(Ha=null),Ns=0,Ua=!1,25<=n)throw Error(d(301));if(n+=1,Fe=Re=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}N.H=Zo,c=t(l,a)}while(Ua);return c}function Dx(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?js(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(be.flags|=1024),t}function hi(){var e=Dn!==0;return Dn=0,e}function pi(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function yi(e){if(An){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}An=!1}ul=0,Fe=Re=be=null,Ua=!1,Ns=Dn=0,Ha=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?be.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Je(){if(Re===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Fe===null?be.memoizedState:Fe.next;if(t!==null)Fe=t,Re=e;else{if(e===null)throw be.alternate===null?Error(d(467)):Error(d(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Fe===null?be.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function En(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function js(e){var t=Ns;return Ns+=1,Ha===null&&(Ha=[]),e=eo(Ha,e,t),t=be,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?Ko:Ci),e}function zn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return js(e);if(e.$$typeof===S)return it(e)}throw Error(d(438,String(e)))}function bi(e){var t=null,l=be.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=be.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=En(),be.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=W;return t.index++,l}function rl(e,t){return typeof t=="function"?t(e):t}function Cn(e){var t=Je();return gi(t,Re,e)}function gi(e,t,l){var a=e.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=l;var n=e.baseQueue,c=a.pending;if(c!==null){if(n!==null){var i=n.next;n.next=c.next,c.next=i}t.baseQueue=n=c,a.pending=null}if(c=e.baseState,n===null)e.memoizedState=c;else{t=n.next;var u=i=null,f=null,C=t,G=!1;do{var J=C.lane&-536870913;if(J!==C.lane?(we&J)===J:(ul&J)===J){var _=C.revertLane;if(_===0)f!==null&&(f=f.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),J===Ma&&(G=!0);else if((ul&_)===_){C=C.next,_===Ma&&(G=!0);continue}else J={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},f===null?(u=f=J,i=c):f=f.next=J,be.lanes|=_,Ll|=_;J=C.action,ua&&l(c,J),c=C.hasEagerState?C.eagerState:l(c,J)}else _={lane:J,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},f===null?(u=f=_,i=c):f=f.next=_,be.lanes|=J,Ll|=J;C=C.next}while(C!==null&&C!==t);if(f===null?i=c:f.next=u,!Et(c,e.memoizedState)&&(Ie=!0,G&&(l=Oa,l!==null)))throw l;e.memoizedState=c,e.baseState=i,e.baseQueue=f,a.lastRenderedState=c}return n===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function vi(e){var t=Je(),l=t.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=e;var a=l.dispatch,n=l.pending,c=t.memoizedState;if(n!==null){l.pending=null;var i=n=n.next;do c=e(c,i.action),i=i.next;while(i!==n);Et(c,t.memoizedState)||(Ie=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),l.lastRenderedState=c}return[c,a]}function fo(e,t,l){var a=be,n=Je(),c=De;if(c){if(l===void 0)throw Error(d(407));l=l()}else l=t();var i=!Et((Re||n).memoizedState,l);if(i&&(n.memoizedState=l,Ie=!0),n=n.queue,Si(ho.bind(null,a,n,e),[e]),n.getSnapshot!==t||i||Fe!==null&&Fe.memoizedState.tag&1){if(a.flags|=2048,qa(9,{destroy:void 0},mo.bind(null,a,n,l,t),null),He===null)throw Error(d(349));c||(ul&127)!==0||xo(a,t,l)}return l}function xo(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=be.updateQueue,t===null?(t=En(),be.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function mo(e,t,l,a){t.value=l,t.getSnapshot=a,po(t)&&yo(e)}function ho(e,t,l){return l(function(){po(t)&&yo(e)})}function po(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Et(e,l)}catch{return!0}}function yo(e){var t=Pl(e,2);t!==null&&jt(t,e,2)}function Ni(e){var t=dt();if(typeof e=="function"){var l=e;if(e=l(),ua){jl(!0);try{l()}finally{jl(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t}function bo(e,t,l,a){return e.baseState=l,gi(e,Re,typeof a=="function"?a:rl)}function Ex(e,t,l,a,n){if(Mn(e))throw Error(d(485));if(e=t.action,e!==null){var c={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){c.listeners.push(i)}};N.T!==null?l(!0):c.isTransition=!1,a(c),l=t.pending,l===null?(c.next=t.pending=c,go(t,c)):(c.next=l.next,t.pending=l.next=c)}}function go(e,t){var l=t.action,a=t.payload,n=e.state;if(t.isTransition){var c=N.T,i={};N.T=i;try{var u=l(n,a),f=N.S;f!==null&&f(i,u),vo(e,t,u)}catch(C){ji(e,t,C)}finally{c!==null&&i.types!==null&&(c.types=i.types),N.T=c}}else try{c=l(n,a),vo(e,t,c)}catch(C){ji(e,t,C)}}function vo(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){No(e,t,a)},function(a){return ji(e,t,a)}):No(e,t,l)}function No(e,t,l){t.status="fulfilled",t.value=l,jo(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,go(e,l)))}function ji(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,jo(t),t=t.next;while(t!==a)}e.action=null}function jo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function So(e,t){return t}function wo(e,t){if(De){var l=He.formState;if(l!==null){e:{var a=be;if(De){if(Ye){t:{for(var n=Ye,c=Bt;n.nodeType!==8;){if(!c){n=null;break t}if(n=Qt(n.nextSibling),n===null){n=null;break t}}c=n.data,n=c==="F!"||c==="F"?n:null}if(n){Ye=Qt(n.nextSibling),a=n.data==="F!";break e}}El(a)}a=!1}a&&(t=l[0])}}return l=dt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:t},l.queue=a,l=Go.bind(null,be,a),a.dispatch=l,a=Ni(!1),c=zi.bind(null,be,!1,a.queue),a=dt(),n={state:t,dispatch:null,action:e,pending:null},a.queue=n,l=Ex.bind(null,be,n,c,l),n.dispatch=l,a.memoizedState=e,[t,l,!1]}function Ao(e){var t=Je();return Do(t,Re,e)}function Do(e,t,l){if(t=gi(e,t,So)[0],e=Cn(rl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=js(t)}catch(i){throw i===ka?gn:i}else a=t;t=Je();var n=t.queue,c=n.dispatch;return l!==t.memoizedState&&(be.flags|=2048,qa(9,{destroy:void 0},zx.bind(null,n,l),null)),[a,c,e]}function zx(e,t){e.action=t}function Eo(e){var t=Je(),l=Re;if(l!==null)return Do(t,l,e);Je(),t=t.memoizedState,l=Je();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function qa(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=be.updateQueue,t===null&&(t=En(),be.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function zo(){return Je().memoizedState}function Tn(e,t,l,a){var n=dt();be.flags|=e,n.memoizedState=qa(1|t,{destroy:void 0},l,a===void 0?null:a)}function _n(e,t,l,a){var n=Je();a=a===void 0?null:a;var c=n.memoizedState.inst;Re!==null&&a!==null&&xi(a,Re.memoizedState.deps)?n.memoizedState=qa(t,c,l,a):(be.flags|=e,n.memoizedState=qa(1|t,c,l,a))}function Co(e,t){Tn(8390656,8,e,t)}function Si(e,t){_n(2048,8,e,t)}function Cx(e){be.flags|=4;var t=be.updateQueue;if(t===null)t=En(),be.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function To(e){var t=Je().memoizedState;return Cx({ref:t,nextImpl:e}),function(){if((_e&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function _o(e,t){return _n(4,2,e,t)}function Mo(e,t){return _n(4,4,e,t)}function Oo(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ko(e,t,l){l=l!=null?l.concat([e]):null,_n(4,4,Oo.bind(null,t,e),l)}function wi(){}function Ro(e,t){var l=Je();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&xi(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function Lo(e,t){var l=Je();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&xi(t,a[1]))return a[0];if(a=e(),ua){jl(!0);try{e()}finally{jl(!1)}}return l.memoizedState=[a,t],a}function Ai(e,t,l){return l===void 0||(ul&1073741824)!==0&&(we&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Ud(),be.lanes|=e,Ll|=e,l)}function Uo(e,t,l,a){return Et(l,t)?l:La.current!==null?(e=Ai(e,l,a),Et(e,t)||(Ie=!0),e):(ul&42)===0||(ul&1073741824)!==0&&(we&261930)===0?(Ie=!0,e.memoizedState=l):(e=Ud(),be.lanes|=e,Ll|=e,t)}function Ho(e,t,l,a,n){var c=Q.p;Q.p=c!==0&&8>c?c:8;var i=N.T,u={};N.T=u,zi(e,!1,t,l);try{var f=n(),C=N.S;if(C!==null&&C(u,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var G=wx(f,a);Ss(e,t,G,Ot(e))}else Ss(e,t,a,Ot(e))}catch(J){Ss(e,t,{then:function(){},status:"rejected",reason:J},Ot())}finally{Q.p=c,i!==null&&u.types!==null&&(i.types=u.types),N.T=i}}function Tx(){}function Di(e,t,l,a){if(e.tag!==5)throw Error(d(476));var n=qo(e).queue;Ho(e,n,t,F,l===null?Tx:function(){return Bo(e),l(a)})}function qo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:F},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Bo(e){var t=qo(e);t.next===null&&(t=e.alternate.memoizedState),Ss(e,t.next.queue,{},Ot())}function Ei(){return it(Bs)}function Yo(){return Je().memoizedState}function Qo(){return Je().memoizedState}function _x(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Ot();e=Tl(l);var a=_l(t,e,l);a!==null&&(jt(a,t,l),bs(a,t,l)),t={cache:li()},e.payload=t;return}t=t.return}}function Mx(e,t,l){var a=Ot();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mn(e)?Vo(t,l):(l=Xc(e,t,l,a),l!==null&&(jt(l,e,a),Xo(l,t,a)))}function Go(e,t,l){var a=Ot();Ss(e,t,l,a)}function Ss(e,t,l,a){var n={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Mn(e))Vo(t,n);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var i=t.lastRenderedState,u=c(i,l);if(n.hasEagerState=!0,n.eagerState=u,Et(u,i))return fn(e,t,n,0),He===null&&dn(),!1}catch{}if(l=Xc(e,t,n,a),l!==null)return jt(l,e,a),Xo(l,t,a),!0}return!1}function zi(e,t,l,a){if(a={lane:2,revertLane:cu(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Mn(e)){if(t)throw Error(d(479))}else t=Xc(e,l,a,2),t!==null&&jt(t,e,2)}function Mn(e){var t=e.alternate;return e===be||t!==null&&t===be}function Vo(e,t){Ua=An=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Xo(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Ju(e,l)}}var ws={readContext:it,use:zn,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};ws.useEffectEvent=Ke;var Ko={readContext:it,use:zn,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Co,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Tn(4194308,4,Oo.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Tn(4194308,4,e,t)},useInsertionEffect:function(e,t){Tn(4,2,e,t)},useMemo:function(e,t){var l=dt();t=t===void 0?null:t;var a=e();if(ua){jl(!0);try{e()}finally{jl(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=dt();if(l!==void 0){var n=l(t);if(ua){jl(!0);try{l(t)}finally{jl(!1)}}}else n=t;return a.memoizedState=a.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},a.queue=e,e=e.dispatch=Mx.bind(null,be,e),[a.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ni(e);var t=e.queue,l=Go.bind(null,be,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:wi,useDeferredValue:function(e,t){var l=dt();return Ai(l,e,t)},useTransition:function(){var e=Ni(!1);return e=Ho.bind(null,be,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=be,n=dt();if(De){if(l===void 0)throw Error(d(407));l=l()}else{if(l=t(),He===null)throw Error(d(349));(we&127)!==0||xo(a,t,l)}n.memoizedState=l;var c={value:l,getSnapshot:t};return n.queue=c,Co(ho.bind(null,a,c,e),[e]),a.flags|=2048,qa(9,{destroy:void 0},mo.bind(null,a,c,l,t),null),l},useId:function(){var e=dt(),t=He.identifierPrefix;if(De){var l=Ft,a=Wt;l=(a&~(1<<32-Dt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=Dn++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Ax++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ei,useFormState:wo,useActionState:wo,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=zi.bind(null,be,!0,l),l.dispatch=t,[e,t]},useMemoCache:bi,useCacheRefresh:function(){return dt().memoizedState=_x.bind(null,be)},useEffectEvent:function(e){var t=dt(),l={impl:e};return t.memoizedState=l,function(){if((_e&2)!==0)throw Error(d(440));return l.impl.apply(void 0,arguments)}}},Ci={readContext:it,use:zn,useCallback:Ro,useContext:it,useEffect:Si,useImperativeHandle:ko,useInsertionEffect:_o,useLayoutEffect:Mo,useMemo:Lo,useReducer:Cn,useRef:zo,useState:function(){return Cn(rl)},useDebugValue:wi,useDeferredValue:function(e,t){var l=Je();return Uo(l,Re.memoizedState,e,t)},useTransition:function(){var e=Cn(rl)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:js(e),t]},useSyncExternalStore:fo,useId:Yo,useHostTransitionStatus:Ei,useFormState:Ao,useActionState:Ao,useOptimistic:function(e,t){var l=Je();return bo(l,Re,e,t)},useMemoCache:bi,useCacheRefresh:Qo};Ci.useEffectEvent=To;var Zo={readContext:it,use:zn,useCallback:Ro,useContext:it,useEffect:Si,useImperativeHandle:ko,useInsertionEffect:_o,useLayoutEffect:Mo,useMemo:Lo,useReducer:vi,useRef:zo,useState:function(){return vi(rl)},useDebugValue:wi,useDeferredValue:function(e,t){var l=Je();return Re===null?Ai(l,e,t):Uo(l,Re.memoizedState,e,t)},useTransition:function(){var e=vi(rl)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:js(e),t]},useSyncExternalStore:fo,useId:Yo,useHostTransitionStatus:Ei,useFormState:Eo,useActionState:Eo,useOptimistic:function(e,t){var l=Je();return Re!==null?bo(l,Re,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:bi,useCacheRefresh:Qo};Zo.useEffectEvent=To;function Ti(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:E({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var _i={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Ot(),n=Tl(a);n.payload=t,l!=null&&(n.callback=l),t=_l(e,n,a),t!==null&&(jt(t,e,a),bs(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Ot(),n=Tl(a);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=_l(e,n,a),t!==null&&(jt(t,e,a),bs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Ot(),a=Tl(l);a.tag=2,t!=null&&(a.callback=t),t=_l(e,a,l),t!==null&&(jt(t,e,l),bs(t,e,l))}};function $o(e,t,l,a,n,c,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,i):t.prototype&&t.prototype.isPureReactComponent?!os(l,a)||!os(n,c):!0}function Jo(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&_i.enqueueReplaceState(t,t.state,null)}function ra(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=E({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function Wo(e){on(e)}function Fo(e){console.error(e)}function Io(e){on(e)}function On(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Po(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Mi(e,t,l){return l=Tl(l),l.tag=3,l.payload={element:null},l.callback=function(){On(e,t)},l}function ed(e){return e=Tl(e),e.tag=3,e}function td(e,t,l,a){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var c=a.value;e.payload=function(){return n(c)},e.callback=function(){Po(t,l,a)}}var i=l.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){Po(t,l,a),typeof n!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var u=a.stack;this.componentDidCatch(a.value,{componentStack:u!==null?u:""})})}function Ox(e,t,l,a,n){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&_a(t,l,n,!0),l=Ct.current,l!==null){switch(l.tag){case 31:case 13:return Yt===null?Xn():l.alternate===null&&Ze===0&&(Ze=3),l.flags&=-257,l.flags|=65536,l.lanes=n,a===vn?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),au(e,a,n)),!1;case 22:return l.flags|=65536,a===vn?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),au(e,a,n)),!1}throw Error(d(435,l.tag))}return au(e,a,n),Xn(),!1}if(De)return t=Ct.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,a!==Fc&&(e=Error(d(422),{cause:a}),xs(Ut(e,l)))):(a!==Fc&&(t=Error(d(423),{cause:a}),xs(Ut(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,a=Ut(a,l),n=Mi(e.stateNode,a,n),ui(e,n),Ze!==4&&(Ze=2)),!1;var c=Error(d(520),{cause:a});if(c=Ut(c,l),Ms===null?Ms=[c]:Ms.push(c),Ze!==4&&(Ze=2),t===null)return!0;a=Ut(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Mi(l.stateNode,a,e),ui(l,e),!1;case 1:if(t=l.type,c=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ul===null||!Ul.has(c))))return l.flags|=65536,n&=-n,l.lanes|=n,n=ed(n),td(n,e,l,a),ui(l,n),!1}l=l.return}while(l!==null);return!1}var Oi=Error(d(461)),Ie=!1;function ut(e,t,l,a){t.child=e===null?so(t,null,l,a):ia(t,e.child,l,a)}function ld(e,t,l,a,n){l=l.render;var c=t.ref;if("ref"in a){var i={};for(var u in a)u!=="ref"&&(i[u]=a[u])}else i=a;return aa(t),a=mi(e,t,l,i,c,n),u=hi(),e!==null&&!Ie?(pi(e,t,n),ol(e,t,n)):(De&&u&&Jc(t),t.flags|=1,ut(e,t,a,n),t.child)}function ad(e,t,l,a,n){if(e===null){var c=l.type;return typeof c=="function"&&!Kc(c)&&c.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=c,sd(e,t,c,a,n)):(e=mn(l.type,null,a,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Yi(e,n)){var i=c.memoizedProps;if(l=l.compare,l=l!==null?l:os,l(i,a)&&e.ref===t.ref)return ol(e,t,n)}return t.flags|=1,e=sl(c,a),e.ref=t.ref,e.return=t,t.child=e}function sd(e,t,l,a,n){if(e!==null){var c=e.memoizedProps;if(os(c,a)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=a=c,Yi(e,n))(e.flags&131072)!==0&&(Ie=!0);else return t.lanes=e.lanes,ol(e,t,n)}return ki(e,t,l,a,n)}function nd(e,t,l,a){var n=a.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|l:l,e!==null){for(a=t.child=e.child,n=0;a!==null;)n=n|a.lanes|a.childLanes,a=a.sibling;a=n&~c}else a=0,t.child=null;return cd(e,t,c,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&bn(t,c!==null?c.cachePool:null),c!==null?io(t,c):oi(),uo(t);else return a=t.lanes=536870912,cd(e,t,c!==null?c.baseLanes|l:l,l,a)}else c!==null?(bn(t,c.cachePool),io(t,c),Ol(),t.memoizedState=null):(e!==null&&bn(t,null),oi(),Ol());return ut(e,t,n,l),t.child}function As(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function cd(e,t,l,a,n){var c=si();return c=c===null?null:{parent:We._currentValue,pool:c},t.memoizedState={baseLanes:l,cachePool:c},e!==null&&bn(t,null),oi(),uo(t),e!==null&&_a(e,t,a,!0),t.childLanes=n,null}function kn(e,t){return t=Ln({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function id(e,t,l){return ia(t,e.child,null,l),e=kn(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function kx(e,t,l){var a=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(a.mode==="hidden")return e=kn(t,a),t.lanes=536870912,As(null,e);if(fi(t),(e=Ye)?(e=vf(e,Bt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Al!==null?{id:Wt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},l=Gr(e),l.return=t,t.child=l,ct=t,Ye=null)):e=null,e===null)throw El(t);return t.lanes=536870912,null}return kn(t,a)}var c=e.memoizedState;if(c!==null){var i=c.dehydrated;if(fi(t),n)if(t.flags&256)t.flags&=-257,t=id(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(Ie||_a(e,t,l,!1),n=(l&e.childLanes)!==0,Ie||n){if(a=He,a!==null&&(i=Wu(a,l),i!==0&&i!==c.retryLane))throw c.retryLane=i,Pl(e,i),jt(a,e,i),Oi;Xn(),t=id(e,t,l)}else e=c.treeContext,Ye=Qt(i.nextSibling),ct=t,De=!0,Dl=null,Bt=!1,e!==null&&Kr(t,e),t=kn(t,a),t.flags|=4096;return t}return e=sl(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Rn(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(d(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function ki(e,t,l,a,n){return aa(t),l=mi(e,t,l,a,void 0,n),a=hi(),e!==null&&!Ie?(pi(e,t,n),ol(e,t,n)):(De&&a&&Jc(t),t.flags|=1,ut(e,t,l,n),t.child)}function ud(e,t,l,a,n,c){return aa(t),t.updateQueue=null,l=oo(t,a,l,n),ro(e),a=hi(),e!==null&&!Ie?(pi(e,t,c),ol(e,t,c)):(De&&a&&Jc(t),t.flags|=1,ut(e,t,l,c),t.child)}function rd(e,t,l,a,n){if(aa(t),t.stateNode===null){var c=Ea,i=l.contextType;typeof i=="object"&&i!==null&&(c=it(i)),c=new l(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=_i,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},ci(t),i=l.contextType,c.context=typeof i=="object"&&i!==null?it(i):Ea,c.state=t.memoizedState,i=l.getDerivedStateFromProps,typeof i=="function"&&(Ti(t,l,i,a),c.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&_i.enqueueReplaceState(c,c.state,null),vs(t,a,c,n),gs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var u=t.memoizedProps,f=ra(l,u);c.props=f;var C=c.context,G=l.contextType;i=Ea,typeof G=="object"&&G!==null&&(i=it(G));var J=l.getDerivedStateFromProps;G=typeof J=="function"||typeof c.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,G||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u||C!==i)&&Jo(t,c,a,i),Cl=!1;var _=t.memoizedState;c.state=_,vs(t,a,c,n),gs(),C=t.memoizedState,u||_!==C||Cl?(typeof J=="function"&&(Ti(t,l,J,a),C=t.memoizedState),(f=Cl||$o(t,l,f,a,_,C,i))?(G||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=C),c.props=a,c.state=C,c.context=i,a=f):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,ii(e,t),i=t.memoizedProps,G=ra(l,i),c.props=G,J=t.pendingProps,_=c.context,C=l.contextType,f=Ea,typeof C=="object"&&C!==null&&(f=it(C)),u=l.getDerivedStateFromProps,(C=typeof u=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(i!==J||_!==f)&&Jo(t,c,a,f),Cl=!1,_=t.memoizedState,c.state=_,vs(t,a,c,n),gs();var H=t.memoizedState;i!==J||_!==H||Cl||e!==null&&e.dependencies!==null&&pn(e.dependencies)?(typeof u=="function"&&(Ti(t,l,u,a),H=t.memoizedState),(G=Cl||$o(t,l,G,a,_,H,f)||e!==null&&e.dependencies!==null&&pn(e.dependencies))?(C||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,H,f),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,H,f)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||i===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=H),c.props=a,c.state=H,c.context=f,a=G):(typeof c.componentDidUpdate!="function"||i===e.memoizedProps&&_===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&_===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,Rn(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=ia(t,e.child,null,n),t.child=ia(t,null,l,n)):ut(e,t,l,n),t.memoizedState=c.state,e=t.child):e=ol(e,t,n),e}function od(e,t,l,a){return ta(),t.flags|=256,ut(e,t,l,a),t.child}var Ri={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Li(e){return{baseLanes:e,cachePool:Ir()}}function Ui(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Mt),e}function dd(e,t,l){var a=t.pendingProps,n=!1,c=(t.flags&128)!==0,i;if((i=c)||(i=e!==null&&e.memoizedState===null?!1:($e.current&2)!==0),i&&(n=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(n?Ml(t):Ol(),(e=Ye)?(e=vf(e,Bt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Al!==null?{id:Wt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},l=Gr(e),l.return=t,t.child=l,ct=t,Ye=null)):e=null,e===null)throw El(t);return gu(e)?t.lanes=32:t.lanes=536870912,null}var u=a.children;return a=a.fallback,n?(Ol(),n=t.mode,u=Ln({mode:"hidden",children:u},n),a=ea(a,n,l,null),u.return=t,a.return=t,u.sibling=a,t.child=u,a=t.child,a.memoizedState=Li(l),a.childLanes=Ui(e,i,l),t.memoizedState=Ri,As(null,a)):(Ml(t),Hi(t,u))}var f=e.memoizedState;if(f!==null&&(u=f.dehydrated,u!==null)){if(c)t.flags&256?(Ml(t),t.flags&=-257,t=qi(e,t,l)):t.memoizedState!==null?(Ol(),t.child=e.child,t.flags|=128,t=null):(Ol(),u=a.fallback,n=t.mode,a=Ln({mode:"visible",children:a.children},n),u=ea(u,n,l,null),u.flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,ia(t,e.child,null,l),a=t.child,a.memoizedState=Li(l),a.childLanes=Ui(e,i,l),t.memoizedState=Ri,t=As(null,a));else if(Ml(t),gu(u)){if(i=u.nextSibling&&u.nextSibling.dataset,i)var C=i.dgst;i=C,a=Error(d(419)),a.stack="",a.digest=i,xs({value:a,source:null,stack:null}),t=qi(e,t,l)}else if(Ie||_a(e,t,l,!1),i=(l&e.childLanes)!==0,Ie||i){if(i=He,i!==null&&(a=Wu(i,l),a!==0&&a!==f.retryLane))throw f.retryLane=a,Pl(e,a),jt(i,e,a),Oi;bu(u)||Xn(),t=qi(e,t,l)}else bu(u)?(t.flags|=192,t.child=e.child,t=null):(e=f.treeContext,Ye=Qt(u.nextSibling),ct=t,De=!0,Dl=null,Bt=!1,e!==null&&Kr(t,e),t=Hi(t,a.children),t.flags|=4096);return t}return n?(Ol(),u=a.fallback,n=t.mode,f=e.child,C=f.sibling,a=sl(f,{mode:"hidden",children:a.children}),a.subtreeFlags=f.subtreeFlags&65011712,C!==null?u=sl(C,u):(u=ea(u,n,l,null),u.flags|=2),u.return=t,a.return=t,a.sibling=u,t.child=a,As(null,a),a=t.child,u=e.child.memoizedState,u===null?u=Li(l):(n=u.cachePool,n!==null?(f=We._currentValue,n=n.parent!==f?{parent:f,pool:f}:n):n=Ir(),u={baseLanes:u.baseLanes|l,cachePool:n}),a.memoizedState=u,a.childLanes=Ui(e,i,l),t.memoizedState=Ri,As(e.child,a)):(Ml(t),l=e.child,e=l.sibling,l=sl(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=l,t.memoizedState=null,l)}function Hi(e,t){return t=Ln({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ln(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function qi(e,t,l){return ia(t,e.child,null,l),e=Hi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fd(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ei(e.return,t,l)}function Bi(e,t,l,a,n,c){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:n,treeForkCount:c}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=l,i.tailMode=n,i.treeForkCount=c)}function xd(e,t,l){var a=t.pendingProps,n=a.revealOrder,c=a.tail;a=a.children;var i=$e.current,u=(i&2)!==0;if(u?(i=i&1|2,t.flags|=128):i&=1,le($e,i),ut(e,t,a,l),a=De?fs:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fd(e,l,t);else if(e.tag===19)fd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&wn(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),Bi(t,!1,n,l,c,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&wn(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Bi(t,!0,l,null,c,a);break;case"together":Bi(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function ol(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Ll|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(_a(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,l=sl(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=sl(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Yi(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&pn(e)))}function Rx(e,t,l){switch(t.tag){case 3:Me(t,t.stateNode.containerInfo),zl(t,We,e.memoizedState.cache),ta();break;case 27:case 5:Te(t);break;case 4:Me(t,t.stateNode.containerInfo);break;case 10:zl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,fi(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Ml(t),t.flags|=128,null):(l&t.child.childLanes)!==0?dd(e,t,l):(Ml(t),e=ol(e,t,l),e!==null?e.sibling:null);Ml(t);break;case 19:var n=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(_a(e,t,l,!1),a=(l&t.childLanes)!==0),n){if(a)return xd(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),le($e,$e.current),a)break;return null;case 22:return t.lanes=0,nd(e,t,l,t.pendingProps);case 24:zl(t,We,e.memoizedState.cache)}return ol(e,t,l)}function md(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ie=!0;else{if(!Yi(e,l)&&(t.flags&128)===0)return Ie=!1,Rx(e,t,l);Ie=(e.flags&131072)!==0}else Ie=!1,De&&(t.flags&1048576)!==0&&Xr(t,fs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=na(t.elementType),t.type=e,typeof e=="function")Kc(e)?(a=ra(e,a),t.tag=1,t=rd(null,t,e,a,l)):(t.tag=0,t=ki(null,t,e,a,l));else{if(e!=null){var n=e.$$typeof;if(n===I){t.tag=11,t=ld(null,t,e,a,l);break e}else if(n===K){t.tag=14,t=ad(null,t,e,a,l);break e}}throw t=se(e)||e,Error(d(306,t,""))}}return t;case 0:return ki(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,n=ra(a,t.pendingProps),rd(e,t,a,n,l);case 3:e:{if(Me(t,t.stateNode.containerInfo),e===null)throw Error(d(387));a=t.pendingProps;var c=t.memoizedState;n=c.element,ii(e,t),vs(t,a,null,l);var i=t.memoizedState;if(a=i.cache,zl(t,We,a),a!==c.cache&&ti(t,[We],l,!0),gs(),a=i.element,c.isDehydrated)if(c={element:a,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=od(e,t,a,l);break e}else if(a!==n){n=Ut(Error(d(424)),t),xs(n),t=od(e,t,a,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ye=Qt(e.firstChild),ct=t,De=!0,Dl=null,Bt=!0,l=so(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ta(),a===n){t=ol(e,t,l);break e}ut(e,t,a,l)}t=t.child}return t;case 26:return Rn(e,t),e===null?(l=Df(t.type,null,t.pendingProps,null))?t.memoizedState=l:De||(l=t.type,e=t.pendingProps,a=In(ae.current).createElement(l),a[nt]=t,a[pt]=e,rt(a,l,e),lt(a),t.stateNode=a):t.memoizedState=Df(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Te(t),e===null&&De&&(a=t.stateNode=Sf(t.type,t.pendingProps,ae.current),ct=t,Bt=!0,n=Ye,Yl(t.type)?(vu=n,Ye=Qt(a.firstChild)):Ye=n),ut(e,t,t.pendingProps.children,l),Rn(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((n=a=Ye)&&(a=dm(a,t.type,t.pendingProps,Bt),a!==null?(t.stateNode=a,ct=t,Ye=Qt(a.firstChild),Bt=!1,n=!0):n=!1),n||El(t)),Te(t),n=t.type,c=t.pendingProps,i=e!==null?e.memoizedProps:null,a=c.children,hu(n,c)?a=null:i!==null&&hu(n,i)&&(t.flags|=32),t.memoizedState!==null&&(n=mi(e,t,Dx,null,null,l),Bs._currentValue=n),Rn(e,t),ut(e,t,a,l),t.child;case 6:return e===null&&De&&((e=l=Ye)&&(l=fm(l,t.pendingProps,Bt),l!==null?(t.stateNode=l,ct=t,Ye=null,e=!0):e=!1),e||El(t)),null;case 13:return dd(e,t,l);case 4:return Me(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ia(t,null,a,l):ut(e,t,a,l),t.child;case 11:return ld(e,t,t.type,t.pendingProps,l);case 7:return ut(e,t,t.pendingProps,l),t.child;case 8:return ut(e,t,t.pendingProps.children,l),t.child;case 12:return ut(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,zl(t,t.type,a.value),ut(e,t,a.children,l),t.child;case 9:return n=t.type._context,a=t.pendingProps.children,aa(t),n=it(n),a=a(n),t.flags|=1,ut(e,t,a,l),t.child;case 14:return ad(e,t,t.type,t.pendingProps,l);case 15:return sd(e,t,t.type,t.pendingProps,l);case 19:return xd(e,t,l);case 31:return kx(e,t,l);case 22:return nd(e,t,l,t.pendingProps);case 24:return aa(t),a=it(We),e===null?(n=si(),n===null&&(n=He,c=li(),n.pooledCache=c,c.refCount++,c!==null&&(n.pooledCacheLanes|=l),n=c),t.memoizedState={parent:a,cache:n},ci(t),zl(t,We,n)):((e.lanes&l)!==0&&(ii(e,t),vs(t,null,null,l),gs()),n=e.memoizedState,c=t.memoizedState,n.parent!==a?(n={parent:a,cache:a},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),zl(t,We,a)):(a=c.cache,zl(t,We,a),a!==n.cache&&ti(t,[We],l,!0))),ut(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function dl(e){e.flags|=4}function Qi(e,t,l,a,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Yd())e.flags|=8192;else throw ca=vn,ni}else e.flags&=-16777217}function hd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_f(t))if(Yd())e.flags|=8192;else throw ca=vn,ni}function Un(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zu():536870912,e.lanes|=t,Ga|=t)}function Ds(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags&65011712,a|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function Lx(e,t,l){var a=t.pendingProps;switch(Wc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),il(We),xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ta(t)?dl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ic())),Qe(t),null;case 26:var n=t.type,c=t.memoizedState;return e===null?(dl(t),c!==null?(Qe(t),hd(t,c)):(Qe(t),Qi(t,n,null,a,l))):c?c!==e.memoizedState?(dl(t),Qe(t),hd(t,c)):(Qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&dl(t),Qe(t),Qi(t,n,e,a,l)),null;case 27:if(Jt(t),l=ae.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&dl(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Qe(t),null}e=ue.current,Ta(t)?Zr(t):(e=Sf(n,a,l),t.stateNode=e,dl(t))}return Qe(t),null;case 5:if(Jt(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&dl(t);else{if(!a){if(t.stateNode===null)throw Error(d(166));return Qe(t),null}if(c=ue.current,Ta(t))Zr(t);else{var i=In(ae.current);switch(c){case 1:c=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:c=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":c=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":c=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":c=i.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof a.is=="string"?i.createElement("select",{is:a.is}):i.createElement("select"),a.multiple?c.multiple=!0:a.size&&(c.size=a.size);break;default:c=typeof a.is=="string"?i.createElement(n,{is:a.is}):i.createElement(n)}}c[nt]=t,c[pt]=a;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)c.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=c;e:switch(rt(c,n,a),n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&dl(t)}}return Qe(t),Qi(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&dl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(d(166));if(e=ae.current,Ta(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,n=ct,n!==null)switch(n.tag){case 27:case 5:a=n.memoizedProps}e[nt]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||ff(e.nodeValue,l)),e||El(t,!0)}else e=In(e).createTextNode(a),e[nt]=t,t.stateNode=e}return Qe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Ta(t),l!==null){if(e===null){if(!a)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[nt]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),e=!1}else l=Ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Qe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Ta(t),a!==null&&a.dehydrated!==null){if(e===null){if(!n)throw Error(d(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(d(317));n[nt]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),n=!1}else n=Ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,n=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(n=a.alternate.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==n&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Un(t,t.updateQueue),Qe(t),null);case 4:return xe(),e===null&&ou(t.stateNode.containerInfo),Qe(t),null;case 10:return il(t.type),Qe(t),null;case 19:if(X($e),a=t.memoizedState,a===null)return Qe(t),null;if(n=(t.flags&128)!==0,c=a.rendering,c===null)if(n)Ds(a,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=wn(e),c!==null){for(t.flags|=128,Ds(a,!1),e=c.updateQueue,t.updateQueue=e,Un(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Qr(l,e),l=l.sibling;return le($e,$e.current&1|2),De&&nl(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&ht()>Qn&&(t.flags|=128,n=!0,Ds(a,!1),t.lanes=4194304)}else{if(!n)if(e=wn(c),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Un(t,e),Ds(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!De)return Qe(t),null}else 2*ht()-a.renderingStartTime>Qn&&l!==536870912&&(t.flags|=128,n=!0,Ds(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(e=a.last,e!==null?e.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ht(),e.sibling=null,l=$e.current,le($e,n?l&1|2:l&1),De&&nl(t,a.treeForkCount),e):(Qe(t),null);case 22:case 23:return Tt(t),di(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),l=t.updateQueue,l!==null&&Un(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&X(sa),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),il(We),Qe(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Ux(e,t){switch(Wc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return il(We),xe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Jt(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(d(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X($e),null;case 4:return xe(),null;case 10:return il(t.type),null;case 22:case 23:return Tt(t),di(),e!==null&&X(sa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return il(We),null;case 25:return null;default:return null}}function pd(e,t){switch(Wc(t),t.tag){case 3:il(We),xe();break;case 26:case 27:case 5:Jt(t);break;case 4:xe();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:X($e);break;case 10:il(t.type);break;case 22:case 23:Tt(t),di(),e!==null&&X(sa);break;case 24:il(We)}}function Es(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var n=a.next;l=n;do{if((l.tag&e)===e){a=void 0;var c=l.create,i=l.inst;a=c(),i.destroy=a}l=l.next}while(l!==n)}}catch(u){ke(t,t.return,u)}}function kl(e,t,l){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var c=n.next;a=c;do{if((a.tag&e)===e){var i=a.inst,u=i.destroy;if(u!==void 0){i.destroy=void 0,n=t;var f=l,C=u;try{C()}catch(G){ke(n,f,G)}}}a=a.next}while(a!==c)}}catch(G){ke(t,t.return,G)}}function yd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{co(t,l)}catch(a){ke(e,e.return,a)}}}function bd(e,t,l){l.props=ra(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){ke(e,t,a)}}function zs(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(n){ke(e,t,n)}}function It(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(n){ke(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){ke(e,t,n)}else l.current=null}function gd(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(n){ke(e,e.return,n)}}function Gi(e,t,l){try{var a=e.stateNode;nm(a,e.type,l,t),a[pt]=t}catch(n){ke(e,e.return,n)}}function vd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yl(e.type)||e.tag===4}function Vi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xi(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=ll));else if(a!==4&&(a===27&&Yl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Xi(e,t,l),e=e.sibling;e!==null;)Xi(e,t,l),e=e.sibling}function Hn(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Yl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Hn(e,t,l),e=e.sibling;e!==null;)Hn(e,t,l),e=e.sibling}function Nd(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);rt(t,a,l),t[nt]=e,t[pt]=l}catch(c){ke(e,e.return,c)}}var fl=!1,Pe=!1,Ki=!1,jd=typeof WeakSet=="function"?WeakSet:Set,at=null;function Hx(e,t){if(e=e.containerInfo,xu=nc,e=Or(e),qc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var n=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var i=0,u=-1,f=-1,C=0,G=0,J=e,_=null;t:for(;;){for(var H;J!==l||n!==0&&J.nodeType!==3||(u=i+n),J!==c||a!==0&&J.nodeType!==3||(f=i+a),J.nodeType===3&&(i+=J.nodeValue.length),(H=J.firstChild)!==null;)_=J,J=H;for(;;){if(J===e)break t;if(_===l&&++C===n&&(u=i),_===c&&++G===a&&(f=i),(H=J.nextSibling)!==null)break;J=_,_=J.parentNode}J=H}l=u===-1||f===-1?null:{start:u,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;for(mu={focusedElem:e,selectionRange:l},nc=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,l=t,n=c.memoizedProps,c=c.memoizedState,a=l.stateNode;try{var re=ra(l.type,n);e=a.getSnapshotBeforeUpdate(re,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(he){ke(l,l.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)yu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function Sd(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:ml(e,l),a&4&&Es(5,l);break;case 1:if(ml(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(i){ke(l,l.return,i)}else{var n=ra(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){ke(l,l.return,i)}}a&64&&yd(l),a&512&&zs(l,l.return);break;case 3:if(ml(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{co(e,t)}catch(i){ke(l,l.return,i)}}break;case 27:t===null&&a&4&&Nd(l);case 26:case 5:ml(e,l),t===null&&a&4&&gd(l),a&512&&zs(l,l.return);break;case 12:ml(e,l);break;case 31:ml(e,l),a&4&&Dd(e,l);break;case 13:ml(e,l),a&4&&Ed(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=Zx.bind(null,l),xm(e,l))));break;case 22:if(a=l.memoizedState!==null||fl,!a){t=t!==null&&t.memoizedState!==null||Pe,n=fl;var c=Pe;fl=a,(Pe=t)&&!c?hl(e,l,(l.subtreeFlags&8772)!==0):ml(e,l),fl=n,Pe=c}break;case 30:break;default:ml(e,l)}}function wd(e){var t=e.alternate;t!==null&&(e.alternate=null,wd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,bt=!1;function xl(e,t,l){for(l=l.child;l!==null;)Ad(e,t,l),l=l.sibling}function Ad(e,t,l){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Ia,l)}catch{}switch(l.tag){case 26:Pe||It(l,t),xl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Pe||It(l,t);var a=Ve,n=bt;Yl(l.type)&&(Ve=l.stateNode,bt=!1),xl(e,t,l),Us(l.stateNode),Ve=a,bt=n;break;case 5:Pe||It(l,t);case 6:if(a=Ve,n=bt,Ve=null,xl(e,t,l),Ve=a,bt=n,Ve!==null)if(bt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(l.stateNode)}catch(c){ke(l,t,c)}else try{Ve.removeChild(l.stateNode)}catch(c){ke(l,t,c)}break;case 18:Ve!==null&&(bt?(e=Ve,bf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Fa(e)):bf(Ve,l.stateNode));break;case 4:a=Ve,n=bt,Ve=l.stateNode.containerInfo,bt=!0,xl(e,t,l),Ve=a,bt=n;break;case 0:case 11:case 14:case 15:kl(2,l,t),Pe||kl(4,l,t),xl(e,t,l);break;case 1:Pe||(It(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&bd(l,t,a)),xl(e,t,l);break;case 21:xl(e,t,l);break;case 22:Pe=(a=Pe)||l.memoizedState!==null,xl(e,t,l),Pe=a;break;default:xl(e,t,l)}}function Dd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(l){ke(t,t.return,l)}}}function Ed(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(l){ke(t,t.return,l)}}function qx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new jd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new jd),t;default:throw Error(d(435,e.tag))}}function qn(e,t){var l=qx(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var n=$x.bind(null,e,a);a.then(n,n)}})}function gt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var n=l[a],c=e,i=t,u=i;e:for(;u!==null;){switch(u.tag){case 27:if(Yl(u.type)){Ve=u.stateNode,bt=!1;break e}break;case 5:Ve=u.stateNode,bt=!1;break e;case 3:case 4:Ve=u.stateNode.containerInfo,bt=!0;break e}u=u.return}if(Ve===null)throw Error(d(160));Ad(c,i,n),Ve=null,bt=!1,c=n.alternate,c!==null&&(c.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)zd(t,e),t=t.sibling}var Kt=null;function zd(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),vt(e),a&4&&(kl(3,e,e.return),Es(3,e),kl(5,e,e.return));break;case 1:gt(t,e),vt(e),a&512&&(Pe||l===null||It(l,l.return)),a&64&&fl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var n=Kt;if(gt(t,e),vt(e),a&512&&(Pe||l===null||It(l,l.return)),a&4){var c=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(a){case"title":c=n.getElementsByTagName("title")[0],(!c||c[ts]||c[nt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=n.createElement(a),n.head.insertBefore(c,n.querySelector("head > title"))),rt(c,a,l),c[nt]=e,lt(c),a=c;break e;case"link":var i=Cf("link","href",n).get(a+(l.href||""));if(i){for(var u=0;u<i.length;u++)if(c=i[u],c.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&c.getAttribute("rel")===(l.rel==null?null:l.rel)&&c.getAttribute("title")===(l.title==null?null:l.title)&&c.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){i.splice(u,1);break t}}c=n.createElement(a),rt(c,a,l),n.head.appendChild(c);break;case"meta":if(i=Cf("meta","content",n).get(a+(l.content||""))){for(u=0;u<i.length;u++)if(c=i[u],c.getAttribute("content")===(l.content==null?null:""+l.content)&&c.getAttribute("name")===(l.name==null?null:l.name)&&c.getAttribute("property")===(l.property==null?null:l.property)&&c.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&c.getAttribute("charset")===(l.charSet==null?null:l.charSet)){i.splice(u,1);break t}}c=n.createElement(a),rt(c,a,l),n.head.appendChild(c);break;default:throw Error(d(468,a))}c[nt]=e,lt(c),a=c}e.stateNode=a}else Tf(n,e.type,e.stateNode);else e.stateNode=zf(n,a,e.memoizedProps);else c!==a?(c===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):c.count--,a===null?Tf(n,e.type,e.stateNode):zf(n,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Gi(e,e.memoizedProps,l.memoizedProps)}break;case 27:gt(t,e),vt(e),a&512&&(Pe||l===null||It(l,l.return)),l!==null&&a&4&&Gi(e,e.memoizedProps,l.memoizedProps);break;case 5:if(gt(t,e),vt(e),a&512&&(Pe||l===null||It(l,l.return)),e.flags&32){n=e.stateNode;try{va(n,"")}catch(re){ke(e,e.return,re)}}a&4&&e.stateNode!=null&&(n=e.memoizedProps,Gi(e,n,l!==null?l.memoizedProps:n)),a&1024&&(Ki=!0);break;case 6:if(gt(t,e),vt(e),a&4){if(e.stateNode===null)throw Error(d(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(re){ke(e,e.return,re)}}break;case 3:if(tc=null,n=Kt,Kt=Pn(t.containerInfo),gt(t,e),Kt=n,vt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Fa(t.containerInfo)}catch(re){ke(e,e.return,re)}Ki&&(Ki=!1,Cd(e));break;case 4:a=Kt,Kt=Pn(e.stateNode.containerInfo),gt(t,e),vt(e),Kt=a;break;case 12:gt(t,e),vt(e);break;case 31:gt(t,e),vt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,qn(e,a)));break;case 13:gt(t,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Yn=ht()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,qn(e,a)));break;case 22:n=e.memoizedState!==null;var f=l!==null&&l.memoizedState!==null,C=fl,G=Pe;if(fl=C||n,Pe=G||f,gt(t,e),Pe=G,fl=C,vt(e),a&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||f||fl||Pe||oa(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){f=l=t;try{if(c=f.stateNode,n)i=c.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{u=f.stateNode;var J=f.memoizedProps.style,_=J!=null&&J.hasOwnProperty("display")?J.display:null;u.style.display=_==null||typeof _=="boolean"?"":(""+_).trim()}}catch(re){ke(f,f.return,re)}}}else if(t.tag===6){if(l===null){f=t;try{f.stateNode.nodeValue=n?"":f.memoizedProps}catch(re){ke(f,f.return,re)}}}else if(t.tag===18){if(l===null){f=t;try{var H=f.stateNode;n?gf(H,!0):gf(f.stateNode,!1)}catch(re){ke(f,f.return,re)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,qn(e,l))));break;case 19:gt(t,e),vt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,qn(e,a)));break;case 30:break;case 21:break;default:gt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(vd(a)){l=a;break}a=a.return}if(l==null)throw Error(d(160));switch(l.tag){case 27:var n=l.stateNode,c=Vi(e);Hn(e,c,n);break;case 5:var i=l.stateNode;l.flags&32&&(va(i,""),l.flags&=-33);var u=Vi(e);Hn(e,u,i);break;case 3:case 4:var f=l.stateNode.containerInfo,C=Vi(e);Xi(e,C,f);break;default:throw Error(d(161))}}catch(G){ke(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ml(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Sd(e,t.alternate,t),t=t.sibling}function oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:kl(4,t,t.return),oa(t);break;case 1:It(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&bd(t,t.return,l),oa(t);break;case 27:Us(t.stateNode);case 26:case 5:It(t,t.return),oa(t);break;case 22:t.memoizedState===null&&oa(t);break;case 30:oa(t);break;default:oa(t)}e=e.sibling}}function hl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,n=e,c=t,i=c.flags;switch(c.tag){case 0:case 11:case 15:hl(n,c,l),Es(4,c);break;case 1:if(hl(n,c,l),a=c,n=a.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(C){ke(a,a.return,C)}if(a=c,n=a.updateQueue,n!==null){var u=a.stateNode;try{var f=n.shared.hiddenCallbacks;if(f!==null)for(n.shared.hiddenCallbacks=null,n=0;n<f.length;n++)no(f[n],u)}catch(C){ke(a,a.return,C)}}l&&i&64&&yd(c),zs(c,c.return);break;case 27:Nd(c);case 26:case 5:hl(n,c,l),l&&a===null&&i&4&&gd(c),zs(c,c.return);break;case 12:hl(n,c,l);break;case 31:hl(n,c,l),l&&i&4&&Dd(n,c);break;case 13:hl(n,c,l),l&&i&4&&Ed(n,c);break;case 22:c.memoizedState===null&&hl(n,c,l),zs(c,c.return);break;case 30:break;default:hl(n,c,l)}t=t.sibling}}function Zi(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ms(l))}function $i(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ms(e))}function Zt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Td(e,t,l,a),t=t.sibling}function Td(e,t,l,a){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Zt(e,t,l,a),n&2048&&Es(9,t);break;case 1:Zt(e,t,l,a);break;case 3:Zt(e,t,l,a),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ms(e)));break;case 12:if(n&2048){Zt(e,t,l,a),e=t.stateNode;try{var c=t.memoizedProps,i=c.id,u=c.onPostCommit;typeof u=="function"&&u(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(f){ke(t,t.return,f)}}else Zt(e,t,l,a);break;case 31:Zt(e,t,l,a);break;case 13:Zt(e,t,l,a);break;case 23:break;case 22:c=t.stateNode,i=t.alternate,t.memoizedState!==null?c._visibility&2?Zt(e,t,l,a):Cs(e,t):c._visibility&2?Zt(e,t,l,a):(c._visibility|=2,Ba(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Zi(i,t);break;case 24:Zt(e,t,l,a),n&2048&&$i(t.alternate,t);break;default:Zt(e,t,l,a)}}function Ba(e,t,l,a,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,i=t,u=l,f=a,C=i.flags;switch(i.tag){case 0:case 11:case 15:Ba(c,i,u,f,n),Es(8,i);break;case 23:break;case 22:var G=i.stateNode;i.memoizedState!==null?G._visibility&2?Ba(c,i,u,f,n):Cs(c,i):(G._visibility|=2,Ba(c,i,u,f,n)),n&&C&2048&&Zi(i.alternate,i);break;case 24:Ba(c,i,u,f,n),n&&C&2048&&$i(i.alternate,i);break;default:Ba(c,i,u,f,n)}t=t.sibling}}function Cs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,n=a.flags;switch(a.tag){case 22:Cs(l,a),n&2048&&Zi(a.alternate,a);break;case 24:Cs(l,a),n&2048&&$i(a.alternate,a);break;default:Cs(l,a)}t=t.sibling}}var Ts=8192;function Ya(e,t,l){if(e.subtreeFlags&Ts)for(e=e.child;e!==null;)_d(e,t,l),e=e.sibling}function _d(e,t,l){switch(e.tag){case 26:Ya(e,t,l),e.flags&Ts&&e.memoizedState!==null&&Am(l,Kt,e.memoizedState,e.memoizedProps);break;case 5:Ya(e,t,l);break;case 3:case 4:var a=Kt;Kt=Pn(e.stateNode.containerInfo),Ya(e,t,l),Kt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ts,Ts=16777216,Ya(e,t,l),Ts=a):Ya(e,t,l));break;default:Ya(e,t,l)}}function Md(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _s(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];at=a,kd(a,e)}Md(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Od(e),e=e.sibling}function Od(e){switch(e.tag){case 0:case 11:case 15:_s(e),e.flags&2048&&kl(9,e,e.return);break;case 3:_s(e);break;case 12:_s(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Bn(e)):_s(e);break;default:_s(e)}}function Bn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];at=a,kd(a,e)}Md(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:kl(8,t,t.return),Bn(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Bn(t));break;default:Bn(t)}e=e.sibling}}function kd(e,t){for(;at!==null;){var l=at;switch(l.tag){case 0:case 11:case 15:kl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ms(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,at=a;else e:for(l=e;at!==null;){a=at;var n=a.sibling,c=a.return;if(wd(a),a===l){at=null;break e}if(n!==null){n.return=c,at=n;break e}at=c}}}var Bx={getCacheForType:function(e){var t=it(We),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return it(We).controller.signal}},Yx=typeof WeakMap=="function"?WeakMap:Map,_e=0,He=null,je=null,we=0,Oe=0,_t=null,Rl=!1,Qa=!1,Ji=!1,pl=0,Ze=0,Ll=0,da=0,Wi=0,Mt=0,Ga=0,Ms=null,Nt=null,Fi=!1,Yn=0,Rd=0,Qn=1/0,Gn=null,Ul=null,tt=0,Hl=null,Va=null,yl=0,Ii=0,Pi=null,Ld=null,Os=0,eu=null;function Ot(){return(_e&2)!==0&&we!==0?we&-we:N.T!==null?cu():Fu()}function Ud(){if(Mt===0)if((we&536870912)===0||De){var e=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),Mt=e}else Mt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Mt}function jt(e,t,l){(e===He&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),ql(e,we,Mt,!1)),es(e,l),((_e&2)===0||e!==He)&&(e===He&&((_e&2)===0&&(da|=l),Ze===4&&ql(e,we,Mt,!1)),Pt(e))}function Hd(e,t,l){if((_e&6)!==0)throw Error(d(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Pa(e,t),n=a?Vx(e,t):lu(e,t,!0),c=a;do{if(n===0){Qa&&!a&&ql(e,t,0,!1);break}else{if(l=e.current.alternate,c&&!Qx(l)){n=lu(e,t,!1),c=!1;continue}if(n===2){if(c=t,e.errorRecoveryDisabledLanes&c)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var u=e;n=Ms;var f=u.current.memoizedState.isDehydrated;if(f&&(Xa(u,i).flags|=256),i=lu(u,i,!1),i!==2){if(Ji&&!f){u.errorRecoveryDisabledLanes|=c,da|=c,n=4;break e}c=Nt,Nt=n,c!==null&&(Nt===null?Nt=c:Nt.push.apply(Nt,c))}n=i}if(c=!1,n!==2)continue}}if(n===1){Xa(e,0),ql(e,t,0,!0);break}e:{switch(a=e,c=n,c){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:ql(a,t,Mt,!Rl);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(n=Yn+300-ht(),10<n)){if(ql(a,t,Mt,!Rl),Is(a,0,!0)!==0)break e;yl=t,a.timeoutHandle=pf(qd.bind(null,a,l,Nt,Gn,Fi,t,Mt,da,Ga,Rl,c,"Throttled",-0,0),n);break e}qd(a,l,Nt,Gn,Fi,t,Mt,da,Ga,Rl,c,null,-0,0)}}break}while(!0);Pt(e)}function qd(e,t,l,a,n,c,i,u,f,C,G,J,_,H){if(e.timeoutHandle=-1,J=t.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ll},_d(t,c,J);var re=(c&62914560)===c?Yn-ht():(c&4194048)===c?Rd-ht():0;if(re=Dm(J,re),re!==null){yl=c,e.cancelPendingCommit=re(Zd.bind(null,e,t,c,l,a,n,i,u,f,G,J,null,_,H)),ql(e,c,i,!C);return}}Zd(e,t,c,l,a,n,i,u,f)}function Qx(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var n=l[a],c=n.getSnapshot;n=n.value;try{if(!Et(c(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ql(e,t,l,a){t&=~Wi,t&=~da,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var n=t;0<n;){var c=31-Dt(n),i=1<<c;a[c]=-1,n&=~i}l!==0&&$u(e,l,t)}function Vn(){return(_e&6)===0?(ks(0),!1):!0}function tu(){if(je!==null){if(Oe===0)var e=je.return;else e=je,cl=la=null,yi(e),Ra=null,ps=0,e=je;for(;e!==null;)pd(e.alternate,e),e=e.return;je=null}}function Xa(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,um(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),yl=0,tu(),He=e,je=l=sl(e.current,null),we=t,Oe=0,_t=null,Rl=!1,Qa=Pa(e,t),Ji=!1,Ga=Mt=Wi=da=Ll=Ze=0,Nt=Ms=null,Fi=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var n=31-Dt(a),c=1<<n;t|=e[n],a&=~c}return pl=t,dn(),l}function Bd(e,t){be=null,N.H=ws,t===ka||t===gn?(t=to(),Oe=3):t===ni?(t=to(),Oe=4):Oe=t===Oi?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_t=t,je===null&&(Ze=1,On(e,Ut(t,e.current)))}function Yd(){var e=Ct.current;return e===null?!0:(we&4194048)===we?Yt===null:(we&62914560)===we||(we&536870912)!==0?e===Yt:!1}function Qd(){var e=N.H;return N.H=ws,e===null?ws:e}function Gd(){var e=N.A;return N.A=Bx,e}function Xn(){Ze=4,Rl||(we&4194048)!==we&&Ct.current!==null||(Qa=!0),(Ll&134217727)===0&&(da&134217727)===0||He===null||ql(He,we,Mt,!1)}function lu(e,t,l){var a=_e;_e|=2;var n=Qd(),c=Gd();(He!==e||we!==t)&&(Gn=null,Xa(e,t)),t=!1;var i=Ze;e:do try{if(Oe!==0&&je!==null){var u=je,f=_t;switch(Oe){case 8:tu(),i=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(t=!0);var C=Oe;if(Oe=0,_t=null,Ka(e,u,f,C),l&&Qa){i=0;break e}break;default:C=Oe,Oe=0,_t=null,Ka(e,u,f,C)}}Gx(),i=Ze;break}catch(G){Bd(e,G)}while(!0);return t&&e.shellSuspendCounter++,cl=la=null,_e=a,N.H=n,N.A=c,je===null&&(He=null,we=0,dn()),i}function Gx(){for(;je!==null;)Vd(je)}function Vx(e,t){var l=_e;_e|=2;var a=Qd(),n=Gd();He!==e||we!==t?(Gn=null,Qn=ht()+500,Xa(e,t)):Qa=Pa(e,t);e:do try{if(Oe!==0&&je!==null){t=je;var c=_t;t:switch(Oe){case 1:Oe=0,_t=null,Ka(e,t,c,1);break;case 2:case 9:if(Pr(c)){Oe=0,_t=null,Xd(t);break}t=function(){Oe!==2&&Oe!==9||He!==e||(Oe=7),Pt(e)},c.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Pr(c)?(Oe=0,_t=null,Xd(t)):(Oe=0,_t=null,Ka(e,t,c,7));break;case 5:var i=null;switch(je.tag){case 26:i=je.memoizedState;case 5:case 27:var u=je;if(i?_f(i):u.stateNode.complete){Oe=0,_t=null;var f=u.sibling;if(f!==null)je=f;else{var C=u.return;C!==null?(je=C,Kn(C)):je=null}break t}}Oe=0,_t=null,Ka(e,t,c,5);break;case 6:Oe=0,_t=null,Ka(e,t,c,6);break;case 8:tu(),Ze=6;break e;default:throw Error(d(462))}}Xx();break}catch(G){Bd(e,G)}while(!0);return cl=la=null,N.H=a,N.A=n,_e=l,je!==null?0:(He=null,we=0,dn(),Ze)}function Xx(){for(;je!==null&&!mt();)Vd(je)}function Vd(e){var t=md(e.alternate,e,pl);e.memoizedProps=e.pendingProps,t===null?Kn(e):je=t}function Xd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=ud(l,t,t.pendingProps,t.type,void 0,we);break;case 11:t=ud(l,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:yi(t);default:pd(l,t),t=je=Qr(t,pl),t=md(l,t,pl)}e.memoizedProps=e.pendingProps,t===null?Kn(e):je=t}function Ka(e,t,l,a){cl=la=null,yi(t),Ra=null,ps=0;var n=t.return;try{if(Ox(e,n,t,l,we)){Ze=1,On(e,Ut(l,e.current)),je=null;return}}catch(c){if(n!==null)throw je=n,c;Ze=1,On(e,Ut(l,e.current)),je=null;return}t.flags&32768?(De||a===1?e=!0:Qa||(we&536870912)!==0?e=!1:(Rl=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ct.current,a!==null&&a.tag===13&&(a.flags|=16384))),Kd(t,e)):Kn(t)}function Kn(e){var t=e;do{if((t.flags&32768)!==0){Kd(t,Rl);return}e=t.return;var l=Lx(t.alternate,t,pl);if(l!==null){je=l;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ze===0&&(Ze=5)}function Kd(e,t){do{var l=Ux(e.alternate,e);if(l!==null){l.flags&=32767,je=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=l}while(e!==null);Ze=6,je=null}function Zd(e,t,l,a,n,c,i,u,f){e.cancelPendingCommit=null;do Zn();while(tt!==0);if((_e&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(c=t.lanes|t.childLanes,c|=Vc,w0(e,l,c,i,u,f),e===He&&(je=He=null,we=0),Va=t,Hl=e,yl=l,Ii=c,Pi=n,Ld=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Jx($s,function(){return Id(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=N.T,N.T=null,n=Q.p,Q.p=2,i=_e,_e|=4;try{Hx(e,t,l)}finally{_e=i,Q.p=n,N.T=a}}tt=1,$d(),Jd(),Wd()}}function $d(){if(tt===1){tt=0;var e=Hl,t=Va,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=N.T,N.T=null;var a=Q.p;Q.p=2;var n=_e;_e|=4;try{zd(t,e);var c=mu,i=Or(e.containerInfo),u=c.focusedElem,f=c.selectionRange;if(i!==u&&u&&u.ownerDocument&&Mr(u.ownerDocument.documentElement,u)){if(f!==null&&qc(u)){var C=f.start,G=f.end;if(G===void 0&&(G=C),"selectionStart"in u)u.selectionStart=C,u.selectionEnd=Math.min(G,u.value.length);else{var J=u.ownerDocument||document,_=J&&J.defaultView||window;if(_.getSelection){var H=_.getSelection(),re=u.textContent.length,he=Math.min(f.start,re),Ue=f.end===void 0?he:Math.min(f.end,re);!H.extend&&he>Ue&&(i=Ue,Ue=he,he=i);var y=_r(u,he),x=_r(u,Ue);if(y&&x&&(H.rangeCount!==1||H.anchorNode!==y.node||H.anchorOffset!==y.offset||H.focusNode!==x.node||H.focusOffset!==x.offset)){var D=J.createRange();D.setStart(y.node,y.offset),H.removeAllRanges(),he>Ue?(H.addRange(D),H.extend(x.node,x.offset)):(D.setEnd(x.node,x.offset),H.addRange(D))}}}}for(J=[],H=u;H=H.parentNode;)H.nodeType===1&&J.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<J.length;u++){var Z=J[u];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}nc=!!xu,mu=xu=null}finally{_e=n,Q.p=a,N.T=l}}e.current=t,tt=2}}function Jd(){if(tt===2){tt=0;var e=Hl,t=Va,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=N.T,N.T=null;var a=Q.p;Q.p=2;var n=_e;_e|=4;try{Sd(e,t.alternate,t)}finally{_e=n,Q.p=a,N.T=l}}tt=3}}function Wd(){if(tt===4||tt===3){tt=0,el();var e=Hl,t=Va,l=yl,a=Ld;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,Va=Hl=null,Fd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Ul=null),vc(l),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Ia,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=N.T,n=Q.p,Q.p=2,N.T=null;try{for(var c=e.onRecoverableError,i=0;i<a.length;i++){var u=a[i];c(u.value,{componentStack:u.stack})}}finally{N.T=t,Q.p=n}}(yl&3)!==0&&Zn(),Pt(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===eu?Os++:(Os=0,eu=e):Os=0,ks(0)}}function Fd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ms(t)))}function Zn(){return $d(),Jd(),Wd(),Id()}function Id(){if(tt!==5)return!1;var e=Hl,t=Ii;Ii=0;var l=vc(yl),a=N.T,n=Q.p;try{Q.p=32>l?32:l,N.T=null,l=Pi,Pi=null;var c=Hl,i=yl;if(tt=0,Va=Hl=null,yl=0,(_e&6)!==0)throw Error(d(331));var u=_e;if(_e|=4,Od(c.current),Td(c,c.current,i,l),_e=u,ks(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Ia,c)}catch{}return!0}finally{Q.p=n,N.T=a,Fd(e,t)}}function Pd(e,t,l){t=Ut(l,t),t=Mi(e.stateNode,t,2),e=_l(e,t,2),e!==null&&(es(e,2),Pt(e))}function ke(e,t,l){if(e.tag===3)Pd(e,e,l);else for(;t!==null;){if(t.tag===3){Pd(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ul===null||!Ul.has(a))){e=Ut(l,e),l=ed(2),a=_l(t,l,2),a!==null&&(td(l,a,t,e),es(a,2),Pt(a));break}}t=t.return}}function au(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Yx;var n=new Set;a.set(t,n)}else n=a.get(t),n===void 0&&(n=new Set,a.set(t,n));n.has(l)||(Ji=!0,n.add(l),e=Kx.bind(null,e,t,l),t.then(e,e))}function Kx(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,He===e&&(we&l)===l&&(Ze===4||Ze===3&&(we&62914560)===we&&300>ht()-Yn?(_e&2)===0&&Xa(e,0):Wi|=l,Ga===we&&(Ga=0)),Pt(e)}function ef(e,t){t===0&&(t=Zu()),e=Pl(e,t),e!==null&&(es(e,t),Pt(e))}function Zx(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),ef(e,l)}function $x(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(d(314))}a!==null&&a.delete(t),ef(e,l)}function Jx(e,t){return xt(e,t)}var $n=null,Za=null,su=!1,Jn=!1,nu=!1,Bl=0;function Pt(e){e!==Za&&e.next===null&&(Za===null?$n=Za=e:Za=Za.next=e),Jn=!0,su||(su=!0,Fx())}function ks(e,t){if(!nu&&Jn){nu=!0;do for(var l=!1,a=$n;a!==null;){if(e!==0){var n=a.pendingLanes;if(n===0)var c=0;else{var i=a.suspendedLanes,u=a.pingedLanes;c=(1<<31-Dt(42|e)+1)-1,c&=n&~(i&~u),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(l=!0,sf(a,c))}else c=we,c=Is(a,a===He?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(c&3)===0||Pa(a,c)||(l=!0,sf(a,c));a=a.next}while(l);nu=!1}}function Wx(){tf()}function tf(){Jn=su=!1;var e=0;Bl!==0&&im()&&(e=Bl);for(var t=ht(),l=null,a=$n;a!==null;){var n=a.next,c=lf(a,t);c===0?(a.next=null,l===null?$n=n:l.next=n,n===null&&(Za=l)):(l=a,(e!==0||(c&3)!==0)&&(Jn=!0)),a=n}tt!==0&&tt!==5||ks(e),Bl!==0&&(Bl=0)}function lf(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var i=31-Dt(c),u=1<<i,f=n[i];f===-1?((u&l)===0||(u&a)!==0)&&(n[i]=S0(u,t)):f<=t&&(e.expiredLanes|=u),c&=~u}if(t=He,l=we,l=Is(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Xe(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Pa(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Xe(a),vc(l)){case 2:case 8:l=Xu;break;case 32:l=$s;break;case 268435456:l=Ku;break;default:l=$s}return a=af.bind(null,e),l=xt(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Xe(a),e.callbackPriority=2,e.callbackNode=null,2}function af(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Zn()&&e.callbackNode!==l)return null;var a=we;return a=Is(e,e===He?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Hd(e,a,t),lf(e,ht()),e.callbackNode!=null&&e.callbackNode===l?af.bind(null,e):null)}function sf(e,t){if(Zn())return null;Hd(e,t,!0)}function Fx(){rm(function(){(_e&6)!==0?xt(Vu,Wx):tf()})}function cu(){if(Bl===0){var e=Ma;e===0&&(e=Js,Js<<=1,(Js&261888)===0&&(Js=256)),Bl=e}return Bl}function nf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ln(""+e)}function cf(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Ix(e,t,l,a,n){if(t==="submit"&&l&&l.stateNode===n){var c=nf((n[pt]||null).action),i=a.submitter;i&&(t=(t=i[pt]||null)?nf(t.formAction):i.getAttribute("formAction"),t!==null&&(c=t,i=null));var u=new cn("action","action",null,a,n);e.push({event:u,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Bl!==0){var f=i?cf(n,i):new FormData(n);Di(l,{pending:!0,data:f,method:n.method,action:c},null,f)}}else typeof c=="function"&&(u.preventDefault(),f=i?cf(n,i):new FormData(n),Di(l,{pending:!0,data:f,method:n.method,action:c},c,f))},currentTarget:n}]})}}for(var iu=0;iu<Gc.length;iu++){var uu=Gc[iu],Px=uu.toLowerCase(),em=uu[0].toUpperCase()+uu.slice(1);Xt(Px,"on"+em)}Xt(Lr,"onAnimationEnd"),Xt(Ur,"onAnimationIteration"),Xt(Hr,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(px,"onTransitionRun"),Xt(yx,"onTransitionStart"),Xt(bx,"onTransitionCancel"),Xt(qr,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),Jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rs));function uf(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],n=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var i=a.length-1;0<=i;i--){var u=a[i],f=u.instance,C=u.currentTarget;if(u=u.listener,f!==c&&n.isPropagationStopped())break e;c=u,n.currentTarget=C;try{c(n)}catch(G){on(G)}n.currentTarget=null,c=f}else for(i=0;i<a.length;i++){if(u=a[i],f=u.instance,C=u.currentTarget,u=u.listener,f!==c&&n.isPropagationStopped())break e;c=u,n.currentTarget=C;try{c(n)}catch(G){on(G)}n.currentTarget=null,c=f}}}}function Se(e,t){var l=t[Nc];l===void 0&&(l=t[Nc]=new Set);var a=e+"__bubble";l.has(a)||(rf(t,e,2,!1),l.add(a))}function ru(e,t,l){var a=0;t&&(a|=4),rf(l,e,a,t)}var Wn="_reactListening"+Math.random().toString(36).slice(2);function ou(e){if(!e[Wn]){e[Wn]=!0,er.forEach(function(l){l!=="selectionchange"&&(tm.has(l)||ru(l,!1,e),ru(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wn]||(t[Wn]=!0,ru("selectionchange",!1,t))}}function rf(e,t,l,a){switch(Hf(t)){case 2:var n=Cm;break;case 8:n=Tm;break;default:n=Au}l=n.bind(null,t,l,e),n=void 0,!Tc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function du(e,t,l,a,n){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var u=a.stateNode.containerInfo;if(u===n)break;if(i===4)for(i=a.return;i!==null;){var f=i.tag;if((f===3||f===4)&&i.stateNode.containerInfo===n)return;i=i.return}for(;u!==null;){if(i=ha(u),i===null)return;if(f=i.tag,f===5||f===6||f===26||f===27){a=c=i;continue e}u=u.parentNode}}a=a.return}fr(function(){var C=c,G=zc(l),J=[];e:{var _=Br.get(e);if(_!==void 0){var H=cn,re=e;switch(e){case"keypress":if(sn(l)===0)break e;case"keydown":case"keyup":H=$0;break;case"focusin":re="focus",H=kc;break;case"focusout":re="blur",H=kc;break;case"beforeblur":case"afterblur":H=kc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=L0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=F0;break;case Lr:case Ur:case Hr:H=q0;break;case qr:H=P0;break;case"scroll":case"scrollend":H=k0;break;case"wheel":H=tx;break;case"copy":case"cut":case"paste":H=Y0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=yr;break;case"toggle":case"beforetoggle":H=ax}var he=(t&4)!==0,Ue=!he&&(e==="scroll"||e==="scrollend"),y=he?_!==null?_+"Capture":null:_;he=[];for(var x=C,D;x!==null;){var Z=x;if(D=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||D===null||y===null||(Z=as(x,y),Z!=null&&he.push(Ls(x,Z,D))),Ue)break;x=x.return}0<he.length&&(_=new H(_,re,null,l,G),J.push({event:_,listeners:he}))}}if((t&7)===0){e:{if(_=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",_&&l!==Ec&&(re=l.relatedTarget||l.fromElement)&&(ha(re)||re[ma]))break e;if((H||_)&&(_=G.window===G?G:(_=G.ownerDocument)?_.defaultView||_.parentWindow:window,H?(re=l.relatedTarget||l.toElement,H=C,re=re?ha(re):null,re!==null&&(Ue=V(re),he=re.tag,re!==Ue||he!==5&&he!==27&&he!==6)&&(re=null)):(H=null,re=C),H!==re)){if(he=hr,Z="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(he=yr,Z="onPointerLeave",y="onPointerEnter",x="pointer"),Ue=H==null?_:ls(H),D=re==null?_:ls(re),_=new he(Z,x+"leave",H,l,G),_.target=Ue,_.relatedTarget=D,Z=null,ha(G)===C&&(he=new he(y,x+"enter",re,l,G),he.target=D,he.relatedTarget=Ue,Z=he),Ue=Z,H&&re)t:{for(he=lm,y=H,x=re,D=0,Z=y;Z;Z=he(Z))D++;Z=0;for(var me=x;me;me=he(me))Z++;for(;0<D-Z;)y=he(y),D--;for(;0<Z-D;)x=he(x),Z--;for(;D--;){if(y===x||x!==null&&y===x.alternate){he=y;break t}y=he(y),x=he(x)}he=null}else he=null;H!==null&&of(J,_,H,he,!1),re!==null&&Ue!==null&&of(J,Ue,re,he,!0)}}e:{if(_=C?ls(C):window,H=_.nodeName&&_.nodeName.toLowerCase(),H==="select"||H==="input"&&_.type==="file")var ze=Ar;else if(Sr(_))if(Dr)ze=xx;else{ze=dx;var de=ox}else H=_.nodeName,!H||H.toLowerCase()!=="input"||_.type!=="checkbox"&&_.type!=="radio"?C&&Dc(C.elementType)&&(ze=Ar):ze=fx;if(ze&&(ze=ze(e,C))){wr(J,ze,l,G);break e}de&&de(e,_,C),e==="focusout"&&C&&_.type==="number"&&C.memoizedProps.value!=null&&Ac(_,"number",_.value)}switch(de=C?ls(C):window,e){case"focusin":(Sr(de)||de.contentEditable==="true")&&(wa=de,Bc=C,ds=null);break;case"focusout":ds=Bc=wa=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,kr(J,l,G);break;case"selectionchange":if(hx)break;case"keydown":case"keyup":kr(J,l,G)}var ge;if(Lc)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Sa?Nr(e,l)&&(Ae="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(br&&l.locale!=="ko"&&(Sa||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Sa&&(ge=xr()):(wl=G,_c="value"in wl?wl.value:wl.textContent,Sa=!0)),de=Fn(C,Ae),0<de.length&&(Ae=new pr(Ae,e,null,l,G),J.push({event:Ae,listeners:de}),ge?Ae.data=ge:(ge=jr(l),ge!==null&&(Ae.data=ge)))),(ge=nx?cx(e,l):ix(e,l))&&(Ae=Fn(C,"onBeforeInput"),0<Ae.length&&(de=new pr("onBeforeInput","beforeinput",null,l,G),J.push({event:de,listeners:Ae}),de.data=ge)),Ix(J,e,C,l,G)}uf(J,t)})}function Ls(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Fn(e,t){for(var l=t+"Capture",a=[];e!==null;){var n=e,c=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||c===null||(n=as(e,l),n!=null&&a.unshift(Ls(e,n,c)),n=as(e,t),n!=null&&a.push(Ls(e,n,c))),e.tag===3)return a;e=e.return}return[]}function lm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function of(e,t,l,a,n){for(var c=t._reactName,i=[];l!==null&&l!==a;){var u=l,f=u.alternate,C=u.stateNode;if(u=u.tag,f!==null&&f===a)break;u!==5&&u!==26&&u!==27||C===null||(f=C,n?(C=as(l,c),C!=null&&i.unshift(Ls(l,C,f))):n||(C=as(l,c),C!=null&&i.push(Ls(l,C,f)))),l=l.return}i.length!==0&&e.push({event:t,listeners:i})}var am=/\r\n?/g,sm=/\u0000|\uFFFD/g;function df(e){return(typeof e=="string"?e:""+e).replace(am,`
`).replace(sm,"")}function ff(e,t){return t=df(t),df(e)===t}function Le(e,t,l,a,n,c){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||va(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&va(e,""+a);break;case"className":en(e,"class",a);break;case"tabIndex":en(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":en(e,l,a);break;case"style":or(e,a,c);break;case"data":if(t!=="object"){en(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ln(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(l==="formAction"?(t!=="input"&&Le(e,t,"name",n.name,n,null),Le(e,t,"formEncType",n.formEncType,n,null),Le(e,t,"formMethod",n.formMethod,n,null),Le(e,t,"formTarget",n.formTarget,n,null)):(Le(e,t,"encType",n.encType,n,null),Le(e,t,"method",n.method,n,null),Le(e,t,"target",n.target,n,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ln(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=ll);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=ln(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Se("beforetoggle",e),Se("toggle",e),Ps(e,"popover",a);break;case"xlinkActuate":tl(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":tl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":tl(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":tl(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":tl(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":tl(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":tl(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":tl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":tl(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ps(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=M0.get(l)||l,Ps(e,l,a))}}function fu(e,t,l,a,n,c){switch(l){case"style":or(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(d(61));if(l=a.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"children":typeof a=="string"?va(e,a):(typeof a=="number"||typeof a=="bigint")&&va(e,""+a);break;case"onScroll":a!=null&&Se("scroll",e);break;case"onScrollEnd":a!=null&&Se("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),c=e[pt]||null,c=c!=null?c[l]:null,typeof c=="function"&&e.removeEventListener(t,c,n),typeof a=="function")){typeof c!="function"&&c!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,n);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Ps(e,l,a)}}}function rt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var a=!1,n=!1,c;for(c in l)if(l.hasOwnProperty(c)){var i=l[c];if(i!=null)switch(c){case"src":a=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Le(e,t,c,i,l,null)}}n&&Le(e,t,"srcSet",l.srcSet,l,null),a&&Le(e,t,"src",l.src,l,null);return;case"input":Se("invalid",e);var u=c=i=n=null,f=null,C=null;for(a in l)if(l.hasOwnProperty(a)){var G=l[a];if(G!=null)switch(a){case"name":n=G;break;case"type":i=G;break;case"checked":f=G;break;case"defaultChecked":C=G;break;case"value":c=G;break;case"defaultValue":u=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(d(137,t));break;default:Le(e,t,a,G,l,null)}}cr(e,c,u,f,C,i,n,!1);return;case"select":Se("invalid",e),a=i=c=null;for(n in l)if(l.hasOwnProperty(n)&&(u=l[n],u!=null))switch(n){case"value":c=u;break;case"defaultValue":i=u;break;case"multiple":a=u;default:Le(e,t,n,u,l,null)}t=c,l=i,e.multiple=!!a,t!=null?ga(e,!!a,t,!1):l!=null&&ga(e,!!a,l,!0);return;case"textarea":Se("invalid",e),c=n=a=null;for(i in l)if(l.hasOwnProperty(i)&&(u=l[i],u!=null))switch(i){case"value":a=u;break;case"defaultValue":n=u;break;case"children":c=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(d(91));break;default:Le(e,t,i,u,l,null)}ur(e,a,n,c);return;case"option":for(f in l)l.hasOwnProperty(f)&&(a=l[f],a!=null)&&(f==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Le(e,t,f,a,l,null));return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(a=0;a<Rs.length;a++)Se(Rs[a],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in l)if(l.hasOwnProperty(C)&&(a=l[C],a!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Le(e,t,C,a,l,null)}return;default:if(Dc(t)){for(G in l)l.hasOwnProperty(G)&&(a=l[G],a!==void 0&&fu(e,t,G,a,l,void 0));return}}for(u in l)l.hasOwnProperty(u)&&(a=l[u],a!=null&&Le(e,t,u,a,l,null))}function nm(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,c=null,i=null,u=null,f=null,C=null,G=null;for(H in l){var J=l[H];if(l.hasOwnProperty(H)&&J!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":f=J;default:a.hasOwnProperty(H)||Le(e,t,H,null,a,J)}}for(var _ in a){var H=a[_];if(J=l[_],a.hasOwnProperty(_)&&(H!=null||J!=null))switch(_){case"type":c=H;break;case"name":n=H;break;case"checked":C=H;break;case"defaultChecked":G=H;break;case"value":i=H;break;case"defaultValue":u=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(d(137,t));break;default:H!==J&&Le(e,t,_,H,a,J)}}wc(e,i,u,f,C,G,c,n);return;case"select":H=i=u=_=null;for(c in l)if(f=l[c],l.hasOwnProperty(c)&&f!=null)switch(c){case"value":break;case"multiple":H=f;default:a.hasOwnProperty(c)||Le(e,t,c,null,a,f)}for(n in a)if(c=a[n],f=l[n],a.hasOwnProperty(n)&&(c!=null||f!=null))switch(n){case"value":_=c;break;case"defaultValue":u=c;break;case"multiple":i=c;default:c!==f&&Le(e,t,n,c,a,f)}t=u,l=i,a=H,_!=null?ga(e,!!l,_,!1):!!a!=!!l&&(t!=null?ga(e,!!l,t,!0):ga(e,!!l,l?[]:"",!1));return;case"textarea":H=_=null;for(u in l)if(n=l[u],l.hasOwnProperty(u)&&n!=null&&!a.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Le(e,t,u,null,a,n)}for(i in a)if(n=a[i],c=l[i],a.hasOwnProperty(i)&&(n!=null||c!=null))switch(i){case"value":_=n;break;case"defaultValue":H=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(d(91));break;default:n!==c&&Le(e,t,i,n,a,c)}ir(e,_,H);return;case"option":for(var re in l)_=l[re],l.hasOwnProperty(re)&&_!=null&&!a.hasOwnProperty(re)&&(re==="selected"?e.selected=!1:Le(e,t,re,null,a,_));for(f in a)_=a[f],H=l[f],a.hasOwnProperty(f)&&_!==H&&(_!=null||H!=null)&&(f==="selected"?e.selected=_&&typeof _!="function"&&typeof _!="symbol":Le(e,t,f,_,a,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in l)_=l[he],l.hasOwnProperty(he)&&_!=null&&!a.hasOwnProperty(he)&&Le(e,t,he,null,a,_);for(C in a)if(_=a[C],H=l[C],a.hasOwnProperty(C)&&_!==H&&(_!=null||H!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(_!=null)throw Error(d(137,t));break;default:Le(e,t,C,_,a,H)}return;default:if(Dc(t)){for(var Ue in l)_=l[Ue],l.hasOwnProperty(Ue)&&_!==void 0&&!a.hasOwnProperty(Ue)&&fu(e,t,Ue,void 0,a,_);for(G in a)_=a[G],H=l[G],!a.hasOwnProperty(G)||_===H||_===void 0&&H===void 0||fu(e,t,G,_,a,H);return}}for(var y in l)_=l[y],l.hasOwnProperty(y)&&_!=null&&!a.hasOwnProperty(y)&&Le(e,t,y,null,a,_);for(J in a)_=a[J],H=l[J],!a.hasOwnProperty(J)||_===H||_==null&&H==null||Le(e,t,J,_,a,H)}function xf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cm(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var n=l[a],c=n.transferSize,i=n.initiatorType,u=n.duration;if(c&&u&&xf(i)){for(i=0,u=n.responseEnd,a+=1;a<l.length;a++){var f=l[a],C=f.startTime;if(C>u)break;var G=f.transferSize,J=f.initiatorType;G&&xf(J)&&(f=f.responseEnd,i+=G*(f<u?1:(u-C)/(f-C)))}if(--a,t+=8*(c+i)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xu=null,mu=null;function In(e){return e.nodeType===9?e:e.ownerDocument}function mf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pu=null;function im(){var e=window.event;return e&&e.type==="popstate"?e===pu?!1:(pu=e,!0):(pu=null,!1)}var pf=typeof setTimeout=="function"?setTimeout:void 0,um=typeof clearTimeout=="function"?clearTimeout:void 0,yf=typeof Promise=="function"?Promise:void 0,rm=typeof queueMicrotask=="function"?queueMicrotask:typeof yf<"u"?function(e){return yf.resolve(null).then(e).catch(om)}:pf;function om(e){setTimeout(function(){throw e})}function Yl(e){return e==="head"}function bf(e,t){var l=t,a=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(n),Fa(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Us(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Us(l);for(var c=l.firstChild;c;){var i=c.nextSibling,u=c.nodeName;c[ts]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&c.rel.toLowerCase()==="stylesheet"||l.removeChild(c),c=i}}else l==="body"&&Us(e.ownerDocument.body);l=n}while(l);Fa(t)}function gf(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":yu(l),jc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function dm(e,t,l,a){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ts])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function fm(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Qt(e.nextSibling),e===null))return null;return e}function vf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Qt(e.nextSibling),e===null))return null;return e}function bu(e){return e.data==="$?"||e.data==="$~"}function gu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xm(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var vu=null;function Nf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Qt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function jf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Sf(e,t,l){switch(t=In(l),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Us(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jc(e)}var Gt=new Map,wf=new Set;function Pn(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bl=Q.d;Q.d={f:mm,r:hm,D:pm,C:ym,L:bm,m:gm,X:Nm,S:vm,M:jm};function mm(){var e=bl.f(),t=Vn();return e||t}function hm(e){var t=pa(e);t!==null&&t.tag===5&&t.type==="form"?Bo(t):bl.r(e)}var $a=typeof document>"u"?null:document;function Af(e,t,l){var a=$a;if(a&&typeof t=="string"&&t){var n=Rt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),wf.has(n)||(wf.add(n),e={rel:e,crossOrigin:l,href:t},a.querySelector(n)===null&&(t=a.createElement("link"),rt(t,"link",e),lt(t),a.head.appendChild(t)))}}function pm(e){bl.D(e),Af("dns-prefetch",e,null)}function ym(e,t){bl.C(e,t),Af("preconnect",e,t)}function bm(e,t,l){bl.L(e,t,l);var a=$a;if(a&&e&&t){var n='link[rel="preload"][as="'+Rt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Rt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Rt(l.imageSizes)+'"]')):n+='[href="'+Rt(e)+'"]';var c=n;switch(t){case"style":c=Ja(e);break;case"script":c=Wa(e)}Gt.has(c)||(e=E({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Gt.set(c,e),a.querySelector(n)!==null||t==="style"&&a.querySelector(Hs(c))||t==="script"&&a.querySelector(qs(c))||(t=a.createElement("link"),rt(t,"link",e),lt(t),a.head.appendChild(t)))}}function gm(e,t){bl.m(e,t);var l=$a;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Rt(a)+'"][href="'+Rt(e)+'"]',c=n;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Wa(e)}if(!Gt.has(c)&&(e=E({rel:"modulepreload",href:e},t),Gt.set(c,e),l.querySelector(n)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qs(c)))return}a=l.createElement("link"),rt(a,"link",e),lt(a),l.head.appendChild(a)}}}function vm(e,t,l){bl.S(e,t,l);var a=$a;if(a&&e){var n=ya(a).hoistableStyles,c=Ja(e);t=t||"default";var i=n.get(c);if(!i){var u={loading:0,preload:null};if(i=a.querySelector(Hs(c)))u.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Gt.get(c))&&Nu(e,l);var f=i=a.createElement("link");lt(f),rt(f,"link",e),f._p=new Promise(function(C,G){f.onload=C,f.onerror=G}),f.addEventListener("load",function(){u.loading|=1}),f.addEventListener("error",function(){u.loading|=2}),u.loading|=4,ec(i,t,a)}i={type:"stylesheet",instance:i,count:1,state:u},n.set(c,i)}}}function Nm(e,t){bl.X(e,t);var l=$a;if(l&&e){var a=ya(l).hoistableScripts,n=Wa(e),c=a.get(n);c||(c=l.querySelector(qs(n)),c||(e=E({src:e,async:!0},t),(t=Gt.get(n))&&ju(e,t),c=l.createElement("script"),lt(c),rt(c,"link",e),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(n,c))}}function jm(e,t){bl.M(e,t);var l=$a;if(l&&e){var a=ya(l).hoistableScripts,n=Wa(e),c=a.get(n);c||(c=l.querySelector(qs(n)),c||(e=E({src:e,async:!0,type:"module"},t),(t=Gt.get(n))&&ju(e,t),c=l.createElement("script"),lt(c),rt(c,"link",e),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(n,c))}}function Df(e,t,l,a){var n=(n=ae.current)?Pn(n):null;if(!n)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ja(l.href),l=ya(n).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ja(l.href);var c=ya(n).hoistableStyles,i=c.get(e);if(i||(n=n.ownerDocument||n,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,i),(c=n.querySelector(Hs(e)))&&!c._p&&(i.instance=c,i.state.loading=5),Gt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gt.set(e,l),c||Sm(n,e,l,i.state))),t&&a===null)throw Error(d(528,""));return i}if(t&&a!==null)throw Error(d(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wa(l),l=ya(n).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Ja(e){return'href="'+Rt(e)+'"'}function Hs(e){return'link[rel="stylesheet"]['+e+"]"}function Ef(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function Sm(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),rt(t,"link",l),lt(t),e.head.appendChild(t))}function Wa(e){return'[src="'+Rt(e)+'"]'}function qs(e){return"script[async]"+e}function zf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Rt(l.href)+'"]');if(a)return t.instance=a,lt(a),a;var n=E({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),lt(a),rt(a,"style",n),ec(a,l.precedence,e),t.instance=a;case"stylesheet":n=Ja(l.href);var c=e.querySelector(Hs(n));if(c)return t.state.loading|=4,t.instance=c,lt(c),c;a=Ef(l),(n=Gt.get(n))&&Nu(a,n),c=(e.ownerDocument||e).createElement("link"),lt(c);var i=c;return i._p=new Promise(function(u,f){i.onload=u,i.onerror=f}),rt(c,"link",a),t.state.loading|=4,ec(c,l.precedence,e),t.instance=c;case"script":return c=Wa(l.src),(n=e.querySelector(qs(c)))?(t.instance=n,lt(n),n):(a=l,(n=Gt.get(c))&&(a=E({},l),ju(a,n)),e=e.ownerDocument||e,n=e.createElement("script"),lt(n),rt(n,"link",a),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,ec(a,l.precedence,e));return t.instance}function ec(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=a.length?a[a.length-1]:null,c=n,i=0;i<a.length;i++){var u=a[i];if(u.dataset.precedence===t)c=u;else if(c!==n)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Nu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var tc=null;function Cf(e,t,l){if(tc===null){var a=new Map,n=tc=new Map;n.set(l,a)}else n=tc,a=n.get(l),a||(a=new Map,n.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var c=l[n];if(!(c[ts]||c[nt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var i=c.getAttribute(t)||"";i=e+i;var u=a.get(i);u?u.push(c):a.set(i,[c])}}return a}function Tf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function wm(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _f(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Am(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=Ja(a.href),c=t.querySelector(Hs(n));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=lc.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=c,lt(c);return}c=t.ownerDocument||t,a=Ef(a),(n=Gt.get(n))&&Nu(a,n),c=c.createElement("link"),lt(c);var i=c;i._p=new Promise(function(u,f){i.onload=u,i.onerror=f}),rt(c,"link",a),l.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=lc.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Su=0;function Dm(e,t){return e.stylesheets&&e.count===0&&sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Su===0&&(Su=62500*cm());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&sc(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Su?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(n)}}:null}function lc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ac=null;function sc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ac=new Map,t.forEach(Em,e),ac=null,lc.call(e))}function Em(e,t){if(!(t.state.loading&4)){var l=ac.get(e);if(l)var a=l.get(null);else{l=new Map,ac.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<n.length;c++){var i=n[c];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(l.set(i.dataset.precedence,i),a=i)}a&&l.set(null,a)}n=t.instance,i=n.getAttribute("data-precedence"),c=l.get(i)||a,c===a&&l.set(null,n),l.set(i,n),this.count++,a=lc.bind(this),n.addEventListener("load",a),n.addEventListener("error",a),c?c.parentNode.insertBefore(n,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Bs={$$typeof:S,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function zm(e,t,l,a,n,c,i,u,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bc(0),this.hiddenUpdates=bc(null),this.identifierPrefix=a,this.onUncaughtError=n,this.onCaughtError=c,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function Mf(e,t,l,a,n,c,i,u,f,C,G,J){return e=new zm(e,t,l,i,f,C,G,J,u),t=1,c===!0&&(t|=24),c=zt(3,null,null,t),e.current=c,c.stateNode=e,t=li(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:l,cache:t},ci(c),e}function Of(e){return e?(e=Ea,e):Ea}function kf(e,t,l,a,n,c){n=Of(n),a.context===null?a.context=n:a.pendingContext=n,a=Tl(t),a.payload={element:l},c=c===void 0?null:c,c!==null&&(a.callback=c),l=_l(e,a,t),l!==null&&(jt(l,e,t),bs(l,e,t))}function Rf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function wu(e,t){Rf(e,t),(e=e.alternate)&&Rf(e,t)}function Lf(e){if(e.tag===13||e.tag===31){var t=Pl(e,67108864);t!==null&&jt(t,e,67108864),wu(e,67108864)}}function Uf(e){if(e.tag===13||e.tag===31){var t=Ot();t=gc(t);var l=Pl(e,t);l!==null&&jt(l,e,t),wu(e,t)}}var nc=!0;function Cm(e,t,l,a){var n=N.T;N.T=null;var c=Q.p;try{Q.p=2,Au(e,t,l,a)}finally{Q.p=c,N.T=n}}function Tm(e,t,l,a){var n=N.T;N.T=null;var c=Q.p;try{Q.p=8,Au(e,t,l,a)}finally{Q.p=c,N.T=n}}function Au(e,t,l,a){if(nc){var n=Du(a);if(n===null)du(e,t,a,cc,l),qf(e,a);else if(Mm(n,e,t,l,a))a.stopPropagation();else if(qf(e,a),t&4&&-1<_m.indexOf(e)){for(;n!==null;){var c=pa(n);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var i=$l(c.pendingLanes);if(i!==0){var u=c;for(u.pendingLanes|=2,u.entangledLanes|=2;i;){var f=1<<31-Dt(i);u.entanglements[1]|=f,i&=~f}Pt(c),(_e&6)===0&&(Qn=ht()+500,ks(0))}}break;case 31:case 13:u=Pl(c,2),u!==null&&jt(u,c,2),Vn(),wu(c,2)}if(c=Du(a),c===null&&du(e,t,a,cc,l),c===n)break;n=c}n!==null&&a.stopPropagation()}else du(e,t,a,null,l)}}function Du(e){return e=zc(e),Eu(e)}var cc=null;function Eu(e){if(cc=null,e=ha(e),e!==null){var t=V(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=w(t),e!==null)return e;e=null}else if(l===31){if(e=P(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return cc=e,null}function Hf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(p0()){case Vu:return 2;case Xu:return 8;case $s:case y0:return 32;case Ku:return 268435456;default:return 32}default:return 32}}var zu=!1,Ql=null,Gl=null,Vl=null,Ys=new Map,Qs=new Map,Xl=[],_m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qf(e,t){switch(e){case"focusin":case"focusout":Ql=null;break;case"dragenter":case"dragleave":Gl=null;break;case"mouseover":case"mouseout":Vl=null;break;case"pointerover":case"pointerout":Ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(t.pointerId)}}function Gs(e,t,l,a,n,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:c,targetContainers:[n]},t!==null&&(t=pa(t),t!==null&&Lf(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Mm(e,t,l,a,n){switch(t){case"focusin":return Ql=Gs(Ql,e,t,l,a,n),!0;case"dragenter":return Gl=Gs(Gl,e,t,l,a,n),!0;case"mouseover":return Vl=Gs(Vl,e,t,l,a,n),!0;case"pointerover":var c=n.pointerId;return Ys.set(c,Gs(Ys.get(c)||null,e,t,l,a,n)),!0;case"gotpointercapture":return c=n.pointerId,Qs.set(c,Gs(Qs.get(c)||null,e,t,l,a,n)),!0}return!1}function Bf(e){var t=ha(e.target);if(t!==null){var l=V(t);if(l!==null){if(t=l.tag,t===13){if(t=w(l),t!==null){e.blockedOn=t,Iu(e.priority,function(){Uf(l)});return}}else if(t===31){if(t=P(l),t!==null){e.blockedOn=t,Iu(e.priority,function(){Uf(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ic(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Du(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ec=a,l.target.dispatchEvent(a),Ec=null}else return t=pa(l),t!==null&&Lf(t),e.blockedOn=l,!1;t.shift()}return!0}function Yf(e,t,l){ic(e)&&l.delete(t)}function Om(){zu=!1,Ql!==null&&ic(Ql)&&(Ql=null),Gl!==null&&ic(Gl)&&(Gl=null),Vl!==null&&ic(Vl)&&(Vl=null),Ys.forEach(Yf),Qs.forEach(Yf)}function uc(e,t){e.blockedOn===t&&(e.blockedOn=null,zu||(zu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Om)))}var rc=null;function Qf(e){rc!==e&&(rc=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){rc===e&&(rc=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],n=e[t+2];if(typeof a!="function"){if(Eu(a||l)===null)continue;break}var c=pa(l);c!==null&&(e.splice(t,3),t-=3,Di(c,{pending:!0,data:n,method:l.method,action:a},a,n))}}))}function Fa(e){function t(f){return uc(f,e)}Ql!==null&&uc(Ql,e),Gl!==null&&uc(Gl,e),Vl!==null&&uc(Vl,e),Ys.forEach(t),Qs.forEach(t);for(var l=0;l<Xl.length;l++){var a=Xl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Xl.length&&(l=Xl[0],l.blockedOn===null);)Bf(l),l.blockedOn===null&&Xl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var n=l[a],c=l[a+1],i=n[pt]||null;if(typeof c=="function")i||Qf(l);else if(i){var u=null;if(c&&c.hasAttribute("formAction")){if(n=c,i=c[pt]||null)u=i.formAction;else if(Eu(n)!==null)continue}else u=i.action;typeof u=="function"?l[a+1]=u:(l.splice(a,3),a-=3),Qf(l)}}}function Gf(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(i){return n=i})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Cu(e){this._internalRoot=e}oc.prototype.render=Cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var l=t.current,a=Ot();kf(l,a,e,t,null,null)},oc.prototype.unmount=Cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kf(e.current,2,null,e,null,null),Vn(),t[ma]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fu();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Xl.length&&t!==0&&t<Xl[l].priority;l++);Xl.splice(l,0,e),l===0&&Bf(e)}};var Vf=q.version;if(Vf!=="19.2.3")throw Error(d(527,Vf,"19.2.3"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=v(t),e=e!==null?Y(e):null,e=e===null?null:e.stateNode,e};var km={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{Ia=dc.inject(km),At=dc}catch{}}return Xs.createRoot=function(e,t){if(!m(e))throw Error(d(299));var l=!1,a="",n=Wo,c=Fo,i=Io;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mf(e,1,!1,null,null,l,a,null,n,c,i,Gf),e[ma]=t.current,ou(e),new Cu(t)},Xs.hydrateRoot=function(e,t,l){if(!m(e))throw Error(d(299));var a=!1,n="",c=Wo,i=Fo,u=Io,f=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(c=l.onUncaughtError),l.onCaughtError!==void 0&&(i=l.onCaughtError),l.onRecoverableError!==void 0&&(u=l.onRecoverableError),l.formState!==void 0&&(f=l.formState)),t=Mf(e,1,!0,t,l??null,a,n,f,c,i,u,Gf),t.context=Of(null),l=t.current,a=Ot(),a=gc(a),n=Tl(a),n.callback=null,_l(l,n,a),l=a,t.current.lanes=l,es(t,l),Pt(t),e[ma]=t.current,ou(e),new oc(t)},Xs.version="19.2.3",Xs}var e0;function Xm(){if(e0)return Mu.exports;e0=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(q){console.error(q)}}return o(),Mu.exports=Vm(),Mu.exports}var Km=Xm();const Zm=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$m=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(q,g,d)=>d?d.toUpperCase():g.toLowerCase()),t0=o=>{const q=$m(o);return q.charAt(0).toUpperCase()+q.slice(1)},i0=(...o)=>o.filter((q,g,d)=>!!q&&q.trim()!==""&&d.indexOf(q)===g).join(" ").trim(),Jm=o=>{for(const q in o)if(q.startsWith("aria-")||q==="role"||q==="title")return!0};var Wm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Fm=p.forwardRef(({color:o="currentColor",size:q=24,strokeWidth:g=2,absoluteStrokeWidth:d,className:m="",children:V,iconNode:w,...P},T)=>p.createElement("svg",{ref:T,...Wm,width:q,height:q,stroke:o,strokeWidth:d?Number(g)*24/Number(q):g,className:i0("lucide",m),...!V&&!Jm(P)&&{"aria-hidden":"true"},...P},[...w.map(([v,Y])=>p.createElement(v,Y)),...Array.isArray(V)?V:[V]]));const Ne=(o,q)=>{const g=p.forwardRef(({className:d,...m},V)=>p.createElement(Fm,{ref:V,iconNode:q,className:i0(`lucide-${Zm(t0(o))}`,`lucide-${o}`,d),...m}));return g.displayName=t0(o),g};const Im=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],u0=Ne("activity",Im);const Pm=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],l0=Ne("archive",Pm);const eh=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],th=Ne("arrow-right",eh);const lh=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],ah=Ne("calculator",lh);const sh=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$t=Ne("calendar",sh);const nh=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],r0=Ne("chart-no-axes-column",nh);const ch=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],o0=Ne("chart-pie",ch);const ih=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Bu=Ne("chevron-down",ih);const uh=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],d0=Ne("chevron-up",uh);const rh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],f0=Ne("circle-alert",rh);const oh=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],x0=Ne("circle-check-big",oh);const dh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],fh=Ne("circle-minus",dh);const xh=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],fc=Ne("clipboard-list",xh);const mh=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],hh=Ne("clipboard",mh);const ph=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],m0=Ne("clock",ph);const yh=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],bh=Ne("credit-card",yh);const gh=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Vt=Ne("dollar-sign",gh);const vh=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Lu=Ne("file-text",vh);const Nh=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Yu=Ne("funnel",Nh);const jh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Sh=Ne("info",jh);const wh=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ah=Ne("lock",wh);const Dh=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Eh=Ne("log-out",Dh);const zh=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],a0=Ne("package-plus",zh);const Ch=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],xc=Ne("package",Ch);const Th=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],_h=Ne("piggy-bank",Th);const Mh=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],st=Ne("refresh-cw",Mh);const Oh=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],kh=Ne("rotate-ccw",Oh);const Rh=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pc=Ne("save",Rh);const Lh=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ft=Ne("search",Lh);const Uh=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hh=Ne("settings",Uh);const qh=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xa=Ne("shield",qh);const Bh=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],s0=Ne("shopping-cart",Bh);const Yh=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qu=Ne("square-check-big",Yh);const Qh=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],h0=Ne("trash-2",Qh);const Gh=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Zs=Ne("trending-up",Gh);const Vh=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mc=Ne("triangle-alert",Vh);const Xh=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Uu=Ne("truck",Xh);const Kh=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Zh=Ne("user-plus",Kh);const $h=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hc=Ne("user",$h);const Jh=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gu=Ne("users",Jh);const Wh=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ks=Ne("wallet",Wh),ve=async(o,q,g,d=null)=>{try{const m=new AbortController,V=setTimeout(()=>m.abort(),3e4),w=await fetch(o,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:q,payload:g,token:d}),signal:m.signal});if(clearTimeout(V),!w.ok)throw new Error(`HTTP error! status: ${w.status}`);const P=await w.json();if(P.error)throw new Error(P.error);return P}catch(m){throw console.error(`API Error [${q}]:`,m),m.name==="AbortError"?new Error(" GAS "):m.message.includes("Load failed")||m.message.includes("Failed to fetch")?new Error(" GAS Anyone CORS "):m}};function Fh({onLogin:o,apiUrl:q}){const[g,d]=p.useState(!1),[m,V]=p.useState(""),[w,P]=p.useState(""),[T,v]=p.useState(!1),Y=async E=>{E.preventDefault(),v(!0);try{const L=await ve(q,g?"register":"login",{username:m,password:w});console.log("Login API Result:",L),g?(alert(" ()"),d(!1)):o(L)}catch(j){alert(j.message)}finally{v(!1)}};return s.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 bg-slate-50",children:s.jsxs("div",{className:"bg-white border border-slate-200 p-8 w-full max-w-md rounded-2xl shadow-2xl",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"flex justify-center mb-6",children:s.jsx("img",{src:"/inventory-system/logo.png",alt:"Logo",className:"h-20 w-auto object-contain"})}),s.jsx("p",{className:"text-slate-500",children:g?"":""})]}),s.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[s.jsx("div",{children:s.jsxs("div",{className:"relative",children:[s.jsx(hc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),s.jsx("input",{required:!0,type:"text",placeholder:"",className:"input-field pl-10 bg-slate-50 border-slate-200 focus:bg-white transition-all",value:m,onChange:E=>V(E.target.value)})]})}),s.jsx("div",{children:s.jsxs("div",{className:"relative",children:[s.jsx(Ah,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),s.jsx("input",{required:!0,type:"password",placeholder:"",className:"input-field pl-10 bg-slate-50 border-slate-200 focus:bg-white transition-all",value:w,onChange:E=>P(E.target.value)})]})}),s.jsxs("button",{type:"submit",disabled:T,className:"btn-primary w-full flex justify-center items-center gap-2 py-3",children:[T?"...":g?"":""," ",s.jsx(th,{size:18})]})]}),s.jsx("div",{className:"mt-6 text-center text-sm text-slate-500",children:s.jsx("button",{onClick:()=>d(!g),className:"hover:text-blue-400 transition-colors",children:g?"":""})})]})})}const Hu={1L:75,1L:80,2L:155,1L:80,2L:155,:90,:20,:20,:20,:20,:18.3,:20,:16.7,:20,:18.3,:45,:70,:70,:70,:70,1L:55,471:30,1795:75,:27.5,:25,:25,:30,:30,:27.5,:25,:20,:10,:20,:20,:25,:20,:20,:20,:20,:10,:10,:20,:20,:20,:20,:20,:16.7,:20,1L:70,2L:140,:50,:70,:50,:20,400:16.7,1000:25,1000:40,2000:40,2000:60,1000:60,2000:100,500:50,1000:60},n0=Object.keys(Hu),c0={1L:20,1L:20,2L:12,1L:20,2L:12,:20,:70,:70,:70,:12,:24,:20,:108,:40,:40,:15,:4,:4,:4,:4,1L:16,471:30,1795ml:9,:60,:20,:24,:15,:15,:24,:25,:15,:15,:15,:15,:24,:24,:24,:24,:15,:15,:15,:15,:15,:15,:15,:15,:24,:15},yc=(o,q)=>[...o].sort((g,d)=>{const m=String(g[q]||""),V=String(d[q]||""),w=n0.indexOf(m),P=n0.indexOf(V);return w===-1&&P===-1?m.localeCompare(V):w===-1?1:P===-1?-1:w-P}),Be=()=>{const o=new Date;return`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`};function Ih({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState({1e3:0,500:0,100:0,50:0,10:0,5:0,1:0}),[w,P]=p.useState(5e3),[T,v]=p.useState({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0}),[Y,E]=p.useState(""),[j,L]=p.useState("CASH"),[O,te]=p.useState(!1);p.useEffect(()=>{P(j==="CASH"?5e3:0)},[j]);const z=p.useCallback(async()=>{try{const M=await ve(q,"getProducts",{},o.token);if(console.log("Sales Page - Raw Products Data:",M),Array.isArray(M)){const B=M.filter(ie=>(Number(ie.stock)||0)>0||(Number(ie.originalStock)||0)>0),se=yc(B,"name");console.log("Sales Page - Sorted Products (Stock or Original > 0):",se),d(se.map(ie=>{const N=Number(ie.price)||0,Q=Hu[ie.name]!==void 0?Hu[ie.name]:N;return{id:ie.id,name:ie.name,stock:Number(ie.stock)||0,originalStock:Number(ie.originalStock)||0,picked:0,original:0,returns:0,sold:0,price:Q,subtotal:0}}))}else console.error("Sales Page - Data is not an array:",M)}catch(M){console.error("Fetch products failed",M),alert(": "+M.message)}},[q,o.token]);p.useEffect(()=>{(async()=>o?.token&&await z())()},[o.token,z]);const b=(M,B,se)=>{let ie=Number(se);isNaN(ie)&&(ie=0),d(N=>N.map(Q=>{if(Q.id!==M)return Q;let F=B==="picked"?ie:Q.picked||0,ce=B==="original"?ie:Q.original||0,oe=B==="returns"?ie:Q.returns||0,r=B==="price"?ie:Q.price||0;F>Q.stock&&(F=Q.stock),F<0&&(F=0),ce>Q.originalStock&&(ce=Q.originalStock),ce<0&&(ce=0);const X=F+ce;oe>X&&(oe=X),oe<0&&(oe=0);const le={...Q,picked:F,original:ce,returns:oe,price:r};return le.sold=le.picked+le.original-le.returns,le.subtotal=le.sold*(le.price||0),le}))},k=M=>{const B=document.getElementById(M);B&&(B.focus(),B.select?.(),B.scrollIntoView({block:"nearest",behavior:"smooth"}))},S=(M,B,se)=>{if(!["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(M.key))return;M.key.startsWith("Arrow")&&M.preventDefault();const N=["picked","original","returns","price"],Q=N.indexOf(se);if(M.key==="Enter"){M.preventDefault();const ce=["picked","original","returns"],oe=ce.indexOf(se);if(oe<ce.length-1&&oe!==-1){const r=ce[oe+1];k(`input-${B}-${r}`)}else B<g.length-1?k(`input-${B+1}-picked`):k("input-cash-1000");return}let F=null;M.key==="ArrowUp"?B>0&&(F=`input-${B-1}-${se}`):M.key==="ArrowDown"?B<g.length-1?F=`input-${B+1}-${se}`:F="input-cash-1000":M.key==="ArrowLeft"?Q>0&&(F=`input-${B}-${N[Q-1]}`):M.key==="ArrowRight"&&(Q<N.length-1?F=`input-${B}-${N[Q+1]}`:F="input-cash-1000"),F&&k(F)},I=(M,B,se,ie)=>{["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(M.key)&&(M.key.startsWith("Arrow")&&M.preventDefault(),M.key==="Enter"||M.key==="ArrowDown"?(M.preventDefault(),se&&k(se)):M.key==="ArrowUp"?ie?k(ie):g.length>0&&k(`input-${g.length-1}-price`):M.key==="ArrowLeft"&&g.length>0&&k(`input-${g.length-1}-price`))},A=g.reduce((M,B)=>M+(B.subtotal||0),0),K=Object.entries(m).reduce((M,[B,se])=>M+Number(B)*se,0)-w,ee=Number(T.stall)+Number(T.cleaning)+Number(T.electricity)+Number(T.gas)+Number(T.parking)+Number(T.goods)+Number(T.bags)+Number(T.others)+Number(T.linePay),ne=j==="CREDIT",W=ne?A:K+ee+Number(T.serviceFee)-A,R=async()=>{if(!Y.trim()){alert("");const B=document.getElementById("input-location");B&&B.focus();return}const M={salesRep:o.username,customer:Y,paymentMethod:j,salesData:g.map(B=>({productId:B.id,picked:B.picked,original:B.original,returns:B.returns,sold:B.sold,unitPrice:B.price})),cashData:{totalCash:j==="CREDIT"?0:K,reserve:w},expenseData:{...T,finalTotal:W}};te(!0);try{await ve(q,"saveSales",M,o.token),alert(" Google Sheet"),window.location.reload()}catch(B){alert(": "+B.message)}finally{te(!1)}};return s.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[O&&s.jsxs("div",{className:"loading-overlay",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),s.jsxs("div",{className:"xl:col-span-2 glass-panel p-6 overflow-hidden flex flex-col h-[calc(100vh-10rem)]",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-slate-800",children:[s.jsx(st,{size:20,className:"text-blue-600"})," "]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex bg-slate-50 rounded-lg p-1 border border-slate-200",children:[s.jsx("button",{onClick:()=>L("CASH"),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${j==="CASH"?"bg-emerald-500 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""}),s.jsx("button",{onClick:()=>L("CREDIT"),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${j==="CREDIT"?"bg-amber-500 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-slate-500 font-bold",children:":"}),s.jsx("input",{id:"input-location",type:"text",className:"input-field py-1 px-3 w-32 md:w-48",placeholder:"...",value:Y,onChange:M=>E(M.target.value)})]})]})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{className:"sticky top-0 bg-white z-10 text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3",children:""}),s.jsx("th",{className:"p-3 w-20",children:""}),s.jsx("th",{className:"p-3 w-24",children:"(+)"}),s.jsx("th",{className:"p-3 w-24",children:"(+)"}),s.jsx("th",{className:"p-3 w-24",children:"(-)"}),s.jsx("th",{className:"p-3 w-20 text-center",children:""}),s.jsx("th",{className:"p-3 w-24",children:""}),s.jsx("th",{className:"p-3 w-28 text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:g.map((M,B)=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-3 font-medium text-slate-800",children:M.name}),s.jsxs("td",{className:"p-3 text-slate-500 font-mono tracking-wider",children:[s.jsx("span",{className:"text-blue-600",children:M.stock}),s.jsx("span",{className:"text-slate-200 mx-1",children:"/"}),s.jsx("span",{className:"text-orange-600",children:M.originalStock||0})]}),s.jsx("td",{className:"p-3",children:s.jsx("input",{id:`input-${B}-picked`,type:"number",className:"input-field text-center p-1 bg-white",value:M.picked||"",onChange:se=>b(M.id,"picked",se.target.value),onKeyDown:se=>S(se,B,"picked")})}),s.jsx("td",{className:"p-3",children:s.jsx("input",{id:`input-${B}-original`,type:"number",className:"input-field text-center p-1 bg-white",value:M.original||"",onChange:se=>b(M.id,"original",se.target.value),onKeyDown:se=>S(se,B,"original")})}),s.jsx("td",{className:"p-3",children:s.jsx("input",{id:`input-${B}-returns`,type:"number",className:"input-field text-center p-1 text-red-600",value:M.returns||"",onChange:se=>b(M.id,"returns",se.target.value),onKeyDown:se=>S(se,B,"returns")})}),s.jsx("td",{className:"p-3 text-center font-bold text-blue-600",children:M.sold}),s.jsx("td",{className:"p-3",children:s.jsx("input",{id:`input-${B}-price`,type:"number",className:"input-field text-center p-1 w-20 bg-white",value:M.price,onChange:se=>b(M.id,"price",se.target.value),onKeyDown:se=>S(se,B,"price")})}),s.jsxs("td",{className:"p-3 text-right font-mono text-emerald-600",children:["$",M.subtotal?.toLocaleString()]})]},M.id))})]})}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 flex justify-between items-center bg-slate-50 p-4 rounded-lg",children:[s.jsx("span",{className:"text-slate-500",children:" ()"}),s.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:["$",A.toLocaleString()]})]})]}),s.jsxs("div",{className:"flex flex-col h-[calc(100vh-10rem)] gap-6",children:[s.jsxs("div",{className:`flex-1 overflow-y-auto pr-2 space-y-6 transition-opacity ${ne?"opacity-50 pointer-events-none grayscale":""}`,children:[s.jsxs("div",{className:"glass-panel p-6 relative",children:[ne&&s.jsx("div",{className:"absolute inset-0 z-50 cursor-not-allowed"}),s.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-slate-800",children:[s.jsx(ah,{size:20,className:"text-amber-600"})," "]}),s.jsxs("div",{className:"space-y-3",children:[[1e3,500,100,50,10,5,1].map((M,B,se)=>{const ie=`input-cash-${M}`,N=B<se.length-1?`input-cash-${se[B+1]}`:"input-reserve",Q=B>0?`input-cash-${se[B-1]}`:null;return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"w-12 text-slate-500 font-mono text-right",children:M}),s.jsx("span",{className:"text-slate-300",children:"x"}),s.jsx("input",{id:ie,type:"number",className:"input-field flex-1",placeholder:"0",value:m[M]||"",onChange:F=>V({...m,[M]:Number(F.target.value)}),onKeyDown:F=>I(F,ie,N,Q),disabled:ne}),s.jsxs("span",{className:"w-20 text-right font-mono text-slate-500",children:["$",(M*m[M]).toLocaleString()]})]},M)}),s.jsxs("div",{className:"border-t border-slate-100 my-2 pt-2 flex items-center gap-4 text-red-600",children:[s.jsx("span",{className:"w-12 text-right",children:""}),s.jsx("span",{className:"text-slate-300",children:"-"}),s.jsx("input",{id:"input-reserve",type:"number",className:"input-field flex-1 border-red-900/50 focus:ring-red-500",value:w,onChange:M=>P(Number(M.target.value)),onKeyDown:M=>I(M,"input-reserve","input-expense-stall","input-cash-1"),disabled:ne})]}),s.jsxs("div",{className:"bg-slate-50 p-3 rounded flex justify-between items-center border border-slate-100",children:[s.jsx("span",{className:"text-slate-500",children:""}),s.jsxs("span",{className:"text-xl font-bold text-amber-600",children:["$",(ne?0:K).toLocaleString()]})]})]})]}),s.jsxs("div",{className:"glass-panel p-6 relative",children:[ne&&s.jsx("div",{className:"absolute inset-0 z-50 cursor-not-allowed"}),s.jsx("h2",{className:"text-lg font-bold mb-4 text-rose-600",children:""}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:["stall:","cleaning:","electricity:","gas:","parking:","goods:","bags:","others:"].map((M,B,se)=>{const[ie,N]=M.split(":"),Q=`input-expense-${ie}`,F=B<se.length-1?se[B+1].split(":")[0]:"linePay",ce=B<se.length-1?`input-expense-${F}`:"input-expense-linePay",oe=B>0?se[B-1].split(":")[0]:null,r=B>0?`input-expense-${oe}`:"input-reserve";return s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:N}),s.jsx("input",{id:Q,type:"number",className:"input-field text-sm",value:T[ie]||"",onChange:X=>v({...T,[ie]:Number(X.target.value)}),onKeyDown:X=>I(X,Q,ce,r),disabled:ne})]},ie)})}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Line Pay ()"}),s.jsx("input",{id:"input-expense-linePay",type:"number",className:"input-field border-green-200 text-green-600",value:T.linePay||"",onChange:M=>v({...T,linePay:Number(M.target.value)}),onKeyDown:M=>I(M,"input-expense-linePay","input-expense-serviceFee","input-expense-others"),disabled:ne})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:" ()"}),s.jsx("input",{id:"input-expense-serviceFee",type:"number",className:"input-field border-red-200 text-red-600",value:T.serviceFee||"",onChange:M=>v({...T,serviceFee:Number(M.target.value)}),disabled:ne,onKeyDown:M=>I(M,"input-expense-serviceFee",null,"input-expense-linePay")})]})]})]})]}),s.jsxs("div",{className:"p-6 glass-panel shadow-lg border-t-4 border-t-blue-600 opacity-100 pointer-events-auto",children:[s.jsx("div",{className:"text-sm text-slate-500 mb-1 font-bold",children:" ()"}),s.jsxs("div",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-700 to-indigo-700",children:["$",(ne?A:W).toLocaleString()]}),s.jsxs("button",{onClick:R,className:"btn-primary w-full mt-6 flex justify-center items-center gap-2 py-4 text-lg",children:[s.jsx(pc,{size:20})," "]})]})]})]})}function Ph({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState(!0),[w,P]=p.useState(""),[T,v]=p.useState(!1),[Y,E]=p.useState(null),[j,L]=p.useState("SCRAP"),[O,te]=p.useState(""),[z,b]=p.useState(""),[k,S]=p.useState({}),[I,A]=p.useState({}),[h,K]=p.useState({}),[ee,ne]=p.useState(!1),W=p.useCallback(async()=>{V(!0);try{const $=await ve(q,"getInventory",{},o.token);if(console.log("Inventory API Response:",$),Array.isArray($)){const ae=$.filter(Me=>{const xe=Number(Me.quantity);return!isNaN(xe)&&xe>0});console.log("Filtered Inventory:",ae);const fe=yc(ae,"productName");console.log("Sorted Inventory:",fe),d(fe)}else console.error("Inventory data is not an array:",$),d([])}catch($){console.error("Failed to fetch inventory:",$),alert(": "+$.message),d([])}finally{V(!1)}},[q,o.token]);p.useEffect(()=>{(async()=>{if(o?.token){await W();const ae=localStorage.getItem("safetyStocks");ae&&S(JSON.parse(ae));const fe=localStorage.getItem("customCaseSizes");fe&&K(JSON.parse(fe))}})()},[o.token,W]);const R=$=>{if(!$)return"-";const ae=new Date($);return isNaN(ae.getTime())?String($):ae.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})},M=$=>{E($),te(""),b(""),v(!0)},B=async()=>{if(!O||Number(O)<=0){alert("");return}if(!z.trim()){alert("");return}ne(!0);try{await ve(q,"adjustInventory",{batchId:Y.batchId,type:j,quantity:Number(O),note:z},o.token),alert(""),v(!1),W()}catch($){alert(": "+$.message)}finally{ne(!1)}},se=($,ae)=>{const fe={...k,[$]:Number(ae)||0};S(fe),localStorage.setItem("safetyStocks",JSON.stringify(fe))},ie=($,ae)=>{A({...I,[$]:ae})},N=$=>{const ae=I[$];ae!==void 0&&se($,ae)},Q=($,ae)=>{const fe={...h,[$]:Number(ae)||0};K(fe),localStorage.setItem("customCaseSizes",JSON.stringify(fe))},F=$=>{const ae=document.getElementById($);ae&&(ae.focus(),ae.select?.(),ae.scrollIntoView({block:"nearest",behavior:"smooth"}))},ce=($,ae,fe,Me)=>{const xe=Me[ae];if($.key==="Enter"||$.key==="ArrowRight"){if($.preventDefault(),fe==="case")F(`safety-input-${xe.productName}-${xe.batchId}`);else if(ae<Me.length-1){const Te=Me[ae+1];F(`case-input-${Te.productName}-${Te.batchId}`)}}else if($.key==="ArrowLeft"){if($.preventDefault(),fe==="safety")F(`case-input-${xe.productName}-${xe.batchId}`);else if(ae>0){const Te=Me[ae-1];F(`safety-input-${Te.productName}-${Te.batchId}`)}}else if($.key==="ArrowDown"){if($.preventDefault(),ae<Me.length-1){const Te=Me[ae+1];F(`${fe}-input-${Te.productName}-${Te.batchId}`)}}else if($.key==="ArrowUp"&&($.preventDefault(),ae>0)){const Te=Me[ae-1];F(`${fe}-input-${Te.productName}-${Te.batchId}`)}},oe=g.filter($=>{const ae=String($.productName||"").toLowerCase(),fe=w.toLowerCase();return ae.includes(fe)?!0:fe.length>6?String($.batchId||"").toLowerCase().includes(fe):!1}),r=oe.filter($=>$.type==="STOCK"),X=oe.filter($=>$.type!=="STOCK"),le={};g.forEach($=>{le[$.productName]||(le[$.productName]=0),le[$.productName]+=Number($.quantity)});const ue=($,ae,fe,Me)=>s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 flex flex-col shadow-sm",children:[s.jsxs("h3",{className:`text-lg font-bold mb-4 flex items-center gap-2 ${Me}`,children:[s.jsx(fe,{size:20})," ",ae]}),s.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-center",children:" / "}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-center",children:""}),s.jsx("th",{className:"p-4 text-center",children:""}),s.jsx("th",{className:"p-4 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:m?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-6 text-center text-slate-500",children:"..."})}):$.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-6 text-center text-slate-500",children:""})}):$.map((xe,Te)=>{const Jt=k[xe.productName]||0,St=h[xe.productName],vl=St!==void 0&&St!==0?St:c0[xe.productName]||0,wt=le[xe.productName]||0,Nl=Jt>0&&wt<=Jt,U=xe.expiry?new Date(xe.expiry):null,pe=new Date;pe.setHours(0,0,0,0);const qe=new Date(pe);qe.setDate(pe.getDate()+3);const Ee=U&&U>=pe&&U<=qe,xt=U&&U<pe;return s.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${Nl?"bg-red-50":""} ${xt?"bg-rose-50":Ee?"bg-amber-50":""}`,children:[s.jsx("td",{className:"p-4 font-medium text-slate-900",children:s.jsxs("div",{className:"flex items-center gap-2",children:[Nl&&s.jsx(mc,{size:16,className:"text-red-400"}),xe.productName]})}),s.jsx("td",{className:"p-4 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"font-mono text-emerald-600 font-bold text-lg",children:xe.quantity}),vl>0&&s.jsxs("span",{className:"text-blue-600 font-mono text-sm",children:["",(xe.quantity/vl).toFixed(1)]})]})}),s.jsx("td",{className:"p-4 text-sm whitespace-nowrap",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("span",{className:xt?"text-rose-600 line-through":Ee?"text-amber-600 font-bold":"text-slate-500",children:R(xe.expiry)}),Ee&&s.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-700 border border-amber-200 px-1.5 py-0.5 rounded self-start flex items-center gap-1 font-bold",children:[s.jsx(m0,{size:10})," "]}),xt&&s.jsxs("span",{className:"text-[10px] bg-rose-100 text-rose-700 border border-rose-200 px-1.5 py-0.5 rounded self-start flex items-center gap-1 font-bold",children:[s.jsx(mc,{size:10})," "]})]})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("input",{id:`case-input-${xe.productName}-${xe.batchId}`,type:"number",className:"input-field w-16 text-center text-xs p-1 bg-white border-blue-200",value:St!==void 0?St:c0[xe.productName]||"",onChange:Xe=>Q(xe.productName,Xe.target.value),onKeyDown:Xe=>ce(Xe,Te,"case",$),placeholder:""})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("input",{id:`safety-input-${xe.productName}-${xe.batchId}`,type:"number",className:"input-field w-16 text-center text-xs p-1 bg-white border-amber-200",value:I[xe.productName]!==void 0?I[xe.productName]:k[xe.productName]||"",onChange:Xe=>ie(xe.productName,Xe.target.value),onBlur:()=>N(xe.productName),onKeyDown:Xe=>ce(Xe,Te,"safety",$),placeholder:""})}),s.jsx("td",{className:"p-4 text-center",children:s.jsxs("button",{onClick:()=>M(xe),className:"btn-secondary text-xs px-3 py-1 flex items-center gap-1 mx-auto",children:[s.jsx(h0,{size:14})," "]})})]},Te)})})]})})]});return s.jsxs("div",{className:"max-w-6xl mx-auto h-[calc(100vh-6rem)] flex flex-col p-4 gap-4",children:[s.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[s.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-slate-800",children:[s.jsx(xc,{className:"text-blue-600"})," "]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-64 bg-white",value:w,onChange:$=>P($.target.value)})]}),s.jsx("button",{onClick:W,className:"btn-secondary p-2",title:"",children:s.jsx(st,{size:20})})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-6 pb-6",children:[ue(r,"",xc,"text-blue-600"),ue(X,"/",f0,"text-orange-600")]}),T&&s.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:[ee&&s.jsxs("div",{className:"loading-overlay",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),s.jsxs("div",{className:"glass-panel p-6 w-96 max-w-[90vw]",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:""}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-slate-500 block mb-1",children:""}),s.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 rounded-lg border border-slate-100",children:[s.jsx("div",{className:"text-slate-900 font-bold",children:Y?.productName}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-slate-400",children:":"}),s.jsx("span",{className:"text-emerald-600 font-mono font-bold text-lg",children:Y?.quantity})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:""}),s.jsxs("select",{className:"input-field w-full",value:j,onChange:$=>L($.target.value),children:[s.jsx("option",{value:"SCRAP",children:""}),s.jsx("option",{value:"RETURN",children:""}),s.jsx("option",{value:"LOSS",children:""}),s.jsx("option",{value:"OTHER",children:""})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:""}),s.jsx("input",{id:"adjustment-qty-input",type:"number",className:"input-field w-full",value:O,onChange:$=>te($.target.value),onKeyDown:$=>{($.key==="Enter"||$.key==="ArrowDown")&&($.preventDefault(),document.getElementById("adjustment-note-input")?.focus())},placeholder:"",autoFocus:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm text-slate-400 block mb-1",children:[" ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsx("textarea",{id:"adjustment-note-input",className:"input-field w-full",rows:"3",value:z,onChange:$=>b($.target.value),onKeyDown:$=>{$.key==="Enter"?($.preventDefault(),B()):$.key==="ArrowUp"&&($.preventDefault(),document.getElementById("adjustment-qty-input")?.focus())},placeholder:"..."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:B,className:"btn-primary flex-1",children:""}),s.jsx("button",{onClick:()=>v(!1),className:"btn-secondary flex-1",children:""})]})]})]})]})]})}function ep({user:o,apiUrl:q}){const g=new Date().getFullYear().toString(),[d,m]=p.useState([{id:Date.now(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:g,expiryMonth:"",expiryDay:""}]),[V,w]=p.useState({vendors:[],vendorProductMap:{}}),[P,T]=p.useState(!1),[v,Y]=p.useState("CASH");p.useEffect(()=>{const k=async()=>{try{const S=await ve(q,"getPurchaseSuggestions",{},o.token);S.vendors&&w(S)}catch(S){console.error("Failed to fetch suggestions",S)}};o?.token&&k()},[o.token,q]);const E=k=>{if(k&&V.vendorProductMap[k])return V.vendorProductMap[k];const S=new Set;return Object.values(V.vendorProductMap||{}).forEach(I=>I.forEach(A=>S.add(A))),Array.from(S)},j=(k,S,I)=>{m(A=>A.map(h=>h.id===k?{...h,[S]:I}:h))},L=()=>{m(k=>[...k,{id:Date.now()+Math.random(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:g,expiryMonth:"",expiryDay:""}])},O=k=>{d.length>1&&m(S=>S.filter(I=>I.id!==k))},te=k=>{const S=document.getElementById(k);S&&(S.focus(),S.select?.(),S.scrollIntoView({block:"nearest",behavior:"smooth"}))},z=(k,S,I)=>{const A=["vendor","product","qty","price","year","month","day"],h=A.indexOf(I);k.key==="Enter"||k.key==="ArrowRight"?(k.preventDefault(),h<A.length-1?te(`item-${S}-${A[h+1]}`):S<d.length-1?te(`item-${S+1}-vendor`):k.key==="Enter"&&(L(),setTimeout(()=>te(`item-${S+1}-vendor`),50))):k.key==="ArrowLeft"?(k.preventDefault(),h>0?te(`item-${S}-${A[h-1]}`):S>0&&te(`item-${S-1}-day`)):k.key==="ArrowDown"?(k.preventDefault(),S<d.length-1&&te(`item-${S+1}-${I}`)):k.key==="ArrowUp"&&(k.preventDefault(),S>0&&te(`item-${S-1}-${I}`))},b=async k=>{k.preventDefault();for(let I=0;I<d.length;I++){const A=d[I];if(!A.vendor.trim()||!A.productName.trim()||!A.quantity||!A.unitPrice||!A.expiryYear||!A.expiryMonth||!A.expiryDay){alert(` ${I+1} 
`);return}}T(!0);const S=d.map(I=>{const A=I.expiryMonth.padStart(2,"0"),h=I.expiryDay.padStart(2,"0");return{vendor:I.vendor,productName:I.productName,quantity:Number(I.quantity),price:Number(I.unitPrice),expiry:`${I.expiryYear}-${A}-${h}`}});try{const I=await ve(q,"addPurchase",{items:S,operator:o.username,paymentMethod:v},o.token);alert(` ${I.count} `),m([{id:Date.now(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:g,expiryMonth:"",expiryDay:""}]),Y("CASH")}catch(I){alert(": "+I.message)}finally{T(!1)}};return s.jsxs("div",{className:"max-w-[90rem] mx-auto p-4",children:[P&&s.jsxs("div",{className:"loading-overlay",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),s.jsxs("div",{className:"glass-panel p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold flex items-center gap-2 text-slate-800",children:""}),s.jsxs("div",{className:"flex bg-slate-50 p-1 rounded-lg border border-slate-200",children:[s.jsx("button",{onClick:()=>Y("CASH"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${v==="CASH"?"bg-emerald-500 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""}),s.jsx("button",{onClick:()=>Y("CREDIT"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${v==="CREDIT"?"bg-purple-600 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""})]})]}),s.jsxs("form",{onSubmit:b,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between px-2",children:[s.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:""}),s.jsxs("span",{className:"text-xs text-slate-400",children:[" ",d.length," "]})]}),s.jsx("datalist",{id:"vendors-list",children:V.vendors.map((k,S)=>s.jsx("option",{value:k},S))}),d.map((k,S)=>{const I=E(k.vendor);return s.jsxs("div",{className:"group relative p-4 bg-slate-50 rounded-xl border border-slate-200 hover:border-emerald-500/30 hover:shadow-lg transition-all duration-200",children:[s.jsx("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-emerald-50 border border-emerald-200 flex items-center justify-center",children:s.jsx("span",{className:"text-[10px] font-bold text-emerald-600",children:S+1})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[s.jsxs("div",{className:"col-span-12 md:col-span-2",children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),s.jsx("input",{id:`item-${S}-vendor`,list:"vendors-list",className:"input-field w-full bg-white",placeholder:"",value:k.vendor,onChange:A=>j(k.id,"vendor",A.target.value),onKeyDown:A=>z(A,S,"vendor"),autoFocus:S===d.length-1})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3",children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),s.jsx("input",{id:`item-${S}-product`,list:`products-list-${S}`,className:"input-field w-full bg-white",placeholder:"",value:k.productName,onChange:A=>j(k.id,"productName",A.target.value),onKeyDown:A=>z(A,S,"product")}),s.jsx("datalist",{id:`products-list-${S}`,children:I.map((A,h)=>s.jsx("option",{value:A},h))})]}),s.jsxs("div",{className:"col-span-6 md:col-span-2",children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),s.jsx("input",{id:`item-${S}-qty`,type:"number",className:"input-field w-full text-center bg-white",placeholder:"0",value:k.quantity,onChange:A=>j(k.id,"quantity",A.target.value),onKeyDown:A=>z(A,S,"qty")})]}),s.jsxs("div",{className:"col-span-6 md:col-span-2",children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),s.jsx("input",{id:`item-${S}-price`,type:"number",className:"input-field w-full text-center bg-white",placeholder:"0",value:k.unitPrice,onChange:A=>j(k.id,"unitPrice",A.target.value),onKeyDown:A=>z(A,S,"price")})]}),s.jsxs("div",{className:"col-span-12 md:col-span-3 grid grid-cols-[1fr_auto_1fr_auto_1fr_auto] gap-1 relative",children:[s.jsx("label",{className:"absolute -top-6 left-0 text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),s.jsx("input",{id:`item-${S}-year`,className:"input-field w-full text-center font-mono px-1 bg-white",placeholder:"YYYY",value:k.expiryYear,onChange:A=>j(k.id,"expiryYear",A.target.value),onKeyDown:A=>z(A,S,"year")}),s.jsx("span",{className:"text-slate-400 self-center",children:"/"}),s.jsx("input",{id:`item-${S}-month`,className:"input-field w-full text-center font-mono px-1 bg-white",placeholder:"MM",value:k.expiryMonth,onChange:A=>j(k.id,"expiryMonth",A.target.value),onKeyDown:A=>z(A,S,"month")}),s.jsx("span",{className:"text-slate-200 self-center",children:"/"}),s.jsx("input",{id:`item-${S}-day`,type:"number",className:"input-field w-full text-center font-mono px-1 bg-white",placeholder:"DD",value:k.expiryDay,onChange:A=>j(k.id,"expiryDay",A.target.value),onKeyDown:A=>z(A,S,"day")}),d.length>1&&s.jsx("button",{type:"button",onClick:()=>O(k.id),className:"w-8 h-8 ml-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-all flex items-center justify-center self-center",title:"",children:""})]})]})]},k.id)})]}),s.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-slate-100",children:[s.jsxs("button",{type:"button",onClick:L,className:"btn-secondary flex-1 py-4 text-base font-semibold flex items-center justify-center gap-2 hover:scale-105 transition-transform",children:[s.jsx("span",{className:"text-xl",children:""})," "]}),s.jsx("button",{type:"submit",disabled:P,className:"btn-primary flex-[2] py-4 text-lg font-bold shadow-lg shadow-emerald-100 hover:shadow-xl hover:shadow-emerald-200 hover:scale-105 transition-all flex items-center justify-center gap-2",children:P?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"animate-spin",children:""})," ..."]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-xl",children:""})," "]})})]})]})]})]})}function tp({user:o,apiUrl:q}){const[g,d]=p.useState(Be()),[m,V]=p.useState(Be()),[w,P]=p.useState(""),[T,v]=p.useState(""),[Y,E]=p.useState(!1),[j,L]=p.useState([]),[O,te]=p.useState([]),[z,b]=p.useState("SALES"),k=p.useCallback(async()=>{if(!(!g||!m)){E(!0);try{const R={startDate:g,endDate:m},M=o.role==="BOSS"||o.permissions&&o.permissions.includes("finance"),B=[ve(q,"getSalesHistory",R,o.token)];M&&B.push(ve(q,"getExpenditures",R,o.token));const se=await Promise.all(B),ie=se[0],N=M?se[1]:[];let Q=Array.isArray(ie)?ie:[];const F=w.trim().toLowerCase(),ce=T.trim().toLowerCase();F&&(Q=Q.filter(r=>String(r.location||"").toLowerCase().includes(F))),ce&&(Q=Q.filter(r=>String(r.salesRep||"").toLowerCase().includes(ce))),L(Q);let oe=Array.isArray(N)?N:[];F&&(oe=oe.filter(r=>String(r.customer||"").toLowerCase().includes(F)||String(r.note||"").toLowerCase().includes(F))),ce&&(oe=oe.filter(r=>String(r.salesRep||"").toLowerCase().includes(ce))),oe.forEach(r=>{const X=Number(r.stall||0)+Number(r.cleaning||0)+Number(r.electricity||0)+Number(r.gas||0)+Number(r.parking||0)+Number(r.goods||0)+Number(r.bags||0)+Number(r.others||0)+Number(r.vehicleMaintenance||0)+Number(r.salary||0)+Number(r.linePay||0)+Number(r.serviceFee||0)+Number(r.reserve||0);r.rowTotal=X,r.salaryAmount=Number(r.salary||0);const le=Object.keys(r).find($=>{const ae=$.toLowerCase().trim();return ae==="finaltotal"||ae.includes("")||ae.includes("")||ae.includes("")||ae.includes("")}),ue=Number(le?r[le]:r.finalTotal||0);r.displayFinalTotal=ue}),te(oe)}catch(R){console.error(R),alert(": "+R.message)}finally{E(!1)}}},[g,m,w,T,o.token,q]);gl.useEffect(()=>{k()},[k]);const S=R=>{R.preventDefault(),k()},I=j?.reduce((R,M)=>R+(Number(M.totalAmount)||0),0)||0,A=j?.reduce((R,M)=>R+(Number(M.soldQty)||0),0)||0,h=O?.reduce((R,M)=>R+(M.rowTotal||0)-(M.salaryAmount||0),0)||0,K=O?.reduce((R,M)=>R+(Number(M.displayFinalTotal)||0),0)||0,ee=I-h+K,ne=j?.reduce((R,M)=>{const B=M.productName;return R[B]||(R[B]={name:M.productName,qty:0,amount:0}),R[B].qty+=M.soldQty,R[B].amount+=M.totalAmount,R},{}),W=ne?Object.values(ne).sort((R,M)=>M.qty-R.qty):[];return s.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:s.jsxs("div",{className:"glass-panel p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-slate-200 pb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Lu,{className:"text-blue-600"})," "]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),j&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[s.jsxs("div",{className:"px-4 py-2 rounded-xl bg-amber-50 border border-amber-200 shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),s.jsxs("p",{className:"text-xl font-bold text-amber-700 text-center",children:["$",ee.toLocaleString()]})]}),s.jsxs("div",{className:"px-4 py-2 rounded-xl bg-emerald-50 border border-emerald-200 shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),s.jsxs("p",{className:"text-xl font-bold text-emerald-700 text-center",children:["$",I.toLocaleString()]})]}),s.jsxs("div",{className:"px-4 py-2 rounded-xl bg-rose-50 border border-rose-200 shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),s.jsxs("p",{className:"text-xl font-bold text-rose-700 text-center",children:["$",h.toLocaleString()]})]}),s.jsxs("div",{className:"px-4 py-2 rounded-xl bg-cyan-50 border border-cyan-200 shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),s.jsxs("p",{className:"text-xl font-bold text-cyan-700 text-center",children:["$",K.toLocaleString()]})]}),s.jsxs("div",{className:"px-4 py-2 rounded-xl bg-blue-50 border border-blue-200 shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),s.jsx("p",{className:"text-xl font-bold text-blue-700 text-center",children:A.toLocaleString()})]}),s.jsxs("div",{className:"px-4 py-2 rounded-xl bg-purple-50 border border-purple-200 shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),s.jsx("p",{className:"text-xl font-bold text-purple-700 text-center",children:j.length})]})]})]}),s.jsx("form",{onSubmit:S,className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),s.jsx("input",{type:"date",required:!0,className:"input-field w-full",value:g,onChange:R=>d(R.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),s.jsx("input",{type:"date",required:!0,className:"input-field w-full",value:m,onChange:R=>V(R.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:w,onChange:R=>P(R.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:T,onChange:R=>v(R.target.value)})]}),s.jsxs("button",{onClick:S,disabled:Y,className:"btn-primary py-2 px-6 flex items-center gap-2 self-end h-[42px]",children:[Y?"...":s.jsx(ft,{size:18})," "]})]})]})}),j&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200",children:s.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[s.jsx(xc,{size:16,className:"text-blue-600"})," "]})}),s.jsx("div",{className:"overflow-x-auto max-h-60",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:W.length>0?W.map((R,M)=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-4 text-slate-900",children:R.name}),s.jsx("td",{className:"p-4 text-right text-slate-500",children:R.qty}),s.jsxs("td",{className:"p-4 text-right text-emerald-600",children:["$",R.amount.toLocaleString()]})]},M)):s.jsx("tr",{children:s.jsx("td",{colSpan:"3",className:"p-8 text-center text-slate-500",children:""})})})]})})]}),s.jsxs("div",{className:"rounded-xl border border-slate-200 overflow-hidden flex flex-col h-[600px]",children:[s.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200 flex gap-4",children:[s.jsxs("button",{onClick:()=>b("SALES"),className:`font-bold flex items-center gap-2 pb-2 border-b-2 transition-colors ${z==="SALES"?"text-blue-600 border-blue-600":"text-slate-500 border-transparent hover:text-slate-900"}`,children:[s.jsx(Zs,{size:16}),"  (",j.length,")"]}),s.jsxs("button",{onClick:()=>b("EXPENSES"),className:`font-bold flex items-center gap-2 pb-2 border-b-2 transition-colors ${z==="EXPENSES"?"text-rose-600 border-rose-600":"text-slate-500 border-transparent hover:text-slate-900"}`,children:[s.jsx(Vt,{size:16}),"  (",O.length,")"]})]}),s.jsx("div",{className:"overflow-auto flex-1",children:z==="SALES"?s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 font-medium w-48",children:""}),s.jsx("th",{className:"p-3 font-medium w-32",children:""}),s.jsx("th",{className:"p-3 font-medium w-32",children:""}),s.jsx("th",{className:"p-3 font-medium",children:""}),s.jsx("th",{className:"p-3 font-medium text-right w-24",children:""}),s.jsx("th",{className:"p-3 font-medium text-right w-32",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 text-slate-600 bg-white",children:j.map((R,M)=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-3 text-slate-500",children:new Date(R.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),s.jsx("td",{className:"p-3",children:R.location}),s.jsx("td",{className:"p-3",children:R.salesRep}),s.jsx("td",{className:"p-3 text-slate-900",children:R.productName}),s.jsx("td",{className:"p-3 text-right",children:R.soldQty}),s.jsxs("td",{className:"p-3 text-right",children:["$",R.totalAmount]})]},M))})]}):s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-3 font-medium w-48",children:""}),s.jsx("th",{className:"p-3 font-medium w-32",children:"/"}),s.jsx("th",{className:"p-3 font-medium w-32",children:""}),s.jsx("th",{className:"p-3 font-medium",children:""}),s.jsx("th",{className:"p-3 font-medium text-right w-28",children:""}),s.jsx("th",{className:"p-3 font-medium text-right w-28 text-emerald-600",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 text-slate-600 bg-white",children:O.map((R,M)=>{const B=[];return R.stall&&B.push(` $${R.stall}`),R.cleaning&&B.push(` $${R.cleaning}`),R.electricity&&B.push(` $${R.electricity}`),R.gas&&B.push(` $${R.gas}`),R.parking&&B.push(` $${R.parking}`),R.goods&&B.push(` $${R.goods}`),R.bags&&B.push(` $${R.bags}`),R.others&&B.push(` $${R.others}`),R.linePay&&B.push(`Line Pay $${R.linePay}`),R.serviceFee&&B.push(` $${R.serviceFee}`),R.reserve&&B.push(` $${R.reserve}`),R.vehicleMaintenance&&B.push(` $${R.vehicleMaintenance}`),R.salary&&B.push(` $${R.salary}`),s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-3 text-slate-500",children:new Date(R.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),s.jsx("td",{className:"p-3 font-bold text-slate-900",children:R.customer||R.note||"-"}),s.jsx("td",{className:"p-3",children:R.salesRep}),s.jsx("td",{className:"p-3 text-xs text-slate-400",children:B.join(", ")}),s.jsxs("td",{className:"p-3 text-right font-mono text-rose-600",children:["$",(R.rowTotal||0).toLocaleString()]}),s.jsxs("td",{className:"p-3 text-right font-mono font-bold text-emerald-600",children:["$",(Number(R.displayFinalTotal)||0).toLocaleString()]})]},M)})})]})})]})]})]})})}function lp({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState(!1),[w,P]=p.useState(""),[T,v]=p.useState(""),[Y,E]=p.useState(Be()),[j,L]=p.useState(Be()),O=gl.useCallback(async()=>{V(!0);try{const b=await ve(q,"getPurchaseHistory",{startDate:Y,endDate:j},o.token);Array.isArray(b)&&d(b)}catch(b){console.error("Failed to fetch purchase history:",b)}finally{V(!1)}},[q,o.token,Y,j]);p.useEffect(()=>{O()},[O]);const te=g.filter(b=>{const k=String(b.productName||"").toLowerCase(),S=String(b.vendorName||b.vendor||"").toLowerCase(),I=w.toLowerCase(),A=T.toLowerCase();return k.includes(I)&&S.includes(A)}),z=te.reduce((b,k)=>b+(Number(k.totalPrice)||0),0);return s.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:s.jsxs("div",{className:"glass-panel p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Uu,{className:"text-blue-600"})," "]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),s.jsxs("div",{className:"px-5 py-3 rounded-xl border border-emerald-200 bg-emerald-50 flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-full bg-emerald-100 text-emerald-700",children:s.jsx(Vt,{size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:""}),s.jsxs("p",{className:"text-xl font-bold text-emerald-700",children:["$",z.toLocaleString()]})]})]})]}),s.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[s.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:w,onChange:b=>P(b.target.value)})]})]}),s.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:T,onChange:b=>v(b.target.value)})]})]}),s.jsxs("div",{className:"w-full md:w-40 space-y-1.5",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsx("input",{type:"date",className:"input-field w-full text-sm",value:Y,onChange:b=>E(b.target.value)})]}),s.jsxs("div",{className:"w-full md:w-40 space-y-1.5",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsx("input",{type:"date",className:"input-field w-full text-sm",value:j,onChange:b=>L(b.target.value)})]}),s.jsxs("button",{onClick:O,disabled:m,className:"btn-secondary h-[42px] flex items-center gap-2 whitespace-nowrap px-6",children:[s.jsx(st,{size:18,className:m?"animate-spin":""})," "]})]})}),s.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:m?s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((b,k)=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[s.jsx($t,{size:14,className:"text-slate-400 group-hover:text-blue-600 transition-colors"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-slate-600",children:b.date?new Date(b.date).toLocaleDateString("zh-TW"):"-"}),s.jsx("span",{className:"text-xs text-slate-400",children:b.date?new Date(b.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]})]})}),s.jsx("td",{className:"p-4 text-slate-600",children:b.vendorName||b.vendor||"-"}),s.jsx("td",{className:"p-4 font-medium text-slate-900",children:b.productName}),s.jsx("td",{className:"p-4 text-right font-mono text-blue-600",children:b.quantity}),s.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",(Number(b.unitPrice)||0).toLocaleString()]}),s.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-600",children:["$",(Number(b.totalPrice)||0).toLocaleString()]}),s.jsx("td",{className:"p-4 text-slate-400 text-xs",children:b.expiry?new Date(b.expiry).toLocaleDateString("zh-TW"):"-"}),s.jsx("td",{className:"p-4 text-slate-400",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(hc,{size:12})," ",b.operator||"-"]})})]},k)):s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"p-20 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Yu,{size:32,className:"text-slate-600"}),s.jsx("p",{className:"text-slate-500",children:""})]})})})})]})})})]})})}function ap({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState(!1),[w,P]=p.useState(""),[T,v]=p.useState("ALL"),[Y,E]=p.useState(Be()),[j,L]=p.useState(Be()),O=gl.useCallback(async()=>{V(!0);try{const z=await ve(q,"getAdjustmentHistory",{startDate:Y,endDate:j,productName:w},o.token);Array.isArray(z)&&d(z)}catch(z){console.error("Failed to fetch adjustment history:",z)}finally{V(!1)}},[q,o.token,Y,j,w]);p.useEffect(()=>{O()},[O]);const te=g.filter(z=>{const b=String(z.productName||"").toLowerCase().includes(w.toLowerCase()),k=T==="ALL"||z.type===T;return b&&k});return s.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:s.jsxs("div",{className:"glass-panel p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-slate-200 pb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(fc,{className:"text-blue-600"})," "]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),s.jsx("div",{className:"flex gap-4",children:s.jsxs("div",{className:"px-5 py-2 rounded-xl bg-blue-50 border border-blue-200",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),s.jsx("p",{className:"text-xl font-bold text-blue-600 text-center",children:te.length})]})})]}),s.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[s.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:w,onChange:z=>P(z.target.value)})]})]}),s.jsxs("div",{className:"w-full md:w-32 space-y-1.5",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsxs("select",{value:T,onChange:z=>v(z.target.value),className:"input-field w-full text-sm appearance-none bg-white font-medium",children:[s.jsx("option",{value:"ALL",children:""}),s.jsx("option",{value:"SCRAP",children:""}),s.jsx("option",{value:"RETURN",children:""}),s.jsx("option",{value:"LOSS",children:""}),s.jsx("option",{value:"OTHER",children:""})]})]}),s.jsxs("div",{className:"w-full md:w-36 space-y-1.5",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsx("input",{type:"date",className:"input-field w-full text-sm",value:Y,onChange:z=>E(z.target.value)})]}),s.jsxs("div",{className:"w-full md:w-36 space-y-1.5",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsx("input",{type:"date",className:"input-field w-full text-sm",value:j,onChange:z=>L(z.target.value)})]}),s.jsxs("button",{onClick:O,disabled:m,className:"btn-secondary h-[42px] flex items-center gap-2 whitespace-nowrap px-6",children:[s.jsx(st,{size:18,className:m?"animate-spin":""})," "]})]})}),s.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4",children:"/"}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:m?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((z,b)=>{const k={SCRAP:"",RETURN:"",LOSS:"",OTHER:""};return s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex flex-col gap-0.5 text-slate-500",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{size:14,className:"text-slate-400"}),s.jsx("span",{children:z.date?new Date(z.date).toLocaleDateString("zh-TW"):"-"})]}),s.jsx("span",{className:"text-xs text-slate-400 ml-6",children:z.date?new Date(z.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]})}),s.jsx("td",{className:"p-4 font-medium text-slate-900",children:z.productName}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${z.type==="SCRAP"?"bg-rose-100 text-rose-700":z.type==="RETURN"?"bg-blue-100 text-blue-700":z.type==="LOSS"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-700"}`,children:k[z.type]||z.type})}),s.jsxs("td",{className:"p-4 text-right font-mono font-bold text-rose-600",children:["-",z.quantity]}),s.jsx("td",{className:"p-4 text-slate-600 max-w-xs truncate",title:z.note,children:z.note||"-"}),s.jsx("td",{className:"p-4 text-slate-400",children:z.operator||"-"})]},b)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-20 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Yu,{size:32,className:"text-slate-600"}),s.jsx("p",{className:"text-slate-500",children:""})]})})})})]})})})]})})}function sp({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState(!1),[w,P]=p.useState(""),T=async()=>{V(!0);try{const j=await ve(q,"getInventoryValuation",{},o.token);if(console.log("Inventory Valuation Data:",j),Array.isArray(j)){const L=yc(j,"name");d(L)}else console.error("Valuation data is not an array:",j),d([])}catch(j){console.error("Failed to fetch valuation:",j),alert(": "+j.message)}finally{V(!1)}};p.useEffect(()=>{o?.token&&T()},[o.token,q]);const v=g.filter(j=>String(j.name||"").toLowerCase().includes(w.toLowerCase())),Y=v.reduce((j,L)=>j+(Number(L.totalValue)||0),0),E=v.reduce((j,L)=>j+(Number(L.totalQty)||0),0);return s.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Vt,{className:"text-amber-600"})," "]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"bg-amber-50 px-5 py-3 border border-amber-200 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:""}),s.jsxs("p",{className:"text-2xl font-bold text-amber-600 flex items-baseline gap-1",children:[s.jsx("span",{className:"text-sm opacity-50",children:"$"}),Y.toLocaleString()]})]}),s.jsxs("div",{className:"bg-blue-50 px-5 py-3 border border-blue-200 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:""}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:E.toLocaleString()})]})]})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 flex gap-4 items-center shadow-sm",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:w,onChange:j=>P(j.target.value)})]}),s.jsxs("button",{onClick:T,disabled:m,className:"btn-secondary h-[42px] px-4 flex items-center gap-2",children:[s.jsx(st,{size:18,className:m?"animate-spin":""})," "]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0 font-bold border-b border-slate-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:m?s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):v.length>0?v.map((j,L)=>{const O=Number(j.totalQty)||0,te=Number(j.totalValue)||0,z=O>0?te/O:0,b=Y>0?te/Y*100:0;return s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-medium text-slate-800",children:j.name}),s.jsx("td",{className:"p-4 text-right font-mono text-slate-600",children:O.toLocaleString()}),s.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",z.toFixed(2)]}),s.jsxs("td",{className:"p-4 text-right font-mono font-bold text-amber-600",children:["$",te.toLocaleString()]}),s.jsx("td",{className:"p-4 text-right w-24",children:s.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[s.jsxs("span",{className:"text-xs text-slate-500 w-8",children:[b.toFixed(1),"%"]}),s.jsx("div",{className:"w-12 h-1.5 bg-slate-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-amber-500",style:{width:`${Math.min(b,100)}%`}})})]})})]},L)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-20 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(Zs,{size:32,className:"text-slate-600"}),s.jsx("p",{className:"text-slate-500",children:""})]})})})})]})})})]})}function np({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState({}),[w,P]=p.useState(!0),[T,v]=p.useState(!1),[Y,E]=p.useState(""),[j,L]=p.useState(!1),O=p.useCallback(W=>`${W.id}-${W.batchId||"no-batch"}`,[]),te=p.useCallback(async()=>{P(!0);try{const W=await ve(q,"getInventory",{},o.token);if(Array.isArray(W)){const R=yc(W,"productName");d(R);const M={};R.forEach(B=>{B.type==="STOCK"&&(M[O(B)]={physicalQty:"",reason:"",accountability:""})}),V(M)}}catch(W){console.error("Failed to fetch inventory for stocktake:",W),alert("")}finally{P(!1)}},[q,o.token,O]);p.useEffect(()=>{o?.token&&te()},[o.token,te]);const z=(W,R,M)=>{V(B=>({...B,[W]:{...B[W],[R]:M}}))},b=W=>{const R=document.getElementById(W);R&&(R.focus(),R.select?.(),R.scrollIntoView({block:"nearest",behavior:"smooth"}))},k=(W,R,M,B)=>{const se=B[R],ie=O(se),N=m[ie]||{},Q=S(se.quantity,N.physicalQty),F=N.physicalQty!==""&&Q!==0,ce=["qty","reason","acc"],oe=ce.indexOf(M);W.key==="ArrowRight"||W.key==="Enter"&&!W.shiftKey?(W.preventDefault(),M==="qty"&&!F?R<B.length-1&&b(`qty-${O(B[R+1])}`):oe<ce.length-1?b(`${ce[oe+1]}-${ie}`):R<B.length-1&&b(`qty-${O(B[R+1])}`)):W.key==="ArrowLeft"?(W.preventDefault(),oe>0&&b(`${ce[oe-1]}-${ie}`)):W.key==="ArrowDown"?(W.preventDefault(),R<B.length-1&&b(`${M}-${O(B[R+1])}`)):W.key==="ArrowUp"&&(W.preventDefault(),R>0&&b(`${M}-${O(B[R-1])}`))},S=(W,R)=>R===""||R===void 0?0:Number(R)-Number(W),I=()=>g.filter(W=>{if(W.type!=="STOCK")return!1;const R=m[O(W)];return R&&R.physicalQty!==""}).map(W=>{const R=m[O(W)],M=S(W.quantity,R.physicalQty);return{productId:W.id,productName:W.productName,bookQty:Number(W.quantity),physicalQty:Number(R.physicalQty),diff:M,reason:R.reason,accountability:R.accountability,batchId:W.batchId||""}}),A=async()=>{const W=g.filter(B=>{if(B.type!=="STOCK"||Number(B.quantity)===0)return!1;const se=O(B),ie=m[se];return!ie||ie.physicalQty===""||ie.physicalQty===void 0});if(W.length>0){alert(` ${W.length} 
`);const B=O(W[0]);b(`qty-${B}`);return}const R=I();R.length===0&&g.some(B=>B.type==="STOCK");const M=R.find(B=>B.diff!==0&&(!B.reason||!B.accountability));if(M){alert(`${M.productName}`);const B=O(M);m[B].reason?document.getElementById(`acc-${B}`)?.focus():document.getElementById(`reason-${B}`)?.focus();return}if(confirm(` ${R.length} `)){v(!0);try{await ve(q,"saveStocktake",{date:Be(),items:R,operator:o.username},o.token),alert(""),V({}),await te()}catch(B){console.error("Stocktake submit failed:",B),alert(": "+B.message)}finally{v(!1)}}},h=g.filter(W=>!W||!j&&(Number(W.quantity)||0)===0?!1:String(W.productName||"").toLowerCase().includes(Y.toLowerCase())),K=h.filter(W=>W.type==="STOCK"),ee=h.filter(W=>W.type!=="STOCK"),ne=(W,R,M,B,se)=>s.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 flex flex-col shadow-sm",children:[s.jsxs("h3",{className:`text-lg font-bold mb-4 flex items-center gap-2 ${B}`,children:[s.jsx(M,{size:20})," ",R,!se&&s.jsx("span",{className:"text-xs text-slate-500 font-normal ml-2",children:""})]}),s.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),se&&s.jsxs(s.Fragment,{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-center",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:w?s.jsx("tr",{children:s.jsx("td",{colSpan:se?"6":"2",className:"p-6 text-center text-slate-500",children:"..."})}):W.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:se?"6":"2",className:"p-6 text-center text-slate-500",children:""})}):W.map((ie,N)=>{if(!ie)return null;const Q=O(ie),F=m[Q]||{physicalQty:"",reason:"",accountability:o.username||""},ce=S(ie.quantity,F.physicalQty),oe=!se&&Number(ie.quantity)>0;return s.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${se&&ce!==0&&F.physicalQty!==""?"bg-amber-50":oe?"bg-orange-50 border-l-4 border-orange-500":""}`,children:[s.jsx("td",{className:`p-4 font-medium ${oe?"text-orange-700 font-bold":"text-slate-800"}`,children:ie.productName||""}),s.jsx("td",{className:`p-4 text-right font-mono ${oe?"text-orange-600 font-bold text-lg":"text-slate-500"}`,children:ie.quantity}),se&&s.jsxs(s.Fragment,{children:[s.jsx("td",{className:"p-4",children:s.jsx("input",{id:`qty-${Q}`,type:"number",className:`input-field w-full text-right font-mono bg-white ${ce!==0&&F.physicalQty!==""?"border-red-300 text-red-700":""}`,placeholder:"0",value:F.physicalQty,onChange:r=>z(Q,"physicalQty",r.target.value),onKeyDown:r=>k(r,N,"qty",W),onWheel:r=>r.target.blur()})}),s.jsx("td",{className:"p-4 text-center",children:s.jsxs("span",{className:`inline-flex items-center gap-1 font-mono font-bold ${F.physicalQty===""||ce===0?"text-green-500":"text-red-500 underline"}`,children:[F.physicalQty!==""?ce>0?`+${ce}`:ce:0,F.physicalQty!==""&&ce!==0&&s.jsx(mc,{size:12})]})}),s.jsx("td",{className:"p-4",children:s.jsx("input",{id:`reason-${Q}`,type:"text",disabled:F.physicalQty===""||ce===0,className:`input-field w-full text-xs transition-all ${F.physicalQty!==""&&ce!==0?"bg-white":"bg-slate-100 cursor-not-allowed opacity-50"}`,placeholder:ce!==0&&F.physicalQty!==""?"...":"-",value:F.reason,onChange:r=>z(Q,"reason",r.target.value),onKeyDown:r=>k(r,N,"reason",W)})}),s.jsx("td",{className:"p-4",children:s.jsx("input",{id:`acc-${Q}`,type:"text",disabled:F.physicalQty===""||ce===0,className:`input-field w-full text-xs transition-all ${F.physicalQty!==""&&ce!==0?"bg-white":"bg-slate-100 cursor-not-allowed opacity-50"}`,placeholder:ce!==0&&F.physicalQty!==""?"...":"-",value:F.accountability,onChange:r=>z(Q,"accountability",r.target.value),onKeyDown:r=>k(r,N,"acc",W)})})]})]},Q)})})]})})]});return s.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)] relative",children:[T&&s.jsxs("div",{className:"loading-overlay",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Qu,{className:"text-blue-600"})," "]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:te,className:"btn-secondary h-[42px] px-4",title:"",children:s.jsx(kh,{size:18})}),s.jsx("button",{onClick:A,disabled:T,className:"btn-primary h-[42px] px-6 flex items-center gap-2",children:T?"...":s.jsxs(s.Fragment,{children:[s.jsx(pc,{size:18})," "]})})]})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"relative flex-1 w-full",children:[s.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:Y,onChange:W=>E(W.target.value)})]}),s.jsx("div",{className:"flex items-center gap-3 bg-white p-2 px-4 rounded-xl border border-slate-200 shadow-sm shrink-0",children:s.jsxs("label",{className:"text-sm font-bold text-slate-600 flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:j,onChange:W=>L(W.target.checked)})," 0 "]})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-6 pb-6",children:[ne(K,"",xc,"text-blue-600",!0),ne(ee,"/",f0,"text-orange-600",!1)]})]})}function cp({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState(!1),[w,P]=p.useState(""),[T,v]=p.useState(!0),[Y,E]=p.useState(Be()),[j,L]=p.useState(Be()),O=gl.useCallback(async()=>{V(!0);try{const S=await ve(q,"getStocktakeHistory",{startDate:Y,endDate:j,productName:w,diffOnly:T},o.token);Array.isArray(S)&&d(S)}catch(S){console.error("Failed to fetch stocktake history:",S)}finally{V(!1)}},[q,o.token,Y,j,w,T]);p.useEffect(()=>{O()},[O]),p.useEffect(()=>{const S=()=>{if(document.hidden)return;const I=Be();if(Y===j&&Y!==I){const A=new Date;A.setDate(A.getDate()-1);const h=`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}-${String(A.getDate()).padStart(2,"0")}`;Y===h&&(console.log("Detected stale date (yesterday), auto-updating to today:",I),E(I),L(I))}};return window.addEventListener("focus",S),document.addEventListener("visibilitychange",S),()=>{window.removeEventListener("focus",S),document.removeEventListener("visibilitychange",S)}},[Y,j]);const te=g.filter(S=>String(S.productName||"").toLowerCase().includes(w.toLowerCase())),z=te.length,b=te.filter(S=>S.diff!==0).length,k=te.filter(S=>S.diff===0).length;return s.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:s.jsxs("div",{className:"glass-panel p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-slate-200 pb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(fc,{className:"text-blue-600"})," "]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"px-5 py-2 rounded-xl bg-blue-50 border border-blue-200",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),s.jsx("p",{className:"text-xl font-bold text-slate-800 text-center",children:z})]}),s.jsxs("div",{className:"px-5 py-2 rounded-xl bg-rose-50 border border-rose-200",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),s.jsx("p",{className:"text-xl font-bold text-rose-600 text-center",children:b})]}),s.jsxs("div",{className:"px-5 py-2 rounded-xl bg-emerald-50 border border-emerald-200",children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),s.jsx("p",{className:"text-xl font-bold text-emerald-600 text-center",children:k})]})]})]}),s.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[s.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:w,onChange:S=>P(S.target.value)})]})]}),s.jsxs("div",{className:"w-full md:w-32 space-y-1.5",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsx("input",{type:"date",className:"input-field w-full text-sm",value:Y,onChange:S=>E(S.target.value)})]}),s.jsxs("div",{className:"w-full md:w-32 space-y-1.5",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsx("input",{type:"date",className:"input-field w-full text-sm",value:j,onChange:S=>L(S.target.value)})]}),s.jsx("div",{className:"pb-1",children:s.jsxs("label",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-white border border-slate-200 cursor-pointer hover:bg-slate-50 transition-colors select-none",children:[s.jsx("input",{type:"checkbox",checked:T,onChange:S=>v(S.target.checked),className:"w-4 h-4 rounded border-slate-600 text-blue-500 focus:ring-blue-500"}),s.jsx("span",{className:"text-sm text-slate-300",children:""})]})}),s.jsxs("button",{onClick:O,disabled:m,className:"btn-secondary h-[42px] flex items-center gap-2 whitespace-nowrap px-6",children:[s.jsx(st,{size:18,className:m?"animate-spin":""})," "]})]})}),s.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-center",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:m?s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"p-20 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"}),s.jsx("span",{className:"text-slate-500",children:"..."})]})})}):te.length>0?te.map((S,I)=>s.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${S.diff!==0?"bg-amber-50":""}`,children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[s.jsx($t,{size:14,className:"text-slate-400"}),S.date]})}),s.jsx("td",{className:"p-4 font-medium text-slate-900",children:S.productName}),s.jsx("td",{className:"p-4 text-right font-mono text-slate-500",children:S.bookQty}),s.jsx("td",{className:"p-4 text-right font-mono text-blue-600",children:S.physicalQty}),s.jsx("td",{className:"p-4 text-center",children:S.diff===0?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 text-xs font-bold",children:[s.jsx(x0,{size:14})," 0"]}):s.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${S.diff>0?"bg-blue-100 text-blue-700":"bg-rose-100 text-rose-700"}`,children:[s.jsx(mc,{size:14}),S.diff>0?`+${S.diff}`:S.diff]})}),s.jsx("td",{className:"p-4 text-slate-600",children:S.reason||"-"}),s.jsx("td",{className:"p-4 text-slate-600",children:S.accountability||"-"}),s.jsx("td",{className:"p-4 text-slate-500",children:S.operator||"-"})]},I)):s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"p-20 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-50 flex items-center justify-center",children:s.jsx(Yu,{size:32,className:"text-slate-300"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-slate-900 font-medium",children:""}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:""})]})]})})})})]})})})]})})}function ip({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState(!1),[w,P]=p.useState(Be()),[T,v]=p.useState(Be()),[Y,E]=p.useState(""),[j,L]=p.useState(""),[O,te]=p.useState(new Set),z=gl.useCallback(async()=>{V(!0);try{const h={};w&&(h.startDate=w),T&&(h.endDate=T);const K=await ve(q,"getReceivables",h,o.token);if(Array.isArray(K)){const ee=K.sort((ne,W)=>new Date(W.date)-new Date(ne.date));d(ee)}}catch(h){console.error("Failed to fetch data:",h),alert(": "+h.message)}finally{V(!1)}},[q,o.token,w,T]);p.useEffect(()=>{z()},[z]);const b=async h=>{if(confirm("")){V(!0);try{await ve(q,"markAsPaid",{recordId:h},o.token),alert(""),z()}catch(K){console.error("Failed to mark as paid:",K),alert(": "+K.message)}finally{V(!1)}}},k=h=>{const K=new Set(O);K.has(h)?K.delete(h):K.add(h),te(K)},S=h=>[h.salesRep,h.salesPerson,h.operator,h.Operator,h.buyer].find(ne=>ne&&String(ne).toLowerCase()!=="unknown")||"-",I=g.filter(h=>{const K=String(h.clientName||h.customer||h.location||"").toLowerCase(),ee=String(S(h)).toLowerCase(),ne=!Y||K.includes(Y.toLowerCase()),W=!j||ee.includes(j.toLowerCase());return ne&&W}),A=I.reduce((h,K)=>h+(Number(K.amount)||Number(K.total)||0),0);return s.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{children:s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Ks,{className:"text-emerald-600"}),"  (Receivables)"]})}),s.jsxs("div",{className:"glass-panel px-4 py-2 border-emerald-200 bg-emerald-50",children:[s.jsx("p",{className:"text-xs text-slate-500",children:""}),s.jsxs("p",{className:"text-xl font-bold text-emerald-600",children:["$",A.toLocaleString()]})]})]}),s.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsx("input",{type:"date",className:"input-field w-full",value:w,onChange:h=>P(h.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsx("input",{type:"date",className:"input-field w-full",value:T,onChange:h=>v(h.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:"/"}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:Y,onChange:h=>E(h.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:j,onChange:h=>L(h.target.value)})]}),s.jsxs("button",{onClick:z,className:"btn-secondary h-[42px] px-6 flex items-center gap-2 justify-center",children:[s.jsx(st,{size:18})," "]})]})}),s.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 w-10"}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-center",children:""}),s.jsx("th",{className:"p-4 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:m?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:"..."})}):I.length>0?I.map((h,K)=>s.jsxs(gl.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>k(K),children:[s.jsx("td",{className:"p-4 text-slate-400",children:O.has(K)?s.jsx(d0,{size:16}):s.jsx(Bu,{size:16})}),s.jsx("td",{className:"p-4 text-slate-500",children:(()=>{const ee=h.serverTimestamp||h.timestamp||h.date;if(!ee)return"-";const ne=String(ee),W=new Date(ee);return isNaN(W.getTime())?ne:ne.length<=10&&!ne.includes("T")&&!ne.includes(":")?W.toLocaleDateString("zh-TW"):W.toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})()}),s.jsx("td",{className:"p-4 font-medium text-slate-800",children:h.clientName||h.customer||h.location||"-"}),s.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-600",children:["$",(Number(h.amount)||Number(h.total)||0).toLocaleString()]}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${h.status==="PAID"?"bg-green-100 text-green-700":"bg-rose-100 text-rose-700"}`,children:h.status==="PAID"?"":""})}),s.jsx("td",{className:"p-4 text-center",onClick:ee=>ee.stopPropagation(),children:h.status!=="PAID"&&s.jsx("button",{onClick:()=>b(h.id),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:""})})]}),O.has(K)&&s.jsx("tr",{className:"bg-slate-50/50",children:s.jsx("td",{colSpan:"6",className:"p-4 pl-12",children:s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50 text-slate-500 border-b border-slate-100",children:[s.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),s.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),s.jsx("th",{className:"py-2 px-4 text-right font-medium",children:""}),s.jsx("th",{className:"py-2 px-4 text-center font-medium",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-50",children:(h.items||h.products||h.salesData||[]).length>0?(h.items||h.products||h.salesData||[]).map((ee,ne)=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4 text-slate-500",children:S(h)}),s.jsx("td",{className:"py-3 px-4 text-slate-800 font-medium",children:ee.productName||ee.name||"-"}),s.jsxs("td",{className:"py-3 px-4 text-right text-slate-500 font-mono",children:["$",(Number(ee.price)||Number(ee.unitPrice)||0).toLocaleString()]}),s.jsx("td",{className:"py-3 px-4 text-center text-slate-500 font-mono",children:ee.qty||ee.soldQty||1})]},ne)):s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"py-4 text-center text-slate-500 italic",children:""})})})]}),s.jsxs("div",{className:"p-3 bg-slate-50 text-xs text-slate-400 flex gap-4 border-t border-slate-100",children:[s.jsxs("span",{children:[": ",h.id||"-"]}),s.jsxs("span",{children:[": ",h.operator||h.Operator||h.salesRep||"-"]}),s.jsxs("span",{children:[": ",h.paymentMethod||""]})]})]})})})]},K)):s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:""})})})]})})]})}function up({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState(!1),[w,P]=p.useState(Be()),[T,v]=p.useState(Be()),[Y,E]=p.useState(""),[j,L]=p.useState(""),[O,te]=p.useState(new Set),z=gl.useCallback(async()=>{V(!0);try{const h={};w&&(h.startDate=w),T&&(h.endDate=T);const K=await ve(q,"getPayables",h,o.token);if(Array.isArray(K)){const ee=K.sort((ne,W)=>new Date(W.date)-new Date(ne.date));d(ee)}}catch(h){console.error("Failed to fetch payables:",h)}finally{V(!1)}},[q,o.token,w,T]);p.useEffect(()=>{z()},[z]);const b=async h=>{if(confirm("")){V(!0);try{await ve(q,"markPayableAsPaid",{recordId:h},o.token),alert(""),z()}catch(K){console.error("Failed to mark as paid:",K),alert(": "+K.message)}finally{V(!1)}}},k=h=>{const K=new Set(O);K.has(h)?K.delete(h):K.add(h),te(K)},S=h=>h.operator||h.Operator||h.buyer||h.salesRep||h.salesPerson||"-",I=g.filter(h=>{const K=String(h.vendorName||h.vendor||"").toLowerCase(),ee=String(S(h)).toLowerCase(),ne=!Y||K.includes(Y.toLowerCase()),W=!j||ee.includes(j.toLowerCase());return ne&&W}),A=I.reduce((h,K)=>h+(Number(K.amount)||Number(K.total)||0),0);return s.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{children:s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Ks,{className:"text-rose-600"}),"  (Payables)"]})}),s.jsxs("div",{className:"glass-panel px-4 py-2 border-rose-200 bg-rose-50",children:[s.jsx("p",{className:"text-xs text-slate-500",children:""}),s.jsxs("p",{className:"text-xl font-bold text-rose-600",children:["$",A.toLocaleString()]})]})]}),s.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsx("input",{type:"date",className:"input-field w-full",value:w,onChange:h=>P(h.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsx("input",{type:"date",className:"input-field w-full",value:T,onChange:h=>v(h.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:Y,onChange:h=>E(h.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:j,onChange:h=>L(h.target.value)})]}),s.jsxs("button",{onClick:z,className:"btn-secondary h-[42px] px-6 flex items-center gap-2 justify-center",children:[s.jsx(st,{size:18})," "]})]})}),s.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 w-10"}),s.jsx("th",{className:"p-4 text-center",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-center",children:""}),s.jsx("th",{className:"p-4 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:m?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:"..."})}):I.length>0?I.map((h,K)=>s.jsxs(gl.Fragment,{children:[s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>k(K),children:[s.jsx("td",{className:"p-4 text-slate-400",children:O.has(K)?s.jsx(d0,{size:16}):s.jsx(Bu,{size:16})}),s.jsx("td",{className:"p-4 text-slate-500 text-center",children:(()=>{const ee=h.serverTimestamp||h.timestamp||h.date;if(!ee)return"-";const ne=String(ee),W=new Date(ee);return isNaN(W.getTime())?ne:ne.length<=10&&!ne.includes("T")&&!ne.includes(":")?W.toLocaleDateString("zh-TW"):W.toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})()}),s.jsx("td",{className:"p-4 font-medium text-slate-800",children:h.vendorName||h.vendor||"-"}),s.jsxs("td",{className:"p-4 text-right font-mono font-bold text-rose-600",children:["$",(Number(h.amount)||Number(h.total)||0).toLocaleString()]}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${h.status==="PAID"?"bg-green-100 text-green-700":"bg-rose-100 text-rose-700"}`,children:h.status==="PAID"?"":""})}),s.jsx("td",{className:"p-4 text-center",onClick:ee=>ee.stopPropagation(),children:h.status!=="PAID"&&s.jsx("button",{onClick:()=>b(h.id),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:""})})]}),O.has(K)&&s.jsx("tr",{className:"bg-slate-50/50",children:s.jsx("td",{colSpan:"6",className:"p-4 pl-12",children:s.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50 text-slate-500 border-b border-slate-100",children:[s.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),s.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),s.jsx("th",{className:"py-2 px-4 text-right font-medium",children:""}),s.jsx("th",{className:"py-2 px-4 text-center font-medium",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-50",children:(h.items||h.products||[]).length>0?(h.items||h.products||[]).map((ee,ne)=>s.jsxs("tr",{className:"hover:bg-slate-50",children:[s.jsx("td",{className:"py-3 px-4 text-slate-500",children:S(h)}),s.jsx("td",{className:"py-3 px-4 text-slate-800 font-medium",children:ee.productName||ee.name||"-"}),s.jsxs("td",{className:"py-3 px-4 text-right text-slate-500 font-mono",children:["$",(Number(ee.price)||Number(ee.unitPrice)||0).toLocaleString()]}),s.jsx("td",{className:"py-3 px-4 text-center text-slate-500 font-mono",children:ee.qty||ee.quantity||ee.soldQty||1})]},ne)):s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"py-4 text-center text-slate-500 italic",children:""})})})]}),s.jsxs("div",{className:"p-3 bg-slate-50 text-xs text-slate-400 flex gap-4 border-t border-slate-100",children:[s.jsxs("span",{children:[": ",h.id||"-"]}),s.jsxs("span",{children:[": ",h.operator||h.Operator||h.buyer||"-"]}),s.jsxs("span",{children:[": ",h.location||h.customer||"-"]})]})]})})})]},K)):s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:""})})})]})})]})}function rp({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState({}),[w,P]=p.useState(!1),[T,v]=p.useState(Be()),[Y,E]=p.useState(Be()),[j,L]=p.useState(""),O=async()=>{P(!0);try{const z=await ve(q,"getProducts",{},o.token),b={};Array.isArray(z)&&(z.forEach(S=>{b[S.id]=S.name}),V(b));const k=await ve(q,"getSalesRanking",{startDate:T,endDate:Y},o.token);Array.isArray(k)?d(k):d([])}catch(z){console.error("Failed to fetch sales ranking:",z),alert("")}finally{P(!1)}};p.useEffect(()=>{o?.token&&O()},[o.token,q]);const te=g.filter(z=>{const b=m[z.productName]||z.productName;return String(b||"").toLowerCase().includes(j.toLowerCase())});return s.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[s.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(r0,{className:"text-blue-600"})," "]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),s.jsx("button",{onClick:O,disabled:w,className:"btn-secondary p-2 rounded-xl",children:s.jsx(st,{size:20,className:w?"animate-spin":""})})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{size:18,className:"text-slate-400"}),s.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:T,onChange:z=>v(z.target.value)}),s.jsx("span",{className:"text-slate-500 font-bold",children:""}),s.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:Y,onChange:z=>E(z.target.value)})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:j,onChange:z=>L(z.target.value)})]}),s.jsxs("button",{onClick:O,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[s.jsx(ft,{size:18})," "]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:s.jsx("div",{className:"overflow-y-auto flex-1",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 w-16 text-center",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:w?s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((z,b)=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-4 text-center font-mono",children:b<3?s.jsx("span",{className:`w-6 h-6 rounded-full inline-flex items-center justify-center text-[10px] font-bold shadow-sm ${b===0?"bg-amber-100 text-amber-700 border border-amber-200":b===1?"bg-slate-100 text-slate-600 border border-slate-200":"bg-orange-100 text-orange-700 border border-orange-200"}`,children:b+1}):b+1}),s.jsx("td",{className:"p-4 font-bold text-slate-800",children:m[z.productName]||z.productName}),s.jsx("td",{className:"p-4 text-right font-mono text-emerald-700",children:z.totalQty.toLocaleString()}),s.jsxs("td",{className:"p-4 text-right font-mono text-blue-700",children:["$",z.totalAmount.toLocaleString()]}),s.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",(z.totalAmount/z.totalQty).toFixed(1)]})]},b)):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function op({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState(!1),[w,P]=p.useState(Be()),[T,v]=p.useState(Be()),[Y,E]=p.useState(""),j=async()=>{V(!0);try{const O=await ve(q,"getCustomerRanking",{startDate:w,endDate:T},o.token);Array.isArray(O)?d(O):d([])}catch(O){console.error("Failed to fetch customer ranking:",O),alert("")}finally{V(!1)}};p.useEffect(()=>{o?.token&&j()},[o.token,q]);const L=g.filter(O=>String(O.customerName||"").toLowerCase().includes(Y.toLowerCase()));return s.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[s.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Gu,{className:"text-purple-600"})," "]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),s.jsx("button",{onClick:j,disabled:m,className:"btn-secondary p-2 rounded-xl",children:s.jsx(st,{size:20,className:m?"animate-spin":""})})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{size:18,className:"text-slate-400"}),s.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:w,onChange:O=>P(O.target.value)}),s.jsx("span",{className:"text-slate-500 font-bold",children:""}),s.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:T,onChange:O=>v(O.target.value)})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:Y,onChange:O=>E(O.target.value)})]}),s.jsxs("button",{onClick:j,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[s.jsx(ft,{size:18})," "]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:s.jsx("div",{className:"overflow-y-auto flex-1",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 w-16 text-center",children:""}),s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:m?s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):L.length>0?L.map((O,te)=>{const z=g.reduce((k,S)=>k+S.totalAmount,0),b=O.totalAmount/z*100;return s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-4 text-center font-mono text-slate-500",children:te+1}),s.jsx("td",{className:"p-4 font-bold text-slate-800",children:O.customerName}),s.jsx("td",{className:"p-4 text-right font-mono text-slate-600",children:O.transactionCount.toLocaleString()}),s.jsxs("td",{className:"p-4 text-right font-mono text-purple-700 font-bold",children:["$",O.totalAmount.toLocaleString()]}),s.jsx("td",{className:"p-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs("span",{className:"text-xs text-slate-500",children:[b.toFixed(1),"%"]}),s.jsx("div",{className:"w-16 h-1.5 bg-slate-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-purple-500",style:{width:`${b}%`}})})]})})]},te)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function dp({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState({}),[w,P]=p.useState(!1),[T,v]=p.useState(Be()),[Y,E]=p.useState(Be()),[j,L]=p.useState(""),O=async()=>{P(!0);try{const I=await ve(q,"getProducts",{},o.token),A={};Array.isArray(I)&&(I.forEach(K=>{A[K.id]=K.name}),V(A));const h=await ve(q,"getProfitAnalysis",{startDate:T,endDate:Y},o.token);Array.isArray(h)?d(h):d([])}catch(I){console.error("Failed to fetch profit analysis:",I),alert("")}finally{P(!1)}};p.useEffect(()=>{o?.token&&O()},[o.token,q]);const te=g.filter(I=>{const A=m[I.productName]||I.productName;return String(A||"").toLowerCase().includes(j.toLowerCase())}),z=te.reduce((I,A)=>I+A.revenue,0),b=te.reduce((I,A)=>I+A.cost,0),k=z-b,S=z>0?k/z*100:0;return s.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Zs,{className:"text-emerald-600"})," "]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"bg-emerald-50 px-4 py-2 border border-emerald-200 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),s.jsxs("p",{className:"text-xl font-bold text-emerald-700 text-center",children:["$",k.toLocaleString()]})]}),s.jsxs("div",{className:"bg-blue-50 px-4 py-2 border border-blue-200 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),s.jsxs("p",{className:"text-xl font-bold text-blue-700 text-center",children:[S.toFixed(1),"%"]})]})]})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{size:18,className:"text-slate-400"}),s.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:T,onChange:I=>v(I.target.value)}),s.jsx("span",{className:"text-slate-500 font-bold",children:""}),s.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:Y,onChange:I=>E(I.target.value)})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:j,onChange:I=>L(I.target.value)})]}),s.jsxs("button",{onClick:O,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[s.jsx(st,{size:18,className:w?"animate-spin":""})," "]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:s.jsx("div",{className:"overflow-y-auto flex-1",children:s.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 whitespace-nowrap",children:""}),s.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),s.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),s.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),s.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:w?s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(st,{className:"animate-spin text-emerald-500"}),s.jsx("span",{children:"..."})]})})}):te.length>0?te.map((I,A)=>{const h=I.revenue-I.cost,K=I.revenue>0?h/I.revenue*100:0,ee=m[I.productName]||I.productName;return s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[s.jsx("td",{className:"p-4 font-bold text-slate-800",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{children:ee}),m[I.productName]&&s.jsxs("span",{className:"text-[10px] text-slate-400 font-normal mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["ID: ",I.productName.substring(0,8),"..."]})]})}),s.jsxs("td",{className:"p-4 text-right font-mono text-slate-600",children:["$",Math.round(I.revenue).toLocaleString()]}),s.jsxs("td",{className:"p-4 text-right font-mono text-rose-600/80",children:["$",Math.round(I.cost).toLocaleString()]}),s.jsxs("td",{className:`p-4 text-right font-mono font-bold ${h>=0?"text-emerald-700":"text-rose-600"}`,children:[h<0?"-":"","$",Math.abs(Math.round(h)).toLocaleString()]}),s.jsx("td",{className:"p-4 text-right",children:s.jsxs("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold min-w-[50px] text-center ${K>=30?"bg-emerald-100 text-emerald-700 border border-emerald-200":K>=10?"bg-blue-100 text-blue-700 border border-blue-200":"bg-rose-100 text-rose-700 border border-rose-200"}`,children:[K.toFixed(1),"%"]})})]},A)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function fp({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState({}),[w,P]=p.useState(!1),[T,v]=p.useState(Be()),[Y,E]=p.useState(Be()),[j,L]=p.useState(""),O=async()=>{P(!0);try{const z=await ve(q,"getProducts",{},o.token),b={};Array.isArray(z)&&(z.forEach(S=>{b[S.id]=S.name}),V(b));const k=await ve(q,"getTurnoverRate",{startDate:T,endDate:Y},o.token);Array.isArray(k)?d(k):d([])}catch(z){console.error("Failed to fetch turnover rate:",z),alert("")}finally{P(!1)}};p.useEffect(()=>{o?.token&&O()},[o.token,q]);const te=g.filter(z=>{const b=m[z.productName]||z.productName;return String(b||"").toLowerCase().includes(j.toLowerCase())});return s.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[s.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(u0,{className:"text-orange-600"})," "]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:" =  / "})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 bg-blue-50 px-3 py-1.5 rounded-lg border border-blue-200 shadow-sm font-bold",children:[s.jsx(Sh,{size:14}),s.jsx("span",{children:""})]})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{size:18,className:"text-slate-400"}),s.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:T,onChange:z=>v(z.target.value)}),s.jsx("span",{className:"text-slate-500 font-bold",children:""}),s.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:Y,onChange:z=>E(z.target.value)})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:j,onChange:z=>L(z.target.value)})]}),s.jsxs("button",{onClick:O,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[s.jsx(st,{size:18})," "]})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:s.jsx("div",{className:"overflow-y-auto flex-1",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:""}),s.jsx("th",{className:"p-4 text-right",children:" (COGS)"}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:w?s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((z,b)=>{const k=z.avgInventory>0?z.cogs/z.avgInventory:0;return s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-4 font-bold text-slate-900",children:m[z.productName]||z.productName}),s.jsxs("td",{className:"p-4 text-right font-mono text-slate-600 font-bold",children:["$",z.cogs.toLocaleString()]}),s.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",z.avgInventory.toLocaleString()]}),s.jsxs("td",{className:"p-4 text-right font-mono text-orange-600 font-bold",children:[k.toFixed(2)," "]}),s.jsx("td",{className:"p-4 text-center",children:k>=4?s.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-emerald-100 text-emerald-700 border border-emerald-200 uppercase",children:""}):k>=1?s.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-blue-100 text-blue-700 border border-blue-200 uppercase",children:""}):s.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-rose-100 text-rose-700 border border-rose-200 uppercase",children:""})})]},b)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function xp({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState(!1),[w,P]=p.useState(Be()),[T,v]=p.useState(Be()),[Y,E]=p.useState(""),j=async()=>{V(!0);try{const b=await ve(q,"getExpenditures",{startDate:w,endDate:T},o.token);Array.isArray(b)?d(b):d([])}catch(b){console.error("Failed to fetch expenditures:",b)}finally{V(!1)}};p.useEffect(()=>{o?.token&&j()},[o.token,q]);const L=g.filter(b=>`${b.customer||""} ${b.salesRep||""} ${b.note||""}`.toLowerCase().includes(Y.toLowerCase())),O=L.reduce((b,k)=>(b.stall+=Number(k.stall||0),b.cleaning+=Number(k.cleaning||0),b.electricity+=Number(k.electricity||0),b.gas+=Number(k.gas||0),b.parking+=Number(k.parking||0),b.goods+=Number(k.goods||0),b.bags+=Number(k.bags||0),b.others+=Number(k.others||0),b.serviceFee+=Number(k.serviceFee||0),b.linePay+=Number(k.linePay||0),b.finalTotal+=Number(k.finalTotal||0),b.vehicleMaintenance+=Number(k.vehicleMaintenance||0),b.salary+=Number(k.salary||0),b.reserve+=Number(k.reserve||0),b),{stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,serviceFee:0,linePay:0,finalTotal:0,vehicleMaintenance:0,salary:0,reserve:0}),te=O.stall+O.cleaning+O.electricity+O.gas+O.parking+O.bags+O.others+O.vehicleMaintenance+O.salary+O.serviceFee,z=[{key:"stall",label:"",color:"text-blue-600"},{key:"cleaning",label:"",color:"text-indigo-600"},{key:"electricity",label:"",color:"text-amber-600"},{key:"gas",label:"",color:"text-orange-600"},{key:"parking",label:"",color:"text-slate-600"},{key:"bags",label:"",color:"text-teal-600"},{key:"serviceFee",label:"",color:"text-rose-600"},{key:"others",label:"",color:"text-purple-600"},{key:"vehicleMaintenance",label:"",color:"text-indigo-600"},{key:"salary",label:"",color:"text-amber-600"}];return s.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)] animate-in fade-in duration-500",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(Vt,{className:"text-rose-600"})," "]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:" Expenditures "})]}),s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsxs("div",{className:"glass-panel px-4 py-2 bg-rose-50 border-rose-200",children:[s.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),s.jsxs("p",{className:"text-xl font-bold text-rose-600 text-center",children:["$",te.toLocaleString()]})]}),s.jsxs("div",{className:"glass-panel px-4 py-2 bg-emerald-50 border-emerald-200",children:[s.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),s.jsxs("p",{className:"text-xl font-bold text-emerald-700 text-center",children:["$",O.goods.toLocaleString()]})]}),s.jsxs("div",{className:"glass-panel px-4 py-2 bg-teal-50 border-teal-200",children:[s.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),s.jsxs("p",{className:"text-xl font-bold text-teal-700 text-center",children:["$",O.reserve.toLocaleString()]})]}),s.jsxs("div",{className:"glass-panel px-4 py-2 bg-slate-50 border-slate-200",children:[s.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:"Line Pay "}),s.jsxs("p",{className:"text-xl font-bold text-slate-800 text-center",children:["$",O.linePay.toLocaleString()]})]})]})]}),s.jsxs("div",{className:"mb-2 p-4 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 bg-slate-50 rounded-xl border border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx($t,{size:18,className:"text-slate-400"}),s.jsx("input",{type:"date",className:"input-field flex-1 text-slate-800 bg-white",value:w,onChange:b=>P(b.target.value)}),s.jsx("span",{className:"text-slate-400",children:""}),s.jsx("input",{type:"date",className:"input-field flex-1 text-slate-800 bg-white",value:T,onChange:b=>v(b.target.value)})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),s.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full text-slate-800 bg-white",value:Y,onChange:b=>E(b.target.value)})]}),s.jsxs("button",{onClick:j,className:"btn-primary flex items-center justify-center gap-2",children:[s.jsx(st,{size:18,className:m?"animate-spin":""})," "]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-12 gap-3 shrink-0",children:z.map(b=>s.jsxs("div",{className:"p-3 bg-white border border-slate-200 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase truncate",children:b.label}),s.jsxs("p",{className:`text-sm md:text-md font-bold ${b.color} mt-1`,children:["$",O[b.key].toLocaleString()]})]},b.key))}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-0 overflow-hidden flex-1 border border-slate-200 relative",children:s.jsx("div",{className:"h-full overflow-auto custom-scrollbar",children:s.jsxs("table",{className:"w-full text-left text-sm border-separate border-spacing-0 min-w-[1100px]",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-30",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 border-b border-slate-100 sticky left-0 z-40 bg-slate-50",children:"//"}),s.jsx("th",{className:"p-4 text-right border-b border-slate-100",children:""}),s.jsx("th",{className:"p-4 text-right border-b border-slate-100",children:""}),s.jsx("th",{className:"p-4 text-right border-b border-slate-100",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:m?s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"p-20 text-center text-slate-500 font-medium",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx(st,{className:"animate-spin text-rose-500"}),s.jsx("span",{children:"..."})]})})}):L.length>0?L.map((b,k)=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[s.jsx("td",{className:"p-4 sticky left-0 z-10 bg-white border-b border-slate-100 group-hover:bg-slate-50 transition-colors",children:s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("span",{className:"text-slate-500 font-mono text-xs flex items-center gap-1",children:[s.jsx(m0,{size:12,className:"text-slate-400"}),(()=>{const S=b.date||b.serverTimestamp;if(!S)return"";const I=new Date(S);return isNaN(I.getTime())?String(S):I.toLocaleString("zh-TW",{hour12:!1})})()]}),s.jsx("span",{className:"text-sm font-bold text-slate-800",children:b.customer||""}),s.jsx("span",{className:"text-xs text-slate-500 font-medium bg-slate-100 self-start px-1.5 py-0.5 rounded",children:b.salesRep||"-"})]})}),s.jsx("td",{className:"p-4 text-right align-top",children:s.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 text-[11px] content-start",children:[s.jsxs("span",{className:"text-slate-500",children:[": ",s.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(b.stall||0).toLocaleString()]})]}),s.jsxs("span",{className:"text-slate-500",children:[": ",s.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(b.cleaning||0).toLocaleString()]})]}),s.jsxs("span",{className:"text-slate-500",children:[": ",s.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(b.electricity||0).toLocaleString()]})]}),s.jsxs("span",{className:"text-slate-500",children:[": ",s.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(b.gas||0).toLocaleString()]})]}),s.jsxs("span",{className:"text-slate-500",children:[": ",s.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(b.parking||0).toLocaleString()]})]}),s.jsxs("span",{className:"text-slate-500",children:[": ",s.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(b.goods||0).toLocaleString()]})]}),s.jsxs("span",{className:"text-slate-500",children:[": ",s.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(b.bags||0).toLocaleString()]})]}),s.jsxs("span",{className:"text-slate-500",children:[": ",s.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(b.others||0).toLocaleString()]})]})]})}),s.jsx("td",{className:"p-4 text-right align-top",children:s.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[s.jsxs("div",{className:"flex justify-between w-32 bg-emerald-50 px-2 py-1 rounded border border-emerald-100",children:[s.jsx("span",{className:"text-[10px] text-emerald-600/70 uppercase font-bold",children:"LP "}),s.jsxs("span",{className:"text-xs font-bold text-emerald-700",children:["+$",Number(b.linePay||0).toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between w-32 bg-rose-50 px-2 py-1 rounded border border-rose-100",children:[s.jsx("span",{className:"text-[10px] text-rose-600/70 uppercase font-bold",children:""}),s.jsxs("span",{className:"text-xs font-bold text-rose-700",children:["-$",Number(b.serviceFee||0).toLocaleString()]})]})]})}),s.jsx("td",{className:"p-4 text-right align-top",children:s.jsxs("div",{className:"flex flex-col gap-1 text-xs items-end",children:[s.jsxs("span",{className:"text-slate-500",children:[": ",s.jsxs("span",{className:"text-indigo-600 font-bold",children:["$",Number(b.vehicleMaintenance||0).toLocaleString()]})]}),s.jsxs("span",{className:"text-slate-500",children:[": ",s.jsxs("span",{className:"text-amber-600 font-bold",children:["$",Number(b.salary||0).toLocaleString()]})]}),s.jsxs("span",{className:"text-slate-500",children:[": ",s.jsxs("span",{className:"text-purple-600 font-bold",children:["$",Number(b.reserve||0).toLocaleString()]})]})]})})]},k)):s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"p-20 text-center text-slate-500 font-medium",children:""})})})]})})})]})}function mp({user:o,apiUrl:q}){const[g,d]=p.useState(!1),[m,V]=p.useState(Be().substring(0,8)+"01"),[w,P]=p.useState(Be()),[T,v]=p.useState({revenue:0,cogs:0,grossProfit:0,expenses:{},totalExpenses:0,netIncome:0}),Y=async()=>{d(!0);try{const[L,O]=await Promise.all([ve(q,"getProfitAnalysis",{startDate:m,endDate:w},o.token),ve(q,"getExpenditures",{startDate:m,endDate:w},o.token)]);let te=0,z=0;Array.isArray(L)&&L.forEach(S=>{te+=Number(S.revenue||0),z+=Number(S.cost||0)});let b=0;const k={stall:0,cleaning:0,electricity:0,gas:0,parking:0,bags:0,serviceFee:0,others:0,vehicleMaintenance:0,salary:0};Array.isArray(O)&&O.forEach(S=>{k.stall+=Number(S.stall||0),k.cleaning+=Number(S.cleaning||0),k.electricity+=Number(S.electricity||0),k.gas+=Number(S.gas||0),k.parking+=Number(S.parking||0),k.bags+=Number(S.bags||0),k.serviceFee+=Number(S.serviceFee||0),k.others+=Number(S.others||0),k.vehicleMaintenance+=Number(S.vehicleMaintenance||0),k.salary+=Number(S.salary||0)}),Object.values(k).forEach(S=>b+=S),v({revenue:te,cogs:z,grossProfit:te-z,expenses:k,totalExpenses:b,netIncome:te-z-b})}catch(L){console.error("Failed to fetch income statement data:",L),alert("")}finally{d(!1)}};p.useEffect(()=>{o?.token&&Y()},[o.token,q]);const E=L=>`$${Math.round(L).toLocaleString()}`,j=(L,O)=>O===0?"0%":`${(L/O*100).toFixed(1)}%`;return s.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[s.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(o0,{className:"text-emerald-600"}),"  (Income Statement)"]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),s.jsx("button",{onClick:Y,className:"btn-secondary p-2 rounded-xl",children:s.jsx(st,{size:20,className:g?"animate-spin":""})})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 flex items-center gap-4 shadow-sm",children:[s.jsx($t,{size:18,className:"text-slate-400"}),s.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:m,onChange:L=>V(L.target.value)}),s.jsx("span",{className:"text-slate-500 font-bold",children:""}),s.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:w,onChange:L=>P(L.target.value)}),s.jsx("button",{onClick:Y,className:"btn-primary h-[42px] px-6",children:""})]}),s.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:s.jsx("div",{className:"overflow-y-auto flex-1 p-8",children:s.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto font-mono text-sm md:text-base",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-emerald-700 font-bold text-lg border-b border-emerald-200 pb-2 mb-4",children:" (Revenue)"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-slate-600",children:""}),s.jsx("span",{className:"text-slate-900 font-bold",children:E(T.revenue)})]}),s.jsxs("div",{className:"flex justify-between items-center text-rose-600",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(fh,{size:14})," "]}),s.jsxs("span",{children:["- ",E(T.cogs)]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-100",children:[s.jsx("span",{className:"text-emerald-700 font-bold",children:" (Gross Profit)"}),s.jsx("span",{className:"text-emerald-700 font-bold",children:E(T.grossProfit)})]}),s.jsxs("div",{className:"text-right text-xs text-slate-500",children:[": ",j(T.grossProfit,T.revenue)]})]}),s.jsxs("div",{className:"space-y-2 mt-8",children:[s.jsx("h3",{className:"text-orange-700 font-bold text-lg border-b border-orange-200 pb-2 mb-4",children:" (Operating Expenses)"}),Object.entries(T.expenses).map(([L,O])=>{const te={stall:"",cleaning:"",electricity:"",gas:"",parking:"",bags:"",serviceFee:"",others:"",vehicleMaintenance:"",salary:""};return O===0?null:s.jsxs("div",{className:"flex justify-between items-center text-slate-400 text-sm",children:[s.jsx("span",{children:te[L]}),s.jsx("span",{children:E(O)})]},L)}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-100 text-orange-700",children:[s.jsx("span",{className:"font-bold",children:""}),s.jsxs("span",{className:"font-bold",children:["- ",E(T.totalExpenses)]})]})]}),s.jsxs("div",{className:"mt-8 pt-4 border-t-2 border-slate-200",children:[s.jsxs("div",{className:"flex justify-between items-center text-xl",children:[s.jsx("span",{className:"text-slate-800 font-bold",children:" (Net Income)"}),s.jsx("span",{className:`font-bold ${T.netIncome>=0?"text-emerald-700":"text-rose-600"}`,children:E(T.netIncome)})]}),s.jsxs("div",{className:"text-right text-sm text-slate-500 mt-1",children:[": ",j(T.netIncome,T.revenue)]})]})]})})})]})}function hp({user:o,apiUrl:q}){const[g,d]=p.useState(!1),[m,V]=p.useState({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0,vehicleMaintenance:0,salary:0,reserve:0}),[w,P]=p.useState(""),T=async()=>{if(!w.trim()){alert(""),document.getElementById("input-note")?.focus();return}const O=Number(m.stall)+Number(m.cleaning)+Number(m.electricity)+Number(m.gas)+Number(m.parking)+Number(m.goods)+Number(m.bags)+Number(m.others)+Number(m.serviceFee)+Number(m.vehicleMaintenance)+Number(m.salary)+Number(m.reserve)+Number(m.linePay),te={note:w,salesRep:o.username,...m,finalTotal:O};d(!0);try{await ve(q,"saveExpenditure",te,o.token),alert(" Expenditures "),V({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0,vehicleMaintenance:0,salary:0,reserve:0}),P("")}catch(z){alert(": "+z.message)}finally{d(!1)}},v=L=>{const O=document.getElementById(L);O&&(O.focus(),O.select?.(),O.scrollIntoView({block:"nearest",behavior:"smooth"}))},Y=(L,O)=>{const te=["note","stall","cleaning","electricity","gas","parking","goods","bags","others","linePay","serviceFee","vehicleMaintenance","salary","reserve"],z=te.indexOf(O);L.key==="Enter"||L.key==="ArrowRight"?(L.preventDefault(),z<te.length-1?v(`input-expense-${te[z+1]}`):L.key==="Enter"&&T()):L.key==="ArrowLeft"?(L.preventDefault(),z>0&&v(`input-expense-${te[z-1]}`)):L.key==="ArrowDown"?(L.preventDefault(),["stall","cleaning","electricity","gas","parking","goods"].includes(O)?v(`input-expense-${{stall:"electricity",cleaning:"gas",electricity:"parking",gas:"goods",parking:"bags",goods:"others"}[O]}`):z<te.length-1&&v(`input-expense-${te[z+1]}`)):L.key==="ArrowUp"&&(L.preventDefault(),["electricity","gas","parking","goods","bags","others"].includes(O)?v(`input-expense-${{electricity:"stall",gas:"cleaning",parking:"electricity",goods:"gas",bags:"parking",others:"goods"}[O]}`):z>0&&v(`input-expense-${te[z-1]}`))},j=Number(m.stall)+Number(m.cleaning)+Number(m.electricity)+Number(m.gas)+Number(m.parking)+Number(m.goods)+Number(m.bags)+Number(m.others)+Number(m.serviceFee)+Number(m.vehicleMaintenance)+Number(m.salary)+Number(m.reserve)+Number(m.linePay);return s.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6 space-y-6 animate-in fade-in duration-500 relative",children:[g&&s.jsxs("div",{className:"loading-overlay",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-rose-600 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx("div",{className:"p-2 bg-rose-100 rounded-lg",children:s.jsx(Vt,{className:"text-rose-600",size:24})}),""]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),s.jsxs("div",{className:"bg-rose-50 px-6 py-3 border border-rose-200 rounded-xl shadow-sm",children:[s.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:" ()"}),s.jsxs("p",{className:"text-2xl font-black text-rose-600",children:["$",j.toLocaleString()]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{className:"glass-panel p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 text-blue-600 font-bold",children:[s.jsx(hh,{size:18}),s.jsx("span",{children:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500 font-bold block mb-2",children:" /  *"}),s.jsx("input",{id:"input-expense-note",type:"text",className:"input-field w-full text-lg py-3 bg-white",placeholder:"1/7 ...",value:w,onChange:L=>P(L.target.value),onKeyDown:L=>Y(L,"note")})]})]}),s.jsxs("div",{className:"glass-panel p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6 text-emerald-600 font-bold",children:[s.jsx(Hh,{size:18}),s.jsx("span",{children:""})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[{key:"stall",label:"",next:"cleaning"},{key:"cleaning",label:"",next:"electricity",prev:"stall"},{key:"electricity",label:"",next:"gas",prev:"cleaning"},{key:"gas",label:"",next:"parking",prev:"electricity"},{key:"parking",label:"",next:"goods",prev:"gas"},{key:"goods",label:"",next:"bags",prev:"parking"},{key:"bags",label:"",next:"others",prev:"goods"},{key:"others",label:"",next:"linePay",prev:"bags"}].map(L=>s.jsxs("div",{className:"flex items-center justify-between gap-4 p-2 hover:bg-slate-50 rounded-lg transition-colors border-b border-slate-100 last:border-0",children:[s.jsx("label",{className:"text-sm text-slate-600 font-medium whitespace-nowrap",children:L.label}),s.jsx("input",{id:`input-expense-${L.key}`,type:"number",className:"input-field text-right w-32 bg-white",value:m[L.key]||"",onChange:O=>V({...m,[L.key]:Number(O.target.value)}),onKeyDown:O=>Y(O,L.key),onWheel:O=>O.target.blur()})]},L.key))})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"glass-panel p-6 border-amber-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6 text-amber-600 font-bold",children:[s.jsx(bh,{size:18}),s.jsx("span",{children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Line Pay "}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"input-expense-linePay",type:"number",className:"input-field w-full pl-8 border-emerald-200 text-emerald-700 bg-emerald-50",value:m.linePay||"",onChange:L=>V({...m,linePay:Number(L.target.value)}),onKeyDown:L=>Y(L,"linePay"),onWheel:L=>L.target.blur()}),s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-emerald-600 font-bold",children:"+"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"input-expense-serviceFee",type:"number",className:"input-field w-full pl-8 border-rose-200 text-rose-700 bg-rose-50",value:m.serviceFee||"",onChange:L=>V({...m,serviceFee:Number(L.target.value)}),onKeyDown:L=>Y(L,"serviceFee"),onWheel:L=>L.target.blur()}),s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-rose-600 font-bold",children:"-"})]})]})]})]}),s.jsxs("div",{className:"glass-panel p-6 border-indigo-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-6 text-indigo-600 font-bold",children:[s.jsx(Uu,{size:18}),s.jsx("span",{children:""})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("label",{className:"text-xs text-slate-500 flex items-center gap-2 font-bold",children:[s.jsx(Uu,{size:14})," "]}),s.jsx("input",{id:"input-expense-vehicleMaintenance",type:"number",className:"input-field w-28 text-right bg-white",value:m.vehicleMaintenance||"",onChange:L=>V({...m,vehicleMaintenance:Number(L.target.value)}),onKeyDown:L=>Y(L,"vehicleMaintenance"),onWheel:L=>L.target.blur()})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("label",{className:"text-xs text-slate-500 flex items-center gap-2 font-bold",children:[s.jsx(Gu,{size:14})," "]}),s.jsx("input",{id:"input-expense-salary",type:"number",className:"input-field w-28 text-right bg-white",value:m.salary||"",onChange:L=>V({...m,salary:Number(L.target.value)}),onKeyDown:L=>Y(L,"salary"),onWheel:L=>L.target.blur()})]}),s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsxs("label",{className:"text-xs text-slate-500 flex items-center gap-2 font-bold",children:[s.jsx(_h,{size:14})," "]}),s.jsx("input",{id:"input-expense-reserve",type:"number",className:"input-field w-28 text-right bg-white",value:m.reserve||"",onChange:L=>V({...m,reserve:Number(L.target.value)}),onKeyDown:L=>Y(L,"reserve"),onWheel:L=>L.target.blur()})]})]})]}),s.jsxs("button",{onClick:T,className:"btn-primary w-full py-4 text-lg font-black shadow-lg shadow-blue-100 hover:shadow-xl hover:shadow-blue-200 transition-all flex justify-center items-center gap-3 active:scale-95",children:[s.jsx(pc,{size:22})," "]}),s.jsx("p",{className:"text-center text-slate-500 text-[10px] uppercase font-bold tracking-tighter",children:"Data will be saved to Expenditures Sheet"})]})]})]})}function pp({user:o,apiUrl:q}){const[g,d]=p.useState([]),[m,V]=p.useState(!1),[w,P]=p.useState(!1),[T,v]=p.useState(""),[Y,E]=p.useState({username:"",password:"",role:"VIEWER"}),[j,L]=p.useState(null),O=[{group:"",items:[{key:"sales_entry",label:""},{key:"sales_report",label:""}]},{group:"",items:[{key:"purchase_entry",label:""},{key:"purchase_history",label:""}]},{group:"",items:[{key:"inventory_adjust",label:""},{key:"inventory_stocktake",label:""},{key:"inventory_valuation",label:""},{key:"inventory_history",label:"/"}]},{group:"",items:[{key:"finance_expenditure",label:""},{key:"finance_receivable",label:""},{key:"finance_payable",label:""},{key:"finance_income",label:""},{key:"finance_cost",label:""},{key:"finance_payroll",label:""}]},{group:"",items:[{key:"analytics_sales",label:""},{key:"analytics_customer",label:""},{key:"analytics_profit",label:""},{key:"analytics_turnover",label:""}]},{group:"",items:[{key:"system_config",label:""}]}],te=async()=>{if(!Y.username||!Y.password){alert("");return}P(!0),v(" ...");try{await ve(q,"addUser",Y,o.token),E({username:"",password:"",role:"VIEWER"}),await b(),alert("")}catch(A){alert(": "+A.message)}finally{P(!1)}},z=async A=>{if(window.confirm(` ${A}?`)){P(!0),v(" ...");try{await ve(q,"deleteUser",{username:A},o.token),await b(),alert("")}catch(h){alert(": "+h.message)}finally{P(!1)}}},b=async()=>{V(!0);try{const A=await ve(q,"getUsers",{},o.token);if(Array.isArray(A)){const h=A.map(K=>{let ee=K.permissions;if(typeof ee=="string")try{ee=JSON.parse(ee)}catch(ne){console.error(`Failed to parse permissions for ${K.username}`,ne),ee=[]}return{...K,permissions:Array.isArray(ee)?ee:[]}});d(h)}else console.warn("Backend returned non-array for users")}catch(A){console.error("Failed to fetch users:",A),alert("")}finally{V(!1)}};p.useEffect(()=>{o?.token&&b()},[o.token,q]);const k=async()=>{if(j){P(!0),v(" ...");try{await ve(q,"updateUserPermissions",{username:j.username,permissions:j.permissions},o.token),L(null),await b(),alert("")}catch(A){console.error(A),alert(": "+A.message)}finally{P(!1)}}},S=A=>{if(!j)return;const h=j.permissions||[];h.includes(A)?L({...j,permissions:h.filter(K=>K!==A)}):L({...j,permissions:[...h,A]})},I=A=>{if(!j)return;const h=j.permissions||[],K=A.map(ne=>ne.key);if(K.every(ne=>h.includes(ne)))L({...j,permissions:h.filter(ne=>!K.includes(ne))});else{const ne=h.filter(W=>!K.includes(W));L({...j,permissions:[...ne,...K]})}};return s.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[w&&s.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-[2px] z-[60] flex items-center justify-center animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl flex flex-col items-center gap-4 min-w-[200px]",children:[s.jsx(st,{className:"animate-spin text-blue-600",size:32}),s.jsx("span",{className:"text-slate-700 font-bold text-base",children:T})]})}),s.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(xa,{className:"text-rose-600"}),"  (Permission Control)"]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),s.jsx("button",{onClick:b,className:"btn-secondary p-2 rounded-xl",children:s.jsx(st,{size:20,className:m?"animate-spin":""})})]}),s.jsxs("div",{className:"glass-panel p-6 border-l-4 border-l-emerald-500 shrink-0",children:[s.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-slate-800",children:[s.jsx(Zh,{size:20,className:"text-emerald-600"})," "]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end relative",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-slate-500 uppercase font-bold px-1",children:" (Username)"}),s.jsx("input",{id:"input-new-username",type:"text",className:"input-field w-full",value:Y.username,onChange:A=>E({...Y,username:A.target.value}),onKeyDown:A=>{(A.key==="Enter"||A.key==="ArrowRight")&&(A.preventDefault(),document.getElementById("input-new-password")?.focus())},placeholder:""})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-slate-500 uppercase font-bold px-1",children:" (Password)"}),s.jsx("input",{id:"input-new-password",type:"password",className:"input-field w-full",value:Y.password,onChange:A=>E({...Y,password:A.target.value}),onKeyDown:A=>{A.key==="Enter"||A.key==="ArrowRight"?(A.preventDefault(),document.getElementById("input-new-role")?.focus()):A.key==="ArrowLeft"&&(A.preventDefault(),document.getElementById("input-new-username")?.focus())},placeholder:""})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs text-slate-500 uppercase font-bold px-1",children:" (Role)"}),s.jsxs("select",{id:"input-new-role",className:"input-field w-full",value:Y.role,onChange:A=>E({...Y,role:A.target.value}),onKeyDown:A=>{A.key==="Enter"||A.key==="ArrowRight"?(A.preventDefault(),document.getElementById("btn-add-user")?.focus()):A.key==="ArrowLeft"&&(A.preventDefault(),document.getElementById("input-new-password")?.focus())},children:[s.jsx("option",{value:"BOSS",children:" (BOSS)"}),s.jsx("option",{value:"ADMIN",children:" (ADMIN)"}),s.jsx("option",{value:"EMPLOYEE",children:" (EMPLOYEE)"}),s.jsx("option",{value:"VIEWER",children:" (VIEWER)"})]})]}),s.jsxs("button",{id:"btn-add-user",onClick:te,onKeyDown:A=>{A.key==="ArrowLeft"&&(A.preventDefault(),document.getElementById("input-new-role")?.focus())},className:"btn-primary flex justify-center items-center gap-2",disabled:m,children:[s.jsx(pc,{size:18})," "]})]})]}),s.jsx("div",{className:"glass-panel p-0 overflow-hidden flex-1 flex flex-col",children:s.jsx("div",{className:"overflow-y-auto flex-1",children:s.jsxs("table",{className:"w-full text-left text-sm",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4",children:" (Username)"}),s.jsx("th",{className:"p-4",children:" (Role)"}),s.jsx("th",{className:"p-4 text-center",children:" (Status)"}),s.jsx("th",{className:"p-4 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:g.length>0?g.map((A,h)=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"p-4 text-slate-900 font-bold",children:A.username}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold border ${A.role==="BOSS"?"bg-amber-500/10 text-amber-500 border-amber-500/20":A.role==="ADMIN"?"bg-rose-500/10 text-rose-500 border-rose-500/20":A.role==="EMPLOYEE"?"bg-blue-500/10 text-blue-500 border-blue-500/20":(A.role==="VIEWER","bg-slate-500/10 text-slate-500 border-slate-500/20")}`,children:A.role})}),s.jsx("td",{className:"p-4 text-center",children:A.status==="ACTIVE"?s.jsxs("span",{className:"flex items-center justify-center gap-2 text-emerald-600 font-bold text-xs",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.3)]"})," ACTIVE"]}):s.jsxs("span",{className:"flex items-center justify-center gap-2 text-slate-500 font-bold text-xs",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-500"})," ",A.status||"UNKNOWN"]})}),s.jsx("td",{className:"p-4 text-center flex items-center justify-center gap-2",children:A.username!=="admin"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{let K=Array.isArray(A.permissions)?[...A.permissions]:[];const ee={sales:["sales_entry","sales_report"],purchase:["purchase_entry","purchase_history"],inventory:["inventory_adjust","inventory_stocktake","inventory_valuation","inventory_history"],finance:["finance_expenditure","finance_receivable","finance_payable","finance_income","finance_cost"],analytics:["analytics_sales","analytics_customer","analytics_profit","analytics_turnover"],system:["system_config"]};Object.keys(ee).forEach(ne=>{K.includes(ne)&&(K=K.filter(W=>W!==ne),ee[ne].forEach(W=>{K.includes(W)||K.push(W)}))}),L({username:A.username,permissions:K})},className:"p-2 text-slate-400 hover:text-blue-400 transition-colors",title:"",children:s.jsx(xa,{size:16})}),s.jsx("button",{onClick:()=>z(A.username),className:"p-2 text-slate-400 hover:text-rose-400 transition-colors",title:"",children:s.jsx(h0,{size:16})})]})})]},h)):s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"p-20 text-center text-slate-500",children:m?"...":""})})})]})})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50",children:[s.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[s.jsx(xa,{className:"text-blue-600"}),"  (",j.username,")"]}),s.jsx("p",{className:"text-slate-500 text-sm mt-1",children:" (BOSS )"})]}),s.jsx("div",{className:"p-6 space-y-6 max-h-[65vh] overflow-y-auto custom-scrollbar",children:O.map(A=>{const h=A.items.map(ee=>ee.key),K=h.every(ee=>j.permissions?.includes(ee));return h.some(ee=>j.permissions?.includes(ee)),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between px-1 cursor-pointer group/title",onClick:()=>I(A.items),children:[s.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 group-hover/title:text-blue-600 transition-colors",children:A.group}),s.jsx("span",{className:"text-[10px] text-blue-600 font-bold opacity-0 group-hover/title:opacity-100 transition-opacity",children:K?"":""})]}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:A.items.map((ee,ne)=>{const W=`perm-item-${ee.key}`,R=M=>{if(!["Enter"," ","ArrowDown","ArrowUp","ArrowRight","ArrowLeft"].includes(M.key))return;M.preventDefault();const se=[];O.forEach(N=>{N.items.forEach(Q=>se.push(Q.key))});const ie=se.indexOf(ee.key);if(M.key==="Enter"||M.key===" "){if(S(ee.key),ie<se.length-1){const N=se[ie+1];document.getElementById(`perm-item-${N}`)?.focus()}}else if(M.key==="ArrowDown"||M.key==="ArrowRight"){if(ie<se.length-1){const N=se[ie+1];document.getElementById(`perm-item-${N}`)?.focus()}}else if((M.key==="ArrowUp"||M.key==="ArrowLeft")&&ie>0){const N=se[ie-1];document.getElementById(`perm-item-${N}`)?.focus()}};return s.jsxs("label",{id:W,tabIndex:"0",onKeyDown:R,className:`flex items-center gap-3 p-3 rounded-xl border transition-all cursor-pointer group outline-none ring-offset-2 focus:ring-2 focus:ring-blue-400 ${j.permissions?.includes(ee.key)?"bg-blue-50 border-blue-200 shadow-sm":"bg-slate-50 border-slate-100 hover:bg-slate-100 hover:border-slate-200"}`,children:[s.jsx("div",{className:`w-5 h-5 rounded-lg border flex items-center justify-center transition-all ${j.permissions?.includes(ee.key)?"bg-blue-600 border-blue-600 text-white scale-110":"bg-white border-slate-200 group-hover:border-blue-300"}`,children:j.permissions?.includes(ee.key)&&s.jsx(Qu,{size:12,fill:"currentColor"})}),s.jsx("input",{type:"checkbox",className:"hidden",checked:j.permissions?.includes(ee.key),onChange:()=>S(ee.key)}),s.jsx("span",{className:`text-sm transition-colors ${j.permissions?.includes(ee.key)?"text-slate-900 font-bold":"text-slate-500"}`,children:ee.label})]},ee.key)})})]},A.group)})}),s.jsxs("div",{className:"p-6 border-t border-slate-100 flex justify-end gap-3 bg-slate-50",children:[s.jsx("button",{onClick:()=>L(null),className:"px-4 py-2 rounded-lg text-slate-500 hover:text-slate-900 hover:bg-black/5 transition-colors",children:""}),s.jsx("button",{onClick:k,className:"btn-primary px-6 py-2",children:""})]})]})})]})}function yp({user:o,apiUrl:q}){const[g,d]=p.useState(new Date().getFullYear()),[m,V]=p.useState(new Date().getMonth()+1),[w,P]=p.useState(o.username),[T,v]=p.useState([]),[Y,E]=p.useState(!1),[j,L]=p.useState(null),[O,te]=p.useState(null),[z,b]=p.useState("LEAVE"),[k,S]=p.useState(""),[I,A]=p.useState(""),[h,K]=p.useState(!1),[ee,ne]=p.useState({baseSalary:0,attendanceBonus:0,insurance:0,monthlyOffDays:8,bonusTiers:"[]"}),[W,R]=p.useState(!1),[M,B]=p.useState(!1),[se,ie]=p.useState({profile:{joinedDate:"",birthday:"",identityId:"",contact:"",note:""},seniorityText:"",estimatedLeaveDays:0}),[N,Q]=p.useState({joinedDate:"",birthday:"",identityId:"",contact:"",note:""}),F={baseSalary:p.useRef(null),attendanceBonus:p.useRef(null),monthlyOffDays:p.useRef(null),insurance:p.useRef(null),bonusTiers:p.useRef(null)},ce={editValue:p.useRef(null),editNote:p.useRef(null)};p.useEffect(()=>{o.role==="BOSS"&&ve(q,"getUsers",{},o.token).then(pe=>v(pe)).catch(pe=>console.error(pe))},[o.role,o.token,q]);const oe=p.useCallback(async()=>{E(!0);try{const U=await ve(q,"getPayrollData",{year:g,month:m,targetUser:w},o.token);U&&!U.error?(L(U),U.config&&ne({...U.config,bonusTiers:JSON.stringify(U.config.bonusTiers||[])})):console.error(U?.error)}catch(U){console.error(U),alert(": "+U.message)}finally{E(!1)}},[g,m,w,o.token]),r=p.useCallback(async()=>{try{const U=await ve(q,"getEmployeeProfile",{targetUser:w},o.token);U&&!U.error&&(ie(U),Q(U.profile))}catch(U){console.error(U)}},[w,o.token,q]),X=async()=>{if(!j||!j.summary){alert("");return}const U=` ${w} 

: $${(j.summary.finalSalary||0).toLocaleString()}
: ${g}${m}`;if(confirm(U)){R(!0);try{await ve(q,"savePayrollToExpenditure",{targetUser:w,year:g,month:m,finalSalary:j.summary.finalSalary},o.token),alert("")}catch(pe){console.error("Save payroll failed:",pe),alert(": "+pe.message)}finally{R(!1)}}};p.useEffect(()=>{oe(),r()},[oe,r]);const le=async()=>{if(O){R(!0);try{await ve(q,"saveDailyRecord",{date:O.date,username:w,type:z,value:z==="WORK"||z==="LEAVE"||z==="SPECIAL_LEAVE"||z==="SICK_LEAVE"?1:Number(k),note:I},o.token),te(null),oe()}catch(U){alert(": "+U.message)}finally{R(!1)}}},ue=async()=>{R(!0);try{await ve(q,"saveEmployeeProfile",{username:w,...N},o.token),B(!1),r()}catch(U){alert(": "+U.message)}finally{R(!1)}},$=async()=>{let U=[];try{U=JSON.parse(ee.bonusTiers)}catch{alert(" (JSON Error)");return}R(!0);try{await ve(q,"savePayrollSettings",{targetUser:w,baseSalary:Number(ee.baseSalary),attendanceBonus:Number(ee.attendanceBonus),insurance:Number(ee.insurance),monthlyOffDays:Number(ee.monthlyOffDays),bonusTiers:U},o.token),K(!1),oe()}catch(pe){alert(": "+pe.message)}finally{R(!1)}},ae=(U,pe)=>{const qe=["baseSalary","attendanceBonus","monthlyOffDays","insurance","bonusTiers"],Ee=qe.indexOf(pe);if(!(pe==="bonusTiers")&&(U.key==="ArrowUp"||U.key==="ArrowDown")&&U.preventDefault(),U.key==="Enter"){if(pe==="bonusTiers"&&!U.ctrlKey)return;U.preventDefault();const el=qe[Ee+1];el&&F[el].current&&(F[el].current.focus(),F[el].current.select?.());return}const mt={baseSalary:{ArrowRight:"attendanceBonus",ArrowDown:"monthlyOffDays"},attendanceBonus:{ArrowLeft:"baseSalary",ArrowDown:"insurance"},monthlyOffDays:{ArrowRight:"insurance",ArrowUp:"baseSalary",ArrowDown:"bonusTiers"},insurance:{ArrowLeft:"monthlyOffDays",ArrowUp:"attendanceBonus",ArrowDown:"bonusTiers"},bonusTiers:{}}[pe]?.[U.key];mt&&F[mt].current&&(U.preventDefault(),F[mt].current.focus(),F[mt].current.select?.())},fe=(U,pe)=>{if(U.key==="Enter"&&(U.preventDefault(),pe==="editType"?z==="LOSS"?ce.editValue.current?.focus():ce.editNote.current?.focus():pe==="editValue"?ce.editNote.current?.focus():pe==="editNote"&&le()),pe==="editType"&&(U.key==="ArrowLeft"||U.key==="ArrowRight")){U.preventDefault();const qe=["WORK","LEAVE","SPECIAL_LEAVE","SICK_LEAVE","LOSS"];let Ee=qe.indexOf(z);U.key==="ArrowLeft"&&(Ee=(Ee-1+qe.length)%qe.length),U.key==="ArrowRight"&&(Ee=(Ee+1)%qe.length),b(qe[Ee])}},xe=((U,pe)=>{const qe=new Date(U,pe,0).getDate();return Array.from({length:qe},(Ee,xt)=>{const Xe=new Date(U,pe-1,xt+1),mt=Xe.getTimezoneOffset()*6e4;return{date:new Date(Xe.getTime()-mt).toISOString().split("T")[0],day:xt+1,weekday:["","","","","","",""][Xe.getDay()]}})})(g,m),Te=j?.summary||{};let Jt=0,St=0,vl=0,wt=0;xe.forEach(U=>{const pe=U.date,qe=j?.dailyData?.[pe]||0,Ee=j?.dailyRecords?.[pe]||{};qe>0?Jt++:Ee.isLeave?St++:Ee.isSpecialLeave?vl++:Ee.isSickLeave?wt++:St++});const Nl=U=>{if(!U)return"";try{if(U instanceof Date)return`${U.getMonth()+1}${U.getDate()}`;const pe=String(U),qe=new Date(pe);if(!isNaN(qe.getTime()))return`${qe.getMonth()+1}${qe.getDate()}`;const Ee=pe.match(/(\d{1,2})[/-](\d{1,2})/);return Ee?`${Ee[1]}${Ee[2]}`:pe.replace(/[/.-]/g,"")+""}catch(pe){return console.error("Format err",pe),String(U)}};return s.jsxs("div",{className:"p-4 md:p-8 space-y-6 max-w-7xl mx-auto pb-24",children:[s.jsxs("div",{className:"glass-panel p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400 flex items-center gap-3",children:[s.jsx(Vt,{})," "]}),s.jsx("p",{className:"text-slate-400 text-sm mt-1",children:""})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsx("select",{value:g,onChange:U=>d(Number(U.target.value)),className:"input-field w-24",children:[2025,2026,2027].map(U=>s.jsxs("option",{value:U,children:[U,""]},U))}),s.jsx("select",{value:m,onChange:U=>V(Number(U.target.value)),className:"input-field w-20",children:Array.from({length:12},(U,pe)=>pe+1).map(U=>s.jsxs("option",{value:U,children:[U,""]},U))}),o.role==="BOSS"&&s.jsxs("select",{value:w,onChange:U=>P(U.target.value),className:"input-field w-32",children:[T.map(U=>s.jsx("option",{value:U.username,children:U.username},U.userid)),!T.some(U=>U.username===w)&&s.jsx("option",{value:w,children:w})]}),o.role==="BOSS"&&s.jsxs("button",{onClick:()=>K(!0),className:"btn-secondary flex items-center gap-2",children:[s.jsx(hc,{size:16})," "]}),o.role==="BOSS"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:()=>B(!0),className:"btn-secondary flex items-center gap-2 border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:[s.jsx($t,{size:16})," "]}),s.jsxs("button",{onClick:X,disabled:W||!j,className:"btn-secondary flex items-center gap-2 border-blue-200 text-blue-700 hover:bg-blue-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Vt,{size:16})," ",W?"...":""]})]}),s.jsx("button",{onClick:oe,className:"btn-primary",children:""})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 px-2",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-1.5 rounded-full text-sm font-medium border border-blue-100",children:[s.jsx($t,{size:14})," : ",se.profile.joinedDate||""]}),s.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 text-indigo-700 px-3 py-1.5 rounded-full text-sm font-medium border border-indigo-100",children:[s.jsx(hc,{size:14})," : ",se.seniorityText]}),s.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 text-emerald-700 px-3 py-1.5 rounded-full text-sm font-medium border border-emerald-100",children:[s.jsx(x0,{size:14})," :  ",se.estimatedLeaveDays,"  /  ",j?.totalSpecialLeaveUsed||0,"  /  ",se.estimatedLeaveDays-(j?.totalSpecialLeaveUsed||0)," "]})]}),o.role==="BOSS"&&j?.isBirthdayMonth&&s.jsx("div",{className:"px-2",children:s.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 border border-pink-100 rounded-xl p-4 flex items-center gap-4 animate-bounce-subtle",children:[s.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm text-2xl",children:""}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-rose-700 font-bold",children:[" ",se.profile.birthday?`(${Nl(se.profile.birthday)})`:"",""]}),s.jsx("p",{className:"text-rose-600/80 text-sm",children:""})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 px-2",children:[s.jsx(Zl,{title:"",amount:j?.config?.baseSalary,color:"text-slate-800"}),s.jsx(Zl,{title:"",amount:0,subtext:`: $${(Te.sales||0).toLocaleString()}`,color:"text-indigo-600"}),s.jsx(Zl,{title:" ()",amount:Te.insurance,isDeduction:!0,color:"text-red-600",hoverContent:s.jsx("div",{className:"flex flex-col items-end",children:s.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:["$",(Te.bonus||0).toLocaleString()]})})}),s.jsx(Zl,{title:"",amount:Te.finalSalary,color:"text-blue-600",subtext:"/"})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-4 px-2",children:[s.jsx(Zl,{title:"",amount:Te.attendanceBonus,color:"text-yellow-600",hoverContent:s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),s.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:[Jt," "]})]})}),s.jsx(Zl,{title:"",amount:St,isCurrency:!1,suffix:" ",color:"text-slate-500",hoverContent:s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),s.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:[j?.config?.monthlyOffDays||0," "]})]}),s.jsxs("div",{className:"w-full border-t border-emerald-100 pt-1 mt-0.5",children:[s.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),s.jsxs("p",{className:`text-sm font-bold font-mono ${(Te.leaveCompensation||0)>=0?"text-blue-600":"text-red-600"}`,children:[(Te.leaveCompensation||0)>=0?"+":"-","$",Math.abs(Te.leaveCompensation||0).toLocaleString()]})]})]})}),s.jsx(Zl,{title:"",amount:vl,isCurrency:!1,suffix:" ",color:"text-emerald-500"}),s.jsx(Zl,{title:"",amount:wt,isCurrency:!1,suffix:" ",color:"text-amber-500",hoverContent:s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),s.jsxs("p",{className:"text-sm font-bold text-red-600 font-mono",children:["-$",(wt*500).toLocaleString()]})]})})]}),s.jsx("div",{className:"px-2 mt-4",children:s.jsxs("div",{className:"bg-white p-3 rounded-lg border border-red-100 flex justify-between items-center shadow-sm",children:[s.jsx("span",{className:"text-sm text-red-600 font-bold",children:"/"}),s.jsxs("span",{className:"text-lg font-bold text-red-600",children:["-$",(Te.loss||0).toLocaleString()]})]})}),s.jsx("div",{className:"glass-panel overflow-hidden",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm",children:s.jsxs("tr",{children:[s.jsx("th",{className:"p-4 w-32",children:""}),s.jsx("th",{className:"p-4 w-24 text-center",children:""}),s.jsx("th",{className:"p-4 text-right",children:""}),s.jsx("th",{className:"p-4 text-center",children:""}),s.jsx("th",{className:"p-4 text-right",children:"/"}),s.jsx("th",{className:"p-4 text-center",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:xe.map(U=>{const pe=U.date,qe=j?.dailyData?.[pe]||0,Ee=j?.dailyRecords?.[pe]||{},xt=qe>0;let Xe="",mt="text-yellow-500 bg-yellow-500/10 px-2 rounded font-medium";xt?(Xe=" ()",mt="text-green-400 font-bold"):Ee.isLeave?(Xe="",mt="text-yellow-500 bg-yellow-500/10 px-2 rounded font-medium"):Ee.isSpecialLeave?(Xe="",mt="text-emerald-500 bg-emerald-500/10 px-2 rounded font-medium"):Ee.isSickLeave&&(Xe="",mt="text-amber-500 bg-amber-500/10 px-2 rounded font-medium");const el=U.weekday===""||U.weekday==="";return s.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${el?"bg-slate-50/50":""}`,children:[s.jsx("td",{className:"p-4 font-mono text-slate-600",children:pe}),s.jsx("td",{className:`p-4 text-center ${U.weekday===""?"text-red-600":"text-slate-500"}`,children:U.weekday}),s.jsx("td",{className:"p-4 text-right font-mono text-emerald-600",children:Math.abs(qe)>.01?`$${qe.toLocaleString()}`:"-"}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("span",{className:`text-sm ${mt}`,children:Xe})}),s.jsxs("td",{className:"p-4 text-right font-mono text-red-600",children:[Math.abs(Ee.loss||0)>.01?`-$${Math.abs(Ee.loss).toLocaleString()}`:"",Ee.note&&s.jsx("span",{className:"block text-xs text-slate-500",children:Ee.note})]}),s.jsx("td",{className:"p-4 text-center",children:o.role==="BOSS"&&s.jsx("button",{onClick:()=>{te(U),b("LEAVE")},className:"text-xs btn-ghost text-blue-400 hover:text-blue-300",children:""})})]},pe)})})]})}),O&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-panel w-full max-w-md p-6 animate-fadeIn",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4",children:[O.date," (",O.weekday,") "]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:" ()"}),s.jsx("div",{className:"flex bg-slate-50 rounded p-1 border border-slate-200 outline-none focus-within:ring-2 focus-within:ring-blue-500/20",tabIndex:"0",onKeyDown:U=>fe(U,"editType"),children:[{id:"WORK",label:"",color:"bg-blue-600"},{id:"LEAVE",label:"",color:"bg-yellow-600"},{id:"SPECIAL_LEAVE",label:"",color:"bg-emerald-600"},{id:"SICK_LEAVE",label:"",color:"bg-amber-600"},{id:"LOSS",label:"/",color:"bg-red-600"}].map(U=>s.jsx("button",{className:`flex-1 py-2 rounded text-xs transition-all ${z===U.id?`${U.color} text-white shadow-sm`:"text-slate-500 hover:bg-slate-100"}`,onClick:()=>b(U.id),children:U.label},U.id))})]}),z==="LOSS"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:" ()"}),s.jsx("input",{type:"number",className:"input-field w-full",placeholder:"-100",ref:ce.editValue,value:k,onChange:U=>S(U.target.value),onKeyDown:U=>fe(U,"editValue")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),s.jsx("input",{type:"text",className:"input-field w-full",placeholder:"...",ref:ce.editNote,value:I,onChange:U=>A(U.target.value),onKeyDown:U=>fe(U,"editNote")})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>te(null),className:"btn-secondary flex-1",disabled:W,children:""}),s.jsx("button",{onClick:le,className:"btn-primary flex-1",disabled:W,children:W?"...":""})]}),W&&s.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] z-10 flex items-center justify-center rounded-lg",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{className:"text-sm font-medium text-blue-600",children:"..."})]})})]})}),h&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-panel w-full max-w-lg p-6 animate-fadeIn max-h-[90vh] overflow-y-auto",children:[s.jsxs("h3",{className:"text-xl font-bold mb-4",children:[" - ",w]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsx("input",{type:"number",className:"input-field w-full",ref:F.baseSalary,value:ee.baseSalary,onChange:U=>ne({...ee,baseSalary:U.target.value}),onKeyDown:U=>ae(U,"baseSalary")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsx("input",{type:"number",className:"input-field w-full",ref:F.attendanceBonus,value:ee.attendanceBonus,onChange:U=>ne({...ee,attendanceBonus:U.target.value}),onKeyDown:U=>ae(U,"attendanceBonus")})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsx("input",{type:"number",className:"input-field w-full",ref:F.monthlyOffDays,value:ee.monthlyOffDays,onChange:U=>ne({...ee,monthlyOffDays:U.target.value}),onKeyDown:U=>ae(U,"monthlyOffDays")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:" ()"}),s.jsx("input",{type:"number",className:"input-field w-full",ref:F.insurance,value:ee.insurance,onChange:U=>ne({...ee,insurance:U.target.value}),onKeyDown:U=>ae(U,"insurance")})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:" (JSON)"}),s.jsx("textarea",{className:"input-field w-full font-mono text-xs h-32",ref:F.bonusTiers,value:ee.bonusTiers,onChange:U=>ne({...ee,bonusTiers:U.target.value}),onKeyDown:U=>ae(U,"bonusTiers"),placeholder:'[{"threshold": 50000, "bonus": 1000}]'}),s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:': `[{"threshold": , "bonus":  }]` ( Enter )'})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>K(!1),className:"btn-secondary flex-1",disabled:W,children:""}),s.jsx("button",{onClick:$,className:"btn-primary flex-1",disabled:W,children:W?"...":""})]}),W&&s.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] z-10 flex items-center justify-center rounded-lg text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),s.jsxs("span",{className:"text-sm font-medium text-blue-600 font-bold",children:["",s.jsx("br",{}),s.jsx("span",{className:"text-[10px] opacity-70",children:""})]})]})})]})}),M&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"glass-panel w-full max-w-lg p-6 animate-fadeIn",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold",children:[" - ",w]}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:""})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"block text-xs text-slate-400 uppercase font-bold tracking-wider",children:""}),s.jsx("span",{className:"text-lg font-bold text-blue-600",children:se.seniorityText})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsx("input",{type:"date",className:"input-field w-full",value:N.joinedDate,onChange:U=>Q({...N,joinedDate:U.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:" (/)"}),s.jsx("input",{type:"text",placeholder:"05/20",className:"input-field w-full",value:N.birthday,onChange:U=>Q({...N,birthday:U.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"label",children:"/"}),s.jsx("input",{type:"text",className:"input-field w-full",placeholder:"A123456789",value:N.identityId,onChange:U=>Q({...N,identityId:U.target.value})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsx("input",{type:"text",className:"input-field w-full",placeholder:"0912-345-678",value:N.contact,onChange:U=>Q({...N,contact:U.target.value})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"label",children:""}),s.jsx("textarea",{className:"input-field w-full h-24",placeholder:"...",value:N.note,onChange:U=>Q({...N,note:U.target.value})})]}),s.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-lg p-3 flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-emerald-800 font-medium",children:""}),s.jsxs("span",{className:"text-xl font-bold text-emerald-600 font-mono",children:[se.estimatedLeaveDays," "]})]})]}),s.jsxs("div",{className:"flex gap-3 mt-8",children:[s.jsx("button",{onClick:()=>B(!1),className:"btn-secondary flex-1",disabled:W,children:""}),s.jsx("button",{onClick:ue,className:"btn-primary flex-1",disabled:W,children:W?"...":""})]})]})})]})}function Zl({title:o,amount:q,subtext:g,color:d,isDeduction:m,isCurrency:V=!0,suffix:w="",hiddenAmount:P,hiddenTitle:T="",hoverContent:v}){const[Y,E]=p.useState(!1);return s.jsxs("div",{className:"glass-panel p-4 flex flex-col justify-between h-28 relative overflow-hidden group hover:border-blue-500 transition-all cursor-default",onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:[s.jsx("div",{className:"flex justify-between items-start z-10",children:s.jsx("span",{className:"text-slate-500 text-sm font-medium",children:o})}),s.jsxs("div",{className:"z-10",children:[s.jsxs("span",{className:`text-2xl font-bold tracking-tight ${d}`,children:[m&&"-",V&&"$",(q||0).toLocaleString(),w]}),g&&s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:g})]}),(P!==void 0||v)&&s.jsx("div",{className:`absolute top-0 right-0 p-2 transition-all duration-300 ${Y?"translate-y-2 opacity-100":"-translate-y-full opacity-0"}`,children:s.jsx("div",{className:"bg-white/90 backdrop-blur shadow-sm border border-emerald-100 rounded px-2 py-0.5 text-right",children:v||s.jsxs(s.Fragment,{children:[T&&s.jsx("p",{className:"text-xs text-slate-400 font-medium",children:T}),s.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:[V&&"$",(P||0).toLocaleString()]})]})})}),s.jsx("div",{className:`absolute -right-2 -bottom-2 w-16 h-16 rounded-full opacity-5 ${d?.replace("text-","bg-")||"bg-slate-400"}`})]})}const Ge="https://script.google.com/macros/s/AKfycbzIoBBRytN2Qja-AUSILlXwdAnbwnU6nfil9403HYHXJH_KrvDy3lC9rQ_U8dlP9AIt/exec";console.log("---  ---");console.log("Base URL:","/inventory-system/");Ge.includes("YOUR_SCRIPT_ID")?(console.error("  VITE_GAS_API_URL "),console.log(" GitHub Settings -> Secrets ")):console.log(" API URL :",Ge);console.log("------------------");const fa=({label:o,icon:q,active:g,children:d,id:m,openDropdown:V,setOpenDropdown:w})=>{const P=V===m;return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:T=>{T.stopPropagation(),w(P?null:m)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all duration-200 ${g?"bg-blue-50 text-blue-600 border border-blue-200 shadow-sm":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:[s.jsx(q,{size:18}),s.jsx("span",{className:"font-medium",children:o}),s.jsx(Bu,{size:14,className:`transition-transform duration-300 ${P?"rotate-180":""}`})]}),P&&s.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white/95 backdrop-blur-xl border border-slate-200 rounded-xl shadow-2xl py-2 z-[100] animate-in fade-in slide-in-from-top-2 duration-200",onClick:T=>T.stopPropagation(),children:s.jsx("div",{className:"flex flex-col gap-1 px-1",children:d})})]})},et=({label:o,onClick:q,active:g,icon:d})=>s.jsxs("button",{onClick:q,className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-all flex items-center gap-2 ${g?"text-blue-600 bg-blue-50 font-bold":"text-slate-500 hover:text-slate-900 hover:bg-slate-100"}`,children:[d&&s.jsx(d,{size:14}),o]});function bp(){const[o,q]=p.useState(null),[g,d]=p.useState("sales"),[m,V]=p.useState(null);gl.useEffect(()=>{const Y=localStorage.getItem("inventory_user");if(Y){const j=JSON.parse(Y);j&&typeof j.permissions>"u"?(console.warn("Detected stale user data (no permissions). Clearing session."),localStorage.removeItem("inventory_user"),q(null)):q(j)}const E=()=>V(null);return window.addEventListener("click",E),()=>window.removeEventListener("click",E)},[]);const w=Y=>{if(!o)return!1;if(o.role==="BOSS")return!0;let E=o.permissions;if(typeof E>"u"||E===null)E=[];else if(typeof E=="string")try{E=JSON.parse(E)}catch(j){console.error("Failed to parse permissions string:",j),E=[]}switch(Array.isArray(E)||(E=[]),Y){case"sales":return E.includes("sales_entry")||E.includes("sales");case"report":return E.includes("sales_report")||E.includes("sales");case"purchase":return E.includes("purchase_entry")||E.includes("purchase");case"purchaseHistory":return E.includes("purchase_history")||E.includes("purchase");case"inventory":return E.includes("inventory_adjust")||E.includes("inventory");case"stocktake":return E.includes("inventory_stocktake")||E.includes("inventory");case"valuation":return E.includes("inventory_valuation")||E.includes("inventory");case"adjustHistory":case"stocktakeHistory":return E.includes("inventory_history")||E.includes("inventory");case"expenditureManagement":return E.includes("finance_expenditure")||E.includes("finance");case"receivable":return E.includes("finance_receivable")||E.includes("finance");case"payable":return E.includes("finance_payable")||E.includes("finance");case"incomeStatement":return E.includes("finance_income")||E.includes("finance");case"costCalculation":return E.includes("finance_cost")||E.includes("finance");case"payroll":return E.includes("finance_payroll")||E.includes("finance");case"salesRanking":return E.includes("analytics_sales")||E.includes("analytics");case"customerRanking":return E.includes("analytics_customer")||E.includes("analytics");case"profitAnalysis":return E.includes("analytics_profit")||E.includes("analytics");case"turnoverRate":return E.includes("analytics_turnover")||E.includes("analytics");case"permissionControl":return E.includes("system_config")||E.includes("system");default:return!0}},P=Y=>{w(Y)?(d(Y),V(null)):console.warn(`Access denied for page: ${Y}`)},T=Y=>{q(Y),localStorage.setItem("inventory_user",JSON.stringify(Y))},v=()=>{q(null),localStorage.removeItem("inventory_user")};return Ge.includes("YOUR_SCRIPT_ID")?s.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-red-50 text-red-900",children:[s.jsx(xa,{size:64,className:"mb-4 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:""}),s.jsx("p",{className:"text-center max-w-md mb-6",children:" `VITE_GAS_API_URL`  GitHub Secrets  Actions "}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-200 font-mono text-xs w-full max-w-lg",children:[s.jsx("p",{className:"font-bold mb-2",children:""}),s.jsxs("p",{children:["GAS_API_URL: ",String(Ge)]}),s.jsxs("p",{children:["Base URL: ","/inventory-system/"]})]})]}):o?s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsxs("header",{className:"h-16 border-b border-slate-200 bg-white/80 backdrop-blur-md flex justify-between items-center px-6 sticky top-0 z-[60]",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("img",{src:"/inventory-system/logo.png",alt:"Logo",className:"h-10 w-auto object-contain"})}),s.jsxs("nav",{className:"flex gap-1",children:[(o.role==="BOSS"||w("sales")||w("report"))&&s.jsxs(fa,{id:"sales",label:"",icon:s0,openDropdown:m,setOpenDropdown:V,active:["sales","report"].includes(g),children:[w("sales")&&s.jsx(et,{label:"",icon:s0,onClick:()=>P("sales"),active:g==="sales"}),w("report")&&s.jsx(et,{label:"",icon:Lu,onClick:()=>P("report"),active:g==="report"})]}),(o.role==="BOSS"||w("purchase")||w("purchaseHistory"))&&s.jsxs(fa,{id:"purchase",label:"",icon:a0,openDropdown:m,setOpenDropdown:V,active:["purchase","purchaseHistory"].includes(g),children:[w("purchase")&&s.jsx(et,{label:"",icon:a0,onClick:()=>P("purchase"),active:g==="purchase"}),w("purchaseHistory")&&s.jsx(et,{label:"",icon:fc,onClick:()=>P("purchaseHistory"),active:g==="purchaseHistory"})]}),(o.role==="BOSS"||w("inventory")||w("stocktake")||w("valuation")||w("adjustHistory")||w("stocktakeHistory"))&&s.jsxs(fa,{id:"inventory",label:"",icon:l0,openDropdown:m,setOpenDropdown:V,active:["inventory","stocktake","valuation","adjustHistory","stocktakeHistory"].includes(g),children:[w("inventory")&&s.jsx(et,{label:"",icon:l0,onClick:()=>P("inventory"),active:g==="inventory"}),w("stocktake")&&s.jsx(et,{label:"",icon:Qu,onClick:()=>P("stocktake"),active:g==="stocktake"}),w("valuation")&&s.jsx(et,{label:"",icon:Vt,onClick:()=>P("valuation"),active:g==="valuation"}),s.jsx("div",{className:"my-1 border-t border-slate-100"}),w("adjustHistory")&&s.jsx(et,{label:"",icon:Lu,onClick:()=>P("adjustHistory"),active:g==="adjustHistory"}),w("stocktakeHistory")&&s.jsx(et,{label:"",icon:fc,onClick:()=>P("stocktakeHistory"),active:g==="stocktakeHistory"})]}),(o.role==="BOSS"||w("expenditureManagement"))&&s.jsx(fa,{id:"expenditure",label:"",icon:Vt,openDropdown:m,setOpenDropdown:V,active:g==="expenditureManagement",children:s.jsx(et,{label:"",icon:Vt,onClick:()=>P("expenditureManagement"),active:g==="expenditureManagement"})}),(o.role==="BOSS"||w("receivable")||w("payable")||w("incomeStatement")||w("costCalculation"))&&s.jsxs(fa,{id:"accounting",label:"",icon:Ks,openDropdown:m,setOpenDropdown:V,active:["receivable","payable","incomeStatement","costCalculation"].includes(g),children:[w("receivable")&&s.jsx(et,{label:"",icon:Ks,onClick:()=>P("receivable"),active:g==="receivable"}),w("payable")&&s.jsx(et,{label:"",icon:Ks,onClick:()=>P("payable"),active:g==="payable"}),w("incomeStatement")&&s.jsx(et,{label:"",icon:o0,onClick:()=>P("incomeStatement"),active:g==="incomeStatement"}),s.jsx("div",{className:"my-1 border-t border-slate-100"}),w("costCalculation")&&s.jsx(et,{label:"",icon:Vt,onClick:()=>P("costCalculation"),active:g==="costCalculation"}),w("payroll")&&s.jsx(et,{label:"",icon:Vt,onClick:()=>P("payroll"),active:g==="payroll"})]}),(o.role==="BOSS"||w("salesRanking")||w("customerRanking")||w("profitAnalysis")||w("turnoverRate"))&&s.jsxs(fa,{id:"analytics",label:"",icon:Zs,openDropdown:m,setOpenDropdown:V,active:["salesRanking","customerRanking","profitAnalysis","turnoverRate"].includes(g),children:[w("salesRanking")&&s.jsx(et,{label:"",icon:r0,onClick:()=>P("salesRanking"),active:g==="salesRanking"}),w("customerRanking")&&s.jsx(et,{label:"",icon:Gu,onClick:()=>P("customerRanking"),active:g==="customerRanking"}),w("profitAnalysis")&&s.jsx(et,{label:"",icon:Zs,onClick:()=>P("profitAnalysis"),active:g==="profitAnalysis"}),w("turnoverRate")&&s.jsx(et,{label:"",icon:u0,onClick:()=>P("turnoverRate"),active:g==="turnoverRate"})]}),(o.role==="BOSS"||w("permissionControl"))&&s.jsx(fa,{id:"system",label:"",icon:xa,openDropdown:m,setOpenDropdown:V,active:g==="permissionControl",children:s.jsx(et,{label:"",icon:xa,onClick:()=>P("permissionControl"),active:g==="permissionControl"})})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[s.jsx("span",{className:"text-xs font-bold text-blue-600 leading-none",children:o.username}),s.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-tighter",children:o.role})]}),s.jsx("button",{onClick:v,className:"w-10 h-10 rounded-xl flex items-center justify-center text-slate-400 hover:text-red-500 hover:bg-red-50 transition-all border border-transparent hover:border-red-100",title:"",children:s.jsx(Eh,{size:20})})]})]}),s.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-hidden",children:w(g)?s.jsxs(s.Fragment,{children:[g==="sales"&&s.jsx(Ih,{user:o,apiUrl:Ge}),g==="inventory"&&s.jsx(Ph,{user:o,apiUrl:Ge}),g==="purchase"&&s.jsx(ep,{user:o,apiUrl:Ge}),g==="report"&&s.jsx(tp,{user:o,apiUrl:Ge}),g==="purchaseHistory"&&s.jsx(lp,{user:o,apiUrl:Ge}),g==="adjustHistory"&&s.jsx(ap,{user:o,apiUrl:Ge}),g==="valuation"&&s.jsx(sp,{user:o,apiUrl:Ge}),g==="stocktake"&&s.jsx(np,{user:o,apiUrl:Ge}),g==="stocktakeHistory"&&s.jsx(cp,{user:o,apiUrl:Ge}),g==="receivable"&&s.jsx(ip,{user:o,apiUrl:Ge}),g==="payable"&&s.jsx(up,{user:o,apiUrl:Ge}),g==="salesRanking"&&s.jsx(rp,{user:o,apiUrl:Ge}),g==="customerRanking"&&s.jsx(op,{user:o,apiUrl:Ge}),g==="profitAnalysis"&&s.jsx(dp,{user:o,apiUrl:Ge}),g==="turnoverRate"&&s.jsx(fp,{user:o,apiUrl:Ge}),g==="costCalculation"&&s.jsx(xp,{user:o,apiUrl:Ge}),g==="expenditureManagement"&&s.jsx(hp,{user:o,apiUrl:Ge}),g==="incomeStatement"&&s.jsx(mp,{user:o,apiUrl:Ge}),g==="permissionControl"&&s.jsx(pp,{user:o,apiUrl:Ge}),g==="payroll"&&s.jsx(yp,{user:o,apiUrl:Ge})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[s.jsx(xa,{size:64,className:"mb-4 text-slate-200"}),s.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),s.jsx("p",{className:"mt-2",children:""}),s.jsx("button",{onClick:()=>d("sales"),className:"mt-6 px-4 py-2 bg-white hover:bg-slate-50 text-blue-600 rounded-lg transition-colors border border-slate-200 shadow-sm",children:""})]})})]}):s.jsx(Fh,{onLogin:T,apiUrl:Ge})}Km.createRoot(document.getElementById("root")).render(s.jsx(p.StrictMode,{children:s.jsx(bp,{})}));
