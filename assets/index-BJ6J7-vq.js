(function(){const H=document.createElement("link").relList;if(H&&H.supports&&H.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))f(v);new MutationObserver(v=>{for(const G of v)if(G.type==="childList")for(const Y of G.addedNodes)Y.tagName==="LINK"&&Y.rel==="modulepreload"&&f(Y)}).observe(document,{childList:!0,subtree:!0});function S(v){const G={};return v.integrity&&(G.integrity=v.integrity),v.referrerPolicy&&(G.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?G.credentials="include":v.crossOrigin==="anonymous"?G.credentials="omit":G.credentials="same-origin",G}function f(v){if(v.ep)return;v.ep=!0;const G=S(v);fetch(v.href,G)}})();function qm(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Qr={exports:{}},Is={};var nx;function Bm(){if(nx)return Is;nx=1;var u=Symbol.for("react.transitional.element"),H=Symbol.for("react.fragment");function S(f,v,G){var Y=null;if(G!==void 0&&(Y=""+G),v.key!==void 0&&(Y=""+v.key),"key"in v){G={};for(var le in v)le!=="key"&&(G[le]=v[le])}else G=v;return v=G.ref,{$$typeof:u,type:f,key:Y,ref:v!==void 0?v:null,props:G}}return Is.Fragment=H,Is.jsx=S,Is.jsxs=S,Is}var cx;function $m(){return cx||(cx=1,Qr.exports=Bm()),Qr.exports}var l=$m(),Gr={exports:{}},be={};var ix;function Ym(){if(ix)return be;ix=1;var u=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),N=Symbol.iterator;function g(o){return o===null||typeof o!="object"?null:(o=N&&o[N]||o["@@iterator"],typeof o=="function"?o:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,D={};function m(o,R,I){this.props=o,this.context=R,this.refs=D,this.updater=I||_}m.prototype.isReactComponent={},m.prototype.setState=function(o,R){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,R,"setState")},m.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function T(){}T.prototype=m.prototype;function p(o,R,I){this.props=o,this.context=R,this.refs=D,this.updater=I||_}var J=p.prototype=new T;J.constructor=p,te(J,m.prototype),J.isPureReactComponent=!0;var A=Array.isArray;function y(){}var B={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function se(o,R,I){var ue=I.ref;return{$$typeof:u,type:o,key:R,ref:ue!==void 0?ue:null,props:I}}function me(o,R){return se(o.type,R,o.props)}function h(o){return typeof o=="object"&&o!==null&&o.$$typeof===u}function w(o){var R={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(I){return R[I]})}var U=/\/+/g;function Q(o,R){return typeof o=="object"&&o!==null&&o.key!=null?w(""+o.key):R.toString(36)}function ne(o){switch(o.status){case"fulfilled":return o.value;case"rejected":throw o.reason;default:switch(typeof o.status=="string"?o.then(y,y):(o.status="pending",o.then(function(R){o.status==="pending"&&(o.status="fulfilled",o.value=R)},function(R){o.status==="pending"&&(o.status="rejected",o.reason=R)})),o.status){case"fulfilled":return o.value;case"rejected":throw o.reason}}throw o}function C(o,R,I,ue,pe){var V=typeof o;(V==="undefined"||V==="boolean")&&(o=null);var ie=!1;if(o===null)ie=!0;else switch(V){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(o.$$typeof){case u:case H:ie=!0;break;case $:return ie=o._init,C(ie(o._payload),R,I,ue,pe)}}if(ie)return pe=pe(o),ie=ue===""?"."+Q(o,0):ue,A(pe)?(I="",ie!=null&&(I=ie.replace(U,"$&/")+"/"),C(pe,R,I,"",function(re){return re})):pe!=null&&(h(pe)&&(pe=me(pe,I+(pe.key==null||o&&o.key===pe.key?"":(""+pe.key).replace(U,"$&/")+"/")+ie)),R.push(pe)),1;ie=0;var ve=ue===""?".":ue+":";if(A(o))for(var Se=0;Se<o.length;Se++)ue=o[Se],V=ve+Q(ue,Se),ie+=C(ue,R,I,V,pe);else if(Se=g(o),typeof Se=="function")for(o=Se.call(o),Se=0;!(ue=o.next()).done;)ue=ue.value,V=ve+Q(ue,Se++),ie+=C(ue,R,I,V,pe);else if(V==="object"){if(typeof o.then=="function")return C(ne(o),R,I,ue,pe);throw R=String(o),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return ie}function K(o,R,I){if(o==null)return o;var ue=[],pe=0;return C(o,ue,"","",function(V){return R.call(I,V,pe++)}),ue}function ee(o){if(o._status===-1){var R=o._result;R=R(),R.then(function(I){(o._status===0||o._status===-1)&&(o._status=1,o._result=I)},function(I){(o._status===0||o._status===-1)&&(o._status=2,o._result=I)}),o._status===-1&&(o._status=0,o._result=R)}if(o._status===1)return o._result.default;throw o._result}var ae=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},ce={map:K,forEach:function(o,R,I){K(o,function(){R.apply(this,arguments)},I)},count:function(o){var R=0;return K(o,function(){R++}),R},toArray:function(o){return K(o,function(R){return R})||[]},only:function(o){if(!h(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};return be.Activity=P,be.Children=ce,be.Component=m,be.Fragment=S,be.Profiler=v,be.PureComponent=p,be.StrictMode=f,be.Suspense=d,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,be.__COMPILER_RUNTIME={__proto__:null,c:function(o){return B.H.useMemoCache(o)}},be.cache=function(o){return function(){return o.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(o,R,I){if(o==null)throw Error("The argument must be a React element, but you passed "+o+".");var ue=te({},o.props),pe=o.key;if(R!=null)for(V in R.key!==void 0&&(pe=""+R.key),R)!Z.call(R,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&R.ref===void 0||(ue[V]=R[V]);var V=arguments.length-2;if(V===1)ue.children=I;else if(1<V){for(var ie=Array(V),ve=0;ve<V;ve++)ie[ve]=arguments[ve+2];ue.children=ie}return se(o.type,pe,ue)},be.createContext=function(o){return o={$$typeof:Y,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null},o.Provider=o,o.Consumer={$$typeof:G,_context:o},o},be.createElement=function(o,R,I){var ue,pe={},V=null;if(R!=null)for(ue in R.key!==void 0&&(V=""+R.key),R)Z.call(R,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(pe[ue]=R[ue]);var ie=arguments.length-2;if(ie===1)pe.children=I;else if(1<ie){for(var ve=Array(ie),Se=0;Se<ie;Se++)ve[Se]=arguments[Se+2];pe.children=ve}if(o&&o.defaultProps)for(ue in ie=o.defaultProps,ie)pe[ue]===void 0&&(pe[ue]=ie[ue]);return se(o,V,pe)},be.createRef=function(){return{current:null}},be.forwardRef=function(o){return{$$typeof:le,render:o}},be.isValidElement=h,be.lazy=function(o){return{$$typeof:$,_payload:{_status:-1,_result:o},_init:ee}},be.memo=function(o,R){return{$$typeof:b,type:o,compare:R===void 0?null:R}},be.startTransition=function(o){var R=B.T,I={};B.T=I;try{var ue=o(),pe=B.S;pe!==null&&pe(I,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(y,ae)}catch(V){ae(V)}finally{R!==null&&I.types!==null&&(R.types=I.types),B.T=R}},be.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},be.use=function(o){return B.H.use(o)},be.useActionState=function(o,R,I){return B.H.useActionState(o,R,I)},be.useCallback=function(o,R){return B.H.useCallback(o,R)},be.useContext=function(o){return B.H.useContext(o)},be.useDebugValue=function(){},be.useDeferredValue=function(o,R){return B.H.useDeferredValue(o,R)},be.useEffect=function(o,R){return B.H.useEffect(o,R)},be.useEffectEvent=function(o){return B.H.useEffectEvent(o)},be.useId=function(){return B.H.useId()},be.useImperativeHandle=function(o,R,I){return B.H.useImperativeHandle(o,R,I)},be.useInsertionEffect=function(o,R){return B.H.useInsertionEffect(o,R)},be.useLayoutEffect=function(o,R){return B.H.useLayoutEffect(o,R)},be.useMemo=function(o,R){return B.H.useMemo(o,R)},be.useOptimistic=function(o,R){return B.H.useOptimistic(o,R)},be.useReducer=function(o,R,I){return B.H.useReducer(o,R,I)},be.useRef=function(o){return B.H.useRef(o)},be.useState=function(o){return B.H.useState(o)},be.useSyncExternalStore=function(o,R,I){return B.H.useSyncExternalStore(o,R,I)},be.useTransition=function(){return B.H.useTransition()},be.version="19.2.3",be}var rx;function au(){return rx||(rx=1,Gr.exports=Ym()),Gr.exports}var z=au();const Sl=qm(z);var Kr={exports:{}},Ps={},Vr={exports:{}},Xr={};var ux;function Qm(){return ux||(ux=1,(function(u){function H(C,K){var ee=C.length;C.push(K);e:for(;0<ee;){var ae=ee-1>>>1,ce=C[ae];if(0<v(ce,K))C[ae]=K,C[ee]=ce,ee=ae;else break e}}function S(C){return C.length===0?null:C[0]}function f(C){if(C.length===0)return null;var K=C[0],ee=C.pop();if(ee!==K){C[0]=ee;e:for(var ae=0,ce=C.length,o=ce>>>1;ae<o;){var R=2*(ae+1)-1,I=C[R],ue=R+1,pe=C[ue];if(0>v(I,ee))ue<ce&&0>v(pe,I)?(C[ae]=pe,C[ue]=ee,ae=ue):(C[ae]=I,C[R]=ee,ae=R);else if(ue<ce&&0>v(pe,ee))C[ae]=pe,C[ue]=ee,ae=ue;else break e}}return K}function v(C,K){var ee=C.sortIndex-K.sortIndex;return ee!==0?ee:C.id-K.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var G=performance;u.unstable_now=function(){return G.now()}}else{var Y=Date,le=Y.now();u.unstable_now=function(){return Y.now()-le}}var d=[],b=[],$=1,P=null,N=3,g=!1,_=!1,te=!1,D=!1,m=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;function J(C){for(var K=S(b);K!==null;){if(K.callback===null)f(b);else if(K.startTime<=C)f(b),K.sortIndex=K.expirationTime,H(d,K);else break;K=S(b)}}function A(C){if(te=!1,J(C),!_)if(S(d)!==null)_=!0,y||(y=!0,w());else{var K=S(b);K!==null&&ne(A,K.startTime-C)}}var y=!1,B=-1,Z=5,se=-1;function me(){return D?!0:!(u.unstable_now()-se<Z)}function h(){if(D=!1,y){var C=u.unstable_now();se=C;var K=!0;try{e:{_=!1,te&&(te=!1,T(B),B=-1),g=!0;var ee=N;try{t:{for(J(C),P=S(d);P!==null&&!(P.expirationTime>C&&me());){var ae=P.callback;if(typeof ae=="function"){P.callback=null,N=P.priorityLevel;var ce=ae(P.expirationTime<=C);if(C=u.unstable_now(),typeof ce=="function"){P.callback=ce,J(C),K=!0;break t}P===S(d)&&f(d),J(C)}else f(d);P=S(d)}if(P!==null)K=!0;else{var o=S(b);o!==null&&ne(A,o.startTime-C),K=!1}}break e}finally{P=null,N=ee,g=!1}K=void 0}}finally{K?w():y=!1}}}var w;if(typeof p=="function")w=function(){p(h)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Q=U.port2;U.port1.onmessage=h,w=function(){Q.postMessage(null)}}else w=function(){m(h,0)};function ne(C,K){B=m(function(){C(u.unstable_now())},K)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(C){C.callback=null},u.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<C?Math.floor(1e3/C):5},u.unstable_getCurrentPriorityLevel=function(){return N},u.unstable_next=function(C){switch(N){case 1:case 2:case 3:var K=3;break;default:K=N}var ee=N;N=K;try{return C()}finally{N=ee}},u.unstable_requestPaint=function(){D=!0},u.unstable_runWithPriority=function(C,K){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var ee=N;N=C;try{return K()}finally{N=ee}},u.unstable_scheduleCallback=function(C,K,ee){var ae=u.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ae+ee:ae):ee=ae,C){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=ee+ce,C={id:$++,callback:K,priorityLevel:C,startTime:ee,expirationTime:ce,sortIndex:-1},ee>ae?(C.sortIndex=ee,H(b,C),S(d)===null&&C===S(b)&&(te?(T(B),B=-1):te=!0,ne(A,ee-ae))):(C.sortIndex=ce,H(d,C),_||g||(_=!0,y||(y=!0,w()))),C},u.unstable_shouldYield=me,u.unstable_wrapCallback=function(C){var K=N;return function(){var ee=N;N=K;try{return C.apply(this,arguments)}finally{N=ee}}}})(Xr)),Xr}var ox;function Gm(){return ox||(ox=1,Vr.exports=Qm()),Vr.exports}var Zr={exports:{}},gt={};var dx;function Km(){if(dx)return gt;dx=1;var u=au();function H(d){var b="https://react.dev/errors/"+d;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var $=2;$<arguments.length;$++)b+="&args[]="+encodeURIComponent(arguments[$])}return"Minified React error #"+d+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function S(){}var f={d:{f:S,r:function(){throw Error(H(522))},D:S,C:S,L:S,m:S,X:S,S,M:S},p:0,findDOMNode:null},v=Symbol.for("react.portal");function G(d,b,$){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:P==null?null:""+P,children:d,containerInfo:b,implementation:$}}var Y=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function le(d,b){if(d==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=f,gt.createPortal=function(d,b){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(H(299));return G(d,b,null,$)},gt.flushSync=function(d){var b=Y.T,$=f.p;try{if(Y.T=null,f.p=2,d)return d()}finally{Y.T=b,f.p=$,f.d.f()}},gt.preconnect=function(d,b){typeof d=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,f.d.C(d,b))},gt.prefetchDNS=function(d){typeof d=="string"&&f.d.D(d)},gt.preinit=function(d,b){if(typeof d=="string"&&b&&typeof b.as=="string"){var $=b.as,P=le($,b.crossOrigin),N=typeof b.integrity=="string"?b.integrity:void 0,g=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;$==="style"?f.d.S(d,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:P,integrity:N,fetchPriority:g}):$==="script"&&f.d.X(d,{crossOrigin:P,integrity:N,fetchPriority:g,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},gt.preinitModule=function(d,b){if(typeof d=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var $=le(b.as,b.crossOrigin);f.d.M(d,{crossOrigin:$,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&f.d.M(d)},gt.preload=function(d,b){if(typeof d=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var $=b.as,P=le($,b.crossOrigin);f.d.L(d,$,{crossOrigin:P,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},gt.preloadModule=function(d,b){if(typeof d=="string")if(b){var $=le(b.as,b.crossOrigin);f.d.m(d,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:$,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else f.d.m(d)},gt.requestFormReset=function(d){f.d.r(d)},gt.unstable_batchedUpdates=function(d,b){return d(b)},gt.useFormState=function(d,b,$){return Y.H.useFormState(d,b,$)},gt.useFormStatus=function(){return Y.H.useHostTransitionStatus()},gt.version="19.2.3",gt}var fx;function Vm(){if(fx)return Zr.exports;fx=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(H){console.error(H)}}return u(),Zr.exports=Km(),Zr.exports}var xx;function Xm(){if(xx)return Ps;xx=1;var u=Gm(),H=au(),S=Vm();function f(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function G(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function le(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(G(e)!==e)throw Error(f(188))}function b(e){var t=e.alternate;if(!t){if(t=G(e),t===null)throw Error(f(188));return t!==e?null:e}for(var a=e,s=t;;){var n=a.return;if(n===null)break;var c=n.alternate;if(c===null){if(s=n.return,s!==null){a=s;continue}break}if(n.child===c.child){for(c=n.child;c;){if(c===a)return d(n),e;if(c===s)return d(n),t;c=c.sibling}throw Error(f(188))}if(a.return!==s.return)a=n,s=c;else{for(var i=!1,r=n.child;r;){if(r===a){i=!0,a=n,s=c;break}if(r===s){i=!0,s=n,a=c;break}r=r.sibling}if(!i){for(r=c.child;r;){if(r===a){i=!0,a=c,s=n;break}if(r===s){i=!0,s=c,a=n;break}r=r.sibling}if(!i)throw Error(f(189))}}if(a.alternate!==s)throw Error(f(190))}if(a.tag!==3)throw Error(f(188));return a.stateNode.current===a?e:t}function $(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=$(e),t!==null)return t;e=e.sibling}return null}var P=Object.assign,N=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),p=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),me=Symbol.for("react.memo_cache_sentinel"),h=Symbol.iterator;function w(e){return e===null||typeof e!="object"?null:(e=h&&e[h]||e["@@iterator"],typeof e=="function"?e:null)}var U=Symbol.for("react.client.reference");function Q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===U?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case m:return"Profiler";case D:return"StrictMode";case A:return"Suspense";case y:return"SuspenseList";case se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case p:return e.displayName||"Context";case T:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:Q(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return Q(e(t))}catch{}}return null}var ne=Array.isArray,C=H.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=S.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ae=[],ce=-1;function o(e){return{current:e}}function R(e){0>ce||(e.current=ae[ce],ae[ce]=null,ce--)}function I(e,t){ce++,ae[ce]=e.current,e.current=t}var ue=o(null),pe=o(null),V=o(null),ie=o(null);function ve(e,t){switch(I(V,t),I(pe,e),I(ue,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Cf(t),e=Ef(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(ue),I(ue,e)}function Se(){R(ue),R(pe),R(V)}function re(e){e.memoizedState!==null&&I(ie,e);var t=ue.current,a=Ef(t,e.type);t!==a&&(I(pe,e),I(ue,a))}function Ie(e){pe.current===e&&(R(ue),R(pe)),ie.current===e&&(R(ie),Zs._currentValue=ee)}var Pe,Re;function rt(e){if(Pe===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Pe=t&&t[1]||"",Re=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+e+Re}var al=!1;function k(e,t){if(!e||al)return"";al=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var L=q}Reflect.construct(e,[],F)}else{try{F.call()}catch(q){L=q}e.call(F.prototype)}}else{try{throw Error()}catch(q){L=q}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&L&&typeof q.stack=="string")return[q.stack,L.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),i=c[0],r=c[1];if(i&&r){var x=i.split(`
`),O=r.split(`
`);for(n=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;n<O.length&&!O[n].includes("DetermineComponentFrameRoot");)n++;if(s===x.length||n===O.length)for(s=x.length-1,n=O.length-1;1<=s&&0<=n&&x[s]!==O[n];)n--;for(;1<=s&&0<=n;s--,n--)if(x[s]!==O[n]){if(s!==1||n!==1)do if(s--,n--,0>n||x[s]!==O[n]){var X=`
`+x[s].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=s&&0<=n);break}}}finally{al=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?rt(a):""}function fe(e,t){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return e.child!==t&&t!==null?rt("Suspense Fallback"):rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return k(e.type,!1);case 11:return k(e.type.render,!1);case 1:return k(e.type,!0);case 31:return rt("Activity");default:return""}}function De(e){try{var t="",a=null;do t+=fe(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ce=Object.prototype.hasOwnProperty,Je=u.unstable_scheduleCallback,qe=u.unstable_cancelCallback,_e=u.unstable_shouldYield,jt=u.unstable_requestPaint,at=u.unstable_now,Tc=u.unstable_getCurrentPriorityLevel,su=u.unstable_ImmediatePriority,nu=u.unstable_UserBlockingPriority,an=u.unstable_NormalPriority,vx=u.unstable_LowPriority,cu=u.unstable_IdlePriority,jx=u.log,Nx=u.unstable_setDisableYieldValue,cs=null,kt=null;function wl(e){if(typeof jx=="function"&&Nx(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(cs,e)}catch{}}var _t=Math.clz32?Math.clz32:Dx,Sx=Math.log,wx=Math.LN2;function Dx(e){return e>>>=0,e===0?32:31-(Sx(e)/wx|0)|0}var sn=256,nn=262144,cn=4194304;function Il(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function rn(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var n=0,c=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var r=s&134217727;return r!==0?(s=r&~c,s!==0?n=Il(s):(i&=r,i!==0?n=Il(i):a||(a=r&~e,a!==0&&(n=Il(a))))):(r=s&~c,r!==0?n=Il(r):i!==0?n=Il(i):a||(a=s&~e,a!==0&&(n=Il(a)))),n===0?0:t!==0&&t!==n&&(t&c)===0&&(c=n&-n,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:n}function is(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ax(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=cn;return cn<<=1,(cn&62914560)===0&&(cn=4194304),e}function kc(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function rs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zx(e,t,a,s,n,c){var i=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var r=e.entanglements,x=e.expirationTimes,O=e.hiddenUpdates;for(a=i&~a;0<a;){var X=31-_t(a),F=1<<X;r[X]=0,x[X]=-1;var L=O[X];if(L!==null)for(O[X]=null,X=0;X<L.length;X++){var q=L[X];q!==null&&(q.lane&=-536870913)}a&=~F}s!==0&&ru(e,s,0),c!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=c&~(i&~t))}function ru(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-_t(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function uu(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-_t(a),n=1<<s;n&t|e[s]&t&&(e[s]|=t),a&=~n}}function ou(e,t){var a=t&-t;return a=(a&42)!==0?1:_c(a),(a&(e.suspendedLanes|t))!==0?0:a}function _c(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function du(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:If(e.type))}function fu(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var Dl=Math.random().toString(36).slice(2),xt="__reactFiber$"+Dl,St="__reactProps$"+Dl,va="__reactContainer$"+Dl,Oc="__reactEvents$"+Dl,Cx="__reactListeners$"+Dl,Ex="__reactHandles$"+Dl,xu="__reactResources$"+Dl,us="__reactMarker$"+Dl;function Lc(e){delete e[xt],delete e[St],delete e[Oc],delete e[Cx],delete e[Ex]}function ja(e){var t=e[xt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[va]||a[xt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Rf(e);e!==null;){if(a=e[xt])return a;e=Rf(e)}return t}e=a,a=e.parentNode}return null}function Na(e){if(e=e[xt]||e[va]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function os(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(f(33))}function Sa(e){var t=e[xu];return t||(t=e[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function dt(e){e[us]=!0}var mu=new Set,hu={};function Pl(e,t){wa(e,t),wa(e+"Capture",t)}function wa(e,t){for(hu[e]=t,e=0;e<t.length;e++)mu.add(t[e])}var Tx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pu={},bu={};function kx(e){return Ce.call(bu,e)?!0:Ce.call(pu,e)?!1:Tx.test(e)?bu[e]=!0:(pu[e]=!0,!1)}function un(e,t,a){if(kx(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function on(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function sl(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _x(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){a=""+i,c.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rc(e){if(!e._valueTracker){var t=yu(e)?"checked":"value";e._valueTracker=_x(e,t,""+e[t])}}function gu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=yu(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function dn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Mx=/[\n"\\]/g;function $t(e){return e.replace(Mx,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Uc(e,t,a,s,n,c,i,r){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bt(t)):e.value!==""+Bt(t)&&(e.value=""+Bt(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?Hc(e,i,Bt(t)):a!=null?Hc(e,i,Bt(a)):s!=null&&e.removeAttribute("value"),n==null&&c!=null&&(e.defaultChecked=!!c),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+Bt(r):e.removeAttribute("name")}function vu(e,t,a,s,n,c,i,r){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Rc(e);return}a=a!=null?""+Bt(a):"",t=t!=null?""+Bt(t):a,r||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=r?e.checked:!!s,e.defaultChecked=!!s,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),Rc(e)}function Hc(e,t,a){t==="number"&&dn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Da(e,t,a,s){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Bt(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function ju(e,t,a){if(t!=null&&(t=""+Bt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Bt(a):""}function Nu(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(f(92));if(ne(s)){if(1<s.length)throw Error(f(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Bt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Rc(e)}function Aa(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Ox=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||Ox.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function wu(e,t,a){if(t!=null&&typeof t!="object")throw Error(f(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&a[n]!==s&&Su(e,n,s)}else for(var c in t)t.hasOwnProperty(c)&&Su(e,c,t[c])}function qc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fn(e){return Rx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nl(){}var Bc=null;function $c(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var za=null,Ca=null;function Du(e){var t=Na(e);if(t&&(e=t.stateNode)){var a=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(Uc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var n=s[St]||null;if(!n)throw Error(f(90));Uc(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&gu(s)}break e;case"textarea":ju(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Da(e,!!a.multiple,t,!1)}}}var Yc=!1;function Au(e,t,a){if(Yc)return e(t,a);Yc=!0;try{var s=e(t);return s}finally{if(Yc=!1,(za!==null||Ca!==null)&&(Pn(),za&&(t=za,e=Ca,Ca=za=null,Du(t),e)))for(t=0;t<e.length;t++)Du(e[t])}}function ds(e,t){var a=e.stateNode;if(a===null)return null;var s=a[St]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(f(231,t,typeof a));return a}var cl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qc=!1;if(cl)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Qc=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{Qc=!1}var Al=null,Gc=null,xn=null;function zu(){if(xn)return xn;var e,t=Gc,a=t.length,s,n="value"in Al?Al.value:Al.textContent,c=n.length;for(e=0;e<a&&t[e]===n[e];e++);var i=a-e;for(s=1;s<=i&&t[a-s]===n[c-s];s++);return xn=n.slice(e,1<s?1-s:void 0)}function mn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function hn(){return!0}function Cu(){return!1}function wt(e){function t(a,s,n,c,i){this._reactName=a,this._targetInst=n,this.type=s,this.nativeEvent=c,this.target=i,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(a=e[r],this[r]=a?a(c):c[r]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?hn:Cu,this.isPropagationStopped=Cu,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),t}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=wt(ea),xs=P({},ea,{view:0,detail:0}),Ux=wt(xs),Kc,Vc,ms,bn=P({},xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ms&&(ms&&e.type==="mousemove"?(Kc=e.screenX-ms.screenX,Vc=e.screenY-ms.screenY):Vc=Kc=0,ms=e),Kc)},movementY:function(e){return"movementY"in e?e.movementY:Vc}}),Eu=wt(bn),Hx=P({},bn,{dataTransfer:0}),qx=wt(Hx),Bx=P({},xs,{relatedTarget:0}),Xc=wt(Bx),$x=P({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),Yx=wt($x),Qx=P({},ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gx=wt(Qx),Kx=P({},ea,{data:0}),Tu=wt(Kx),Vx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zx[e])?!!t[e]:!1}function Zc(){return Jx}var Wx=P({},xs,{key:function(e){if(e.key){var t=Vx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zc,charCode:function(e){return e.type==="keypress"?mn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fx=wt(Wx),Ix=P({},bn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ku=wt(Ix),Px=P({},xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zc}),e0=wt(Px),t0=P({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),l0=wt(t0),a0=P({},bn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),s0=wt(a0),n0=P({},ea,{newState:0,oldState:0}),c0=wt(n0),i0=[9,13,27,32],Jc=cl&&"CompositionEvent"in window,hs=null;cl&&"documentMode"in document&&(hs=document.documentMode);var r0=cl&&"TextEvent"in window&&!hs,_u=cl&&(!Jc||hs&&8<hs&&11>=hs),Mu=" ",Ou=!1;function Lu(e,t){switch(e){case"keyup":return i0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ru(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ea=!1;function u0(e,t){switch(e){case"compositionend":return Ru(t);case"keypress":return t.which!==32?null:(Ou=!0,Mu);case"textInput":return e=t.data,e===Mu&&Ou?null:e;default:return null}}function o0(e,t){if(Ea)return e==="compositionend"||!Jc&&Lu(e,t)?(e=zu(),xn=Gc=Al=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _u&&t.locale!=="ko"?null:t.data;default:return null}}var d0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!d0[e.type]:t==="textarea"}function Hu(e,t,a,s){za?Ca?Ca.push(s):Ca=[s]:za=s,t=cc(t,"onChange"),0<t.length&&(a=new pn("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var ps=null,bs=null;function f0(e){Nf(e,0)}function yn(e){var t=os(e);if(gu(t))return e}function qu(e,t){if(e==="change")return t}var Bu=!1;if(cl){var Wc;if(cl){var Fc="oninput"in document;if(!Fc){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Fc=typeof $u.oninput=="function"}Wc=Fc}else Wc=!1;Bu=Wc&&(!document.documentMode||9<document.documentMode)}function Yu(){ps&&(ps.detachEvent("onpropertychange",Qu),bs=ps=null)}function Qu(e){if(e.propertyName==="value"&&yn(bs)){var t=[];Hu(t,bs,e,$c(e)),Au(f0,t)}}function x0(e,t,a){e==="focusin"?(Yu(),ps=t,bs=a,ps.attachEvent("onpropertychange",Qu)):e==="focusout"&&Yu()}function m0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yn(bs)}function h0(e,t){if(e==="click")return yn(t)}function p0(e,t){if(e==="input"||e==="change")return yn(t)}function b0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:b0;function ys(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var n=a[s];if(!Ce.call(t,n)||!Mt(e[n],t[n]))return!1}return!0}function Gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ku(e,t){var a=Gu(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gu(a)}}function Vu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=dn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=dn(e.document)}return t}function Ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var y0=cl&&"documentMode"in document&&11>=document.documentMode,Ta=null,Pc=null,gs=null,ei=!1;function Zu(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ei||Ta==null||Ta!==dn(s)||(s=Ta,"selectionStart"in s&&Ic(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),gs&&ys(gs,s)||(gs=s,s=cc(Pc,"onSelect"),0<s.length&&(t=new pn("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Ta)))}function ta(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ka={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},ti={},Ju={};cl&&(Ju=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function la(e){if(ti[e])return ti[e];if(!ka[e])return e;var t=ka[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Ju)return ti[e]=t[a];return e}var Wu=la("animationend"),Fu=la("animationiteration"),Iu=la("animationstart"),g0=la("transitionrun"),v0=la("transitionstart"),j0=la("transitioncancel"),Pu=la("transitionend"),eo=new Map,li="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");li.push("scrollEnd");function Wt(e,t){eo.set(e,t),Pl(t,[e])}var gn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],_a=0,ai=0;function vn(){for(var e=_a,t=ai=_a=0;t<e;){var a=Yt[t];Yt[t++]=null;var s=Yt[t];Yt[t++]=null;var n=Yt[t];Yt[t++]=null;var c=Yt[t];if(Yt[t++]=null,s!==null&&n!==null){var i=s.pending;i===null?n.next=n:(n.next=i.next,i.next=n),s.pending=n}c!==0&&to(a,n,c)}}function jn(e,t,a,s){Yt[_a++]=e,Yt[_a++]=t,Yt[_a++]=a,Yt[_a++]=s,ai|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function si(e,t,a,s){return jn(e,t,a,s),Nn(e)}function aa(e,t){return jn(e,null,null,t),Nn(e)}function to(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var n=!1,c=e.return;c!==null;)c.childLanes|=a,s=c.alternate,s!==null&&(s.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(n=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,n&&t!==null&&(n=31-_t(a),e=c.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=a|536870912),c):null}function Nn(e){if(50<$s)throw $s=0,xr=null,Error(f(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ma={};function N0(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,a,s){return new N0(e,t,a,s)}function ni(e){return e=e.prototype,!(!e||!e.isReactComponent)}function il(e,t){var a=e.alternate;return a===null?(a=Ot(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function lo(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sn(e,t,a,s,n,c){var i=0;if(s=e,typeof e=="function")ni(e)&&(i=1);else if(typeof e=="string")i=zm(e,a,ue.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case se:return e=Ot(31,a,t,n),e.elementType=se,e.lanes=c,e;case te:return sa(a.children,n,c,t);case D:i=8,n|=24;break;case m:return e=Ot(12,a,t,n|2),e.elementType=m,e.lanes=c,e;case A:return e=Ot(13,a,t,n),e.elementType=A,e.lanes=c,e;case y:return e=Ot(19,a,t,n),e.elementType=y,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case p:i=10;break e;case T:i=9;break e;case J:i=11;break e;case B:i=14;break e;case Z:i=16,s=null;break e}i=29,a=Error(f(130,e===null?"null":typeof e,"")),s=null}return t=Ot(i,a,t,n),t.elementType=e,t.type=s,t.lanes=c,t}function sa(e,t,a,s){return e=Ot(7,e,s,t),e.lanes=a,e}function ci(e,t,a){return e=Ot(6,e,null,t),e.lanes=a,e}function ao(e){var t=Ot(18,null,null,0);return t.stateNode=e,t}function ii(e,t,a){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var so=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var a=so.get(e);return a!==void 0?a:(t={value:e,source:t,stack:De(t)},so.set(e,t),t)}return{value:e,source:t,stack:De(t)}}var Oa=[],La=0,wn=null,vs=0,Gt=[],Kt=0,zl=null,Pt=1,el="";function rl(e,t){Oa[La++]=vs,Oa[La++]=wn,wn=e,vs=t}function no(e,t,a){Gt[Kt++]=Pt,Gt[Kt++]=el,Gt[Kt++]=zl,zl=e;var s=Pt;e=el;var n=32-_t(s)-1;s&=~(1<<n),a+=1;var c=32-_t(t)+n;if(30<c){var i=n-n%5;c=(s&(1<<i)-1).toString(32),s>>=i,n-=i,Pt=1<<32-_t(t)+n|a<<n|s,el=c+e}else Pt=1<<c|a<<n|s,el=e}function ri(e){e.return!==null&&(rl(e,1),no(e,1,0))}function ui(e){for(;e===wn;)wn=Oa[--La],Oa[La]=null,vs=Oa[--La],Oa[La]=null;for(;e===zl;)zl=Gt[--Kt],Gt[Kt]=null,el=Gt[--Kt],Gt[Kt]=null,Pt=Gt[--Kt],Gt[Kt]=null}function co(e,t){Gt[Kt++]=Pt,Gt[Kt++]=el,Gt[Kt++]=zl,Pt=t.id,el=t.overflow,zl=e}var mt=null,Ke=null,ke=!1,Cl=null,Vt=!1,oi=Error(f(519));function El(e){var t=Error(f(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw js(Qt(t,e)),oi}function io(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[xt]=e,t[St]=s,a){case"dialog":ze("cancel",t),ze("close",t);break;case"iframe":case"object":case"embed":ze("load",t);break;case"video":case"audio":for(a=0;a<Qs.length;a++)ze(Qs[a],t);break;case"source":ze("error",t);break;case"img":case"image":case"link":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"input":ze("invalid",t),vu(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ze("invalid",t);break;case"textarea":ze("invalid",t),Nu(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Af(t.textContent,a)?(s.popover!=null&&(ze("beforetoggle",t),ze("toggle",t)),s.onScroll!=null&&ze("scroll",t),s.onScrollEnd!=null&&ze("scrollend",t),s.onClick!=null&&(t.onclick=nl),t=!0):t=!1,t||El(e,!0)}function ro(e){for(mt=e.return;mt;)switch(mt.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:mt=mt.return}}function Ra(e){if(e!==mt)return!1;if(!ke)return ro(e),ke=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Cr(e.type,e.memoizedProps)),a=!a),a&&Ke&&El(e),ro(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));Ke=Lf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(317));Ke=Lf(e)}else t===27?(t=Ke,Ql(e.type)?(e=Mr,Mr=null,Ke=e):Ke=t):Ke=mt?Zt(e.stateNode.nextSibling):null;return!0}function na(){Ke=mt=null,ke=!1}function di(){var e=Cl;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),Cl=null),e}function js(e){Cl===null?Cl=[e]:Cl.push(e)}var fi=o(null),ca=null,ul=null;function Tl(e,t,a){I(fi,t._currentValue),t._currentValue=a}function ol(e){e._currentValue=fi.current,R(fi)}function xi(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function mi(e,t,a,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var c=n.dependencies;if(c!==null){var i=n.child;c=c.firstContext;e:for(;c!==null;){var r=c;c=n;for(var x=0;x<t.length;x++)if(r.context===t[x]){c.lanes|=a,r=c.alternate,r!==null&&(r.lanes|=a),xi(c.return,a,e),s||(i=null);break e}c=r.next}}else if(n.tag===18){if(i=n.return,i===null)throw Error(f(341));i.lanes|=a,c=i.alternate,c!==null&&(c.lanes|=a),xi(i,a,e),i=null}else i=n.child;if(i!==null)i.return=n;else for(i=n;i!==null;){if(i===e){i=null;break}if(n=i.sibling,n!==null){n.return=i.return,i=n;break}i=i.return}n=i}}function Ua(e,t,a,s){e=null;for(var n=t,c=!1;n!==null;){if(!c){if((n.flags&524288)!==0)c=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var i=n.alternate;if(i===null)throw Error(f(387));if(i=i.memoizedProps,i!==null){var r=n.type;Mt(n.pendingProps.value,i.value)||(e!==null?e.push(r):e=[r])}}else if(n===ie.current){if(i=n.alternate,i===null)throw Error(f(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Zs):e=[Zs])}n=n.return}e!==null&&mi(t,e,a,s),t.flags|=262144}function Dn(e){for(e=e.firstContext;e!==null;){if(!Mt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ia(e){ca=e,ul=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return uo(ca,e)}function An(e,t){return ca===null&&ia(e),uo(e,t)}function uo(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ul===null){if(e===null)throw Error(f(308));ul=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ul=ul.next=t;return a}var S0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},w0=u.unstable_scheduleCallback,D0=u.unstable_NormalPriority,st={$$typeof:p,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hi(){return{controller:new S0,data:new Map,refCount:0}}function Ns(e){e.refCount--,e.refCount===0&&w0(D0,function(){e.controller.abort()})}var Ss=null,pi=0,Ha=0,qa=null;function A0(e,t){if(Ss===null){var a=Ss=[];pi=0,Ha=gr(),qa={status:"pending",value:void 0,then:function(s){a.push(s)}}}return pi++,t.then(oo,oo),t}function oo(){if(--pi===0&&Ss!==null){qa!==null&&(qa.status="fulfilled");var e=Ss;Ss=null,Ha=0,qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function z0(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),s}var fo=C.S;C.S=function(e,t){Jd=at(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&A0(e,t),fo!==null&&fo(e,t)};var ra=o(null);function bi(){var e=ra.current;return e!==null?e:Qe.pooledCache}function zn(e,t){t===null?I(ra,ra.current):I(ra,t.pool)}function xo(){var e=bi();return e===null?null:{parent:st._currentValue,pool:e}}var Ba=Error(f(460)),yi=Error(f(474)),Cn=Error(f(542)),En={then:function(){}};function mo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ho(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(nl,nl),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bo(e),e;default:if(typeof t.status=="string")t.then(nl,nl);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(f(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,bo(e),e}throw oa=t,Ba}}function ua(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(oa=a,Ba):a}}var oa=null;function po(){if(oa===null)throw Error(f(459));var e=oa;return oa=null,e}function bo(e){if(e===Ba||e===Cn)throw Error(f(483))}var $a=null,ws=0;function Tn(e){var t=ws;return ws+=1,$a===null&&($a=[]),ho($a,e,t)}function Ds(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function kn(e,t){throw t.$$typeof===N?Error(f(525)):(e=Object.prototype.toString.call(t),Error(f(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yo(e){function t(E,j){if(e){var M=E.deletions;M===null?(E.deletions=[j],E.flags|=16):M.push(j)}}function a(E,j){if(!e)return null;for(;j!==null;)t(E,j),j=j.sibling;return null}function s(E){for(var j=new Map;E!==null;)E.key!==null?j.set(E.key,E):j.set(E.index,E),E=E.sibling;return j}function n(E,j){return E=il(E,j),E.index=0,E.sibling=null,E}function c(E,j,M){return E.index=M,e?(M=E.alternate,M!==null?(M=M.index,M<j?(E.flags|=67108866,j):M):(E.flags|=67108866,j)):(E.flags|=1048576,j)}function i(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function r(E,j,M,W){return j===null||j.tag!==6?(j=ci(M,E.mode,W),j.return=E,j):(j=n(j,M),j.return=E,j)}function x(E,j,M,W){var xe=M.type;return xe===te?X(E,j,M.props.children,W,M.key):j!==null&&(j.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Z&&ua(xe)===j.type)?(j=n(j,M.props),Ds(j,M),j.return=E,j):(j=Sn(M.type,M.key,M.props,null,E.mode,W),Ds(j,M),j.return=E,j)}function O(E,j,M,W){return j===null||j.tag!==4||j.stateNode.containerInfo!==M.containerInfo||j.stateNode.implementation!==M.implementation?(j=ii(M,E.mode,W),j.return=E,j):(j=n(j,M.children||[]),j.return=E,j)}function X(E,j,M,W,xe){return j===null||j.tag!==7?(j=sa(M,E.mode,W,xe),j.return=E,j):(j=n(j,M),j.return=E,j)}function F(E,j,M){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=ci(""+j,E.mode,M),j.return=E,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case g:return M=Sn(j.type,j.key,j.props,null,E.mode,M),Ds(M,j),M.return=E,M;case _:return j=ii(j,E.mode,M),j.return=E,j;case Z:return j=ua(j),F(E,j,M)}if(ne(j)||w(j))return j=sa(j,E.mode,M,null),j.return=E,j;if(typeof j.then=="function")return F(E,Tn(j),M);if(j.$$typeof===p)return F(E,An(E,j),M);kn(E,j)}return null}function L(E,j,M,W){var xe=j!==null?j.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return xe!==null?null:r(E,j,""+M,W);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case g:return M.key===xe?x(E,j,M,W):null;case _:return M.key===xe?O(E,j,M,W):null;case Z:return M=ua(M),L(E,j,M,W)}if(ne(M)||w(M))return xe!==null?null:X(E,j,M,W,null);if(typeof M.then=="function")return L(E,j,Tn(M),W);if(M.$$typeof===p)return L(E,j,An(E,M),W);kn(E,M)}return null}function q(E,j,M,W,xe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return E=E.get(M)||null,r(j,E,""+W,xe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case g:return E=E.get(W.key===null?M:W.key)||null,x(j,E,W,xe);case _:return E=E.get(W.key===null?M:W.key)||null,O(j,E,W,xe);case Z:return W=ua(W),q(E,j,M,W,xe)}if(ne(W)||w(W))return E=E.get(M)||null,X(j,E,W,xe,null);if(typeof W.then=="function")return q(E,j,M,Tn(W),xe);if(W.$$typeof===p)return q(E,j,M,An(j,W),xe);kn(j,W)}return null}function oe(E,j,M,W){for(var xe=null,Me=null,de=j,je=j=0,Te=null;de!==null&&je<M.length;je++){de.index>je?(Te=de,de=null):Te=de.sibling;var Oe=L(E,de,M[je],W);if(Oe===null){de===null&&(de=Te);break}e&&de&&Oe.alternate===null&&t(E,de),j=c(Oe,j,je),Me===null?xe=Oe:Me.sibling=Oe,Me=Oe,de=Te}if(je===M.length)return a(E,de),ke&&rl(E,je),xe;if(de===null){for(;je<M.length;je++)de=F(E,M[je],W),de!==null&&(j=c(de,j,je),Me===null?xe=de:Me.sibling=de,Me=de);return ke&&rl(E,je),xe}for(de=s(de);je<M.length;je++)Te=q(de,E,je,M[je],W),Te!==null&&(e&&Te.alternate!==null&&de.delete(Te.key===null?je:Te.key),j=c(Te,j,je),Me===null?xe=Te:Me.sibling=Te,Me=Te);return e&&de.forEach(function(Zl){return t(E,Zl)}),ke&&rl(E,je),xe}function he(E,j,M,W){if(M==null)throw Error(f(151));for(var xe=null,Me=null,de=j,je=j=0,Te=null,Oe=M.next();de!==null&&!Oe.done;je++,Oe=M.next()){de.index>je?(Te=de,de=null):Te=de.sibling;var Zl=L(E,de,Oe.value,W);if(Zl===null){de===null&&(de=Te);break}e&&de&&Zl.alternate===null&&t(E,de),j=c(Zl,j,je),Me===null?xe=Zl:Me.sibling=Zl,Me=Zl,de=Te}if(Oe.done)return a(E,de),ke&&rl(E,je),xe;if(de===null){for(;!Oe.done;je++,Oe=M.next())Oe=F(E,Oe.value,W),Oe!==null&&(j=c(Oe,j,je),Me===null?xe=Oe:Me.sibling=Oe,Me=Oe);return ke&&rl(E,je),xe}for(de=s(de);!Oe.done;je++,Oe=M.next())Oe=q(de,E,je,Oe.value,W),Oe!==null&&(e&&Oe.alternate!==null&&de.delete(Oe.key===null?je:Oe.key),j=c(Oe,j,je),Me===null?xe=Oe:Me.sibling=Oe,Me=Oe);return e&&de.forEach(function(Hm){return t(E,Hm)}),ke&&rl(E,je),xe}function Ye(E,j,M,W){if(typeof M=="object"&&M!==null&&M.type===te&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case g:e:{for(var xe=M.key;j!==null;){if(j.key===xe){if(xe=M.type,xe===te){if(j.tag===7){a(E,j.sibling),W=n(j,M.props.children),W.return=E,E=W;break e}}else if(j.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===Z&&ua(xe)===j.type){a(E,j.sibling),W=n(j,M.props),Ds(W,M),W.return=E,E=W;break e}a(E,j);break}else t(E,j);j=j.sibling}M.type===te?(W=sa(M.props.children,E.mode,W,M.key),W.return=E,E=W):(W=Sn(M.type,M.key,M.props,null,E.mode,W),Ds(W,M),W.return=E,E=W)}return i(E);case _:e:{for(xe=M.key;j!==null;){if(j.key===xe)if(j.tag===4&&j.stateNode.containerInfo===M.containerInfo&&j.stateNode.implementation===M.implementation){a(E,j.sibling),W=n(j,M.children||[]),W.return=E,E=W;break e}else{a(E,j);break}else t(E,j);j=j.sibling}W=ii(M,E.mode,W),W.return=E,E=W}return i(E);case Z:return M=ua(M),Ye(E,j,M,W)}if(ne(M))return oe(E,j,M,W);if(w(M)){if(xe=w(M),typeof xe!="function")throw Error(f(150));return M=xe.call(M),he(E,j,M,W)}if(typeof M.then=="function")return Ye(E,j,Tn(M),W);if(M.$$typeof===p)return Ye(E,j,An(E,M),W);kn(E,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,j!==null&&j.tag===6?(a(E,j.sibling),W=n(j,M),W.return=E,E=W):(a(E,j),W=ci(M,E.mode,W),W.return=E,E=W),i(E)):a(E,j)}return function(E,j,M,W){try{ws=0;var xe=Ye(E,j,M,W);return $a=null,xe}catch(de){if(de===Ba||de===Cn)throw de;var Me=Ot(29,de,null,E.mode);return Me.lanes=W,Me.return=E,Me}}}var da=yo(!0),go=yo(!1),kl=!1;function gi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _l(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ml(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Le&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=Nn(e),to(e,null,a),t}return jn(e,s,t,a),Nn(e)}function As(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,uu(e,a)}}function ji(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var n=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?n=c=i:c=c.next=i,a=a.next}while(a!==null);c===null?n=c=t:c=c.next=t}else n=c=t;a={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Ni=!1;function zs(){if(Ni){var e=qa;if(e!==null)throw e}}function Cs(e,t,a,s){Ni=!1;var n=e.updateQueue;kl=!1;var c=n.firstBaseUpdate,i=n.lastBaseUpdate,r=n.shared.pending;if(r!==null){n.shared.pending=null;var x=r,O=x.next;x.next=null,i===null?c=O:i.next=O,i=x;var X=e.alternate;X!==null&&(X=X.updateQueue,r=X.lastBaseUpdate,r!==i&&(r===null?X.firstBaseUpdate=O:r.next=O,X.lastBaseUpdate=x))}if(c!==null){var F=n.baseState;i=0,X=O=x=null,r=c;do{var L=r.lane&-536870913,q=L!==r.lane;if(q?(Ee&L)===L:(s&L)===L){L!==0&&L===Ha&&(Ni=!0),X!==null&&(X=X.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var oe=e,he=r;L=t;var Ye=a;switch(he.tag){case 1:if(oe=he.payload,typeof oe=="function"){F=oe.call(Ye,F,L);break e}F=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=he.payload,L=typeof oe=="function"?oe.call(Ye,F,L):oe,L==null)break e;F=P({},F,L);break e;case 2:kl=!0}}L=r.callback,L!==null&&(e.flags|=64,q&&(e.flags|=8192),q=n.callbacks,q===null?n.callbacks=[L]:q.push(L))}else q={lane:L,tag:r.tag,payload:r.payload,callback:r.callback,next:null},X===null?(O=X=q,x=F):X=X.next=q,i|=L;if(r=r.next,r===null){if(r=n.shared.pending,r===null)break;q=r,r=q.next,q.next=null,n.lastBaseUpdate=q,n.shared.pending=null}}while(!0);X===null&&(x=F),n.baseState=x,n.firstBaseUpdate=O,n.lastBaseUpdate=X,c===null&&(n.shared.lanes=0),Hl|=i,e.lanes=i,e.memoizedState=F}}function vo(e,t){if(typeof e!="function")throw Error(f(191,e));e.call(t)}function jo(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vo(a[e],t)}var Ya=o(null),_n=o(0);function No(e,t){e=gl,I(_n,e),I(Ya,t),gl=e|t.baseLanes}function Si(){I(_n,gl),I(Ya,Ya.current)}function wi(){gl=_n.current,R(Ya),R(_n)}var Lt=o(null),Xt=null;function Ol(e){var t=e.alternate;I(et,et.current&1),I(Lt,e),Xt===null&&(t===null||Ya.current!==null||t.memoizedState!==null)&&(Xt=e)}function Di(e){I(et,et.current),I(Lt,e),Xt===null&&(Xt=e)}function So(e){e.tag===22?(I(et,et.current),I(Lt,e),Xt===null&&(Xt=e)):Ll()}function Ll(){I(et,et.current),I(Lt,Lt.current)}function Rt(e){R(Lt),Xt===e&&(Xt=null),R(et)}var et=o(0);function Mn(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||kr(a)||_r(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dl=0,ye=null,Be=null,nt=null,On=!1,Qa=!1,fa=!1,Ln=0,Es=0,Ga=null,C0=0;function We(){throw Error(f(321))}function Ai(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Mt(e[a],t[a]))return!1;return!0}function zi(e,t,a,s,n,c){return dl=c,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?cd:Yi,fa=!1,c=a(s,n),fa=!1,Qa&&(c=Do(t,a,s,n)),wo(e),c}function wo(e){C.H=_s;var t=Be!==null&&Be.next!==null;if(dl=0,nt=Be=ye=null,On=!1,Es=0,Ga=null,t)throw Error(f(300));e===null||ct||(e=e.dependencies,e!==null&&Dn(e)&&(ct=!0))}function Do(e,t,a,s){ye=e;var n=0;do{if(Qa&&(Ga=null),Es=0,Qa=!1,25<=n)throw Error(f(301));if(n+=1,nt=Be=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}C.H=id,c=t(a,s)}while(Qa);return c}function E0(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?Ts(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(ye.flags|=1024),t}function Ci(){var e=Ln!==0;return Ln=0,e}function Ei(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ti(e){if(On){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}On=!1}dl=0,nt=Be=ye=null,Qa=!1,Es=Ln=0,Ga=null}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?ye.memoizedState=nt=e:nt=nt.next=e,nt}function tt(){if(Be===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=nt===null?ye.memoizedState:nt.next;if(t!==null)nt=t,Be=e;else{if(e===null)throw ye.alternate===null?Error(f(467)):Error(f(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},nt===null?ye.memoizedState=nt=e:nt=nt.next=e}return nt}function Rn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ts(e){var t=Es;return Es+=1,Ga===null&&(Ga=[]),e=ho(Ga,e,t),t=ye,(nt===null?t.memoizedState:nt.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?cd:Yi),e}function Un(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ts(e);if(e.$$typeof===p)return ht(e)}throw Error(f(438,String(e)))}function ki(e){var t=null,a=ye.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=ye.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Rn(),ye.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=me;return t.index++,a}function fl(e,t){return typeof t=="function"?t(e):t}function Hn(e){var t=tt();return _i(t,Be,e)}function _i(e,t,a){var s=e.queue;if(s===null)throw Error(f(311));s.lastRenderedReducer=a;var n=e.baseQueue,c=s.pending;if(c!==null){if(n!==null){var i=n.next;n.next=c.next,c.next=i}t.baseQueue=n=c,s.pending=null}if(c=e.baseState,n===null)e.memoizedState=c;else{t=n.next;var r=i=null,x=null,O=t,X=!1;do{var F=O.lane&-536870913;if(F!==O.lane?(Ee&F)===F:(dl&F)===F){var L=O.revertLane;if(L===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),F===Ha&&(X=!0);else if((dl&L)===L){O=O.next,L===Ha&&(X=!0);continue}else F={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(r=x=F,i=c):x=x.next=F,ye.lanes|=L,Hl|=L;F=O.action,fa&&a(c,F),c=O.hasEagerState?O.eagerState:a(c,F)}else L={lane:F,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},x===null?(r=x=L,i=c):x=x.next=L,ye.lanes|=F,Hl|=F;O=O.next}while(O!==null&&O!==t);if(x===null?i=c:x.next=r,!Mt(c,e.memoizedState)&&(ct=!0,X&&(a=qa,a!==null)))throw a;e.memoizedState=c,e.baseState=i,e.baseQueue=x,s.lastRenderedState=c}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Mi(e){var t=tt(),a=t.queue;if(a===null)throw Error(f(311));a.lastRenderedReducer=e;var s=a.dispatch,n=a.pending,c=t.memoizedState;if(n!==null){a.pending=null;var i=n=n.next;do c=e(c,i.action),i=i.next;while(i!==n);Mt(c,t.memoizedState)||(ct=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,s]}function Ao(e,t,a){var s=ye,n=tt(),c=ke;if(c){if(a===void 0)throw Error(f(407));a=a()}else a=t();var i=!Mt((Be||n).memoizedState,a);if(i&&(n.memoizedState=a,ct=!0),n=n.queue,Ri(Eo.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||nt!==null&&nt.memoizedState.tag&1){if(s.flags|=2048,Ka(9,{destroy:void 0},Co.bind(null,s,n,a,t),null),Qe===null)throw Error(f(349));c||(dl&127)!==0||zo(s,t,a)}return a}function zo(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ye.updateQueue,t===null?(t=Rn(),ye.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Co(e,t,a,s){t.value=a,t.getSnapshot=s,To(t)&&ko(e)}function Eo(e,t,a){return a(function(){To(t)&&ko(e)})}function To(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Mt(e,a)}catch{return!0}}function ko(e){var t=aa(e,2);t!==null&&Et(t,e,2)}function Oi(e){var t=Nt();if(typeof e=="function"){var a=e;if(e=a(),fa){wl(!0);try{a()}finally{wl(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:e},t}function _o(e,t,a,s){return e.baseState=a,_i(e,Be,typeof s=="function"?s:fl)}function T0(e,t,a,s,n){if($n(e))throw Error(f(485));if(e=t.action,e!==null){var c={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){c.listeners.push(i)}};C.T!==null?a(!0):c.isTransition=!1,s(c),a=t.pending,a===null?(c.next=t.pending=c,Mo(t,c)):(c.next=a.next,t.pending=a.next=c)}}function Mo(e,t){var a=t.action,s=t.payload,n=e.state;if(t.isTransition){var c=C.T,i={};C.T=i;try{var r=a(n,s),x=C.S;x!==null&&x(i,r),Oo(e,t,r)}catch(O){Li(e,t,O)}finally{c!==null&&i.types!==null&&(c.types=i.types),C.T=c}}else try{c=a(n,s),Oo(e,t,c)}catch(O){Li(e,t,O)}}function Oo(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Lo(e,t,s)},function(s){return Li(e,t,s)}):Lo(e,t,a)}function Lo(e,t,a){t.status="fulfilled",t.value=a,Ro(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Mo(e,a)))}function Li(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Ro(t),t=t.next;while(t!==s)}e.action=null}function Ro(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Uo(e,t){return t}function Ho(e,t){if(ke){var a=Qe.formState;if(a!==null){e:{var s=ye;if(ke){if(Ke){t:{for(var n=Ke,c=Vt;n.nodeType!==8;){if(!c){n=null;break t}if(n=Zt(n.nextSibling),n===null){n=null;break t}}c=n.data,n=c==="F!"||c==="F"?n:null}if(n){Ke=Zt(n.nextSibling),s=n.data==="F!";break e}}El(s)}s=!1}s&&(t=a[0])}}return a=Nt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:t},a.queue=s,a=ad.bind(null,ye,s),s.dispatch=a,s=Oi(!1),c=$i.bind(null,ye,!1,s.queue),s=Nt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,a=T0.bind(null,ye,n,c,a),n.dispatch=a,s.memoizedState=e,[t,a,!1]}function qo(e){var t=tt();return Bo(t,Be,e)}function Bo(e,t,a){if(t=_i(e,t,Uo)[0],e=Hn(fl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ts(t)}catch(i){throw i===Ba?Cn:i}else s=t;t=tt();var n=t.queue,c=n.dispatch;return a!==t.memoizedState&&(ye.flags|=2048,Ka(9,{destroy:void 0},k0.bind(null,n,a),null)),[s,c,e]}function k0(e,t){e.action=t}function $o(e){var t=tt(),a=Be;if(a!==null)return Bo(t,a,e);tt(),t=t.memoizedState,a=tt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Ka(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=ye.updateQueue,t===null&&(t=Rn(),ye.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Yo(){return tt().memoizedState}function qn(e,t,a,s){var n=Nt();ye.flags|=e,n.memoizedState=Ka(1|t,{destroy:void 0},a,s===void 0?null:s)}function Bn(e,t,a,s){var n=tt();s=s===void 0?null:s;var c=n.memoizedState.inst;Be!==null&&s!==null&&Ai(s,Be.memoizedState.deps)?n.memoizedState=Ka(t,c,a,s):(ye.flags|=e,n.memoizedState=Ka(1|t,c,a,s))}function Qo(e,t){qn(8390656,8,e,t)}function Ri(e,t){Bn(2048,8,e,t)}function _0(e){ye.flags|=4;var t=ye.updateQueue;if(t===null)t=Rn(),ye.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Go(e){var t=tt().memoizedState;return _0({ref:t,nextImpl:e}),function(){if((Le&2)!==0)throw Error(f(440));return t.impl.apply(void 0,arguments)}}function Ko(e,t){return Bn(4,2,e,t)}function Vo(e,t){return Bn(4,4,e,t)}function Xo(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zo(e,t,a){a=a!=null?a.concat([e]):null,Bn(4,4,Xo.bind(null,t,e),a)}function Ui(){}function Jo(e,t){var a=tt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Ai(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Wo(e,t){var a=tt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Ai(t,s[1]))return s[0];if(s=e(),fa){wl(!0);try{e()}finally{wl(!1)}}return a.memoizedState=[s,t],s}function Hi(e,t,a){return a===void 0||(dl&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Fd(),ye.lanes|=e,Hl|=e,a)}function Fo(e,t,a,s){return Mt(a,t)?a:Ya.current!==null?(e=Hi(e,a,s),Mt(e,t)||(ct=!0),e):(dl&42)===0||(dl&1073741824)!==0&&(Ee&261930)===0?(ct=!0,e.memoizedState=a):(e=Fd(),ye.lanes|=e,Hl|=e,t)}function Io(e,t,a,s,n){var c=K.p;K.p=c!==0&&8>c?c:8;var i=C.T,r={};C.T=r,$i(e,!1,t,a);try{var x=n(),O=C.S;if(O!==null&&O(r,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var X=z0(x,s);ks(e,t,X,qt(e))}else ks(e,t,s,qt(e))}catch(F){ks(e,t,{then:function(){},status:"rejected",reason:F},qt())}finally{K.p=c,i!==null&&r.types!==null&&(i.types=r.types),C.T=i}}function M0(){}function qi(e,t,a,s){if(e.tag!==5)throw Error(f(476));var n=Po(e).queue;Io(e,n,t,ee,a===null?M0:function(){return ed(e),a(s)})}function Po(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:ee},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ed(e){var t=Po(e);t.next===null&&(t=e.alternate.memoizedState),ks(e,t.next.queue,{},qt())}function Bi(){return ht(Zs)}function td(){return tt().memoizedState}function ld(){return tt().memoizedState}function O0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=qt();e=_l(a);var s=Ml(t,e,a);s!==null&&(Et(s,t,a),As(s,t,a)),t={cache:hi()},e.payload=t;return}t=t.return}}function L0(e,t,a){var s=qt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$n(e)?sd(t,a):(a=si(e,t,a,s),a!==null&&(Et(a,e,s),nd(a,t,s)))}function ad(e,t,a){var s=qt();ks(e,t,a,s)}function ks(e,t,a,s){var n={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($n(e))sd(t,n);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var i=t.lastRenderedState,r=c(i,a);if(n.hasEagerState=!0,n.eagerState=r,Mt(r,i))return jn(e,t,n,0),Qe===null&&vn(),!1}catch{}if(a=si(e,t,n,s),a!==null)return Et(a,e,s),nd(a,t,s),!0}return!1}function $i(e,t,a,s){if(s={lane:2,revertLane:gr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$n(e)){if(t)throw Error(f(479))}else t=si(e,a,s,2),t!==null&&Et(t,e,2)}function $n(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function sd(e,t){Qa=On=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function nd(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,uu(e,a)}}var _s={readContext:ht,use:Un,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};_s.useEffectEvent=We;var cd={readContext:ht,use:Un,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Qo,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,qn(4194308,4,Xo.bind(null,t,e),a)},useLayoutEffect:function(e,t){return qn(4194308,4,e,t)},useInsertionEffect:function(e,t){qn(4,2,e,t)},useMemo:function(e,t){var a=Nt();t=t===void 0?null:t;var s=e();if(fa){wl(!0);try{e()}finally{wl(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Nt();if(a!==void 0){var n=a(t);if(fa){wl(!0);try{a(t)}finally{wl(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=L0.bind(null,ye,e),[s.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:function(e){e=Oi(e);var t=e.queue,a=ad.bind(null,ye,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ui,useDeferredValue:function(e,t){var a=Nt();return Hi(a,e,t)},useTransition:function(){var e=Oi(!1);return e=Io.bind(null,ye,e.queue,!0,!1),Nt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=ye,n=Nt();if(ke){if(a===void 0)throw Error(f(407));a=a()}else{if(a=t(),Qe===null)throw Error(f(349));(Ee&127)!==0||zo(s,t,a)}n.memoizedState=a;var c={value:a,getSnapshot:t};return n.queue=c,Qo(Eo.bind(null,s,c,e),[e]),s.flags|=2048,Ka(9,{destroy:void 0},Co.bind(null,s,c,a,t),null),a},useId:function(){var e=Nt(),t=Qe.identifierPrefix;if(ke){var a=el,s=Pt;a=(s&~(1<<32-_t(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ln++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=C0++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Bi,useFormState:Ho,useActionState:Ho,useOptimistic:function(e){var t=Nt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=$i.bind(null,ye,!0,a),a.dispatch=t,[e,t]},useMemoCache:ki,useCacheRefresh:function(){return Nt().memoizedState=O0.bind(null,ye)},useEffectEvent:function(e){var t=Nt(),a={impl:e};return t.memoizedState=a,function(){if((Le&2)!==0)throw Error(f(440));return a.impl.apply(void 0,arguments)}}},Yi={readContext:ht,use:Un,useCallback:Jo,useContext:ht,useEffect:Ri,useImperativeHandle:Zo,useInsertionEffect:Ko,useLayoutEffect:Vo,useMemo:Wo,useReducer:Hn,useRef:Yo,useState:function(){return Hn(fl)},useDebugValue:Ui,useDeferredValue:function(e,t){var a=tt();return Fo(a,Be.memoizedState,e,t)},useTransition:function(){var e=Hn(fl)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Ts(e),t]},useSyncExternalStore:Ao,useId:td,useHostTransitionStatus:Bi,useFormState:qo,useActionState:qo,useOptimistic:function(e,t){var a=tt();return _o(a,Be,e,t)},useMemoCache:ki,useCacheRefresh:ld};Yi.useEffectEvent=Go;var id={readContext:ht,use:Un,useCallback:Jo,useContext:ht,useEffect:Ri,useImperativeHandle:Zo,useInsertionEffect:Ko,useLayoutEffect:Vo,useMemo:Wo,useReducer:Mi,useRef:Yo,useState:function(){return Mi(fl)},useDebugValue:Ui,useDeferredValue:function(e,t){var a=tt();return Be===null?Hi(a,e,t):Fo(a,Be.memoizedState,e,t)},useTransition:function(){var e=Mi(fl)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Ts(e),t]},useSyncExternalStore:Ao,useId:td,useHostTransitionStatus:Bi,useFormState:$o,useActionState:$o,useOptimistic:function(e,t){var a=tt();return Be!==null?_o(a,Be,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ki,useCacheRefresh:ld};id.useEffectEvent=Go;function Qi(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:P({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Gi={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=qt(),n=_l(s);n.payload=t,a!=null&&(n.callback=a),t=Ml(e,n,s),t!==null&&(Et(t,e,s),As(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=qt(),n=_l(s);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=Ml(e,n,s),t!==null&&(Et(t,e,s),As(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=qt(),s=_l(a);s.tag=2,t!=null&&(s.callback=t),t=Ml(e,s,a),t!==null&&(Et(t,e,a),As(t,e,a))}};function rd(e,t,a,s,n,c,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,i):t.prototype&&t.prototype.isPureReactComponent?!ys(a,s)||!ys(n,c):!0}function ud(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Gi.enqueueReplaceState(t,t.state,null)}function xa(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=P({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}function od(e){gn(e)}function dd(e){console.error(e)}function fd(e){gn(e)}function Yn(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function xd(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Ki(e,t,a){return a=_l(a),a.tag=3,a.payload={element:null},a.callback=function(){Yn(e,t)},a}function md(e){return e=_l(e),e.tag=3,e}function hd(e,t,a,s){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var c=s.value;e.payload=function(){return n(c)},e.callback=function(){xd(t,a,s)}}var i=a.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){xd(t,a,s),typeof n!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var r=s.stack;this.componentDidCatch(s.value,{componentStack:r!==null?r:""})})}function R0(e,t,a,s,n){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Ua(t,a,n,!0),a=Lt.current,a!==null){switch(a.tag){case 31:case 13:return Xt===null?ec():a.alternate===null&&Fe===0&&(Fe=3),a.flags&=-257,a.flags|=65536,a.lanes=n,s===En?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),pr(e,s,n)),!1;case 22:return a.flags|=65536,s===En?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),pr(e,s,n)),!1}throw Error(f(435,a.tag))}return pr(e,s,n),ec(),!1}if(ke)return t=Lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==oi&&(e=Error(f(422),{cause:s}),js(Qt(e,a)))):(s!==oi&&(t=Error(f(423),{cause:s}),js(Qt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=Qt(s,a),n=Ki(e.stateNode,s,n),ji(e,n),Fe!==4&&(Fe=2)),!1;var c=Error(f(520),{cause:s});if(c=Qt(c,a),Bs===null?Bs=[c]:Bs.push(c),Fe!==4&&(Fe=2),t===null)return!0;s=Qt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=Ki(a.stateNode,s,e),ji(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ql===null||!ql.has(c))))return a.flags|=65536,n&=-n,a.lanes|=n,n=md(n),hd(n,e,a,s),ji(a,n),!1}a=a.return}while(a!==null);return!1}var Vi=Error(f(461)),ct=!1;function pt(e,t,a,s){t.child=e===null?go(t,null,a,s):da(t,e.child,a,s)}function pd(e,t,a,s,n){a=a.render;var c=t.ref;if("ref"in s){var i={};for(var r in s)r!=="ref"&&(i[r]=s[r])}else i=s;return ia(t),s=zi(e,t,a,i,c,n),r=Ci(),e!==null&&!ct?(Ei(e,t,n),xl(e,t,n)):(ke&&r&&ri(t),t.flags|=1,pt(e,t,s,n),t.child)}function bd(e,t,a,s,n){if(e===null){var c=a.type;return typeof c=="function"&&!ni(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,yd(e,t,c,s,n)):(e=Sn(a.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!er(e,n)){var i=c.memoizedProps;if(a=a.compare,a=a!==null?a:ys,a(i,s)&&e.ref===t.ref)return xl(e,t,n)}return t.flags|=1,e=il(c,s),e.ref=t.ref,e.return=t,t.child=e}function yd(e,t,a,s,n){if(e!==null){var c=e.memoizedProps;if(ys(c,s)&&e.ref===t.ref)if(ct=!1,t.pendingProps=s=c,er(e,n))(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,xl(e,t,n)}return Xi(e,t,a,s,n)}function gd(e,t,a,s){var n=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~c}else s=0,t.child=null;return vd(e,t,c,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&zn(t,c!==null?c.cachePool:null),c!==null?No(t,c):Si(),So(t);else return s=t.lanes=536870912,vd(e,t,c!==null?c.baseLanes|a:a,a,s)}else c!==null?(zn(t,c.cachePool),No(t,c),Ll(),t.memoizedState=null):(e!==null&&zn(t,null),Si(),Ll());return pt(e,t,n,a),t.child}function Ms(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function vd(e,t,a,s,n){var c=bi();return c=c===null?null:{parent:st._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&zn(t,null),Si(),So(t),e!==null&&Ua(e,t,s,!0),t.childLanes=n,null}function Qn(e,t){return t=Kn({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function jd(e,t,a){return da(t,e.child,null,a),e=Qn(t,t.pendingProps),e.flags|=2,Rt(t),t.memoizedState=null,e}function U0(e,t,a){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ke){if(s.mode==="hidden")return e=Qn(t,s),t.lanes=536870912,Ms(null,e);if(Di(t),(e=Ke)?(e=Of(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:Pt,overflow:el}:null,retryLane:536870912,hydrationErrors:null},a=ao(e),a.return=t,t.child=a,mt=t,Ke=null)):e=null,e===null)throw El(t);return t.lanes=536870912,null}return Qn(t,s)}var c=e.memoizedState;if(c!==null){var i=c.dehydrated;if(Di(t),n)if(t.flags&256)t.flags&=-257,t=jd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(f(558));else if(ct||Ua(e,t,a,!1),n=(a&e.childLanes)!==0,ct||n){if(s=Qe,s!==null&&(i=ou(s,a),i!==0&&i!==c.retryLane))throw c.retryLane=i,aa(e,i),Et(s,e,i),Vi;ec(),t=jd(e,t,a)}else e=c.treeContext,Ke=Zt(i.nextSibling),mt=t,ke=!0,Cl=null,Vt=!1,e!==null&&co(t,e),t=Qn(t,s),t.flags|=4096;return t}return e=il(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Gn(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(f(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Xi(e,t,a,s,n){return ia(t),a=zi(e,t,a,s,void 0,n),s=Ci(),e!==null&&!ct?(Ei(e,t,n),xl(e,t,n)):(ke&&s&&ri(t),t.flags|=1,pt(e,t,a,n),t.child)}function Nd(e,t,a,s,n,c){return ia(t),t.updateQueue=null,a=Do(t,s,a,n),wo(e),s=Ci(),e!==null&&!ct?(Ei(e,t,c),xl(e,t,c)):(ke&&s&&ri(t),t.flags|=1,pt(e,t,a,c),t.child)}function Sd(e,t,a,s,n){if(ia(t),t.stateNode===null){var c=Ma,i=a.contextType;typeof i=="object"&&i!==null&&(c=ht(i)),c=new a(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Gi,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},gi(t),i=a.contextType,c.context=typeof i=="object"&&i!==null?ht(i):Ma,c.state=t.memoizedState,i=a.getDerivedStateFromProps,typeof i=="function"&&(Qi(t,a,i,s),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&Gi.enqueueReplaceState(c,c.state,null),Cs(t,s,c,n),zs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var r=t.memoizedProps,x=xa(a,r);c.props=x;var O=c.context,X=a.contextType;i=Ma,typeof X=="object"&&X!==null&&(i=ht(X));var F=a.getDerivedStateFromProps;X=typeof F=="function"||typeof c.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,X||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(r||O!==i)&&ud(t,c,s,i),kl=!1;var L=t.memoizedState;c.state=L,Cs(t,s,c,n),zs(),O=t.memoizedState,r||L!==O||kl?(typeof F=="function"&&(Qi(t,a,F,s),O=t.memoizedState),(x=kl||rd(t,a,x,s,L,O,i))?(X||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=O),c.props=s,c.state=O,c.context=i,s=x):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,vi(e,t),i=t.memoizedProps,X=xa(a,i),c.props=X,F=t.pendingProps,L=c.context,O=a.contextType,x=Ma,typeof O=="object"&&O!==null&&(x=ht(O)),r=a.getDerivedStateFromProps,(O=typeof r=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(i!==F||L!==x)&&ud(t,c,s,x),kl=!1,L=t.memoizedState,c.state=L,Cs(t,s,c,n),zs();var q=t.memoizedState;i!==F||L!==q||kl||e!==null&&e.dependencies!==null&&Dn(e.dependencies)?(typeof r=="function"&&(Qi(t,a,r,s),q=t.memoizedState),(X=kl||rd(t,a,X,s,L,q,x)||e!==null&&e.dependencies!==null&&Dn(e.dependencies))?(O||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,q,x),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,q,x)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||i===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=q),c.props=s,c.state=q,c.context=x,s=X):(typeof c.componentDidUpdate!="function"||i===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,Gn(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=da(t,e.child,null,n),t.child=da(t,null,a,n)):pt(e,t,a,n),t.memoizedState=c.state,e=t.child):e=xl(e,t,n),e}function wd(e,t,a,s){return na(),t.flags|=256,pt(e,t,a,s),t.child}var Zi={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ji(e){return{baseLanes:e,cachePool:xo()}}function Wi(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ht),e}function Dd(e,t,a){var s=t.pendingProps,n=!1,c=(t.flags&128)!==0,i;if((i=c)||(i=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),i&&(n=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(n?Ol(t):Ll(),(e=Ke)?(e=Of(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zl!==null?{id:Pt,overflow:el}:null,retryLane:536870912,hydrationErrors:null},a=ao(e),a.return=t,t.child=a,mt=t,Ke=null)):e=null,e===null)throw El(t);return _r(e)?t.lanes=32:t.lanes=536870912,null}var r=s.children;return s=s.fallback,n?(Ll(),n=t.mode,r=Kn({mode:"hidden",children:r},n),s=sa(s,n,a,null),r.return=t,s.return=t,r.sibling=s,t.child=r,s=t.child,s.memoizedState=Ji(a),s.childLanes=Wi(e,i,a),t.memoizedState=Zi,Ms(null,s)):(Ol(t),Fi(t,r))}var x=e.memoizedState;if(x!==null&&(r=x.dehydrated,r!==null)){if(c)t.flags&256?(Ol(t),t.flags&=-257,t=Ii(e,t,a)):t.memoizedState!==null?(Ll(),t.child=e.child,t.flags|=128,t=null):(Ll(),r=s.fallback,n=t.mode,s=Kn({mode:"visible",children:s.children},n),r=sa(r,n,a,null),r.flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,da(t,e.child,null,a),s=t.child,s.memoizedState=Ji(a),s.childLanes=Wi(e,i,a),t.memoizedState=Zi,t=Ms(null,s));else if(Ol(t),_r(r)){if(i=r.nextSibling&&r.nextSibling.dataset,i)var O=i.dgst;i=O,s=Error(f(419)),s.stack="",s.digest=i,js({value:s,source:null,stack:null}),t=Ii(e,t,a)}else if(ct||Ua(e,t,a,!1),i=(a&e.childLanes)!==0,ct||i){if(i=Qe,i!==null&&(s=ou(i,a),s!==0&&s!==x.retryLane))throw x.retryLane=s,aa(e,s),Et(i,e,s),Vi;kr(r)||ec(),t=Ii(e,t,a)}else kr(r)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,Ke=Zt(r.nextSibling),mt=t,ke=!0,Cl=null,Vt=!1,e!==null&&co(t,e),t=Fi(t,s.children),t.flags|=4096);return t}return n?(Ll(),r=s.fallback,n=t.mode,x=e.child,O=x.sibling,s=il(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,O!==null?r=il(O,r):(r=sa(r,n,a,null),r.flags|=2),r.return=t,s.return=t,s.sibling=r,t.child=s,Ms(null,s),s=t.child,r=e.child.memoizedState,r===null?r=Ji(a):(n=r.cachePool,n!==null?(x=st._currentValue,n=n.parent!==x?{parent:x,pool:x}:n):n=xo(),r={baseLanes:r.baseLanes|a,cachePool:n}),s.memoizedState=r,s.childLanes=Wi(e,i,a),t.memoizedState=Zi,Ms(e.child,s)):(Ol(t),a=e.child,e=a.sibling,a=il(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a)}function Fi(e,t){return t=Kn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Kn(e,t){return e=Ot(22,e,null,t),e.lanes=0,e}function Ii(e,t,a){return da(t,e.child,null,a),e=Fi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ad(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),xi(e.return,t,a)}function Pi(e,t,a,s,n,c){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:n,treeForkCount:c}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=a,i.tailMode=n,i.treeForkCount=c)}function zd(e,t,a){var s=t.pendingProps,n=s.revealOrder,c=s.tail;s=s.children;var i=et.current,r=(i&2)!==0;if(r?(i=i&1|2,t.flags|=128):i&=1,I(et,i),pt(e,t,s,a),s=ke?vs:0,!r&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ad(e,a,t);else if(e.tag===19)Ad(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Mn(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),Pi(t,!1,n,a,c,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Mn(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}Pi(t,!0,a,null,c,s);break;case"together":Pi(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function xl(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Hl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Ua(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(f(153));if(t.child!==null){for(e=t.child,a=il(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=il(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function er(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Dn(e)))}function H0(e,t,a){switch(t.tag){case 3:ve(t,t.stateNode.containerInfo),Tl(t,st,e.memoizedState.cache),na();break;case 27:case 5:re(t);break;case 4:ve(t,t.stateNode.containerInfo);break;case 10:Tl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Di(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ol(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Dd(e,t,a):(Ol(t),e=xl(e,t,a),e!==null?e.sibling:null);Ol(t);break;case 19:var n=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Ua(e,t,a,!1),s=(a&t.childLanes)!==0),n){if(s)return zd(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),I(et,et.current),s)break;return null;case 22:return t.lanes=0,gd(e,t,a,t.pendingProps);case 24:Tl(t,st,e.memoizedState.cache)}return xl(e,t,a)}function Cd(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!er(e,a)&&(t.flags&128)===0)return ct=!1,H0(e,t,a);ct=(e.flags&131072)!==0}else ct=!1,ke&&(t.flags&1048576)!==0&&no(t,vs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ua(t.elementType),t.type=e,typeof e=="function")ni(e)?(s=xa(e,s),t.tag=1,t=Sd(null,t,e,s,a)):(t.tag=0,t=Xi(null,t,e,s,a));else{if(e!=null){var n=e.$$typeof;if(n===J){t.tag=11,t=pd(null,t,e,s,a);break e}else if(n===B){t.tag=14,t=bd(null,t,e,s,a);break e}}throw t=Q(e)||e,Error(f(306,t,""))}}return t;case 0:return Xi(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,n=xa(s,t.pendingProps),Sd(e,t,s,n,a);case 3:e:{if(ve(t,t.stateNode.containerInfo),e===null)throw Error(f(387));s=t.pendingProps;var c=t.memoizedState;n=c.element,vi(e,t),Cs(t,s,null,a);var i=t.memoizedState;if(s=i.cache,Tl(t,st,s),s!==c.cache&&mi(t,[st],a,!0),zs(),s=i.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=wd(e,t,s,a);break e}else if(s!==n){n=Qt(Error(f(424)),t),js(n),t=wd(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ke=Zt(e.firstChild),mt=t,ke=!0,Cl=null,Vt=!0,a=go(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(na(),s===n){t=xl(e,t,a);break e}pt(e,t,s,a)}t=t.child}return t;case 26:return Gn(e,t),e===null?(a=Bf(t.type,null,t.pendingProps,null))?t.memoizedState=a:ke||(a=t.type,e=t.pendingProps,s=ic(V.current).createElement(a),s[xt]=t,s[St]=e,bt(s,a,e),dt(s),t.stateNode=s):t.memoizedState=Bf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return re(t),e===null&&ke&&(s=t.stateNode=Uf(t.type,t.pendingProps,V.current),mt=t,Vt=!0,n=Ke,Ql(t.type)?(Mr=n,Ke=Zt(s.firstChild)):Ke=n),pt(e,t,t.pendingProps.children,a),Gn(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((n=s=Ke)&&(s=mm(s,t.type,t.pendingProps,Vt),s!==null?(t.stateNode=s,mt=t,Ke=Zt(s.firstChild),Vt=!1,n=!0):n=!1),n||El(t)),re(t),n=t.type,c=t.pendingProps,i=e!==null?e.memoizedProps:null,s=c.children,Cr(n,c)?s=null:i!==null&&Cr(n,i)&&(t.flags|=32),t.memoizedState!==null&&(n=zi(e,t,E0,null,null,a),Zs._currentValue=n),Gn(e,t),pt(e,t,s,a),t.child;case 6:return e===null&&ke&&((e=a=Ke)&&(a=hm(a,t.pendingProps,Vt),a!==null?(t.stateNode=a,mt=t,Ke=null,e=!0):e=!1),e||El(t)),null;case 13:return Dd(e,t,a);case 4:return ve(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=da(t,null,s,a):pt(e,t,s,a),t.child;case 11:return pd(e,t,t.type,t.pendingProps,a);case 7:return pt(e,t,t.pendingProps,a),t.child;case 8:return pt(e,t,t.pendingProps.children,a),t.child;case 12:return pt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Tl(t,t.type,s.value),pt(e,t,s.children,a),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,ia(t),n=ht(n),s=s(n),t.flags|=1,pt(e,t,s,a),t.child;case 14:return bd(e,t,t.type,t.pendingProps,a);case 15:return yd(e,t,t.type,t.pendingProps,a);case 19:return zd(e,t,a);case 31:return U0(e,t,a);case 22:return gd(e,t,a,t.pendingProps);case 24:return ia(t),s=ht(st),e===null?(n=bi(),n===null&&(n=Qe,c=hi(),n.pooledCache=c,c.refCount++,c!==null&&(n.pooledCacheLanes|=a),n=c),t.memoizedState={parent:s,cache:n},gi(t),Tl(t,st,n)):((e.lanes&a)!==0&&(vi(e,t),Cs(t,null,null,a),zs()),n=e.memoizedState,c=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Tl(t,st,s)):(s=c.cache,Tl(t,st,s),s!==n.cache&&mi(t,[st],a,!0))),pt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(f(156,t.tag))}function ml(e){e.flags|=4}function tr(e,t,a,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(tf())e.flags|=8192;else throw oa=En,yi}else e.flags&=-16777217}function Ed(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Kf(t))if(tf())e.flags|=8192;else throw oa=En,yi}function Vn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?iu():536870912,e.lanes|=t,Ja|=t)}function Os(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function q0(e,t,a){var s=t.pendingProps;switch(ui(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ol(st),Se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ra(t)?ml(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,di())),Ve(t),null;case 26:var n=t.type,c=t.memoizedState;return e===null?(ml(t),c!==null?(Ve(t),Ed(t,c)):(Ve(t),tr(t,n,null,s,a))):c?c!==e.memoizedState?(ml(t),Ve(t),Ed(t,c)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ml(t),Ve(t),tr(t,n,e,s,a)),null;case 27:if(Ie(t),a=V.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ml(t);else{if(!s){if(t.stateNode===null)throw Error(f(166));return Ve(t),null}e=ue.current,Ra(t)?io(t):(e=Uf(n,s,a),t.stateNode=e,ml(t))}return Ve(t),null;case 5:if(Ie(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ml(t);else{if(!s){if(t.stateNode===null)throw Error(f(166));return Ve(t),null}if(c=ue.current,Ra(t))io(t);else{var i=ic(V.current);switch(c){case 1:c=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:c=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":c=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":c=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":c=i.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?i.createElement(n,{is:s.is}):i.createElement(n)}}c[xt]=t,c[St]=s;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)c.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=c;e:switch(bt(c,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ml(t)}}return Ve(t),tr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ml(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(f(166));if(e=V.current,Ra(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,n=mt,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[xt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Af(e.nodeValue,a)),e||El(t,!0)}else e=ic(e).createTextNode(s),e[xt]=t,t.stateNode=e}return Ve(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Ra(t),a!==null){if(e===null){if(!s)throw Error(f(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(f(557));e[xt]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else a=di(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Rt(t),t):(Rt(t),null);if((t.flags&128)!==0)throw Error(f(558))}return Ve(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Ra(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(f(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(f(317));n[xt]=t}else na(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),n=!1}else n=di(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Rt(t),t):(Rt(t),null)}return Rt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==n&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Vn(t,t.updateQueue),Ve(t),null);case 4:return Se(),e===null&&Sr(t.stateNode.containerInfo),Ve(t),null;case 10:return ol(t.type),Ve(t),null;case 19:if(R(et),s=t.memoizedState,s===null)return Ve(t),null;if(n=(t.flags&128)!==0,c=s.rendering,c===null)if(n)Os(s,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Mn(e),c!==null){for(t.flags|=128,Os(s,!1),e=c.updateQueue,t.updateQueue=e,Vn(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)lo(a,e),a=a.sibling;return I(et,et.current&1|2),ke&&rl(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&at()>Fn&&(t.flags|=128,n=!0,Os(s,!1),t.lanes=4194304)}else{if(!n)if(e=Mn(c),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Vn(t,e),Os(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!ke)return Ve(t),null}else 2*at()-s.renderingStartTime>Fn&&a!==536870912&&(t.flags|=128,n=!0,Os(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,a=et.current,I(et,n?a&1|2:a&1),ke&&rl(t,s.treeForkCount),e):(Ve(t),null);case 22:case 23:return Rt(t),wi(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),a=t.updateQueue,a!==null&&Vn(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&R(ra),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ol(st),Ve(t),null;case 25:return null;case 30:return null}throw Error(f(156,t.tag))}function B0(e,t){switch(ui(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ol(st),Se(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ie(t),null;case 31:if(t.memoizedState!==null){if(Rt(t),t.alternate===null)throw Error(f(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Rt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(f(340));na()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(et),null;case 4:return Se(),null;case 10:return ol(t.type),null;case 22:case 23:return Rt(t),wi(),e!==null&&R(ra),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ol(st),null;case 25:return null;default:return null}}function Td(e,t){switch(ui(t),t.tag){case 3:ol(st),Se();break;case 26:case 27:case 5:Ie(t);break;case 4:Se();break;case 31:t.memoizedState!==null&&Rt(t);break;case 13:Rt(t);break;case 19:R(et);break;case 10:ol(t.type);break;case 22:case 23:Rt(t),wi(),e!==null&&R(ra);break;case 24:ol(st)}}function Ls(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var n=s.next;a=n;do{if((a.tag&e)===e){s=void 0;var c=a.create,i=a.inst;s=c(),i.destroy=s}a=a.next}while(a!==n)}}catch(r){He(t,t.return,r)}}function Rl(e,t,a){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var c=n.next;s=c;do{if((s.tag&e)===e){var i=s.inst,r=i.destroy;if(r!==void 0){i.destroy=void 0,n=t;var x=a,O=r;try{O()}catch(X){He(n,x,X)}}}s=s.next}while(s!==c)}}catch(X){He(t,t.return,X)}}function kd(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{jo(t,a)}catch(s){He(e,e.return,s)}}}function _d(e,t,a){a.props=xa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){He(e,t,s)}}function Rs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(n){He(e,t,n)}}function tl(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(n){He(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){He(e,t,n)}else a.current=null}function Md(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(n){He(e,e.return,n)}}function lr(e,t,a){try{var s=e.stateNode;rm(s,e.type,a,t),s[St]=t}catch(n){He(e,e.return,n)}}function Od(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ql(e.type)||e.tag===4}function ar(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Od(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ql(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sr(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=nl));else if(s!==4&&(s===27&&Ql(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(sr(e,t,a),e=e.sibling;e!==null;)sr(e,t,a),e=e.sibling}function Xn(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Ql(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Xn(e,t,a),e=e.sibling;e!==null;)Xn(e,t,a),e=e.sibling}function Ld(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);bt(t,s,a),t[xt]=e,t[St]=a}catch(c){He(e,e.return,c)}}var hl=!1,it=!1,nr=!1,Rd=typeof WeakSet=="function"?WeakSet:Set,ft=null;function $0(e,t){if(e=e.containerInfo,Ar=mc,e=Xu(e),Ic(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var n=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var i=0,r=-1,x=-1,O=0,X=0,F=e,L=null;t:for(;;){for(var q;F!==a||n!==0&&F.nodeType!==3||(r=i+n),F!==c||s!==0&&F.nodeType!==3||(x=i+s),F.nodeType===3&&(i+=F.nodeValue.length),(q=F.firstChild)!==null;)L=F,F=q;for(;;){if(F===e)break t;if(L===a&&++O===n&&(r=i),L===c&&++X===s&&(x=i),(q=F.nextSibling)!==null)break;F=L,L=F.parentNode}F=q}a=r===-1||x===-1?null:{start:r,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(zr={focusedElem:e,selectionRange:a},mc=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)n=e[a],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,n=c.memoizedProps,c=c.memoizedState,s=a.stateNode;try{var oe=xa(a.type,n);e=s.getSnapshotBeforeUpdate(oe,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(he){He(a,a.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Tr(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(f(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function Ud(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:bl(e,a),s&4&&Ls(5,a);break;case 1:if(bl(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(i){He(a,a.return,i)}else{var n=xa(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){He(a,a.return,i)}}s&64&&kd(a),s&512&&Rs(a,a.return);break;case 3:if(bl(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{jo(e,t)}catch(i){He(a,a.return,i)}}break;case 27:t===null&&s&4&&Ld(a);case 26:case 5:bl(e,a),t===null&&s&4&&Md(a),s&512&&Rs(a,a.return);break;case 12:bl(e,a);break;case 31:bl(e,a),s&4&&Bd(e,a);break;case 13:bl(e,a),s&4&&$d(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=W0.bind(null,a),pm(e,a))));break;case 22:if(s=a.memoizedState!==null||hl,!s){t=t!==null&&t.memoizedState!==null||it,n=hl;var c=it;hl=s,(it=t)&&!c?yl(e,a,(a.subtreeFlags&8772)!==0):bl(e,a),hl=n,it=c}break;case 30:break;default:bl(e,a)}}function Hd(e){var t=e.alternate;t!==null&&(e.alternate=null,Hd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Lc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ze=null,Dt=!1;function pl(e,t,a){for(a=a.child;a!==null;)qd(e,t,a),a=a.sibling}function qd(e,t,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(cs,a)}catch{}switch(a.tag){case 26:it||tl(a,t),pl(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:it||tl(a,t);var s=Ze,n=Dt;Ql(a.type)&&(Ze=a.stateNode,Dt=!1),pl(e,t,a),Ks(a.stateNode),Ze=s,Dt=n;break;case 5:it||tl(a,t);case 6:if(s=Ze,n=Dt,Ze=null,pl(e,t,a),Ze=s,Dt=n,Ze!==null)if(Dt)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(a.stateNode)}catch(c){He(a,t,c)}else try{Ze.removeChild(a.stateNode)}catch(c){He(a,t,c)}break;case 18:Ze!==null&&(Dt?(e=Ze,_f(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),as(e)):_f(Ze,a.stateNode));break;case 4:s=Ze,n=Dt,Ze=a.stateNode.containerInfo,Dt=!0,pl(e,t,a),Ze=s,Dt=n;break;case 0:case 11:case 14:case 15:Rl(2,a,t),it||Rl(4,a,t),pl(e,t,a);break;case 1:it||(tl(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&_d(a,t,s)),pl(e,t,a);break;case 21:pl(e,t,a);break;case 22:it=(s=it)||a.memoizedState!==null,pl(e,t,a),it=s;break;default:pl(e,t,a)}}function Bd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{as(e)}catch(a){He(t,t.return,a)}}}function $d(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{as(e)}catch(a){He(t,t.return,a)}}function Y0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Rd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Rd),t;default:throw Error(f(435,e.tag))}}function Zn(e,t){var a=Y0(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var n=F0.bind(null,e,s);s.then(n,n)}})}function At(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var n=a[s],c=e,i=t,r=i;e:for(;r!==null;){switch(r.tag){case 27:if(Ql(r.type)){Ze=r.stateNode,Dt=!1;break e}break;case 5:Ze=r.stateNode,Dt=!1;break e;case 3:case 4:Ze=r.stateNode.containerInfo,Dt=!0;break e}r=r.return}if(Ze===null)throw Error(f(160));qd(c,i,n),Ze=null,Dt=!1,c=n.alternate,c!==null&&(c.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Yd(t,e),t=t.sibling}var Ft=null;function Yd(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),zt(e),s&4&&(Rl(3,e,e.return),Ls(3,e),Rl(5,e,e.return));break;case 1:At(t,e),zt(e),s&512&&(it||a===null||tl(a,a.return)),s&64&&hl&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var n=Ft;if(At(t,e),zt(e),s&512&&(it||a===null||tl(a,a.return)),s&4){var c=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":c=n.getElementsByTagName("title")[0],(!c||c[us]||c[xt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=n.createElement(s),n.head.insertBefore(c,n.querySelector("head > title"))),bt(c,s,a),c[xt]=e,dt(c),s=c;break e;case"link":var i=Qf("link","href",n).get(s+(a.href||""));if(i){for(var r=0;r<i.length;r++)if(c=i[r],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){i.splice(r,1);break t}}c=n.createElement(s),bt(c,s,a),n.head.appendChild(c);break;case"meta":if(i=Qf("meta","content",n).get(s+(a.content||""))){for(r=0;r<i.length;r++)if(c=i[r],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){i.splice(r,1);break t}}c=n.createElement(s),bt(c,s,a),n.head.appendChild(c);break;default:throw Error(f(468,s))}c[xt]=e,dt(c),s=c}e.stateNode=s}else Gf(n,e.type,e.stateNode);else e.stateNode=Yf(n,s,e.memoizedProps);else c!==s?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,s===null?Gf(n,e.type,e.stateNode):Yf(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&lr(e,e.memoizedProps,a.memoizedProps)}break;case 27:At(t,e),zt(e),s&512&&(it||a===null||tl(a,a.return)),a!==null&&s&4&&lr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(At(t,e),zt(e),s&512&&(it||a===null||tl(a,a.return)),e.flags&32){n=e.stateNode;try{Aa(n,"")}catch(oe){He(e,e.return,oe)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,lr(e,n,a!==null?a.memoizedProps:n)),s&1024&&(nr=!0);break;case 6:if(At(t,e),zt(e),s&4){if(e.stateNode===null)throw Error(f(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(oe){He(e,e.return,oe)}}break;case 3:if(oc=null,n=Ft,Ft=rc(t.containerInfo),At(t,e),Ft=n,zt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{as(t.containerInfo)}catch(oe){He(e,e.return,oe)}nr&&(nr=!1,Qd(e));break;case 4:s=Ft,Ft=rc(e.stateNode.containerInfo),At(t,e),zt(e),Ft=s;break;case 12:At(t,e),zt(e);break;case 31:At(t,e),zt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zn(e,s)));break;case 13:At(t,e),zt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wn=at()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zn(e,s)));break;case 22:n=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,O=hl,X=it;if(hl=O||n,it=X||x,At(t,e),it=X,hl=O,zt(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||x||hl||it||ma(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){x=a=t;try{if(c=x.stateNode,n)i=c.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{r=x.stateNode;var F=x.memoizedProps.style,L=F!=null&&F.hasOwnProperty("display")?F.display:null;r.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(oe){He(x,x.return,oe)}}}else if(t.tag===6){if(a===null){x=t;try{x.stateNode.nodeValue=n?"":x.memoizedProps}catch(oe){He(x,x.return,oe)}}}else if(t.tag===18){if(a===null){x=t;try{var q=x.stateNode;n?Mf(q,!0):Mf(x.stateNode,!1)}catch(oe){He(x,x.return,oe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Zn(e,a))));break;case 19:At(t,e),zt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Zn(e,s)));break;case 30:break;case 21:break;default:At(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Od(s)){a=s;break}s=s.return}if(a==null)throw Error(f(160));switch(a.tag){case 27:var n=a.stateNode,c=ar(e);Xn(e,c,n);break;case 5:var i=a.stateNode;a.flags&32&&(Aa(i,""),a.flags&=-33);var r=ar(e);Xn(e,r,i);break;case 3:case 4:var x=a.stateNode.containerInfo,O=ar(e);sr(e,O,x);break;default:throw Error(f(161))}}catch(X){He(e,e.return,X)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Qd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ud(e,t.alternate,t),t=t.sibling}function ma(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Rl(4,t,t.return),ma(t);break;case 1:tl(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&_d(t,t.return,a),ma(t);break;case 27:Ks(t.stateNode);case 26:case 5:tl(t,t.return),ma(t);break;case 22:t.memoizedState===null&&ma(t);break;case 30:ma(t);break;default:ma(t)}e=e.sibling}}function yl(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,c=t,i=c.flags;switch(c.tag){case 0:case 11:case 15:yl(n,c,a),Ls(4,c);break;case 1:if(yl(n,c,a),s=c,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(O){He(s,s.return,O)}if(s=c,n=s.updateQueue,n!==null){var r=s.stateNode;try{var x=n.shared.hiddenCallbacks;if(x!==null)for(n.shared.hiddenCallbacks=null,n=0;n<x.length;n++)vo(x[n],r)}catch(O){He(s,s.return,O)}}a&&i&64&&kd(c),Rs(c,c.return);break;case 27:Ld(c);case 26:case 5:yl(n,c,a),a&&s===null&&i&4&&Md(c),Rs(c,c.return);break;case 12:yl(n,c,a);break;case 31:yl(n,c,a),a&&i&4&&Bd(n,c);break;case 13:yl(n,c,a),a&&i&4&&$d(n,c);break;case 22:c.memoizedState===null&&yl(n,c,a),Rs(c,c.return);break;case 30:break;default:yl(n,c,a)}t=t.sibling}}function cr(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ns(a))}function ir(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ns(e))}function It(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gd(e,t,a,s),t=t.sibling}function Gd(e,t,a,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,a,s),n&2048&&Ls(9,t);break;case 1:It(e,t,a,s);break;case 3:It(e,t,a,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ns(e)));break;case 12:if(n&2048){It(e,t,a,s),e=t.stateNode;try{var c=t.memoizedProps,i=c.id,r=c.onPostCommit;typeof r=="function"&&r(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){He(t,t.return,x)}}else It(e,t,a,s);break;case 31:It(e,t,a,s);break;case 13:It(e,t,a,s);break;case 23:break;case 22:c=t.stateNode,i=t.alternate,t.memoizedState!==null?c._visibility&2?It(e,t,a,s):Us(e,t):c._visibility&2?It(e,t,a,s):(c._visibility|=2,Va(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&cr(i,t);break;case 24:It(e,t,a,s),n&2048&&ir(t.alternate,t);break;default:It(e,t,a,s)}}function Va(e,t,a,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,i=t,r=a,x=s,O=i.flags;switch(i.tag){case 0:case 11:case 15:Va(c,i,r,x,n),Ls(8,i);break;case 23:break;case 22:var X=i.stateNode;i.memoizedState!==null?X._visibility&2?Va(c,i,r,x,n):Us(c,i):(X._visibility|=2,Va(c,i,r,x,n)),n&&O&2048&&cr(i.alternate,i);break;case 24:Va(c,i,r,x,n),n&&O&2048&&ir(i.alternate,i);break;default:Va(c,i,r,x,n)}t=t.sibling}}function Us(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,n=s.flags;switch(s.tag){case 22:Us(a,s),n&2048&&cr(s.alternate,s);break;case 24:Us(a,s),n&2048&&ir(s.alternate,s);break;default:Us(a,s)}t=t.sibling}}var Hs=8192;function Xa(e,t,a){if(e.subtreeFlags&Hs)for(e=e.child;e!==null;)Kd(e,t,a),e=e.sibling}function Kd(e,t,a){switch(e.tag){case 26:Xa(e,t,a),e.flags&Hs&&e.memoizedState!==null&&Cm(a,Ft,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,t,a);break;case 3:case 4:var s=Ft;Ft=rc(e.stateNode.containerInfo),Xa(e,t,a),Ft=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Hs,Hs=16777216,Xa(e,t,a),Hs=s):Xa(e,t,a));break;default:Xa(e,t,a)}}function Vd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function qs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ft=s,Zd(s,e)}Vd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xd(e),e=e.sibling}function Xd(e){switch(e.tag){case 0:case 11:case 15:qs(e),e.flags&2048&&Rl(9,e,e.return);break;case 3:qs(e);break;case 12:qs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Jn(e)):qs(e);break;default:qs(e)}}function Jn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];ft=s,Zd(s,e)}Vd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Rl(8,t,t.return),Jn(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Jn(t));break;default:Jn(t)}e=e.sibling}}function Zd(e,t){for(;ft!==null;){var a=ft;switch(a.tag){case 0:case 11:case 15:Rl(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ns(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,ft=s;else e:for(a=e;ft!==null;){s=ft;var n=s.sibling,c=s.return;if(Hd(s),s===a){ft=null;break e}if(n!==null){n.return=c,ft=n;break e}ft=c}}}var Q0={getCacheForType:function(e){var t=ht(st),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ht(st).controller.signal}},G0=typeof WeakMap=="function"?WeakMap:Map,Le=0,Qe=null,Ae=null,Ee=0,Ue=0,Ut=null,Ul=!1,Za=!1,rr=!1,gl=0,Fe=0,Hl=0,ha=0,ur=0,Ht=0,Ja=0,Bs=null,Ct=null,or=!1,Wn=0,Jd=0,Fn=1/0,In=null,ql=null,ut=0,Bl=null,Wa=null,vl=0,dr=0,fr=null,Wd=null,$s=0,xr=null;function qt(){return(Le&2)!==0&&Ee!==0?Ee&-Ee:C.T!==null?gr():du()}function Fd(){if(Ht===0)if((Ee&536870912)===0||ke){var e=nn;nn<<=1,(nn&3932160)===0&&(nn=262144),Ht=e}else Ht=536870912;return e=Lt.current,e!==null&&(e.flags|=32),Ht}function Et(e,t,a){(e===Qe&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),$l(e,Ee,Ht,!1)),rs(e,a),((Le&2)===0||e!==Qe)&&(e===Qe&&((Le&2)===0&&(ha|=a),Fe===4&&$l(e,Ee,Ht,!1)),ll(e))}function Id(e,t,a){if((Le&6)!==0)throw Error(f(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||is(e,t),n=s?X0(e,t):hr(e,t,!0),c=s;do{if(n===0){Za&&!s&&$l(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!K0(a)){n=hr(e,t,!1),c=!1;continue}if(n===2){if(c=t,e.errorRecoveryDisabledLanes&c)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var r=e;n=Bs;var x=r.current.memoizedState.isDehydrated;if(x&&(Fa(r,i).flags|=256),i=hr(r,i,!1),i!==2){if(rr&&!x){r.errorRecoveryDisabledLanes|=c,ha|=c,n=4;break e}c=Ct,Ct=n,c!==null&&(Ct===null?Ct=c:Ct.push.apply(Ct,c))}n=i}if(c=!1,n!==2)continue}}if(n===1){Fa(e,0),$l(e,t,0,!0);break}e:{switch(s=e,c=n,c){case 0:case 1:throw Error(f(345));case 4:if((t&4194048)!==t)break;case 6:$l(s,t,Ht,!Ul);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(f(329))}if((t&62914560)===t&&(n=Wn+300-at(),10<n)){if($l(s,t,Ht,!Ul),rn(s,0,!0)!==0)break e;vl=t,s.timeoutHandle=Tf(Pd.bind(null,s,a,Ct,In,or,t,Ht,ha,Ja,Ul,c,"Throttled",-0,0),n);break e}Pd(s,a,Ct,In,or,t,Ht,ha,Ja,Ul,c,null,-0,0)}}break}while(!0);ll(e)}function Pd(e,t,a,s,n,c,i,r,x,O,X,F,L,q){if(e.timeoutHandle=-1,F=t.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nl},Kd(t,c,F);var oe=(c&62914560)===c?Wn-at():(c&4194048)===c?Jd-at():0;if(oe=Em(F,oe),oe!==null){vl=c,e.cancelPendingCommit=oe(rf.bind(null,e,t,c,a,s,n,i,r,x,X,F,null,L,q)),$l(e,c,i,!O);return}}rf(e,t,c,a,s,n,i,r,x)}function K0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var n=a[s],c=n.getSnapshot;n=n.value;try{if(!Mt(c(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function $l(e,t,a,s){t&=~ur,t&=~ha,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var c=31-_t(n),i=1<<c;s[c]=-1,n&=~i}a!==0&&ru(e,a,t)}function Pn(){return(Le&6)===0?(Ys(0),!1):!0}function mr(){if(Ae!==null){if(Ue===0)var e=Ae.return;else e=Ae,ul=ca=null,Ti(e),$a=null,ws=0,e=Ae;for(;e!==null;)Td(e.alternate,e),e=e.return;Ae=null}}function Fa(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,dm(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),vl=0,mr(),Qe=e,Ae=a=il(e.current,null),Ee=t,Ue=0,Ut=null,Ul=!1,Za=is(e,t),rr=!1,Ja=Ht=ur=ha=Hl=Fe=0,Ct=Bs=null,or=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-_t(s),c=1<<n;t|=e[n],s&=~c}return gl=t,vn(),a}function ef(e,t){ye=null,C.H=_s,t===Ba||t===Cn?(t=po(),Ue=3):t===yi?(t=po(),Ue=4):Ue=t===Vi?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,Ae===null&&(Fe=1,Yn(e,Qt(t,e.current)))}function tf(){var e=Lt.current;return e===null?!0:(Ee&4194048)===Ee?Xt===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Xt:!1}function lf(){var e=C.H;return C.H=_s,e===null?_s:e}function af(){var e=C.A;return C.A=Q0,e}function ec(){Fe=4,Ul||(Ee&4194048)!==Ee&&Lt.current!==null||(Za=!0),(Hl&134217727)===0&&(ha&134217727)===0||Qe===null||$l(Qe,Ee,Ht,!1)}function hr(e,t,a){var s=Le;Le|=2;var n=lf(),c=af();(Qe!==e||Ee!==t)&&(In=null,Fa(e,t)),t=!1;var i=Fe;e:do try{if(Ue!==0&&Ae!==null){var r=Ae,x=Ut;switch(Ue){case 8:mr(),i=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(t=!0);var O=Ue;if(Ue=0,Ut=null,Ia(e,r,x,O),a&&Za){i=0;break e}break;default:O=Ue,Ue=0,Ut=null,Ia(e,r,x,O)}}V0(),i=Fe;break}catch(X){ef(e,X)}while(!0);return t&&e.shellSuspendCounter++,ul=ca=null,Le=s,C.H=n,C.A=c,Ae===null&&(Qe=null,Ee=0,vn()),i}function V0(){for(;Ae!==null;)sf(Ae)}function X0(e,t){var a=Le;Le|=2;var s=lf(),n=af();Qe!==e||Ee!==t?(In=null,Fn=at()+500,Fa(e,t)):Za=is(e,t);e:do try{if(Ue!==0&&Ae!==null){t=Ae;var c=Ut;t:switch(Ue){case 1:Ue=0,Ut=null,Ia(e,t,c,1);break;case 2:case 9:if(mo(c)){Ue=0,Ut=null,nf(t);break}t=function(){Ue!==2&&Ue!==9||Qe!==e||(Ue=7),ll(e)},c.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:mo(c)?(Ue=0,Ut=null,nf(t)):(Ue=0,Ut=null,Ia(e,t,c,7));break;case 5:var i=null;switch(Ae.tag){case 26:i=Ae.memoizedState;case 5:case 27:var r=Ae;if(i?Kf(i):r.stateNode.complete){Ue=0,Ut=null;var x=r.sibling;if(x!==null)Ae=x;else{var O=r.return;O!==null?(Ae=O,tc(O)):Ae=null}break t}}Ue=0,Ut=null,Ia(e,t,c,5);break;case 6:Ue=0,Ut=null,Ia(e,t,c,6);break;case 8:mr(),Fe=6;break e;default:throw Error(f(462))}}Z0();break}catch(X){ef(e,X)}while(!0);return ul=ca=null,C.H=s,C.A=n,Le=a,Ae!==null?0:(Qe=null,Ee=0,vn(),Fe)}function Z0(){for(;Ae!==null&&!_e();)sf(Ae)}function sf(e){var t=Cd(e.alternate,e,gl);e.memoizedProps=e.pendingProps,t===null?tc(e):Ae=t}function nf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Nd(a,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Nd(a,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Ti(t);default:Td(a,t),t=Ae=lo(t,gl),t=Cd(a,t,gl)}e.memoizedProps=e.pendingProps,t===null?tc(e):Ae=t}function Ia(e,t,a,s){ul=ca=null,Ti(t),$a=null,ws=0;var n=t.return;try{if(R0(e,n,t,a,Ee)){Fe=1,Yn(e,Qt(a,e.current)),Ae=null;return}}catch(c){if(n!==null)throw Ae=n,c;Fe=1,Yn(e,Qt(a,e.current)),Ae=null;return}t.flags&32768?(ke||s===1?e=!0:Za||(Ee&536870912)!==0?e=!1:(Ul=e=!0,(s===2||s===9||s===3||s===6)&&(s=Lt.current,s!==null&&s.tag===13&&(s.flags|=16384))),cf(t,e)):tc(t)}function tc(e){var t=e;do{if((t.flags&32768)!==0){cf(t,Ul);return}e=t.return;var a=q0(t.alternate,t,gl);if(a!==null){Ae=a;return}if(t=t.sibling,t!==null){Ae=t;return}Ae=t=e}while(t!==null);Fe===0&&(Fe=5)}function cf(e,t){do{var a=B0(e.alternate,e);if(a!==null){a.flags&=32767,Ae=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Ae=e;return}Ae=e=a}while(e!==null);Fe=6,Ae=null}function rf(e,t,a,s,n,c,i,r,x){e.cancelPendingCommit=null;do lc();while(ut!==0);if((Le&6)!==0)throw Error(f(327));if(t!==null){if(t===e.current)throw Error(f(177));if(c=t.lanes|t.childLanes,c|=ai,zx(e,a,c,i,r,x),e===Qe&&(Ae=Qe=null,Ee=0),Wa=t,Bl=e,vl=a,dr=c,fr=n,Wd=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,I0(an,function(){return xf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=C.T,C.T=null,n=K.p,K.p=2,i=Le,Le|=4;try{$0(e,t,a)}finally{Le=i,K.p=n,C.T=s}}ut=1,uf(),of(),df()}}function uf(){if(ut===1){ut=0;var e=Bl,t=Wa,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var s=K.p;K.p=2;var n=Le;Le|=4;try{Yd(t,e);var c=zr,i=Xu(e.containerInfo),r=c.focusedElem,x=c.selectionRange;if(i!==r&&r&&r.ownerDocument&&Vu(r.ownerDocument.documentElement,r)){if(x!==null&&Ic(r)){var O=x.start,X=x.end;if(X===void 0&&(X=O),"selectionStart"in r)r.selectionStart=O,r.selectionEnd=Math.min(X,r.value.length);else{var F=r.ownerDocument||document,L=F&&F.defaultView||window;if(L.getSelection){var q=L.getSelection(),oe=r.textContent.length,he=Math.min(x.start,oe),Ye=x.end===void 0?he:Math.min(x.end,oe);!q.extend&&he>Ye&&(i=Ye,Ye=he,he=i);var E=Ku(r,he),j=Ku(r,Ye);if(E&&j&&(q.rangeCount!==1||q.anchorNode!==E.node||q.anchorOffset!==E.offset||q.focusNode!==j.node||q.focusOffset!==j.offset)){var M=F.createRange();M.setStart(E.node,E.offset),q.removeAllRanges(),he>Ye?(q.addRange(M),q.extend(j.node,j.offset)):(M.setEnd(j.node,j.offset),q.addRange(M))}}}}for(F=[],q=r;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<F.length;r++){var W=F[r];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}mc=!!Ar,zr=Ar=null}finally{Le=n,K.p=s,C.T=a}}e.current=t,ut=2}}function of(){if(ut===2){ut=0;var e=Bl,t=Wa,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var s=K.p;K.p=2;var n=Le;Le|=4;try{Ud(e,t.alternate,t)}finally{Le=n,K.p=s,C.T=a}}ut=3}}function df(){if(ut===4||ut===3){ut=0,jt();var e=Bl,t=Wa,a=vl,s=Wd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ut=5:(ut=0,Wa=Bl=null,ff(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(ql=null),Mc(a),t=t.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(cs,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=C.T,n=K.p,K.p=2,C.T=null;try{for(var c=e.onRecoverableError,i=0;i<s.length;i++){var r=s[i];c(r.value,{componentStack:r.stack})}}finally{C.T=t,K.p=n}}(vl&3)!==0&&lc(),ll(e),n=e.pendingLanes,(a&261930)!==0&&(n&42)!==0?e===xr?$s++:($s=0,xr=e):$s=0,Ys(0)}}function ff(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ns(t)))}function lc(){return uf(),of(),df(),xf()}function xf(){if(ut!==5)return!1;var e=Bl,t=dr;dr=0;var a=Mc(vl),s=C.T,n=K.p;try{K.p=32>a?32:a,C.T=null,a=fr,fr=null;var c=Bl,i=vl;if(ut=0,Wa=Bl=null,vl=0,(Le&6)!==0)throw Error(f(331));var r=Le;if(Le|=4,Xd(c.current),Gd(c,c.current,i,a),Le=r,Ys(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(cs,c)}catch{}return!0}finally{K.p=n,C.T=s,ff(e,t)}}function mf(e,t,a){t=Qt(a,t),t=Ki(e.stateNode,t,2),e=Ml(e,t,2),e!==null&&(rs(e,2),ll(e))}function He(e,t,a){if(e.tag===3)mf(e,e,a);else for(;t!==null;){if(t.tag===3){mf(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ql===null||!ql.has(s))){e=Qt(a,e),a=md(2),s=Ml(t,a,2),s!==null&&(hd(a,s,t,e),rs(s,2),ll(s));break}}t=t.return}}function pr(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new G0;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(a)||(rr=!0,n.add(a),e=J0.bind(null,e,t,a),t.then(e,e))}function J0(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Qe===e&&(Ee&a)===a&&(Fe===4||Fe===3&&(Ee&62914560)===Ee&&300>at()-Wn?(Le&2)===0&&Fa(e,0):ur|=a,Ja===Ee&&(Ja=0)),ll(e)}function hf(e,t){t===0&&(t=iu()),e=aa(e,t),e!==null&&(rs(e,t),ll(e))}function W0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),hf(e,a)}function F0(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(f(314))}s!==null&&s.delete(t),hf(e,a)}function I0(e,t){return Je(e,t)}var ac=null,Pa=null,br=!1,sc=!1,yr=!1,Yl=0;function ll(e){e!==Pa&&e.next===null&&(Pa===null?ac=Pa=e:Pa=Pa.next=e),sc=!0,br||(br=!0,em())}function Ys(e,t){if(!yr&&sc){yr=!0;do for(var a=!1,s=ac;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var c=0;else{var i=s.suspendedLanes,r=s.pingedLanes;c=(1<<31-_t(42|e)+1)-1,c&=n&~(i&~r),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,gf(s,c))}else c=Ee,c=rn(s,s===Qe?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||is(s,c)||(a=!0,gf(s,c));s=s.next}while(a);yr=!1}}function P0(){pf()}function pf(){sc=br=!1;var e=0;Yl!==0&&om()&&(e=Yl);for(var t=at(),a=null,s=ac;s!==null;){var n=s.next,c=bf(s,t);c===0?(s.next=null,a===null?ac=n:a.next=n,n===null&&(Pa=a)):(a=s,(e!==0||(c&3)!==0)&&(sc=!0)),s=n}ut!==0&&ut!==5||Ys(e),Yl!==0&&(Yl=0)}function bf(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var i=31-_t(c),r=1<<i,x=n[i];x===-1?((r&a)===0||(r&s)!==0)&&(n[i]=Ax(r,t)):x<=t&&(e.expiredLanes|=r),c&=~r}if(t=Qe,a=Ee,a=rn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&qe(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||is(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&qe(s),Mc(a)){case 2:case 8:a=nu;break;case 32:a=an;break;case 268435456:a=cu;break;default:a=an}return s=yf.bind(null,e),a=Je(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&qe(s),e.callbackPriority=2,e.callbackNode=null,2}function yf(e,t){if(ut!==0&&ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(lc()&&e.callbackNode!==a)return null;var s=Ee;return s=rn(e,e===Qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Id(e,s,t),bf(e,at()),e.callbackNode!=null&&e.callbackNode===a?yf.bind(null,e):null)}function gf(e,t){if(lc())return null;Id(e,t,!0)}function em(){fm(function(){(Le&6)!==0?Je(su,P0):pf()})}function gr(){if(Yl===0){var e=Ha;e===0&&(e=sn,sn<<=1,(sn&261888)===0&&(sn=256)),Yl=e}return Yl}function vf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fn(""+e)}function jf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function tm(e,t,a,s,n){if(t==="submit"&&a&&a.stateNode===n){var c=vf((n[St]||null).action),i=s.submitter;i&&(t=(t=i[St]||null)?vf(t.formAction):i.getAttribute("formAction"),t!==null&&(c=t,i=null));var r=new pn("action","action",null,s,n);e.push({event:r,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Yl!==0){var x=i?jf(n,i):new FormData(n);qi(a,{pending:!0,data:x,method:n.method,action:c},null,x)}}else typeof c=="function"&&(r.preventDefault(),x=i?jf(n,i):new FormData(n),qi(a,{pending:!0,data:x,method:n.method,action:c},c,x))},currentTarget:n}]})}}for(var vr=0;vr<li.length;vr++){var jr=li[vr],lm=jr.toLowerCase(),am=jr[0].toUpperCase()+jr.slice(1);Wt(lm,"on"+am)}Wt(Wu,"onAnimationEnd"),Wt(Fu,"onAnimationIteration"),Wt(Iu,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(g0,"onTransitionRun"),Wt(v0,"onTransitionStart"),Wt(j0,"onTransitionCancel"),Wt(Pu,"onTransitionEnd"),wa("onMouseEnter",["mouseout","mouseover"]),wa("onMouseLeave",["mouseout","mouseover"]),wa("onPointerEnter",["pointerout","pointerover"]),wa("onPointerLeave",["pointerout","pointerover"]),Pl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qs));function Nf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],n=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var i=s.length-1;0<=i;i--){var r=s[i],x=r.instance,O=r.currentTarget;if(r=r.listener,x!==c&&n.isPropagationStopped())break e;c=r,n.currentTarget=O;try{c(n)}catch(X){gn(X)}n.currentTarget=null,c=x}else for(i=0;i<s.length;i++){if(r=s[i],x=r.instance,O=r.currentTarget,r=r.listener,x!==c&&n.isPropagationStopped())break e;c=r,n.currentTarget=O;try{c(n)}catch(X){gn(X)}n.currentTarget=null,c=x}}}}function ze(e,t){var a=t[Oc];a===void 0&&(a=t[Oc]=new Set);var s=e+"__bubble";a.has(s)||(Sf(t,e,2,!1),a.add(s))}function Nr(e,t,a){var s=0;t&&(s|=4),Sf(a,e,s,t)}var nc="_reactListening"+Math.random().toString(36).slice(2);function Sr(e){if(!e[nc]){e[nc]=!0,mu.forEach(function(a){a!=="selectionchange"&&(sm.has(a)||Nr(a,!1,e),Nr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nc]||(t[nc]=!0,Nr("selectionchange",!1,t))}}function Sf(e,t,a,s){switch(If(t)){case 2:var n=_m;break;case 8:n=Mm;break;default:n=Hr}a=n.bind(null,t,a,e),n=void 0,!Qc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function wr(e,t,a,s,n){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var r=s.stateNode.containerInfo;if(r===n)break;if(i===4)for(i=s.return;i!==null;){var x=i.tag;if((x===3||x===4)&&i.stateNode.containerInfo===n)return;i=i.return}for(;r!==null;){if(i=ja(r),i===null)return;if(x=i.tag,x===5||x===6||x===26||x===27){s=c=i;continue e}r=r.parentNode}}s=s.return}Au(function(){var O=c,X=$c(a),F=[];e:{var L=eo.get(e);if(L!==void 0){var q=pn,oe=e;switch(e){case"keypress":if(mn(a)===0)break e;case"keydown":case"keyup":q=Fx;break;case"focusin":oe="focus",q=Xc;break;case"focusout":oe="blur",q=Xc;break;case"beforeblur":case"afterblur":q=Xc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=qx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=e0;break;case Wu:case Fu:case Iu:q=Yx;break;case Pu:q=l0;break;case"scroll":case"scrollend":q=Ux;break;case"wheel":q=s0;break;case"copy":case"cut":case"paste":q=Gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ku;break;case"toggle":case"beforetoggle":q=c0}var he=(t&4)!==0,Ye=!he&&(e==="scroll"||e==="scrollend"),E=he?L!==null?L+"Capture":null:L;he=[];for(var j=O,M;j!==null;){var W=j;if(M=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||M===null||E===null||(W=ds(j,E),W!=null&&he.push(Gs(j,W,M))),Ye)break;j=j.return}0<he.length&&(L=new q(L,oe,null,a,X),F.push({event:L,listeners:he}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",L&&a!==Bc&&(oe=a.relatedTarget||a.fromElement)&&(ja(oe)||oe[va]))break e;if((q||L)&&(L=X.window===X?X:(L=X.ownerDocument)?L.defaultView||L.parentWindow:window,q?(oe=a.relatedTarget||a.toElement,q=O,oe=oe?ja(oe):null,oe!==null&&(Ye=G(oe),he=oe.tag,oe!==Ye||he!==5&&he!==27&&he!==6)&&(oe=null)):(q=null,oe=O),q!==oe)){if(he=Eu,W="onMouseLeave",E="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(he=ku,W="onPointerLeave",E="onPointerEnter",j="pointer"),Ye=q==null?L:os(q),M=oe==null?L:os(oe),L=new he(W,j+"leave",q,a,X),L.target=Ye,L.relatedTarget=M,W=null,ja(X)===O&&(he=new he(E,j+"enter",oe,a,X),he.target=M,he.relatedTarget=Ye,W=he),Ye=W,q&&oe)t:{for(he=nm,E=q,j=oe,M=0,W=E;W;W=he(W))M++;W=0;for(var xe=j;xe;xe=he(xe))W++;for(;0<M-W;)E=he(E),M--;for(;0<W-M;)j=he(j),W--;for(;M--;){if(E===j||j!==null&&E===j.alternate){he=E;break t}E=he(E),j=he(j)}he=null}else he=null;q!==null&&wf(F,L,q,he,!1),oe!==null&&Ye!==null&&wf(F,Ye,oe,he,!0)}}e:{if(L=O?os(O):window,q=L.nodeName&&L.nodeName.toLowerCase(),q==="select"||q==="input"&&L.type==="file")var Me=qu;else if(Uu(L))if(Bu)Me=p0;else{Me=m0;var de=x0}else q=L.nodeName,!q||q.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?O&&qc(O.elementType)&&(Me=qu):Me=h0;if(Me&&(Me=Me(e,O))){Hu(F,Me,a,X);break e}de&&de(e,L,O),e==="focusout"&&O&&L.type==="number"&&O.memoizedProps.value!=null&&Hc(L,"number",L.value)}switch(de=O?os(O):window,e){case"focusin":(Uu(de)||de.contentEditable==="true")&&(Ta=de,Pc=O,gs=null);break;case"focusout":gs=Pc=Ta=null;break;case"mousedown":ei=!0;break;case"contextmenu":case"mouseup":case"dragend":ei=!1,Zu(F,a,X);break;case"selectionchange":if(y0)break;case"keydown":case"keyup":Zu(F,a,X)}var je;if(Jc)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ea?Lu(e,a)&&(Te="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(_u&&a.locale!=="ko"&&(Ea||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ea&&(je=zu()):(Al=X,Gc="value"in Al?Al.value:Al.textContent,Ea=!0)),de=cc(O,Te),0<de.length&&(Te=new Tu(Te,e,null,a,X),F.push({event:Te,listeners:de}),je?Te.data=je:(je=Ru(a),je!==null&&(Te.data=je)))),(je=r0?u0(e,a):o0(e,a))&&(Te=cc(O,"onBeforeInput"),0<Te.length&&(de=new Tu("onBeforeInput","beforeinput",null,a,X),F.push({event:de,listeners:Te}),de.data=je)),tm(F,e,O,a,X)}Nf(F,t)})}function Gs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function cc(e,t){for(var a=t+"Capture",s=[];e!==null;){var n=e,c=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||c===null||(n=ds(e,a),n!=null&&s.unshift(Gs(e,n,c)),n=ds(e,t),n!=null&&s.push(Gs(e,n,c))),e.tag===3)return s;e=e.return}return[]}function nm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function wf(e,t,a,s,n){for(var c=t._reactName,i=[];a!==null&&a!==s;){var r=a,x=r.alternate,O=r.stateNode;if(r=r.tag,x!==null&&x===s)break;r!==5&&r!==26&&r!==27||O===null||(x=O,n?(O=ds(a,c),O!=null&&i.unshift(Gs(a,O,x))):n||(O=ds(a,c),O!=null&&i.push(Gs(a,O,x)))),a=a.return}i.length!==0&&e.push({event:t,listeners:i})}var cm=/\r\n?/g,im=/\u0000|\uFFFD/g;function Df(e){return(typeof e=="string"?e:""+e).replace(cm,`
`).replace(im,"")}function Af(e,t){return t=Df(t),Df(e)===t}function $e(e,t,a,s,n,c){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Aa(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Aa(e,""+s);break;case"className":on(e,"class",s);break;case"tabIndex":on(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":on(e,a,s);break;case"style":wu(e,s,c);break;case"data":if(t!=="object"){on(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=fn(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&$e(e,t,"name",n.name,n,null),$e(e,t,"formEncType",n.formEncType,n,null),$e(e,t,"formMethod",n.formMethod,n,null),$e(e,t,"formTarget",n.formTarget,n,null)):($e(e,t,"encType",n.encType,n,null),$e(e,t,"method",n.method,n,null),$e(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=fn(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=nl);break;case"onScroll":s!=null&&ze("scroll",e);break;case"onScrollEnd":s!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(f(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(f(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=fn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":ze("beforetoggle",e),ze("toggle",e),un(e,"popover",s);break;case"xlinkActuate":sl(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":sl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":sl(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":sl(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":sl(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":sl(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":sl(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":sl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":sl(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":un(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Lx.get(a)||a,un(e,a,s))}}function Dr(e,t,a,s,n,c){switch(a){case"style":wu(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(f(61));if(a=s.__html,a!=null){if(n.children!=null)throw Error(f(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Aa(e,s):(typeof s=="number"||typeof s=="bigint")&&Aa(e,""+s);break;case"onScroll":s!=null&&ze("scroll",e);break;case"onScrollEnd":s!=null&&ze("scrollend",e);break;case"onClick":s!=null&&(e.onclick=nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),c=e[St]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,n),typeof s=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,n);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):un(e,a,s)}}}function bt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var s=!1,n=!1,c;for(c in a)if(a.hasOwnProperty(c)){var i=a[c];if(i!=null)switch(c){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:$e(e,t,c,i,a,null)}}n&&$e(e,t,"srcSet",a.srcSet,a,null),s&&$e(e,t,"src",a.src,a,null);return;case"input":ze("invalid",e);var r=c=i=n=null,x=null,O=null;for(s in a)if(a.hasOwnProperty(s)){var X=a[s];if(X!=null)switch(s){case"name":n=X;break;case"type":i=X;break;case"checked":x=X;break;case"defaultChecked":O=X;break;case"value":c=X;break;case"defaultValue":r=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(f(137,t));break;default:$e(e,t,s,X,a,null)}}vu(e,c,r,x,O,i,n,!1);return;case"select":ze("invalid",e),s=i=c=null;for(n in a)if(a.hasOwnProperty(n)&&(r=a[n],r!=null))switch(n){case"value":c=r;break;case"defaultValue":i=r;break;case"multiple":s=r;default:$e(e,t,n,r,a,null)}t=c,a=i,e.multiple=!!s,t!=null?Da(e,!!s,t,!1):a!=null&&Da(e,!!s,a,!0);return;case"textarea":ze("invalid",e),c=n=s=null;for(i in a)if(a.hasOwnProperty(i)&&(r=a[i],r!=null))switch(i){case"value":s=r;break;case"defaultValue":n=r;break;case"children":c=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(f(91));break;default:$e(e,t,i,r,a,null)}Nu(e,s,n,c);return;case"option":for(x in a)a.hasOwnProperty(x)&&(s=a[x],s!=null)&&(x==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":$e(e,t,x,s,a,null));return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(s=0;s<Qs.length;s++)ze(Qs[s],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(s=a[O],s!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(f(137,t));default:$e(e,t,O,s,a,null)}return;default:if(qc(t)){for(X in a)a.hasOwnProperty(X)&&(s=a[X],s!==void 0&&Dr(e,t,X,s,a,void 0));return}}for(r in a)a.hasOwnProperty(r)&&(s=a[r],s!=null&&$e(e,t,r,s,a,null))}function rm(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,c=null,i=null,r=null,x=null,O=null,X=null;for(q in a){var F=a[q];if(a.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=F;default:s.hasOwnProperty(q)||$e(e,t,q,null,s,F)}}for(var L in s){var q=s[L];if(F=a[L],s.hasOwnProperty(L)&&(q!=null||F!=null))switch(L){case"type":c=q;break;case"name":n=q;break;case"checked":O=q;break;case"defaultChecked":X=q;break;case"value":i=q;break;case"defaultValue":r=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(f(137,t));break;default:q!==F&&$e(e,t,L,q,s,F)}}Uc(e,i,r,x,O,X,c,n);return;case"select":q=i=r=L=null;for(c in a)if(x=a[c],a.hasOwnProperty(c)&&x!=null)switch(c){case"value":break;case"multiple":q=x;default:s.hasOwnProperty(c)||$e(e,t,c,null,s,x)}for(n in s)if(c=s[n],x=a[n],s.hasOwnProperty(n)&&(c!=null||x!=null))switch(n){case"value":L=c;break;case"defaultValue":r=c;break;case"multiple":i=c;default:c!==x&&$e(e,t,n,c,s,x)}t=r,a=i,s=q,L!=null?Da(e,!!a,L,!1):!!s!=!!a&&(t!=null?Da(e,!!a,t,!0):Da(e,!!a,a?[]:"",!1));return;case"textarea":q=L=null;for(r in a)if(n=a[r],a.hasOwnProperty(r)&&n!=null&&!s.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:$e(e,t,r,null,s,n)}for(i in s)if(n=s[i],c=a[i],s.hasOwnProperty(i)&&(n!=null||c!=null))switch(i){case"value":L=n;break;case"defaultValue":q=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(f(91));break;default:n!==c&&$e(e,t,i,n,s,c)}ju(e,L,q);return;case"option":for(var oe in a)L=a[oe],a.hasOwnProperty(oe)&&L!=null&&!s.hasOwnProperty(oe)&&(oe==="selected"?e.selected=!1:$e(e,t,oe,null,s,L));for(x in s)L=s[x],q=a[x],s.hasOwnProperty(x)&&L!==q&&(L!=null||q!=null)&&(x==="selected"?e.selected=L&&typeof L!="function"&&typeof L!="symbol":$e(e,t,x,L,s,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in a)L=a[he],a.hasOwnProperty(he)&&L!=null&&!s.hasOwnProperty(he)&&$e(e,t,he,null,s,L);for(O in s)if(L=s[O],q=a[O],s.hasOwnProperty(O)&&L!==q&&(L!=null||q!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(f(137,t));break;default:$e(e,t,O,L,s,q)}return;default:if(qc(t)){for(var Ye in a)L=a[Ye],a.hasOwnProperty(Ye)&&L!==void 0&&!s.hasOwnProperty(Ye)&&Dr(e,t,Ye,void 0,s,L);for(X in s)L=s[X],q=a[X],!s.hasOwnProperty(X)||L===q||L===void 0&&q===void 0||Dr(e,t,X,L,s,q);return}}for(var E in a)L=a[E],a.hasOwnProperty(E)&&L!=null&&!s.hasOwnProperty(E)&&$e(e,t,E,null,s,L);for(F in s)L=s[F],q=a[F],!s.hasOwnProperty(F)||L===q||L==null&&q==null||$e(e,t,F,L,s,q)}function zf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function um(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var n=a[s],c=n.transferSize,i=n.initiatorType,r=n.duration;if(c&&r&&zf(i)){for(i=0,r=n.responseEnd,s+=1;s<a.length;s++){var x=a[s],O=x.startTime;if(O>r)break;var X=x.transferSize,F=x.initiatorType;X&&zf(F)&&(x=x.responseEnd,i+=X*(x<r?1:(r-O)/(x-O)))}if(--s,t+=8*(c+i)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ar=null,zr=null;function ic(e){return e.nodeType===9?e:e.ownerDocument}function Cf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ef(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Er=null;function om(){var e=window.event;return e&&e.type==="popstate"?e===Er?!1:(Er=e,!0):(Er=null,!1)}var Tf=typeof setTimeout=="function"?setTimeout:void 0,dm=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,fm=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(e){return kf.resolve(null).then(e).catch(xm)}:Tf;function xm(e){setTimeout(function(){throw e})}function Ql(e){return e==="head"}function _f(e,t){var a=t,s=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(n),as(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")Ks(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ks(a);for(var c=a.firstChild;c;){var i=c.nextSibling,r=c.nodeName;c[us]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=i}}else a==="body"&&Ks(e.ownerDocument.body);a=n}while(a);as(t)}function Mf(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Tr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tr(a),Lc(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function mm(e,t,a,s){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[us])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function hm(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Zt(e.nextSibling),e===null))return null;return e}function Of(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Zt(e.nextSibling),e===null))return null;return e}function kr(e){return e.data==="$?"||e.data==="$~"}function _r(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function pm(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Mr=null;function Lf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Zt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Rf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Uf(e,t,a){switch(t=ic(a),e){case"html":if(e=t.documentElement,!e)throw Error(f(452));return e;case"head":if(e=t.head,!e)throw Error(f(453));return e;case"body":if(e=t.body,!e)throw Error(f(454));return e;default:throw Error(f(451))}}function Ks(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Lc(e)}var Jt=new Map,Hf=new Set;function rc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jl=K.d;K.d={f:bm,r:ym,D:gm,C:vm,L:jm,m:Nm,X:wm,S:Sm,M:Dm};function bm(){var e=jl.f(),t=Pn();return e||t}function ym(e){var t=Na(e);t!==null&&t.tag===5&&t.type==="form"?ed(t):jl.r(e)}var es=typeof document>"u"?null:document;function qf(e,t,a){var s=es;if(s&&typeof t=="string"&&t){var n=$t(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),Hf.has(n)||(Hf.add(n),e={rel:e,crossOrigin:a,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),bt(t,"link",e),dt(t),s.head.appendChild(t)))}}function gm(e){jl.D(e),qf("dns-prefetch",e,null)}function vm(e,t){jl.C(e,t),qf("preconnect",e,t)}function jm(e,t,a){jl.L(e,t,a);var s=es;if(s&&e&&t){var n='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+$t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+$t(a.imageSizes)+'"]')):n+='[href="'+$t(e)+'"]';var c=n;switch(t){case"style":c=ts(e);break;case"script":c=ls(e)}Jt.has(c)||(e=P({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Jt.set(c,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(Vs(c))||t==="script"&&s.querySelector(Xs(c))||(t=s.createElement("link"),bt(t,"link",e),dt(t),s.head.appendChild(t)))}}function Nm(e,t){jl.m(e,t);var a=es;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+$t(s)+'"][href="'+$t(e)+'"]',c=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=ls(e)}if(!Jt.has(c)&&(e=P({rel:"modulepreload",href:e},t),Jt.set(c,e),a.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Xs(c)))return}s=a.createElement("link"),bt(s,"link",e),dt(s),a.head.appendChild(s)}}}function Sm(e,t,a){jl.S(e,t,a);var s=es;if(s&&e){var n=Sa(s).hoistableStyles,c=ts(e);t=t||"default";var i=n.get(c);if(!i){var r={loading:0,preload:null};if(i=s.querySelector(Vs(c)))r.loading=5;else{e=P({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Jt.get(c))&&Or(e,a);var x=i=s.createElement("link");dt(x),bt(x,"link",e),x._p=new Promise(function(O,X){x.onload=O,x.onerror=X}),x.addEventListener("load",function(){r.loading|=1}),x.addEventListener("error",function(){r.loading|=2}),r.loading|=4,uc(i,t,s)}i={type:"stylesheet",instance:i,count:1,state:r},n.set(c,i)}}}function wm(e,t){jl.X(e,t);var a=es;if(a&&e){var s=Sa(a).hoistableScripts,n=ls(e),c=s.get(n);c||(c=a.querySelector(Xs(n)),c||(e=P({src:e,async:!0},t),(t=Jt.get(n))&&Lr(e,t),c=a.createElement("script"),dt(c),bt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(n,c))}}function Dm(e,t){jl.M(e,t);var a=es;if(a&&e){var s=Sa(a).hoistableScripts,n=ls(e),c=s.get(n);c||(c=a.querySelector(Xs(n)),c||(e=P({src:e,async:!0,type:"module"},t),(t=Jt.get(n))&&Lr(e,t),c=a.createElement("script"),dt(c),bt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(n,c))}}function Bf(e,t,a,s){var n=(n=V.current)?rc(n):null;if(!n)throw Error(f(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ts(a.href),a=Sa(n).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ts(a.href);var c=Sa(n).hoistableStyles,i=c.get(e);if(i||(n=n.ownerDocument||n,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,i),(c=n.querySelector(Vs(e)))&&!c._p&&(i.instance=c,i.state.loading=5),Jt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jt.set(e,a),c||Am(n,e,a,i.state))),t&&s===null)throw Error(f(528,""));return i}if(t&&s!==null)throw Error(f(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ls(a),a=Sa(n).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(f(444,e))}}function ts(e){return'href="'+$t(e)+'"'}function Vs(e){return'link[rel="stylesheet"]['+e+"]"}function $f(e){return P({},e,{"data-precedence":e.precedence,precedence:null})}function Am(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),bt(t,"link",a),dt(t),e.head.appendChild(t))}function ls(e){return'[src="'+$t(e)+'"]'}function Xs(e){return"script[async]"+e}function Yf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+$t(a.href)+'"]');if(s)return t.instance=s,dt(s),s;var n=P({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),dt(s),bt(s,"style",n),uc(s,a.precedence,e),t.instance=s;case"stylesheet":n=ts(a.href);var c=e.querySelector(Vs(n));if(c)return t.state.loading|=4,t.instance=c,dt(c),c;s=$f(a),(n=Jt.get(n))&&Or(s,n),c=(e.ownerDocument||e).createElement("link"),dt(c);var i=c;return i._p=new Promise(function(r,x){i.onload=r,i.onerror=x}),bt(c,"link",s),t.state.loading|=4,uc(c,a.precedence,e),t.instance=c;case"script":return c=ls(a.src),(n=e.querySelector(Xs(c)))?(t.instance=n,dt(n),n):(s=a,(n=Jt.get(c))&&(s=P({},a),Lr(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),dt(n),bt(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(f(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,uc(s,a.precedence,e));return t.instance}function uc(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,c=n,i=0;i<s.length;i++){var r=s[i];if(r.dataset.precedence===t)c=r;else if(c!==n)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Or(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lr(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var oc=null;function Qf(e,t,a){if(oc===null){var s=new Map,n=oc=new Map;n.set(a,s)}else n=oc,s=n.get(a),s||(s=new Map,n.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var c=a[n];if(!(c[us]||c[xt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var i=c.getAttribute(t)||"";i=e+i;var r=s.get(i);r?r.push(c):s.set(i,[c])}}return s}function Gf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function zm(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Kf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Cm(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var n=ts(s.href),c=t.querySelector(Vs(n));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=dc.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,dt(c);return}c=t.ownerDocument||t,s=$f(s),(n=Jt.get(n))&&Or(s,n),c=c.createElement("link"),dt(c);var i=c;i._p=new Promise(function(r,x){i.onload=r,i.onerror=x}),bt(c,"link",s),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=dc.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Rr=0;function Em(e,t){return e.stylesheets&&e.count===0&&xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Rr===0&&(Rr=62500*um());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Rr?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function xc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,t.forEach(Tm,e),fc=null,dc.call(e))}function Tm(e,t){if(!(t.state.loading&4)){var a=fc.get(e);if(a)var s=a.get(null);else{a=new Map,fc.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<n.length;c++){var i=n[c];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(a.set(i.dataset.precedence,i),s=i)}s&&a.set(null,s)}n=t.instance,i=n.getAttribute("data-precedence"),c=a.get(i)||s,c===s&&a.set(null,n),a.set(i,n),this.count++,s=dc.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),c?c.parentNode.insertBefore(n,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Zs={$$typeof:p,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function km(e,t,a,s,n,c,i,r,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kc(0),this.hiddenUpdates=kc(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=c,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Vf(e,t,a,s,n,c,i,r,x,O,X,F){return e=new km(e,t,a,i,x,O,X,F,r),t=1,c===!0&&(t|=24),c=Ot(3,null,null,t),e.current=c,c.stateNode=e,t=hi(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:a,cache:t},gi(c),e}function Xf(e){return e?(e=Ma,e):Ma}function Zf(e,t,a,s,n,c){n=Xf(n),s.context===null?s.context=n:s.pendingContext=n,s=_l(t),s.payload={element:a},c=c===void 0?null:c,c!==null&&(s.callback=c),a=Ml(e,s,t),a!==null&&(Et(a,e,t),As(a,e,t))}function Jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ur(e,t){Jf(e,t),(e=e.alternate)&&Jf(e,t)}function Wf(e){if(e.tag===13||e.tag===31){var t=aa(e,67108864);t!==null&&Et(t,e,67108864),Ur(e,67108864)}}function Ff(e){if(e.tag===13||e.tag===31){var t=qt();t=_c(t);var a=aa(e,t);a!==null&&Et(a,e,t),Ur(e,t)}}var mc=!0;function _m(e,t,a,s){var n=C.T;C.T=null;var c=K.p;try{K.p=2,Hr(e,t,a,s)}finally{K.p=c,C.T=n}}function Mm(e,t,a,s){var n=C.T;C.T=null;var c=K.p;try{K.p=8,Hr(e,t,a,s)}finally{K.p=c,C.T=n}}function Hr(e,t,a,s){if(mc){var n=qr(s);if(n===null)wr(e,t,s,hc,a),Pf(e,s);else if(Lm(n,e,t,a,s))s.stopPropagation();else if(Pf(e,s),t&4&&-1<Om.indexOf(e)){for(;n!==null;){var c=Na(n);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var i=Il(c.pendingLanes);if(i!==0){var r=c;for(r.pendingLanes|=2,r.entangledLanes|=2;i;){var x=1<<31-_t(i);r.entanglements[1]|=x,i&=~x}ll(c),(Le&6)===0&&(Fn=at()+500,Ys(0))}}break;case 31:case 13:r=aa(c,2),r!==null&&Et(r,c,2),Pn(),Ur(c,2)}if(c=qr(s),c===null&&wr(e,t,s,hc,a),c===n)break;n=c}n!==null&&s.stopPropagation()}else wr(e,t,s,null,a)}}function qr(e){return e=$c(e),Br(e)}var hc=null;function Br(e){if(hc=null,e=ja(e),e!==null){var t=G(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Y(t),e!==null)return e;e=null}else if(a===31){if(e=le(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return hc=e,null}function If(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tc()){case su:return 2;case nu:return 8;case an:case vx:return 32;case cu:return 268435456;default:return 32}default:return 32}}var $r=!1,Gl=null,Kl=null,Vl=null,Js=new Map,Ws=new Map,Xl=[],Om="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pf(e,t){switch(e){case"focusin":case"focusout":Gl=null;break;case"dragenter":case"dragleave":Kl=null;break;case"mouseover":case"mouseout":Vl=null;break;case"pointerover":case"pointerout":Js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ws.delete(t.pointerId)}}function Fs(e,t,a,s,n,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:c,targetContainers:[n]},t!==null&&(t=Na(t),t!==null&&Wf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Lm(e,t,a,s,n){switch(t){case"focusin":return Gl=Fs(Gl,e,t,a,s,n),!0;case"dragenter":return Kl=Fs(Kl,e,t,a,s,n),!0;case"mouseover":return Vl=Fs(Vl,e,t,a,s,n),!0;case"pointerover":var c=n.pointerId;return Js.set(c,Fs(Js.get(c)||null,e,t,a,s,n)),!0;case"gotpointercapture":return c=n.pointerId,Ws.set(c,Fs(Ws.get(c)||null,e,t,a,s,n)),!0}return!1}function ex(e){var t=ja(e.target);if(t!==null){var a=G(t);if(a!==null){if(t=a.tag,t===13){if(t=Y(a),t!==null){e.blockedOn=t,fu(e.priority,function(){Ff(a)});return}}else if(t===31){if(t=le(a),t!==null){e.blockedOn=t,fu(e.priority,function(){Ff(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=qr(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Bc=s,a.target.dispatchEvent(s),Bc=null}else return t=Na(a),t!==null&&Wf(t),e.blockedOn=a,!1;t.shift()}return!0}function tx(e,t,a){pc(e)&&a.delete(t)}function Rm(){$r=!1,Gl!==null&&pc(Gl)&&(Gl=null),Kl!==null&&pc(Kl)&&(Kl=null),Vl!==null&&pc(Vl)&&(Vl=null),Js.forEach(tx),Ws.forEach(tx)}function bc(e,t){e.blockedOn===t&&(e.blockedOn=null,$r||($r=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,Rm)))}var yc=null;function lx(e){yc!==e&&(yc=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(Br(s||a)===null)continue;break}var c=Na(a);c!==null&&(e.splice(t,3),t-=3,qi(c,{pending:!0,data:n,method:a.method,action:s},s,n))}}))}function as(e){function t(x){return bc(x,e)}Gl!==null&&bc(Gl,e),Kl!==null&&bc(Kl,e),Vl!==null&&bc(Vl,e),Js.forEach(t),Ws.forEach(t);for(var a=0;a<Xl.length;a++){var s=Xl[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Xl.length&&(a=Xl[0],a.blockedOn===null);)ex(a),a.blockedOn===null&&Xl.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var n=a[s],c=a[s+1],i=n[St]||null;if(typeof c=="function")i||lx(a);else if(i){var r=null;if(c&&c.hasAttribute("formAction")){if(n=c,i=c[St]||null)r=i.formAction;else if(Br(n)!==null)continue}else r=i.action;typeof r=="function"?a[s+1]=r:(a.splice(s,3),s-=3),lx(a)}}}function ax(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(i){return n=i})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Yr(e){this._internalRoot=e}gc.prototype.render=Yr.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(f(409));var a=t.current,s=qt();Zf(a,s,e,t,null,null)},gc.prototype.unmount=Yr.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zf(e.current,2,null,e,null,null),Pn(),t[va]=null}};function gc(e){this._internalRoot=e}gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=du();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Xl.length&&t!==0&&t<Xl[a].priority;a++);Xl.splice(a,0,e),a===0&&ex(e)}};var sx=H.version;if(sx!=="19.2.3")throw Error(f(527,sx,"19.2.3"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(f(188)):(e=Object.keys(e).join(","),Error(f(268,e)));return e=b(t),e=e!==null?$(e):null,e=e===null?null:e.stateNode,e};var Um={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{cs=vc.inject(Um),kt=vc}catch{}}return Ps.createRoot=function(e,t){if(!v(e))throw Error(f(299));var a=!1,s="",n=od,c=dd,i=fd;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Vf(e,1,!1,null,null,a,s,null,n,c,i,ax),e[va]=t.current,Sr(e),new Yr(t)},Ps.hydrateRoot=function(e,t,a){if(!v(e))throw Error(f(299));var s=!1,n="",c=od,i=dd,r=fd,x=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(i=a.onCaughtError),a.onRecoverableError!==void 0&&(r=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),t=Vf(e,1,!0,t,a??null,s,n,x,c,i,r,ax),t.context=Xf(null),a=t.current,s=qt(),s=_c(s),n=_l(s),n.callback=null,Ml(a,n,s),a=s,t.current.lanes=a,rs(t,a),ll(t),e[va]=t.current,Sr(e),new gc(t)},Ps.version="19.2.3",Ps}var mx;function Zm(){if(mx)return Kr.exports;mx=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(H){console.error(H)}}return u(),Kr.exports=Xm(),Kr.exports}var Jm=Zm();const Wm=u=>u.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Fm=u=>u.replace(/^([A-Z])|[\s-_]+(\w)/g,(H,S,f)=>f?f.toUpperCase():S.toLowerCase()),hx=u=>{const H=Fm(u);return H.charAt(0).toUpperCase()+H.slice(1)},gx=(...u)=>u.filter((H,S,f)=>!!H&&H.trim()!==""&&f.indexOf(H)===S).join(" ").trim(),Im=u=>{for(const H in u)if(H.startsWith("aria-")||H==="role"||H==="title")return!0};var Pm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eh=z.forwardRef(({color:u="currentColor",size:H=24,strokeWidth:S=2,absoluteStrokeWidth:f,className:v="",children:G,iconNode:Y,...le},d)=>z.createElement("svg",{ref:d,...Pm,width:H,height:H,stroke:u,strokeWidth:f?Number(S)*24/Number(H):S,className:gx("lucide",v),...!G&&!Im(le)&&{"aria-hidden":"true"},...le},[...Y.map(([b,$])=>z.createElement(b,$)),...Array.isArray(G)?G:[G]]));const ge=(u,H)=>{const S=z.forwardRef(({className:f,...v},G)=>z.createElement(eh,{ref:G,iconNode:H,className:gx(`lucide-${Wm(hx(u))}`,`lucide-${u}`,f),...v}));return S.displayName=hx(u),S};const th=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Jr=ge("activity",th);const lh=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],jc=ge("archive",lh);const ah=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],sh=ge("arrow-right",ah);const nh=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],ch=ge("calculator",nh);const ih=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tt=ge("calendar",ih);const rh=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Wr=ge("chart-no-axes-column",rh);const uh=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Fr=ge("chart-pie",uh);const oh=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ga=ge("chevron-down",oh);const dh=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Dc=ge("chevron-up",dh);const fh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ac=ge("circle-alert",fh);const xh=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ir=ge("circle-check-big",xh);const mh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],hh=ge("circle-minus",mh);const ph=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ss=ge("clipboard-list",ph);const bh=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],yh=ge("clipboard",bh);const gh=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Pr=ge("clock",gh);const vh=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],jh=ge("credit-card",vh);const Nh=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ot=ge("dollar-sign",Nh);const Sh=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],en=ge("file-text",Sh);const wh=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zc=ge("funnel",wh);const Dh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ah=ge("info",Dh);const zh=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ch=ge("lock",zh);const Eh=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Th=ge("log-out",Eh);const kh=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],px=ge("map-pin",kh);const _h=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],Nc=ge("package-plus",_h);const Mh=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ns=ge("package",Mh);const Oh=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Lh=ge("piggy-bank",Oh);const Rh=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lt=ge("refresh-cw",Rh);const Uh=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],bx=ge("rotate-ccw",Uh);const Hh=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tn=ge("save",Hh);const qh=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yt=ge("search",qh);const Bh=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$h=ge("settings",Bh);const Yh=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Nl=ge("shield",Yh);const Qh=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Sc=ge("shopping-cart",Qh);const Gh=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ln=ge("square-check-big",Gh);const Kh=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],eu=ge("trash-2",Kh);const Vh=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Wl=ge("trending-up",Vh);const Xh=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ya=ge("triangle-alert",Xh);const Zh=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],tu=ge("truck",Zh);const Jh=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Wh=ge("user-plus",Jh);const Fh=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Fl=ge("user",Fh);const Ih=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Cc=ge("users",Ih);const Ph=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Jl=ge("wallet",Ph),Ne=async(u,H,S,f=null)=>{try{const v=new AbortController,G=setTimeout(()=>v.abort(),3e4),Y=await fetch(u,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:H,payload:S,token:f}),signal:v.signal});if(clearTimeout(G),!Y.ok)throw new Error(`HTTP error! status: ${Y.status}`);const le=await Y.json();if(le.error)throw new Error(le.error);return le}catch(v){throw console.error(`API Error [${H}]:`,v),v.name==="AbortError"?new Error(" GAS "):v.message.includes("Load failed")||v.message.includes("Failed to fetch")?new Error(" GAS Anyone CORS "):v}};function ep({onLogin:u,apiUrl:H}){const[S,f]=z.useState(!1),[v,G]=z.useState(""),[Y,le]=z.useState(""),[d,b]=z.useState(!1),$=async P=>{P.preventDefault(),b(!0);try{const g=await Ne(H,S?"register":"login",{username:v,password:Y});console.log("Login API Result:",g),S?(alert(" ()"),f(!1)):u(g)}catch(N){alert(N.message)}finally{b(!1)}};return l.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 bg-slate-50",children:l.jsxs("div",{className:"bg-white border border-slate-200 p-8 w-full max-w-md rounded-2xl shadow-2xl",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsx("img",{src:"/inventory-system/logo.png",alt:"Logo",className:"h-20 w-auto object-contain"})}),l.jsx("p",{className:"text-slate-500",children:S?"":""})]}),l.jsxs("form",{onSubmit:$,className:"space-y-6",children:[l.jsx("div",{children:l.jsxs("div",{className:"relative",children:[l.jsx(Fl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),l.jsx("input",{required:!0,type:"text",placeholder:"",className:"input-field pl-10 bg-slate-50 border-slate-200 focus:bg-white transition-all",value:v,onChange:P=>G(P.target.value)})]})}),l.jsx("div",{children:l.jsxs("div",{className:"relative",children:[l.jsx(Ch,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),l.jsx("input",{required:!0,type:"password",placeholder:"",className:"input-field pl-10 bg-slate-50 border-slate-200 focus:bg-white transition-all",value:Y,onChange:P=>le(P.target.value)})]})}),l.jsxs("button",{type:"submit",disabled:d,className:"btn-primary w-full flex justify-center items-center gap-2 py-3",children:[d?"...":S?"":""," ",l.jsx(sh,{size:18})]})]}),l.jsx("div",{className:"mt-6 text-center text-sm text-slate-500",children:l.jsx("button",{onClick:()=>f(!S),className:"hover:text-blue-400 transition-colors",children:S?"":""})})]})})}const lu={1L:75,1L:80,2L:155,1L:80,2L:155,:90,:20,:20,:20,:20,:18.3,:20,:16.7,:20,:18.3,:45,:70,:70,:70,:70,1L:55,471:30,1795:75,:27.5,:25,:25,:30,:30,:27.5,:25,:20,:10,:20,:20,:25,:20,:20,:20,:20,:10,:10,:20,:20,:20,:20,:20,:16.7,:20,1L:70,2L:140,:50,:70,:50,:20,400:16.7,1000:25,1000:40,2000:40,2000:60,1000:60,2000:100,500:50,1000:60},yx=Object.keys(lu),wc={1L:20,1L:20,2L:12,1L:20,2L:12,:20,:70,:70,:70,:12,:24,:20,:108,:40,:40,:15,:4,:4,:4,:4,1L:16,471:30,1795ml:9,:60,:20,:24,:15,:15,:24,:25,:15,:15,:15,:15,:24,:24,:24,:24,:15,:15,:15,:15,:15,:15,:15,:15,:24,:15},Ec=(u,H)=>[...u].sort((S,f)=>{const v=String(S[H]||""),G=String(f[H]||""),Y=yx.indexOf(v),le=yx.indexOf(G);return Y===-1&&le===-1?v.localeCompare(G):Y===-1?1:le===-1?-1:Y-le}),Ge=()=>{const u=new Date;return`${u.getFullYear()}-${String(u.getMonth()+1).padStart(2,"0")}-${String(u.getDate()).padStart(2,"0")}`};function tp({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState({1e3:0,500:0,100:0,50:0,10:0,5:0,1:0}),[Y,le]=z.useState(5e3),[d,b]=z.useState({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0}),[$,P]=z.useState(""),[N,g]=z.useState("CASH"),[_,te]=z.useState(!1);z.useEffect(()=>{le(N==="CASH"?5e3:0)},[N]);const D=z.useCallback(async()=>{try{const w=await Ne(H,"getProducts",{},u.token);if(console.log("Sales Page - Raw Products Data:",w),Array.isArray(w)){const U=w.filter(ne=>(Number(ne.stock)||0)>0||(Number(ne.originalStock)||0)>0),Q=Ec(U,"name");console.log("Sales Page - Sorted Products (Stock or Original > 0):",Q),f(Q.map(ne=>{const C=Number(ne.price)||0,K=lu[ne.name]!==void 0?lu[ne.name]:C;return{id:ne.id,name:ne.name,stock:Number(ne.stock)||0,originalStock:Number(ne.originalStock)||0,picked:0,original:0,returns:0,sold:0,price:K,subtotal:0}}))}else console.error("Sales Page - Data is not an array:",w)}catch(w){console.error("Fetch products failed",w),alert(": "+w.message)}},[H,u.token]);z.useEffect(()=>{(async()=>u?.token&&await D())()},[u.token,D]);const m=(w,U,Q)=>{let ne=Number(Q);isNaN(ne)&&(ne=0),f(C=>C.map(K=>{if(K.id!==w)return K;let ee=U==="picked"?ne:K.picked||0,ae=U==="original"?ne:K.original||0,ce=U==="returns"?ne:K.returns||0,o=U==="price"?ne:K.price||0;ee>K.stock&&(ee=K.stock),ee<0&&(ee=0),ae>K.originalStock&&(ae=K.originalStock),ae<0&&(ae=0);const R=ee+ae;ce>R&&(ce=R),ce<0&&(ce=0);const I={...K,picked:ee,original:ae,returns:ce,price:o};return I.sold=I.picked+I.original-I.returns,I.subtotal=I.sold*(I.price||0),I}))},T=w=>{const U=document.getElementById(w);U&&(U.focus(),U.select?.(),U.scrollIntoView({block:"nearest",behavior:"smooth"}))},p=(w,U,Q,ne="input-")=>{if(!["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(w.key))return;w.key.startsWith("Arrow")&&w.preventDefault();const K=["picked","original","returns","price"],ee=K.indexOf(Q);if(w.key==="Enter"){w.preventDefault();const ce=["picked","original","returns"],o=ce.indexOf(Q);if(o<ce.length-1&&o!==-1){const R=ce[o+1];T(`${ne}${U}-${R}`)}else U<S.length-1?T(`${ne}${U+1}-picked`):T("input-cash-1000");return}let ae=null;w.key==="ArrowUp"?U>0&&(ae=`${ne}${U-1}-${Q}`):w.key==="ArrowDown"?U<S.length-1?ae=`${ne}${U+1}-${Q}`:ae="input-cash-1000":w.key==="ArrowLeft"?ee>0&&(ae=`${ne}${U}-${K[ee-1]}`):w.key==="ArrowRight"&&(ee<K.length-1?ae=`${ne}${U}-${K[ee+1]}`:ae="input-cash-1000"),ae&&T(ae)},J=(w,U,Q,ne)=>{["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(w.key)&&(w.key.startsWith("Arrow")&&w.preventDefault(),w.key==="Enter"||w.key==="ArrowDown"?(w.preventDefault(),Q&&T(Q)):w.key==="ArrowUp"?ne?T(ne):S.length>0&&T(`input-${S.length-1}-price`):w.key==="ArrowLeft"&&S.length>0&&T(`input-${S.length-1}-price`))},A=S.reduce((w,U)=>w+(U.subtotal||0),0),B=Object.entries(v).reduce((w,[U,Q])=>w+Number(U)*Q,0)-Y,Z=Number(d.stall)+Number(d.cleaning)+Number(d.electricity)+Number(d.gas)+Number(d.parking)+Number(d.goods)+Number(d.bags)+Number(d.others)+Number(d.linePay),se=N==="CREDIT",me=se?A:B+Z+Number(d.serviceFee)-A,h=async()=>{if(!$.trim()){alert("");const U=document.getElementById("input-location");U&&U.focus();return}const w={salesRep:u.username,customer:$,paymentMethod:N,salesData:S.map(U=>({productId:U.id,picked:U.picked,original:U.original,returns:U.returns,sold:U.sold,unitPrice:U.price})),cashData:{totalCash:N==="CREDIT"?0:B,reserve:Y},expenseData:{...d,finalTotal:me}};te(!0);try{await Ne(H,"saveSales",w,u.token),alert(" Google Sheet"),window.location.reload()}catch(U){alert(": "+U.message)}finally{te(!1)}};return l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6 h-full overflow-y-auto xl:overflow-hidden",children:[_&&l.jsxs("div",{className:"loading-overlay",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),l.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),l.jsxs("div",{className:"xl:col-span-2 glass-panel p-6 overflow-hidden flex flex-col h-auto min-h-[60vh] xl:h-[calc(100vh-10rem)]",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[l.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-slate-800",children:[l.jsx(lt,{size:20,className:"text-blue-600"})," "]}),l.jsxs("div",{className:"flex flex-col md:flex-row items-stretch md:items-center gap-4 w-full md:w-auto",children:[l.jsxs("div",{className:"flex bg-slate-50 rounded-lg p-1 border border-slate-200 self-start md:self-auto",children:[l.jsx("button",{onClick:()=>g("CASH"),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${N==="CASH"?"bg-emerald-500 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""}),l.jsx("button",{onClick:()=>g("CREDIT"),className:`px-3 py-1 text-xs font-bold rounded-md transition-all ${N==="CREDIT"?"bg-amber-500 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""})]}),l.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[l.jsx("label",{className:"text-sm text-slate-500 font-bold whitespace-nowrap",children:":"}),l.jsx("input",{id:"input-location",type:"text",className:"input-field py-1 px-3 w-full md:w-48",placeholder:"...",value:$,onChange:w=>P(w.target.value),onKeyDown:w=>{w.key==="Enter"&&(w.preventDefault(),T("input-m-0-picked")||T("input-0-picked"))}})]})]})]}),l.jsxs("div",{className:"flex-1 overflow-auto",children:[l.jsx("div",{className:"md:hidden space-y-4",children:S.map((w,U)=>l.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-100",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsx("div",{className:"font-bold text-slate-800 text-lg",children:w.name}),l.jsxs("div",{className:"text-xs font-mono bg-white px-2 py-1 rounded border border-slate-200",children:[l.jsx("span",{className:"text-slate-400 mr-1",children:""}),l.jsx("span",{className:"text-blue-600 font-bold",children:w.stock}),l.jsx("span",{className:"text-slate-300 mx-1",children:"/"}),l.jsx("span",{className:"text-orange-600 font-bold",children:w.originalStock||0})]})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-3",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-[10px] text-slate-500 text-center font-bold",children:""}),l.jsx("input",{id:`input-m-${U}-picked`,type:"number",className:"input-field text-center p-2 text-base font-bold",value:w.picked||"",onChange:Q=>m(w.id,"picked",Q.target.value),onKeyDown:Q=>p(Q,U,"picked","input-m-")})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-[10px] text-slate-500 text-center font-bold",children:""}),l.jsx("input",{id:`input-m-${U}-original`,type:"number",className:"input-field text-center p-2 text-base font-bold",value:w.original||"",onChange:Q=>m(w.id,"original",Q.target.value),onKeyDown:Q=>p(Q,U,"original","input-m-")})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-[10px] text-slate-500 text-center font-bold",children:""}),l.jsx("input",{id:`input-m-${U}-returns`,type:"number",className:"input-field text-center p-2 text-base font-bold text-red-600",value:w.returns||"",onChange:Q=>m(w.id,"returns",Q.target.value),onKeyDown:Q=>p(Q,U,"returns","input-m-")})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-[10px] text-slate-500 text-center font-bold",children:""}),l.jsx("input",{id:`input-m-${U}-price`,type:"number",className:"input-field text-center p-2 text-base font-bold",value:w.price,onChange:Q=>m(w.id,"price",Q.target.value),onKeyDown:Q=>p(Q,U,"price","input-m-")})]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-200",children:[l.jsxs("div",{className:"text-xs text-slate-500",children:[": ",l.jsx("span",{className:"font-bold text-blue-600 text-sm ml-1",children:w.sold})]}),l.jsxs("div",{className:"text-sm font-bold text-emerald-600 font-mono",children:[l.jsx("span",{className:"text-xs text-slate-400 font-normal mr-1",children:""}),"$",w.subtotal?.toLocaleString()]})]})]},w.id))}),l.jsxs("table",{className:"hidden md:table w-full text-left border-collapse",children:[l.jsx("thead",{className:"sticky top-0 bg-white z-10 text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3",children:""}),l.jsx("th",{className:"p-3 w-20",children:""}),l.jsx("th",{className:"p-3 w-24",children:"(+)"}),l.jsx("th",{className:"p-3 w-24",children:"(+)"}),l.jsx("th",{className:"p-3 w-24",children:"(-)"}),l.jsx("th",{className:"p-3 w-20 text-center",children:""}),l.jsx("th",{className:"p-3 w-24",children:""}),l.jsx("th",{className:"p-3 w-28 text-right",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:S.map((w,U)=>l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"p-3 font-medium text-slate-800",children:w.name}),l.jsxs("td",{className:"p-3 text-slate-500 font-mono tracking-wider",children:[l.jsx("span",{className:"text-blue-600",children:w.stock}),l.jsx("span",{className:"text-slate-200 mx-1",children:"/"}),l.jsx("span",{className:"text-orange-600",children:w.originalStock||0})]}),l.jsx("td",{className:"p-3",children:l.jsx("input",{id:`input-${U}-picked`,type:"number",className:"input-field text-center p-1 bg-white",value:w.picked||"",onChange:Q=>m(w.id,"picked",Q.target.value),onKeyDown:Q=>p(Q,U,"picked")})}),l.jsx("td",{className:"p-3",children:l.jsx("input",{id:`input-${U}-original`,type:"number",className:"input-field text-center p-1 bg-white",value:w.original||"",onChange:Q=>m(w.id,"original",Q.target.value),onKeyDown:Q=>p(Q,U,"original")})}),l.jsx("td",{className:"p-3",children:l.jsx("input",{id:`input-${U}-returns`,type:"number",className:"input-field text-center p-1 text-red-600",value:w.returns||"",onChange:Q=>m(w.id,"returns",Q.target.value),onKeyDown:Q=>p(Q,U,"returns")})}),l.jsx("td",{className:"p-3 text-center font-bold text-blue-600",children:w.sold}),l.jsx("td",{className:"p-3",children:l.jsx("input",{id:`input-${U}-price`,type:"number",className:"input-field text-center p-1 w-20 bg-white",value:w.price,onChange:Q=>m(w.id,"price",Q.target.value),onKeyDown:Q=>p(Q,U,"price")})}),l.jsxs("td",{className:"p-3 text-right font-mono text-emerald-600",children:["$",w.subtotal?.toLocaleString()]})]},w.id))})]})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-100 flex justify-between items-center bg-slate-50 p-4 rounded-lg",children:[l.jsx("span",{className:"text-slate-500",children:" ()"}),l.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:["$",A.toLocaleString()]})]})]}),l.jsxs("div",{className:"flex flex-col h-auto xl:h-[calc(100vh-10rem)] gap-6",children:[l.jsxs("div",{className:`flex-1 xl:overflow-y-auto pr-0 xl:pr-2 space-y-6 transition-opacity ${se?"opacity-50 pointer-events-none grayscale":""}`,children:[l.jsxs("div",{className:"glass-panel p-6 relative",children:[se&&l.jsx("div",{className:"absolute inset-0 z-50 cursor-not-allowed"}),l.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-slate-800",children:[l.jsx(ch,{size:20,className:"text-amber-600"})," "]}),l.jsxs("div",{className:"space-y-3",children:[[1e3,500,100,50,10,5,1].map((w,U,Q)=>{const ne=`input-cash-${w}`,C=U<Q.length-1?`input-cash-${Q[U+1]}`:"input-reserve",K=U>0?`input-cash-${Q[U-1]}`:null;return l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("span",{className:"w-12 text-slate-500 font-mono text-right",children:w}),l.jsx("span",{className:"text-slate-300",children:"x"}),l.jsx("input",{id:ne,type:"number",className:"input-field flex-1",placeholder:"0",value:v[w]||"",onChange:ee=>G({...v,[w]:Number(ee.target.value)}),onKeyDown:ee=>J(ee,ne,C,K),disabled:se}),l.jsxs("span",{className:"w-20 text-right font-mono text-slate-500",children:["$",(w*v[w]).toLocaleString()]})]},w)}),l.jsxs("div",{className:"border-t border-slate-100 my-2 pt-2 flex items-center gap-4 text-red-600",children:[l.jsx("span",{className:"w-12 text-right",children:""}),l.jsx("span",{className:"text-slate-300",children:"-"}),l.jsx("input",{id:"input-reserve",type:"number",className:"input-field flex-1 border-red-900/50 focus:ring-red-500",value:Y,onChange:w=>le(Number(w.target.value)),onKeyDown:w=>J(w,"input-reserve","input-expense-stall","input-cash-1"),disabled:se})]}),l.jsxs("div",{className:"bg-slate-50 p-3 rounded flex justify-between items-center border border-slate-100",children:[l.jsx("span",{className:"text-slate-500",children:""}),l.jsxs("span",{className:"text-xl font-bold text-amber-600",children:["$",(se?0:B).toLocaleString()]})]})]})]}),l.jsxs("div",{className:"glass-panel p-6 relative",children:[se&&l.jsx("div",{className:"absolute inset-0 z-50 cursor-not-allowed"}),l.jsx("h2",{className:"text-lg font-bold mb-4 text-rose-600",children:""}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:["stall:","cleaning:","electricity:","gas:","parking:","goods:","bags:","others:"].map((w,U,Q)=>{const[ne,C]=w.split(":"),K=`input-expense-${ne}`,ee=U<Q.length-1?Q[U+1].split(":")[0]:"linePay",ae=U<Q.length-1?`input-expense-${ee}`:"input-expense-linePay",ce=U>0?Q[U-1].split(":")[0]:null,o=U>0?`input-expense-${ce}`:"input-reserve";return l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:C}),l.jsx("input",{id:K,type:"number",className:"input-field text-sm",value:d[ne]||"",onChange:R=>b({...d,[ne]:Number(R.target.value)}),onKeyDown:R=>J(R,K,ae,o),disabled:se})]},ne)})}),l.jsxs("div",{className:"mt-4 space-y-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Line Pay ()"}),l.jsx("input",{id:"input-expense-linePay",type:"number",className:"input-field border-green-200 text-green-600",value:d.linePay||"",onChange:w=>b({...d,linePay:Number(w.target.value)}),onKeyDown:w=>J(w,"input-expense-linePay","input-expense-serviceFee","input-expense-others"),disabled:se})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:" ()"}),l.jsx("input",{id:"input-expense-serviceFee",type:"number",className:"input-field border-red-200 text-red-600",value:d.serviceFee||"",onChange:w=>b({...d,serviceFee:Number(w.target.value)}),disabled:se,onKeyDown:w=>J(w,"input-expense-serviceFee","btn-save-data","input-expense-linePay")})]})]})]})]}),l.jsxs("div",{className:"p-6 glass-panel shadow-lg border-t-4 border-t-blue-600 opacity-100 pointer-events-auto",children:[l.jsx("div",{className:"text-sm text-slate-500 mb-1 font-bold",children:" ()"}),l.jsxs("div",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-700 to-indigo-700",children:["$",(se?A:me).toLocaleString()]}),l.jsxs("button",{id:"btn-save-data",onClick:h,className:"btn-primary w-full mt-6 flex justify-center items-center gap-2 py-4 text-lg",children:[l.jsx(tn,{size:20})," "]})]})]})]})}function lp({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState(!0),[Y,le]=z.useState(""),[d,b]=z.useState(!1),[$,P]=z.useState(null),[N,g]=z.useState("SCRAP"),[_,te]=z.useState(""),[D,m]=z.useState(""),[T,p]=z.useState({}),[J,A]=z.useState({}),[y,B]=z.useState({}),[Z,se]=z.useState(!1),me=z.useCallback(async()=>{G(!0);try{const V=await Ne(H,"getInventory",{},u.token);if(console.log("Inventory API Response:",V),Array.isArray(V)){const ie=V.filter(Se=>{const re=Number(Se.quantity);return!isNaN(re)&&re>0});console.log("Filtered Inventory:",ie);const ve=Ec(ie,"productName");console.log("Sorted Inventory:",ve),f(ve)}else console.error("Inventory data is not an array:",V),f([])}catch(V){console.error("Failed to fetch inventory:",V),alert(": "+V.message),f([])}finally{G(!1)}},[H,u.token]);z.useEffect(()=>{(async()=>{if(u?.token){await me();const ie=localStorage.getItem("safetyStocks");ie&&p(JSON.parse(ie));const ve=localStorage.getItem("customCaseSizes");ve&&B(JSON.parse(ve))}})()},[u.token,me]);const h=V=>{if(!V)return"-";const ie=new Date(V);return isNaN(ie.getTime())?String(V):ie.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})},w=V=>{P(V),te(""),m(""),b(!0)},U=async()=>{if(!_||Number(_)<=0){alert("");return}if(!D.trim()){alert("");return}se(!0);try{await Ne(H,"adjustInventory",{batchId:$.batchId,type:N,quantity:Number(_),note:D},u.token),alert(""),b(!1),me()}catch(V){alert(": "+V.message)}finally{se(!1)}},Q=(V,ie)=>{const ve={...T,[V]:Number(ie)||0};p(ve),localStorage.setItem("safetyStocks",JSON.stringify(ve))},ne=(V,ie)=>{A({...J,[V]:ie})},C=V=>{const ie=J[V];ie!==void 0&&Q(V,ie)},K=(V,ie)=>{const ve={...y,[V]:Number(ie)||0};B(ve),localStorage.setItem("customCaseSizes",JSON.stringify(ve))},ee=V=>{const ie=document.getElementById(V);ie&&(ie.focus(),ie.select?.(),ie.scrollIntoView({block:"nearest",behavior:"smooth"}))},ae=(V,ie,ve,Se,re=!1)=>{const Ie=Se[ie],Pe=re?"m-":"";if(V.key==="Enter"||V.key==="ArrowRight"){if(V.preventDefault(),ve==="case")ee(`${Pe}safety-input-${Ie.productName}-${Ie.batchId}`);else if(ie<Se.length-1){const Re=Se[ie+1];ee(`${Pe}case-input-${Re.productName}-${Re.batchId}`)}}else if(V.key==="ArrowLeft"){if(V.preventDefault(),ve==="safety")ee(`${Pe}case-input-${Ie.productName}-${Ie.batchId}`);else if(ie>0){const Re=Se[ie-1];ee(`${Pe}safety-input-${Re.productName}-${Re.batchId}`)}}else if(V.key==="ArrowDown"){if(V.preventDefault(),ie<Se.length-1){const Re=Se[ie+1];ee(`${Pe}${ve}-input-${Re.productName}-${Re.batchId}`)}}else if(V.key==="ArrowUp"&&(V.preventDefault(),ie>0)){const Re=Se[ie-1];ee(`${Pe}${ve}-input-${Re.productName}-${Re.batchId}`)}},ce=S.filter(V=>{const ie=String(V.productName||"").toLowerCase(),ve=Y.toLowerCase();return ie.includes(ve)?!0:ve.length>6?String(V.batchId||"").toLowerCase().includes(ve):!1}),o=ce.filter(V=>V.type==="STOCK"),R=ce.filter(V=>V.type!=="STOCK"),I={};S.forEach(V=>{I[V.productName]||(I[V.productName]=0),I[V.productName]+=Number(V.quantity)});const ue=(V,ie,ve,Se)=>l.jsxs("div",{className:"hidden md:flex bg-white rounded-xl border border-slate-200 p-6 flex-col shadow-sm",children:[l.jsxs("h3",{className:`text-lg font-bold mb-4 flex items-center gap-2 ${Se}`,children:[l.jsx(ve,{size:20})," ",ie]}),l.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm uppercase",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-center",children:" / "}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-center",children:""}),l.jsx("th",{className:"p-4 text-center",children:""}),l.jsx("th",{className:"p-4 text-center",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:v?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-6 text-center text-slate-500",children:"..."})}):V.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-6 text-center text-slate-500",children:""})}):V.map((re,Ie)=>{const Pe=T[re.productName]||0,Re=y[re.productName],rt=Re!==void 0&&Re!==0?Re:wc[re.productName]||0,al=I[re.productName]||0,k=Pe>0&&al<=Pe,fe=re.expiry?new Date(re.expiry):null,De=new Date;De.setHours(0,0,0,0);const Ce=new Date(De);Ce.setDate(De.getDate()+3);const Je=fe&&fe>=De&&fe<=Ce,qe=fe&&fe<De;return l.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${k?"bg-red-50":""} ${qe?"bg-rose-50":Je?"bg-amber-50":""}`,children:[l.jsx("td",{className:"p-4 font-medium text-slate-900",children:l.jsxs("div",{className:"flex items-center gap-2",children:[k&&l.jsx(ya,{size:16,className:"text-red-400"}),re.productName]})}),l.jsx("td",{className:"p-4 text-center",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"font-mono text-emerald-600 font-bold text-lg",children:re.quantity}),rt>0&&l.jsxs("span",{className:"text-blue-600 font-mono text-sm",children:["",(re.quantity/rt).toFixed(1)]})]})}),l.jsx("td",{className:"p-4 text-sm whitespace-nowrap",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:qe?"text-rose-600 line-through":Je?"text-amber-600 font-bold":"text-slate-500",children:h(re.expiry)}),Je&&l.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-700 border border-amber-200 px-1.5 py-0.5 rounded self-start flex items-center gap-1 font-bold",children:[l.jsx(Pr,{size:10})," "]}),qe&&l.jsxs("span",{className:"text-[10px] bg-rose-100 text-rose-700 border border-rose-200 px-1.5 py-0.5 rounded self-start flex items-center gap-1 font-bold",children:[l.jsx(ya,{size:10})," "]})]})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("input",{id:`case-input-${re.productName}-${re.batchId}`,type:"number",className:"input-field w-16 text-center text-xs p-1 bg-white border-blue-200",value:Re!==void 0?Re:wc[re.productName]||"",onChange:_e=>K(re.productName,_e.target.value),onKeyDown:_e=>ae(_e,Ie,"case",V),placeholder:""})}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("input",{id:`safety-input-${re.productName}-${re.batchId}`,type:"number",className:"input-field w-16 text-center text-xs p-1 bg-white border-amber-200",value:J[re.productName]!==void 0?J[re.productName]:T[re.productName]||"",onChange:_e=>ne(re.productName,_e.target.value),onBlur:()=>C(re.productName),onKeyDown:_e=>ae(_e,Ie,"safety",V),placeholder:""})}),l.jsx("td",{className:"p-4 text-center",children:l.jsxs("button",{onClick:()=>w(re),className:"btn-secondary text-xs px-3 py-1 flex items-center gap-1 mx-auto",children:[l.jsx(eu,{size:14})," "]})})]},Ie)})})]})})]}),pe=(V,ie,ve,Se)=>l.jsxs("div",{className:"md:hidden flex flex-col gap-4",children:[l.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${Se} px-1`,children:[l.jsx(ve,{size:20})," ",ie]}),l.jsx("div",{className:"space-y-4",children:v?l.jsx("div",{className:"text-center py-8 text-slate-500",children:"..."}):V.length===0?l.jsx("div",{className:"text-center py-8 text-slate-500 bg-white rounded-xl border border-slate-200",children:""}):V.map((re,Ie)=>{const Pe=T[re.productName]||0,Re=y[re.productName],rt=Re!==void 0&&Re!==0?Re:wc[re.productName]||0,al=I[re.productName]||0,k=Pe>0&&al<=Pe,fe=re.expiry?new Date(re.expiry):null,De=new Date;De.setHours(0,0,0,0);const Ce=new Date(De);Ce.setDate(De.getDate()+3);const Je=fe&&fe>=De&&fe<=Ce,qe=fe&&fe<De;return l.jsxs("div",{className:`bg-white rounded-xl p-4 border shadow-sm ${k?"border-red-200 bg-red-50":"border-slate-200"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-3 border-b border-slate-100 pb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[k&&l.jsx(ya,{size:18,className:"text-red-500"}),l.jsx("span",{className:"font-bold text-slate-800 text-lg",children:re.productName})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-2xl font-bold text-emerald-600 font-mono",children:re.quantity}),rt>0&&l.jsxs("div",{className:"text-xs text-blue-600 font-mono",children:["",(re.quantity/rt).toFixed(1)]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg",children:[l.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold block mb-1",children:""}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:`text-sm font-medium ${qe?"text-rose-600 line-through":Je?"text-amber-600 font-bold":"text-slate-600"}`,children:h(re.expiry)}),Je&&l.jsxs("span",{className:"text-[10px] text-amber-600 flex items-center gap-1 mt-0.5",children:[l.jsx(Pr,{size:10})," "]}),qe&&l.jsxs("span",{className:"text-[10px] text-rose-600 flex items-center gap-1 mt-0.5",children:[l.jsx(ya,{size:10})," "]})]})]}),l.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg flex flex-col justify-between",children:[l.jsxs("div",{className:"flex items-center justify-between gap-1 mb-1",children:[l.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold",children:""}),l.jsx("input",{id:`m-case-input-${re.productName}-${re.batchId}`,type:"number",className:"w-12 text-center text-xs p-0.5 rounded border border-blue-200 bg-white",value:Re!==void 0?Re:wc[re.productName]||"",onChange:_e=>K(re.productName,_e.target.value),onKeyDown:_e=>ae(_e,Ie,"case",V,!0)})]}),l.jsxs("div",{className:"flex items-center justify-between gap-1",children:[l.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold",children:""}),l.jsx("input",{id:`m-safety-input-${re.productName}-${re.batchId}`,type:"number",className:"w-12 text-center text-xs p-0.5 rounded border border-amber-200 bg-white",value:J[re.productName]!==void 0?J[re.productName]:T[re.productName]||"",onChange:_e=>ne(re.productName,_e.target.value),onBlur:()=>C(re.productName),onKeyDown:_e=>ae(_e,Ie,"safety",V,!0)})]})]})]}),l.jsxs("button",{onClick:()=>w(re),className:"w-full btn-secondary py-2 flex items-center justify-center gap-2 text-sm",children:[l.jsx(eu,{size:16})," "]})]},Ie)})})]});return l.jsxs("div",{className:"max-w-6xl mx-auto h-[calc(100vh-6rem)] flex flex-col p-4 gap-4",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-stretch md:items-center bg-white p-4 rounded-xl border border-slate-200 shadow-sm gap-4",children:[l.jsxs("h2",{className:"text-xl md:text-2xl font-bold flex items-center gap-2 text-slate-800",children:[l.jsx(ns,{className:"text-blue-600"})," "]}),l.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[l.jsxs("div",{className:"relative flex-1 md:flex-none",children:[l.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full md:w-64 bg-white",value:Y,onChange:V=>le(V.target.value)})]}),l.jsx("button",{onClick:me,className:"btn-secondary p-2 whitespace-nowrap",title:"",children:l.jsx(lt,{size:20})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-6 pb-6",children:[ue(o,"",ns,"text-blue-600"),pe(o,"",ns,"text-blue-600"),ue(R,"/",Ac,"text-orange-600"),pe(R,"/",Ac,"text-orange-600")]}),d&&l.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:[Z&&l.jsxs("div",{className:"loading-overlay",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),l.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),l.jsxs("div",{className:"glass-panel p-6 w-96 max-w-[90vw]",children:[l.jsx("h3",{className:"text-xl font-bold mb-4",children:""}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-slate-500 block mb-1",children:""}),l.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 rounded-lg border border-slate-100",children:[l.jsx("div",{className:"text-slate-900 font-bold",children:$?.productName}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xs text-slate-400",children:":"}),l.jsx("span",{className:"text-emerald-600 font-mono font-bold text-lg",children:$?.quantity})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:""}),l.jsxs("select",{className:"input-field w-full",value:N,onChange:V=>g(V.target.value),children:[l.jsx("option",{value:"SCRAP",children:""}),l.jsx("option",{value:"RETURN",children:""}),l.jsx("option",{value:"LOSS",children:""}),l.jsx("option",{value:"OTHER",children:""})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:""}),l.jsx("input",{id:"adjustment-qty-input",type:"number",className:"input-field w-full",value:_,onChange:V=>te(V.target.value),onKeyDown:V=>{(V.key==="Enter"||V.key==="ArrowDown")&&(V.preventDefault(),document.getElementById("adjustment-note-input")?.focus())},placeholder:"",autoFocus:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"text-sm text-slate-400 block mb-1",children:[" ",l.jsx("span",{className:"text-red-400",children:"*"})]}),l.jsx("textarea",{id:"adjustment-note-input",className:"input-field w-full",rows:"3",value:D,onChange:V=>m(V.target.value),onKeyDown:V=>{V.key==="Enter"?(V.preventDefault(),U()):V.key==="ArrowUp"&&(V.preventDefault(),document.getElementById("adjustment-qty-input")?.focus())},placeholder:"..."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:U,className:"btn-primary flex-1",children:""}),l.jsx("button",{onClick:()=>b(!1),className:"btn-secondary flex-1",children:""})]})]})]})]})]})}function ap({user:u,apiUrl:H}){const S=new Date().getFullYear().toString(),[f,v]=z.useState([{id:Date.now(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:S,expiryMonth:"",expiryDay:""}]),[G,Y]=z.useState({vendors:[],vendorProductMap:{}}),[le,d]=z.useState(!1),[b,$]=z.useState("CASH");z.useEffect(()=>{const T=async()=>{try{const p=await Ne(H,"getPurchaseSuggestions",{},u.token);p.vendors&&Y(p)}catch(p){console.error("Failed to fetch suggestions",p)}};u?.token&&T()},[u.token,H]);const P=T=>{if(T&&G.vendorProductMap[T])return G.vendorProductMap[T];const p=new Set;return Object.values(G.vendorProductMap||{}).forEach(J=>J.forEach(A=>p.add(A))),Array.from(p)},N=(T,p,J)=>{v(A=>A.map(y=>y.id===T?{...y,[p]:J}:y))},g=()=>{v(T=>[...T,{id:Date.now()+Math.random(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:S,expiryMonth:"",expiryDay:""}])},_=T=>{f.length>1&&v(p=>p.filter(J=>J.id!==T))},te=T=>{const p=document.getElementById(T);p&&(p.focus(),p.select?.(),p.scrollIntoView({block:"nearest",behavior:"smooth"}))},D=(T,p,J)=>{const y=T.target.id.includes("-m-")?"item-m-":"item-",B=["vendor","product","qty","price","year","month","day"],Z=B.indexOf(J);T.key==="Enter"||T.key==="ArrowRight"?(T.preventDefault(),Z<B.length-1?te(`${y}${p}-${B[Z+1]}`):p<f.length-1?te(`${y}${p+1}-vendor`):T.key==="Enter"&&(g(),setTimeout(()=>te(`${y}${p+1}-vendor`),50))):T.key==="ArrowLeft"?(T.preventDefault(),Z>0?te(`${y}${p}-${B[Z-1]}`):p>0&&te(`${y}${p-1}-day`)):T.key==="ArrowDown"?(T.preventDefault(),p<f.length-1&&te(`${y}${p+1}-${J}`)):T.key==="ArrowUp"&&(T.preventDefault(),p>0&&te(`${y}${p-1}-${J}`))},m=async T=>{T.preventDefault();for(let J=0;J<f.length;J++){const A=f[J];if(!A.vendor.trim()||!A.productName.trim()||!A.quantity||!A.unitPrice||!A.expiryYear||!A.expiryMonth||!A.expiryDay){alert(` ${J+1} 
`);return}}d(!0);const p=f.map(J=>{const A=J.expiryMonth.padStart(2,"0"),y=J.expiryDay.padStart(2,"0");return{vendor:J.vendor,productName:J.productName,quantity:Number(J.quantity),price:Number(J.unitPrice),expiry:`${J.expiryYear}-${A}-${y}`}});try{const J=await Ne(H,"addPurchase",{items:p,operator:u.username,paymentMethod:b},u.token);alert(` ${J.count} `),v([{id:Date.now(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:S,expiryMonth:"",expiryDay:""}]),$("CASH")}catch(J){alert(": "+J.message)}finally{d(!1)}};return l.jsxs("div",{className:"max-w-[90rem] mx-auto p-4",children:[le&&l.jsxs("div",{className:"loading-overlay",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"}),l.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),l.jsxs("div",{className:"glass-panel p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold flex items-center gap-2 text-slate-800",children:""}),l.jsxs("div",{className:"flex bg-slate-50 p-1 rounded-lg border border-slate-200",children:[l.jsx("button",{onClick:()=>$("CASH"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${b==="CASH"?"bg-emerald-500 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""}),l.jsx("button",{onClick:()=>$("CREDIT"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${b==="CREDIT"?"bg-purple-600 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""})]})]}),l.jsxs("form",{onSubmit:m,className:"space-y-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between px-2",children:[l.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:""}),l.jsxs("span",{className:"text-xs text-slate-400",children:[" ",f.length," "]})]}),l.jsx("datalist",{id:"vendors-list",children:G.vendors.map((T,p)=>l.jsx("option",{value:T},p))}),f.map((T,p)=>{const J=P(T.vendor);return l.jsxs("div",{className:"group relative p-0 md:p-4 bg-transparent md:bg-slate-50 rounded-none md:rounded-xl border-b md:border border-slate-100 md:border-slate-200 hover:md:border-emerald-500/30 hover:md:shadow-lg transition-all duration-200 mb-6 md:mb-0",children:[l.jsxs("div",{className:"md:absolute md:-left-2 md:top-1/2 md:-translate-y-1/2 mb-2 md:mb-0 flex items-center gap-2 md:block",children:[l.jsx("div",{className:"w-5 h-5 rounded-full bg-emerald-50 border border-emerald-200 flex items-center justify-center",children:l.jsx("span",{className:"text-[10px] font-bold text-emerald-600",children:p+1})}),l.jsx("span",{className:"md:hidden text-sm font-bold text-slate-700",children:""})]}),l.jsxs("div",{className:"md:hidden space-y-3 pb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 whitespace-nowrap w-[70px]",children:":"}),l.jsx("input",{id:`item-m-${p}-vendor`,list:"vendors-list",className:"input-field flex-1 py-1.5 px-3",placeholder:"",value:T.vendor,onChange:A=>N(T.id,"vendor",A.target.value),onKeyDown:A=>D(A,p,"vendor")})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 whitespace-nowrap w-[70px]",children:":"}),l.jsx("input",{id:`item-m-${p}-product`,list:`products-list-${p}`,className:"input-field flex-1 py-1.5 px-3",placeholder:"",value:T.productName,onChange:A=>N(T.id,"productName",A.target.value),onKeyDown:A=>D(A,p,"product")}),l.jsx("datalist",{id:`products-list-${p}`,children:J.map((A,y)=>l.jsx("option",{value:A},y))})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 whitespace-nowrap w-[70px]",children:":"}),l.jsx("input",{id:`item-m-${p}-qty`,type:"number",className:"input-field flex-1 py-1.5 px-3",placeholder:"0",value:T.quantity,onChange:A=>N(T.id,"quantity",A.target.value),onKeyDown:A=>D(A,p,"qty")})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 whitespace-nowrap w-[70px]",children:":"}),l.jsx("input",{id:`item-m-${p}-price`,type:"number",className:"input-field flex-1 py-1.5 px-3",placeholder:"0",value:T.unitPrice,onChange:A=>N(T.id,"unitPrice",A.target.value),onKeyDown:A=>D(A,p,"price")})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 whitespace-nowrap w-[70px]",children:":"}),l.jsxs("div",{className:"flex flex-1 gap-1 items-center",children:[l.jsx("input",{id:`item-m-${p}-year`,type:"number",className:"input-field flex-[2] py-1.5 px-1 text-center",placeholder:"YYYY",value:T.expiryYear,onChange:A=>N(T.id,"expiryYear",A.target.value),onKeyDown:A=>D(A,p,"year")}),l.jsx("span",{className:"text-slate-300",children:"/"}),l.jsx("input",{id:`item-m-${p}-month`,type:"number",className:"input-field flex-1 py-1.5 px-1 text-center",placeholder:"MM",value:T.expiryMonth,onChange:A=>N(T.id,"expiryMonth",A.target.value),onKeyDown:A=>D(A,p,"month")}),l.jsx("span",{className:"text-slate-300",children:"/"}),l.jsx("input",{id:`item-m-${p}-day`,type:"number",className:"input-field flex-1 py-1.5 px-1 text-center",placeholder:"DD",value:T.expiryDay,onChange:A=>N(T.id,"expiryDay",A.target.value),onKeyDown:A=>D(A,p,"day")}),f.length>1&&l.jsx("button",{type:"button",onClick:()=>_(T.id),className:"w-8 h-8 ml-1 rounded-lg bg-red-50 text-red-500 flex items-center justify-center border border-red-100",children:""})]})]})]}),l.jsxs("div",{className:"hidden md:grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[l.jsxs("div",{className:"col-span-12 md:col-span-2",children:[l.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),l.jsx("input",{id:`item-${p}-vendor`,list:"vendors-list",className:"input-field w-full bg-white",placeholder:"",value:T.vendor,onChange:A=>N(T.id,"vendor",A.target.value),onKeyDown:A=>D(A,p,"vendor"),autoFocus:p===f.length-1})]}),l.jsxs("div",{className:"col-span-12 md:col-span-3",children:[l.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),l.jsx("input",{id:`item-${p}-product`,list:`products-list-${p}`,className:"input-field w-full bg-white",placeholder:"",value:T.productName,onChange:A=>N(T.id,"productName",A.target.value),onKeyDown:A=>D(A,p,"product")})]}),l.jsxs("div",{className:"col-span-6 md:col-span-2",children:[l.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),l.jsx("input",{id:`item-${p}-qty`,type:"number",className:"input-field w-full text-center bg-white",placeholder:"0",value:T.quantity,onChange:A=>N(T.id,"quantity",A.target.value),onKeyDown:A=>D(A,p,"qty")})]}),l.jsxs("div",{className:"col-span-6 md:col-span-2",children:[l.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),l.jsx("input",{id:`item-${p}-price`,type:"number",className:"input-field w-full text-center bg-white",placeholder:"0",value:T.unitPrice,onChange:A=>N(T.id,"unitPrice",A.target.value),onKeyDown:A=>D(A,p,"price")})]}),l.jsxs("div",{className:"col-span-12 md:col-span-3 grid grid-cols-[1fr_auto_1fr_auto_1fr_auto] gap-1 relative",children:[l.jsx("label",{className:"absolute -top-6 left-0 text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),l.jsx("input",{id:`item-${p}-year`,className:"input-field w-full text-center font-mono px-1 bg-white",placeholder:"YYYY",value:T.expiryYear,onChange:A=>N(T.id,"expiryYear",A.target.value),onKeyDown:A=>D(A,p,"year")}),l.jsx("span",{className:"text-slate-400 self-center",children:"/"}),l.jsx("input",{id:`item-${p}-month`,className:"input-field w-full text-center font-mono px-1 bg-white",placeholder:"MM",value:T.expiryMonth,onChange:A=>N(T.id,"expiryMonth",A.target.value),onKeyDown:A=>D(A,p,"month")}),l.jsx("span",{className:"text-slate-200 self-center",children:"/"}),l.jsx("input",{id:`item-${p}-day`,type:"number",className:"input-field w-full text-center font-mono px-1 bg-white",placeholder:"DD",value:T.expiryDay,onChange:A=>N(T.id,"expiryDay",A.target.value),onKeyDown:A=>D(A,p,"day")}),f.length>1&&l.jsx("button",{type:"button",onClick:()=>_(T.id),className:"w-8 h-8 ml-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-all flex items-center justify-center self-center",title:"",children:""})]})]})]},T.id)})]}),l.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-slate-100",children:[l.jsxs("button",{type:"button",onClick:g,className:"btn-secondary flex-1 py-4 text-base font-semibold flex items-center justify-center gap-2 hover:scale-105 transition-transform",children:[l.jsx("span",{className:"text-xl",children:""})," "]}),l.jsx("button",{type:"submit",disabled:le,className:"btn-primary flex-[2] py-4 text-lg font-bold shadow-lg shadow-emerald-100 hover:shadow-xl hover:shadow-emerald-200 hover:scale-105 transition-all flex items-center justify-center gap-2",children:le?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"animate-spin",children:""})," ..."]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-xl",children:""})," "]})})]})]})]})]})}function sp({user:u,apiUrl:H}){const[S,f]=z.useState(Ge()),[v,G]=z.useState(Ge()),[Y,le]=z.useState(""),[d,b]=z.useState(""),[$,P]=z.useState(!1),[N,g]=z.useState([]),[_,te]=z.useState([]),[D,m]=z.useState("SALES"),T=z.useCallback(async()=>{if(!(!S||!v)){P(!0);try{const h={startDate:S,endDate:v},w=u.role==="BOSS"||u.permissions&&u.permissions.includes("finance"),U=[Ne(H,"getSalesHistory",h,u.token)];w&&U.push(Ne(H,"getExpenditures",h,u.token));const Q=await Promise.all(U),ne=Q[0],C=w?Q[1]:[];let K=Array.isArray(ne)?ne:[];const ee=Y.trim().toLowerCase(),ae=d.trim().toLowerCase();ee&&(K=K.filter(o=>String(o.location||"").toLowerCase().includes(ee))),ae&&(K=K.filter(o=>String(o.salesRep||"").toLowerCase().includes(ae))),g(K);let ce=Array.isArray(C)?C:[];ee&&(ce=ce.filter(o=>String(o.customer||"").toLowerCase().includes(ee)||String(o.note||"").toLowerCase().includes(ee))),ae&&(ce=ce.filter(o=>String(o.salesRep||"").toLowerCase().includes(ae))),ce.forEach(o=>{const R=Number(o.stall||0)+Number(o.cleaning||0)+Number(o.electricity||0)+Number(o.gas||0)+Number(o.parking||0)+Number(o.goods||0)+Number(o.bags||0)+Number(o.others||0)+Number(o.vehicleMaintenance||0)+Number(o.salary||0)+Number(o.linePay||0)+Number(o.serviceFee||0)+Number(o.reserve||0);o.rowTotal=R,o.salaryAmount=Number(o.salary||0);const I=Object.keys(o).find(pe=>{const V=pe.toLowerCase().trim();return V==="finaltotal"||V.includes("")||V.includes("")||V.includes("")||V.includes("")}),ue=Number(I?o[I]:o.finalTotal||0);o.displayFinalTotal=ue}),te(ce)}catch(h){console.error(h),alert(": "+h.message)}finally{P(!1)}}},[S,v,Y,d,u.token,H]);Sl.useEffect(()=>{T()},[T]);const p=h=>{h.preventDefault(),T()},J=N?.reduce((h,w)=>h+(Number(w.totalAmount)||0),0)||0,A=N?.reduce((h,w)=>h+(Number(w.soldQty)||0),0)||0,y=_?.reduce((h,w)=>h+(w.rowTotal||0)-(w.salaryAmount||0),0)||0,B=_?.reduce((h,w)=>h+(Number(w.displayFinalTotal)||0),0)||0,Z=J-y+B,se=N?.reduce((h,w)=>{const U=w.productName;return h[U]||(h[U]={name:w.productName,qty:0,amount:0}),h[U].qty+=w.soldQty,h[U].amount+=w.totalAmount,h},{}),me=se?Object.values(se).sort((h,w)=>w.qty-h.qty):[];return l.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:l.jsxs("div",{className:"glass-panel p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-slate-200 pb-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(en,{className:"text-blue-600"})," "]}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),N&&l.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 md:gap-3 w-full md:w-auto",children:[l.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-amber-50 border border-amber-200 shadow-sm",children:[l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 uppercase font-bold text-center",children:""}),l.jsxs("p",{className:"text-sm md:text-xl font-bold text-amber-700 text-center",children:["$",Z.toLocaleString()]})]}),l.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-emerald-50 border border-emerald-200 shadow-sm",children:[l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 uppercase font-bold text-center",children:""}),l.jsxs("p",{className:"text-sm md:text-xl font-bold text-emerald-700 text-center",children:["$",J.toLocaleString()]})]}),l.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-rose-50 border border-rose-200 shadow-sm",children:[l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 uppercase font-bold text-center",children:""}),l.jsxs("p",{className:"text-sm md:text-xl font-bold text-rose-700 text-center",children:["$",y.toLocaleString()]})]}),l.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-cyan-50 border border-cyan-200 shadow-sm",children:[l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 uppercase font-bold text-center",children:""}),l.jsxs("p",{className:"text-sm md:text-xl font-bold text-cyan-700 text-center",children:["$",B.toLocaleString()]})]}),l.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-blue-50 border border-blue-200 shadow-sm",children:[l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 uppercase font-bold text-center",children:""}),l.jsx("p",{className:"text-sm md:text-xl font-bold text-blue-700 text-center",children:A.toLocaleString()})]}),l.jsxs("div",{className:"px-2 md:px-4 py-2 rounded-xl bg-purple-50 border border-purple-200 shadow-sm",children:[l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 uppercase font-bold text-center",children:""}),l.jsx("p",{className:"text-sm md:text-xl font-bold text-purple-700 text-center",children:N.length})]})]})]}),l.jsxs("form",{onSubmit:p,className:"md:hidden mb-6 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 whitespace-nowrap w-[70px]",children:":"}),l.jsx("input",{type:"date",required:!0,className:"input-field flex-1 py-1.5 px-3",value:S,onChange:h=>f(h.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 whitespace-nowrap w-[70px]",children:":"}),l.jsx("input",{type:"date",required:!0,className:"input-field flex-1 py-1.5 px-3",value:v,onChange:h=>G(h.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 whitespace-nowrap w-[70px]",children:":"}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field flex-1 py-1.5 px-3",value:Y,onChange:h=>le(h.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 whitespace-nowrap w-[70px]",children:":"}),l.jsxs("div",{className:"flex flex-1 gap-2",children:[l.jsx("input",{type:"text",placeholder:"...",className:"input-field flex-1 py-1.5 px-3",value:d,onChange:h=>b(h.target.value)}),l.jsx("button",{type:"submit",disabled:$,className:"btn-primary px-4 py-1.5 flex items-center justify-center rounded-lg shadow-sm active:scale-95 transition-transform",children:l.jsx(yt,{size:18})})]})]})]}),l.jsx("form",{onSubmit:p,className:"hidden md:block mb-6 p-4 rounded-xl bg-white border border-slate-200 shadow-sm",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 md:contents",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),l.jsx("input",{type:"date",required:!0,className:"input-field w-full",value:S,onChange:h=>f(h.target.value)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),l.jsx("input",{type:"date",required:!0,className:"input-field w-full",value:v,onChange:h=>G(h.target.value)})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:Y,onChange:h=>le(h.target.value)})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"space-y-1 flex-1",children:[l.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:d,onChange:h=>b(h.target.value)})]}),l.jsxs("button",{type:"submit",disabled:$,className:"btn-primary py-2 px-6 flex items-center justify-center gap-2 self-end h-[42px] min-w-[100px]",children:[$?"...":l.jsx(yt,{size:18})," "]})]})]})}),N&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:[l.jsx("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200",children:l.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[l.jsx(ns,{size:16,className:"text-blue-600"})," "]})}),l.jsx("div",{className:"overflow-x-auto max-h-60",children:l.jsxs("table",{className:"w-full text-left",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-right",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:me.length>0?me.map((h,w)=>l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"p-4 text-slate-900",children:h.name}),l.jsx("td",{className:"p-4 text-right text-slate-500",children:h.qty}),l.jsxs("td",{className:"p-4 text-right text-emerald-600",children:["$",h.amount.toLocaleString()]})]},w)):l.jsx("tr",{children:l.jsx("td",{colSpan:"3",className:"p-8 text-center text-slate-500",children:""})})})]})})]}),l.jsxs("div",{className:"rounded-xl border border-slate-200 overflow-hidden flex flex-col h-[600px]",children:[l.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200 flex gap-4",children:[l.jsxs("button",{onClick:()=>m("SALES"),className:`font-bold flex items-center gap-2 pb-2 border-b-2 transition-colors ${D==="SALES"?"text-blue-600 border-blue-600":"text-slate-500 border-transparent hover:text-slate-900"}`,children:[l.jsx(Wl,{size:16}),"  (",N.length,")"]}),l.jsxs("button",{onClick:()=>m("EXPENSES"),className:`font-bold flex items-center gap-2 pb-2 border-b-2 transition-colors ${D==="EXPENSES"?"text-rose-600 border-rose-600":"text-slate-500 border-transparent hover:text-slate-900"}`,children:[l.jsx(ot,{size:16}),"  (",_.length,")"]})]}),l.jsx("div",{className:"overflow-auto flex-1",children:D==="SALES"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:N.map((h,w)=>l.jsxs("div",{className:"p-4 space-y-3 bg-white hover:bg-slate-50 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("div",{className:"text-xs font-mono text-slate-400",children:new Date(h.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),l.jsxs("div",{className:"text-emerald-600 font-bold font-mono text-lg",children:["$",h.totalAmount]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-1 bg-blue-50 text-blue-700 px-2 py-0.5 rounded-md",children:[l.jsx(px,{size:12})," ",l.jsx("span",{className:"font-medium",children:h.location})]}),l.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 text-slate-600 px-2 py-0.5 rounded-md",children:[l.jsx(Fl,{size:12})," ",l.jsx("span",{children:h.salesRep})]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-slate-50",children:[l.jsx("div",{className:"font-bold text-slate-800",children:h.productName}),l.jsxs("div",{className:"text-slate-500",children:[": ",l.jsx("span",{className:"font-bold text-slate-900",children:h.soldQty})]})]})]},w))}),l.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 sticky top-0 z-10",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 font-medium w-48",children:""}),l.jsx("th",{className:"p-3 font-medium w-32",children:""}),l.jsx("th",{className:"p-3 font-medium w-32",children:""}),l.jsx("th",{className:"p-3 font-medium",children:""}),l.jsx("th",{className:"p-3 font-medium text-right w-24",children:""}),l.jsx("th",{className:"p-3 font-medium text-right w-32",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 text-slate-600 bg-white",children:N.map((h,w)=>l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"p-3 text-slate-500",children:new Date(h.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),l.jsx("td",{className:"p-3",children:h.location}),l.jsx("td",{className:"p-3",children:h.salesRep}),l.jsx("td",{className:"p-3 text-slate-900",children:h.productName}),l.jsx("td",{className:"p-3 text-right",children:h.soldQty}),l.jsxs("td",{className:"p-3 text-right",children:["$",h.totalAmount]})]},w))})]})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"md:hidden divide-y divide-slate-100",children:_.map((h,w)=>{const U=[];return h.stall&&U.push(` $${h.stall}`),h.cleaning&&U.push(` $${h.cleaning}`),h.electricity&&U.push(` $${h.electricity}`),h.gas&&U.push(` $${h.gas}`),h.parking&&U.push(` $${h.parking}`),h.goods&&U.push(` $${h.goods}`),h.bags&&U.push(` $${h.bags}`),h.others&&U.push(` $${h.others}`),h.linePay&&U.push(`Line Pay $${h.linePay}`),h.serviceFee&&U.push(` $${h.serviceFee}`),h.reserve&&U.push(` $${h.reserve}`),h.vehicleMaintenance&&U.push(` $${h.vehicleMaintenance}`),h.salary&&U.push(` $${h.salary}`),l.jsxs("div",{className:"p-4 space-y-3 bg-white hover:bg-slate-50 transition-colors",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("div",{className:"text-xs font-mono text-slate-400",children:new Date(h.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsxs("div",{className:"text-emerald-600 font-bold font-mono text-lg",children:["$",Number(h.displayFinalTotal).toLocaleString()]}),l.jsxs("div",{className:"text-[10px] text-slate-400 font-mono",children:[": $",Number(h.rowTotal).toLocaleString()]})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-1 bg-amber-50 text-amber-700 px-2 py-0.5 rounded-md",children:[l.jsx(px,{size:12})," ",l.jsx("span",{className:"font-medium",children:h.customer||h.note||"-"})]}),l.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 text-slate-600 px-2 py-0.5 rounded-md",children:[l.jsx(Fl,{size:12})," ",l.jsx("span",{children:h.salesRep})]})]}),l.jsxs("div",{className:"pt-2 border-t border-slate-50",children:[l.jsx("p",{className:"text-[10px] uppercase font-bold text-slate-400 mb-1",children:""}),l.jsx("div",{className:"flex flex-wrap gap-1",children:U.map((Q,ne)=>l.jsx("span",{className:"text-[10px] bg-slate-50 text-slate-500 px-1.5 py-0.5 rounded border border-slate-100",children:Q},ne))})]})]},w)})}),l.jsxs("table",{className:"hidden md:table w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 sticky top-0 z-10",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-3 font-medium w-48",children:""}),l.jsx("th",{className:"p-3 font-medium w-32",children:"/"}),l.jsx("th",{className:"p-3 font-medium w-32",children:""}),l.jsx("th",{className:"p-3 font-medium",children:""}),l.jsx("th",{className:"p-3 font-medium text-right w-28",children:""}),l.jsx("th",{className:"p-3 font-medium text-right w-28 text-emerald-600",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 text-slate-600 bg-white",children:_.map((h,w)=>{const U=[];return h.stall&&U.push(` $${h.stall}`),h.cleaning&&U.push(` $${h.cleaning}`),h.electricity&&U.push(` $${h.electricity}`),h.gas&&U.push(` $${h.gas}`),h.parking&&U.push(` $${h.parking}`),h.goods&&U.push(` $${h.goods}`),h.bags&&U.push(` $${h.bags}`),h.others&&U.push(` $${h.others}`),h.linePay&&U.push(`Line Pay $${h.linePay}`),h.serviceFee&&U.push(` $${h.serviceFee}`),h.reserve&&U.push(` $${h.reserve}`),h.vehicleMaintenance&&U.push(` $${h.vehicleMaintenance}`),h.salary&&U.push(` $${h.salary}`),l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"p-3 text-slate-500",children:new Date(h.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),l.jsx("td",{className:"p-3 font-bold text-slate-900",children:h.customer||h.note||"-"}),l.jsx("td",{className:"p-3",children:h.salesRep}),l.jsx("td",{className:"p-3 text-xs text-slate-400",children:U.join(", ")}),l.jsxs("td",{className:"p-3 text-right font-mono text-rose-600",children:["$",(h.rowTotal||0).toLocaleString()]}),l.jsxs("td",{className:"p-3 text-right font-mono font-bold text-emerald-600",children:["$",(Number(h.displayFinalTotal)||0).toLocaleString()]})]},w)})})]})]})})]})]})]})})}function np({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState(!1),[Y,le]=z.useState(""),[d,b]=z.useState(""),[$,P]=z.useState(Ge()),[N,g]=z.useState(Ge()),_=Sl.useCallback(async()=>{G(!0);try{const m=await Ne(H,"getPurchaseHistory",{startDate:$,endDate:N},u.token);Array.isArray(m)&&f(m)}catch(m){console.error("Failed to fetch purchase history:",m)}finally{G(!1)}},[H,u.token,$,N]);z.useEffect(()=>{_()},[_]);const te=S.filter(m=>{const T=String(m.productName||"").toLowerCase(),p=String(m.vendorName||m.vendor||"").toLowerCase(),J=Y.toLowerCase(),A=d.toLowerCase();return T.includes(J)&&p.includes(A)}),D=te.reduce((m,T)=>m+(Number(T.totalPrice)||0),0);return l.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:l.jsxs("div",{className:"glass-panel p-6",children:[l.jsxs("div",{className:"flex flex-row justify-between items-center mb-6 gap-2 md:gap-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(tu,{className:"text-blue-600 w-6 h-6 md:w-auto md:h-auto"}),l.jsx("span",{className:"whitespace-nowrap",children:""})]}),l.jsx("p",{className:"text-slate-500 text-xs md:text-sm mt-1 hidden md:block",children:""})]}),l.jsxs("div",{className:"px-3 md:px-5 py-2 md:py-3 rounded-xl border border-emerald-200 bg-emerald-50 flex items-center gap-2 md:gap-3",children:[l.jsx("div",{className:"p-1.5 md:p-2 rounded-full bg-emerald-100 text-emerald-700",children:l.jsx(ot,{size:16,className:"md:w-5 md:h-5"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 uppercase font-bold whitespace-nowrap",children:""}),l.jsxs("p",{className:"text-base md:text-xl font-bold text-emerald-700",children:["$",D.toLocaleString()]})]})]})]}),l.jsxs("div",{className:"md:hidden mb-6 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 whitespace-nowrap w-[70px]",children:":"}),l.jsx("input",{type:"date",className:"input-field flex-1 py-1.5 px-3",value:$,onChange:m=>P(m.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 whitespace-nowrap w-[70px]",children:":"}),l.jsx("input",{type:"date",className:"input-field flex-1 py-1.5 px-3",value:N,onChange:m=>g(m.target.value)})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 whitespace-nowrap w-[70px]",children:":"}),l.jsx("div",{className:"relative flex-1",children:l.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full py-1.5 px-3",value:d,onChange:m=>b(m.target.value)})})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-500 whitespace-nowrap w-[70px]",children:":"}),l.jsx("div",{className:"relative flex-1",children:l.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full py-1.5 px-3",value:Y,onChange:m=>le(m.target.value)})})]}),l.jsxs("button",{onClick:_,disabled:v,className:"btn-secondary w-full py-2 flex items-center justify-center gap-2 mt-2",children:[v?l.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-slate-500 border-t-transparent rounded-full"}):l.jsx(lt,{size:18}),""]})]}),l.jsx("div",{className:"hidden md:block mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[l.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:Y,onChange:m=>le(m.target.value)})]})]}),l.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:d,onChange:m=>b(m.target.value)})]})]}),l.jsxs("div",{className:"w-full md:w-40 space-y-1.5",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full text-sm",value:$,onChange:m=>P(m.target.value)})]}),l.jsxs("div",{className:"w-full md:w-40 space-y-1.5",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full text-sm",value:N,onChange:m=>g(m.target.value)})]}),l.jsxs("button",{onClick:_,disabled:v,className:"btn-secondary h-[42px] flex items-center gap-2 whitespace-nowrap px-6",children:[l.jsx(lt,{size:18,className:v?"animate-spin":""})," "]})]})}),l.jsx("div",{className:"md:hidden space-y-4",children:v?l.jsx("div",{className:"text-center py-10 text-slate-500",children:"..."}):te.length>0?te.map((m,T)=>l.jsxs("div",{className:"bg-white rounded-xl p-4 border border-slate-200 shadow-sm space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-start border-b border-slate-50 pb-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[l.jsx(Tt,{size:14,className:"text-blue-600"}),l.jsx("span",{className:"font-medium text-slate-700",children:m.date?new Date(m.date).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}):"-"}),l.jsx("span",{className:"text-xs text-slate-400",children:m.date?new Date(m.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]}),l.jsxs("div",{className:"text-lg font-bold text-emerald-600 font-mono",children:["$",(Number(m.totalPrice)||0).toLocaleString()]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-y-3 gap-x-2 text-sm",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-xs text-slate-400 block mb-0.5",children:""}),l.jsx("span",{className:"font-medium text-slate-800",children:m.vendorName||m.vendor||"-"})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("span",{className:"text-xs text-slate-400 block mb-0.5",children:""}),l.jsx("span",{className:"font-bold text-slate-900 text-base",children:m.productName})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-slate-400 block mb-0.5",children:""}),l.jsx("span",{className:"font-mono text-blue-600 font-bold",children:m.quantity})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-xs text-slate-400 block mb-0.5",children:""}),l.jsxs("span",{className:"font-mono text-slate-600",children:["$",(Number(m.unitPrice)||0).toLocaleString()]})]})]}),l.jsxs("div",{className:"pt-2 border-t border-slate-50 flex justify-between items-center text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1 text-slate-400 bg-slate-50 px-2 py-1 rounded",children:[l.jsx("span",{children:":"}),l.jsx("span",{className:"font-mono text-slate-600",children:m.expiry?new Date(m.expiry).toLocaleDateString("zh-TW"):"-"})]}),l.jsxs("div",{className:"flex items-center gap-1 text-slate-400",children:[l.jsx(Fl,{size:12}),l.jsx("span",{children:m.operator||"-"})]})]})]},T)):l.jsx("div",{className:"text-center py-10 text-slate-500 bg-slate-50 rounded-xl border border-slate-100",children:""})}),l.jsx("div",{className:"hidden md:block rounded-xl border border-slate-200 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:v?l.jsx("tr",{children:l.jsx("td",{colSpan:"8",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((m,T)=>l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[l.jsx(Tt,{size:14,className:"text-slate-400 group-hover:text-blue-600 transition-colors"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-medium text-slate-600",children:m.date?new Date(m.date).toLocaleDateString("zh-TW"):"-"}),l.jsx("span",{className:"text-xs text-slate-400",children:m.date?new Date(m.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]})]})}),l.jsx("td",{className:"p-4 text-slate-600",children:m.vendorName||m.vendor||"-"}),l.jsx("td",{className:"p-4 font-medium text-slate-900",children:m.productName}),l.jsx("td",{className:"p-4 text-right font-mono text-blue-600",children:m.quantity}),l.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",(Number(m.unitPrice)||0).toLocaleString()]}),l.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-600",children:["$",(Number(m.totalPrice)||0).toLocaleString()]}),l.jsx("td",{className:"p-4 text-slate-400 text-xs",children:m.expiry?new Date(m.expiry).toLocaleDateString("zh-TW"):"-"}),l.jsx("td",{className:"p-4 text-slate-400",children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Fl,{size:12})," ",m.operator||"-"]})})]},T)):l.jsx("tr",{children:l.jsx("td",{colSpan:"8",className:"p-20 text-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx(zc,{size:32,className:"text-slate-600"}),l.jsx("p",{className:"text-slate-500",children:""})]})})})})]})})})]})})}function cp({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState(!1),[Y,le]=z.useState(""),[d,b]=z.useState("ALL"),[$,P]=z.useState(Ge()),[N,g]=z.useState(Ge()),_=Sl.useCallback(async()=>{G(!0);try{const D=await Ne(H,"getAdjustmentHistory",{startDate:$,endDate:N,productName:Y},u.token);Array.isArray(D)&&f(D)}catch(D){console.error("Failed to fetch adjustment history:",D)}finally{G(!1)}},[H,u.token,$,N,Y]);z.useEffect(()=>{_()},[_]);const te=S.filter(D=>{const m=String(D.productName||"").toLowerCase().includes(Y.toLowerCase()),T=d==="ALL"||D.type===d;return m&&T});return l.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:l.jsxs("div",{className:"glass-panel p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-slate-200",children:[l.jsxs("div",{className:"flex items-center gap-3 overflow-hidden flex-1",children:[l.jsx(ss,{className:"text-blue-600 shrink-0",size:24}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 truncate",children:""}),l.jsxs("div",{className:"bg-blue-50 px-2 py-0.5 rounded border border-blue-100 shrink-0 flex items-center ml-auto mr-2",children:[l.jsx("span",{className:"text-[10px] md:text-xs text-slate-500 font-bold uppercase mr-1",children:""}),l.jsx("span",{className:"text-sm md:text-xl font-bold text-blue-600",children:te.length})]})]}),l.jsxs("button",{onClick:_,disabled:v,className:"btn-secondary h-9 md:h-[42px] px-3 md:px-6 flex items-center justify-center gap-2 whitespace-nowrap text-sm shrink-0",children:[l.jsx(lt,{size:16,className:v?"animate-spin":""}),l.jsx("span",{className:"hidden md:inline",children:""})]})]}),l.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"w-full md:hidden flex flex-col gap-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full text-sm px-2 py-2",value:$,onChange:D=>P(D.target.value)})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full text-sm px-2 py-2",value:N,onChange:D=>g(D.target.value)})]})]}),l.jsxs("div",{className:"flex-1 space-y-1.5 w-full md:order-none",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-9 w-full text-sm h-9 md:h-10",value:Y,onChange:D=>le(D.target.value)})]})]}),l.jsxs("div",{className:"w-full md:w-32 space-y-1.5 md:order-none",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsxs("select",{value:d,onChange:D=>b(D.target.value),className:"input-field w-full text-sm appearance-none bg-white font-medium h-9 md:h-10",children:[l.jsx("option",{value:"ALL",children:""}),l.jsx("option",{value:"SCRAP",children:""}),l.jsx("option",{value:"RETURN",children:""}),l.jsx("option",{value:"LOSS",children:""}),l.jsx("option",{value:"OTHER",children:""})]})]}),l.jsxs("div",{className:"hidden md:block w-36 space-y-1.5",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full text-sm h-10",value:$,onChange:D=>P(D.target.value)})]}),l.jsxs("div",{className:"hidden md:block w-36 space-y-1.5",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full text-sm h-10",value:N,onChange:D=>g(D.target.value)})]}),l.jsxs("button",{onClick:_,disabled:v,className:"hidden md:flex btn-secondary h-10 items-center justify-center gap-2 whitespace-nowrap px-6",children:[l.jsx(lt,{size:18,className:v?"animate-spin":""})," "]})]})}),l.jsx("div",{className:"hidden md:block rounded-xl border border-slate-200 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4",children:"/"}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:v?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((D,m)=>{const T={SCRAP:"",RETURN:"",LOSS:"",OTHER:""};return l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex flex-col gap-0.5 text-slate-500",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tt,{size:14,className:"text-slate-400"}),l.jsx("span",{children:D.date?new Date(D.date).toLocaleDateString("zh-TW"):"-"})]}),l.jsx("span",{className:"text-xs text-slate-400 ml-6",children:D.date?new Date(D.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]})}),l.jsx("td",{className:"p-4 font-medium text-slate-900",children:D.productName}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${D.type==="SCRAP"?"bg-rose-100 text-rose-700":D.type==="RETURN"?"bg-blue-100 text-blue-700":D.type==="LOSS"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-700"}`,children:T[D.type]||D.type})}),l.jsxs("td",{className:"p-4 text-right font-mono font-bold text-rose-600",children:["-",D.quantity]}),l.jsx("td",{className:"p-4 text-slate-600 max-w-xs truncate",title:D.note,children:D.note||"-"}),l.jsx("td",{className:"p-4 text-slate-400",children:D.operator||"-"})]},m)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-20 text-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx(zc,{size:32,className:"text-slate-600"}),l.jsx("p",{className:"text-slate-500",children:""})]})})})})]})})}),l.jsx("div",{className:"md:hidden space-y-4",children:v?l.jsx("div",{className:"text-center py-8 text-slate-500",children:"..."}):te.length>0?te.map((D,m)=>{const T={SCRAP:"",RETURN:"",LOSS:"",OTHER:""};return l.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm flex flex-col gap-3",children:[l.jsxs("div",{className:"flex justify-between items-start border-b border-slate-100 pb-2",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("span",{className:"text-slate-400 text-xs flex items-center gap-1",children:[l.jsx(Tt,{size:12}),D.date?new Date(D.date).toLocaleDateString("zh-TW"):"-",l.jsx("span",{className:"ml-1",children:D.date?new Date(D.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]}),l.jsx("span",{className:`self-start px-2 py-0.5 rounded text-xs font-medium ${D.type==="SCRAP"?"bg-rose-100 text-rose-700":D.type==="RETURN"?"bg-blue-100 text-blue-700":D.type==="LOSS"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-700"}`,children:T[D.type]||D.type})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-xs text-slate-400 mb-0.5",children:""}),l.jsxs("div",{className:"font-mono font-bold text-rose-600 text-lg",children:["-",D.quantity]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-800 mb-1",children:D.productName}),l.jsxs("div",{className:"flex justify-between items-start gap-4",children:[l.jsxs("p",{className:"text-sm text-slate-500 bg-slate-50 p-2 rounded flex-1",children:[l.jsx("span",{className:"text-xs text-slate-400 block mb-0.5",children:"/"}),D.note||"-"]}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsx("span",{className:"text-xs text-slate-400 block mb-0.5",children:""}),l.jsx("span",{className:"text-sm font-medium text-slate-700",children:D.operator||"-"})]})]})]})]},m)}):l.jsxs("div",{className:"text-center py-8 text-slate-500 bg-white rounded-xl border border-slate-200",children:[l.jsx(zc,{size:24,className:"mx-auto mb-2 text-slate-400"}),l.jsx("p",{children:""})]})})]})})}function ip({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState(!1),[Y,le]=z.useState(""),d=async()=>{G(!0);try{const N=await Ne(H,"getInventoryValuation",{},u.token);if(console.log("Inventory Valuation Data:",N),Array.isArray(N)){const g=Ec(N,"name");f(g)}else console.error("Valuation data is not an array:",N),f([])}catch(N){console.error("Failed to fetch valuation:",N),alert(": "+N.message)}finally{G(!1)}};z.useEffect(()=>{u?.token&&d()},[u.token,H]);const b=S.filter(N=>String(N.name||"").toLowerCase().includes(Y.toLowerCase())),$=b.reduce((N,g)=>N+(Number(g.totalValue)||0),0),P=b.reduce((N,g)=>N+(Number(g.totalQty)||0),0);return l.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(ot,{className:"text-amber-600"})," "]}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),l.jsxs("div",{className:"flex w-full md:w-auto gap-3",children:[l.jsxs("div",{className:"flex-1 bg-amber-50 px-3 py-3 border border-amber-200 rounded-xl shadow-sm text-center",children:[l.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:""}),l.jsxs("p",{className:"text-xl md:text-2xl font-bold text-amber-600 flex justify-center items-baseline gap-1",children:[l.jsx("span",{className:"text-sm opacity-50",children:"$"}),$.toLocaleString()]})]}),l.jsxs("div",{className:"flex-1 bg-blue-50 px-3 py-3 border border-blue-200 rounded-xl shadow-sm text-center",children:[l.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:""}),l.jsx("p",{className:"text-xl md:text-2xl font-bold text-blue-600",children:P.toLocaleString()})]})]})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 flex gap-4 items-center shadow-sm",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:Y,onChange:N=>le(N.target.value)})]}),l.jsxs("button",{onClick:d,disabled:v,className:"btn-secondary h-[42px] px-4 flex items-center gap-2",children:[l.jsx(lt,{size:18,className:v?"animate-spin":""})," "]})]}),l.jsx("div",{className:"hidden md:block bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0 font-bold border-b border-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-right",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:v?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):b.length>0?b.map((N,g)=>{const _=Number(N.totalQty)||0,te=Number(N.totalValue)||0,D=_>0?te/_:0,m=$>0?te/$*100:0;return l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"p-4 font-medium text-slate-800",children:N.name}),l.jsx("td",{className:"p-4 text-right font-mono text-slate-600",children:_.toLocaleString()}),l.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",D.toFixed(2)]}),l.jsxs("td",{className:"p-4 text-right font-mono font-bold text-amber-600",children:["$",te.toLocaleString()]}),l.jsx("td",{className:"p-4 text-right w-24",children:l.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[l.jsxs("span",{className:"text-xs text-slate-500 w-8",children:[m.toFixed(1),"%"]}),l.jsx("div",{className:"w-12 h-1.5 bg-slate-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-amber-500",style:{width:`${Math.min(m,100)}%`}})})]})})]},g)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-20 text-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx(Wl,{size:32,className:"text-slate-600"}),l.jsx("p",{className:"text-slate-500",children:""})]})})})})]})})}),l.jsx("div",{className:"md:hidden space-y-4",children:v?l.jsx("div",{className:"text-center py-8 text-slate-500",children:"..."}):b.length>0?b.map((N,g)=>{const _=Number(N.totalQty)||0,te=Number(N.totalValue)||0,D=_>0?te/_:0,m=$>0?te/$*100:0;return l.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm flex flex-col gap-3",children:[l.jsxs("div",{className:"flex justify-between items-start border-b border-slate-100 pb-2",children:[l.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:N.name}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-xs text-slate-400",children:""}),l.jsxs("div",{className:"font-bold text-amber-600 text-lg font-mono",children:["$",te.toLocaleString()]})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center text-sm",children:[l.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg",children:[l.jsx("div",{className:"text-xs text-slate-400 mb-1",children:""}),l.jsx("div",{className:"font-mono font-bold text-slate-700",children:_.toLocaleString()})]}),l.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg",children:[l.jsx("div",{className:"text-xs text-slate-400 mb-1",children:""}),l.jsxs("div",{className:"font-mono text-slate-600",children:["$",D.toFixed(0)]})]}),l.jsxs("div",{className:"bg-slate-50 p-2 rounded-lg",children:[l.jsx("div",{className:"text-xs text-slate-400 mb-1",children:""}),l.jsxs("div",{className:"font-mono text-slate-600",children:[m.toFixed(1),"%"]})]})]}),l.jsx("div",{className:"w-full h-1.5 bg-slate-100 rounded-full overflow-hidden mt-1",children:l.jsx("div",{className:"h-full bg-amber-500 transition-all duration-500",style:{width:`${Math.min(m,100)}%`}})})]},g)}):l.jsxs("div",{className:"text-center py-8 text-slate-500 bg-white rounded-xl border border-slate-200",children:[l.jsx(Wl,{size:24,className:"mx-auto mb-2 text-slate-400"}),l.jsx("p",{children:""})]})})]})}function rp({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState({}),[Y,le]=z.useState(!0),[d,b]=z.useState(!1),[$,P]=z.useState(""),[N,g]=z.useState(!1),_=z.useCallback(h=>`${h.id}-${h.batchId||"no-batch"}`,[]),te=z.useCallback(async()=>{le(!0);try{const h=await Ne(H,"getInventory",{},u.token);if(Array.isArray(h)){const w=Ec(h,"productName");f(w);const U={};w.forEach(Q=>{Q.type==="STOCK"&&(U[_(Q)]={physicalQty:"",reason:"",accountability:""})}),G(U)}}catch(h){console.error("Failed to fetch inventory for stocktake:",h),alert("")}finally{le(!1)}},[H,u.token,_]);z.useEffect(()=>{u?.token&&te()},[u.token,te]);const D=(h,w,U)=>{G(Q=>({...Q,[h]:{...Q[h],[w]:U}}))},m=h=>{const w=document.getElementById(h);w&&(w.focus(),w.select?.(),w.scrollIntoView({block:"nearest",behavior:"smooth"}))},T=(h,w,U,Q,ne=!1)=>{const C=Q[w],K=_(C),ee=v[K]||{},ae=p(C.quantity,ee.physicalQty),ce=ee.physicalQty!==""&&ae!==0,o=["qty","reason","acc"],R=o.indexOf(U),I=ne?"m-":"";h.key==="ArrowRight"||h.key==="Enter"&&!h.shiftKey?(h.preventDefault(),U==="qty"&&!ce?w<Q.length-1&&m(`${I}qty-${_(Q[w+1])}`):R<o.length-1?m(`${I}${o[R+1]}-${K}`):w<Q.length-1&&m(`${I}qty-${_(Q[w+1])}`)):h.key==="ArrowLeft"?(h.preventDefault(),R>0&&m(`${I}${o[R-1]}-${K}`)):h.key==="ArrowDown"?(h.preventDefault(),w<Q.length-1&&m(`${I}${U}-${_(Q[w+1])}`)):h.key==="ArrowUp"&&(h.preventDefault(),w>0&&m(`${I}${U}-${_(Q[w-1])}`))},p=(h,w)=>w===""||w===void 0?0:Number(w)-Number(h),J=()=>S.filter(h=>{if(h.type!=="STOCK")return!1;const w=v[_(h)];return w&&w.physicalQty!==""}).map(h=>{const w=v[_(h)],U=p(h.quantity,w.physicalQty);return{productId:h.id,productName:h.productName,bookQty:Number(h.quantity),physicalQty:Number(w.physicalQty),diff:U,reason:w.reason,accountability:w.accountability,batchId:h.batchId||""}}),A=async()=>{const h=S.filter(Q=>{if(Q.type!=="STOCK"||Number(Q.quantity)===0)return!1;const ne=_(Q),C=v[ne];return!C||C.physicalQty===""||C.physicalQty===void 0});if(h.length>0){alert(` ${h.length} 
`);const Q=_(h[0]);m(`qty-${Q}`);return}const w=J();w.length===0&&S.some(Q=>Q.type==="STOCK");const U=w.find(Q=>Q.diff!==0&&(!Q.reason||!Q.accountability));if(U){alert(`${U.productName}`);const Q=_(U);v[Q].reason?document.getElementById(`acc-${Q}`)?.focus():document.getElementById(`reason-${Q}`)?.focus();return}if(confirm(` ${w.length} `)){b(!0);try{await Ne(H,"saveStocktake",{date:Ge(),items:w,operator:u.username},u.token),alert(""),G({}),await te()}catch(Q){console.error("Stocktake submit failed:",Q),alert(": "+Q.message)}finally{b(!1)}}},y=S.filter(h=>!h||!N&&(Number(h.quantity)||0)===0?!1:String(h.productName||"").toLowerCase().includes($.toLowerCase())),B=y.filter(h=>h.type==="STOCK"),Z=y.filter(h=>h.type!=="STOCK"),se=(h,w,U,Q,ne)=>l.jsxs("div",{className:"hidden md:flex bg-white rounded-xl border border-slate-200 p-6 flex-col shadow-sm",children:[l.jsxs("h3",{className:`text-lg font-bold mb-4 flex items-center gap-2 ${Q}`,children:[l.jsx(U,{size:20})," ",w,!ne&&l.jsx("span",{className:"text-xs text-slate-500 font-normal ml-2",children:""})]}),l.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),ne&&l.jsxs(l.Fragment,{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-center",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:Y?l.jsx("tr",{children:l.jsx("td",{colSpan:ne?"6":"2",className:"p-6 text-center text-slate-500",children:"..."})}):h.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:ne?"6":"2",className:"p-6 text-center text-slate-500",children:""})}):h.map((C,K)=>{if(!C)return null;const ee=_(C),ae=v[ee]||{physicalQty:"",reason:"",accountability:u.username||""},ce=p(C.quantity,ae.physicalQty),o=!ne&&Number(C.quantity)>0;return l.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${ne&&ce!==0&&ae.physicalQty!==""?"bg-amber-50":o?"bg-orange-50 border-l-4 border-orange-500":""}`,children:[l.jsx("td",{className:`p-4 font-medium ${o?"text-orange-700 font-bold":"text-slate-800"}`,children:C.productName||""}),l.jsx("td",{className:`p-4 text-right font-mono ${o?"text-orange-600 font-bold text-lg":"text-slate-500"}`,children:C.quantity}),ne&&l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"p-4",children:l.jsx("input",{id:`qty-${ee}`,type:"number",className:`input-field w-full text-right font-mono bg-white ${ce!==0&&ae.physicalQty!==""?"border-red-300 text-red-700":""}`,placeholder:"0",value:ae.physicalQty,onChange:R=>D(ee,"physicalQty",R.target.value),onKeyDown:R=>T(R,K,"qty",h),onWheel:R=>R.target.blur()})}),l.jsx("td",{className:"p-4 text-center",children:l.jsxs("span",{className:`inline-flex items-center gap-1 font-mono font-bold ${ae.physicalQty===""||ce===0?"text-green-500":"text-red-500 underline"}`,children:[ae.physicalQty!==""?ce>0?`+${ce}`:ce:0,ae.physicalQty!==""&&ce!==0&&l.jsx(ya,{size:12})]})}),l.jsx("td",{className:"p-4",children:l.jsx("input",{id:`reason-${ee}`,type:"text",disabled:ae.physicalQty===""||ce===0,className:`input-field w-full text-xs transition-all ${ae.physicalQty!==""&&ce!==0?"bg-white":"bg-slate-100 cursor-not-allowed opacity-50"}`,placeholder:ce!==0&&ae.physicalQty!==""?"...":"-",value:ae.reason,onChange:R=>D(ee,"reason",R.target.value),onKeyDown:R=>T(R,K,"reason",h)})}),l.jsx("td",{className:"p-4",children:l.jsx("input",{id:`acc-${ee}`,type:"text",disabled:ae.physicalQty===""||ce===0,className:`input-field w-full text-xs transition-all ${ae.physicalQty!==""&&ce!==0?"bg-white":"bg-slate-100 cursor-not-allowed opacity-50"}`,placeholder:ce!==0&&ae.physicalQty!==""?"...":"-",value:ae.accountability,onChange:R=>D(ee,"accountability",R.target.value),onKeyDown:R=>T(R,K,"acc",h)})})]})]},ee)})})]})})]}),me=(h,w,U,Q,ne)=>l.jsxs("div",{className:"md:hidden flex flex-col gap-4",children:[l.jsxs("h3",{className:`text-lg font-bold flex items-center gap-2 ${Q} px-1`,children:[l.jsx(U,{size:20})," ",w,!ne&&l.jsx("span",{className:"text-xs text-slate-500 font-normal ml-2",children:""})]}),l.jsx("div",{className:"space-y-4",children:Y?l.jsx("div",{className:"text-center py-8 text-slate-500",children:"..."}):h.length===0?l.jsx("div",{className:"text-center py-8 text-slate-500 bg-white rounded-xl border border-slate-200",children:""}):h.map((C,K)=>{if(!C)return null;const ee=_(C),ae=v[ee]||{physicalQty:"",reason:"",accountability:u.username||""},ce=p(C.quantity,ae.physicalQty),o=ae.physicalQty!==""&&ce!==0,R=!ne&&Number(C.quantity)>0;return l.jsxs("div",{className:`bg-white rounded-xl p-4 border shadow-sm space-y-3 ${ne&&o?"border-amber-200 bg-amber-50":R?"border-orange-200 bg-orange-50":"border-slate-200"}`,children:[l.jsxs("div",{className:"flex justify-between items-start border-b border-slate-100 pb-2",children:[l.jsx("span",{className:`font-bold text-lg ${R?"text-orange-700":"text-slate-800"}`,children:C.productName||""}),l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("span",{className:"text-xs text-slate-400",children:""}),l.jsx("span",{className:`font-mono text-lg font-bold ${R?"text-orange-600":"text-slate-600"}`,children:C.quantity})]})]}),ne&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("label",{className:"text-sm font-bold text-slate-600 min-w-[70px]",children:":"}),l.jsx("input",{id:`m-qty-${ee}`,type:"number",className:`input-field flex-1 text-right font-mono py-2 ${o?"border-red-300 text-red-700 bg-white":""}`,placeholder:"",value:ae.physicalQty,onChange:I=>D(ee,"physicalQty",I.target.value),onKeyDown:I=>T(I,K,"qty",h,!0)}),l.jsx("div",{className:"w-12 text-right",children:l.jsx("span",{className:`font-mono font-bold ${ae.physicalQty===""||!o?"text-slate-300":"text-red-500"}`,children:ae.physicalQty!==""?ce>0?`+${ce}`:ce:"-"})})]}),o&&l.jsxs("div",{className:"bg-white/50 p-3 rounded-lg border border-amber-100 space-y-3",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-xs font-bold text-slate-500",children:""}),l.jsx("input",{id:`m-reason-${ee}`,type:"text",className:"input-field w-full text-sm",placeholder:"...",value:ae.reason,onChange:I=>D(ee,"reason",I.target.value),onKeyDown:I=>T(I,K,"reason",h,!0)})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-xs font-bold text-slate-500",children:""}),l.jsx("input",{id:`m-acc-${ee}`,type:"text",className:"input-field w-full text-sm",placeholder:"",value:ae.accountability,onChange:I=>D(ee,"accountability",I.target.value),onKeyDown:I=>T(I,K,"acc",h,!0)})]})]})]})]},ee)})})]});return l.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)] relative",children:[d&&l.jsxs("div",{className:"loading-overlay",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),l.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),l.jsxs("div",{className:"hidden md:flex flex-col gap-6 shrink-0",children:[l.jsxs("div",{className:"flex justify-between items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(ln,{className:"text-blue-600"})," "]}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:te,className:"btn-secondary h-[42px] px-4",title:"",children:l.jsx(bx,{size:18})}),l.jsx("button",{onClick:A,disabled:d,className:"btn-primary h-[42px] px-6 flex items-center gap-2",children:d?"...":l.jsxs(l.Fragment,{children:[l.jsx(tn,{size:18})," "]})})]})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 flex gap-4 items-center",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:$,onChange:h=>P(h.target.value)})]}),l.jsx("div",{className:"flex items-center gap-3 bg-white p-2 px-4 rounded-xl border border-slate-200 shadow-sm shrink-0",children:l.jsxs("label",{className:"text-sm font-bold text-slate-600 flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:N,onChange:h=>g(h.target.checked)})," 0 "]})})]})]}),l.jsxs("div",{className:"md:hidden flex flex-col gap-3 shrink-0",children:[l.jsxs("h1",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(ln,{className:"text-blue-600"})," "]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:$,onChange:h=>P(h.target.value)})]}),l.jsx("button",{onClick:te,className:"btn-secondary px-3 flex items-center justify-center shrink-0",title:"",children:l.jsx(bx,{size:20})})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"flex-1 flex items-center justify-center gap-2 bg-white px-3 py-2 rounded-xl border border-slate-200 shadow-sm",children:[l.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:N,onChange:h=>g(h.target.checked)}),l.jsx("span",{className:"text-xs font-bold text-slate-600",children:" 0 "})]}),l.jsx("button",{onClick:A,disabled:d,className:"btn-primary flex-1 py-2 flex items-center justify-center gap-2 text-sm",children:d?"...":l.jsxs(l.Fragment,{children:[l.jsx(tn,{size:16})," "]})})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-6 pb-6 w-full",children:[se(B,"",ns,"text-blue-600",!0),me(B,"",ns,"text-blue-600",!0),se(Z,"/",Ac,"text-orange-600",!1),me(Z,"/",Ac,"text-orange-600",!1)]})]})}function up({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState(!1),[Y,le]=z.useState(""),[d,b]=z.useState(!0),[$,P]=z.useState(Ge()),[N,g]=z.useState(Ge()),_=Sl.useCallback(async()=>{G(!0);try{const p=await Ne(H,"getStocktakeHistory",{startDate:$,endDate:N,productName:Y,diffOnly:d},u.token);Array.isArray(p)&&f(p)}catch(p){console.error("Failed to fetch stocktake history:",p)}finally{G(!1)}},[H,u.token,$,N,Y,d]);z.useEffect(()=>{_()},[_]),z.useEffect(()=>{const p=()=>{if(document.hidden)return;const J=Ge();if($===N&&$!==J){const A=new Date;A.setDate(A.getDate()-1);const y=`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}-${String(A.getDate()).padStart(2,"0")}`;$===y&&(console.log("Detected stale date (yesterday), auto-updating to today:",J),P(J),g(J))}};return window.addEventListener("focus",p),document.addEventListener("visibilitychange",p),()=>{window.removeEventListener("focus",p),document.removeEventListener("visibilitychange",p)}},[$,N]);const te=S.filter(p=>String(p.productName||"").toLowerCase().includes(Y.toLowerCase())),D=te.length,m=te.filter(p=>p.diff!==0).length,T=te.filter(p=>p.diff===0).length;return l.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:l.jsxs("div",{className:"glass-panel p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-slate-200 pb-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(ss,{className:"text-blue-600"})," "]}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 w-full md:w-auto md:flex md:gap-4",children:[l.jsxs("div",{className:"px-2 md:px-5 py-2 rounded-xl bg-blue-50 border border-blue-200 flex flex-col items-center justify-center",children:[l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 uppercase font-bold text-center",children:""}),l.jsx("p",{className:"text-lg md:text-xl font-bold text-slate-800 text-center",children:D})]}),l.jsxs("div",{className:"px-2 md:px-5 py-2 rounded-xl bg-rose-50 border border-rose-200 flex flex-col items-center justify-center",children:[l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 uppercase font-bold text-center",children:""}),l.jsx("p",{className:"text-lg md:text-xl font-bold text-rose-600 text-center",children:m})]}),l.jsxs("div",{className:"px-2 md:px-5 py-2 rounded-xl bg-emerald-50 border border-emerald-200 flex flex-col items-center justify-center",children:[l.jsx("p",{className:"text-[10px] md:text-xs text-slate-500 uppercase font-bold text-center",children:""}),l.jsx("p",{className:"text-lg md:text-xl font-bold text-emerald-600 text-center",children:T})]})]})]}),l.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[l.jsx("div",{className:"w-full md:hidden",children:l.jsxs("div",{className:"w-full space-y-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-transparent",value:$,onChange:p=>P(p.target.value)})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-transparent",value:N,onChange:p=>g(p.target.value)})]})]})}),l.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full h-10",value:Y,onChange:p=>le(p.target.value)})]})]}),l.jsxs("div",{className:"hidden md:block w-32 space-y-1.5",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full text-sm",value:$,onChange:p=>P(p.target.value)})]}),l.jsxs("div",{className:"hidden md:block w-32 space-y-1.5",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full text-sm",value:N,onChange:p=>g(p.target.value)})]}),l.jsxs("div",{className:"w-full md:w-auto flex flex-row items-center gap-2 justify-between md:justify-start",children:[l.jsxs("label",{className:"flex-1 md:flex-none flex items-center justify-center md:justify-start gap-2 px-4 py-2.5 rounded-xl bg-white border border-slate-200 cursor-pointer hover:bg-slate-50 transition-colors select-none h-[42px]",children:[l.jsx("input",{type:"checkbox",checked:d,onChange:p=>b(p.target.checked),className:"w-4 h-4 rounded border-slate-600 text-blue-500 focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-slate-500 font-medium whitespace-nowrap",children:""})]}),l.jsxs("button",{onClick:_,disabled:v,className:"btn-secondary h-[42px] px-6 flex items-center gap-2 whitespace-nowrap",children:[l.jsx(lt,{size:18,className:v?"animate-spin":""})," "]})]})]})}),l.jsx("div",{className:"hidden md:block rounded-xl border border-slate-200 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-center",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:v?l.jsx("tr",{children:l.jsx("td",{colSpan:"8",className:"p-20 text-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"}),l.jsx("span",{className:"text-slate-500",children:"..."})]})})}):te.length>0?te.map((p,J)=>l.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${p.diff!==0?"bg-amber-50":""}`,children:[l.jsx("td",{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[l.jsx(Tt,{size:14,className:"text-slate-400"}),p.date]})}),l.jsx("td",{className:"p-4 font-medium text-slate-900",children:p.productName}),l.jsx("td",{className:"p-4 text-right font-mono text-slate-500",children:p.bookQty}),l.jsx("td",{className:"p-4 text-right font-mono text-blue-600",children:p.physicalQty}),l.jsx("td",{className:"p-4 text-center",children:p.diff===0?l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 text-xs font-bold",children:[l.jsx(Ir,{size:14})," 0"]}):l.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${p.diff>0?"bg-blue-100 text-blue-700":"bg-rose-100 text-rose-700"}`,children:[l.jsx(ya,{size:14}),p.diff>0?`+${p.diff}`:p.diff]})}),l.jsx("td",{className:"p-4 text-slate-600",children:p.reason||"-"}),l.jsx("td",{className:"p-4 text-slate-600",children:p.accountability||"-"}),l.jsx("td",{className:"p-4 text-slate-500",children:p.operator||"-"})]},J)):l.jsx("tr",{children:l.jsx("td",{colSpan:"8",className:"p-20 text-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-50 flex items-center justify-center",children:l.jsx(zc,{size:32,className:"text-slate-300"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-slate-900 font-medium",children:""}),l.jsx("p",{className:"text-slate-400 text-sm mt-1",children:""})]})]})})})})]})})}),l.jsx("div",{className:"md:hidden space-y-4",children:v?l.jsx("div",{className:"text-center py-8 text-slate-500",children:"..."}):te.length>0?te.map((p,J)=>l.jsxs("div",{className:`bg-white rounded-xl border border-slate-200 p-4 shadow-sm flex flex-col gap-3 ${p.diff!==0?"bg-amber-50/50":""}`,children:[l.jsxs("div",{className:"flex justify-between items-start border-b border-slate-100 pb-2",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[l.jsx(Tt,{size:12}),p.date]}),l.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:p.productName})]}),l.jsx("div",{className:"text-right",children:l.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${p.diff===0?"bg-emerald-100 text-emerald-700":p.diff>0?"bg-blue-100 text-blue-700":"bg-rose-100 text-rose-700"}`,children:[p.diff===0?l.jsx(Ir,{size:12}):l.jsx(ya,{size:12}),p.diff>0?`+${p.diff}`:p.diff]})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center bg-slate-50 p-2 rounded -mx-1",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] text-slate-400 uppercase",children:""}),l.jsx("div",{className:"font-mono font-medium text-slate-600",children:p.bookQty})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] text-slate-400 uppercase",children:""}),l.jsx("div",{className:"font-mono font-bold text-blue-600",children:p.physicalQty})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] text-slate-400 uppercase",children:""}),l.jsx("div",{className:`font-mono font-bold ${p.diff===0?"text-emerald-600":"text-rose-600"}`,children:p.diff})]})]}),(p.reason||p.accountability)&&l.jsxs("div",{className:"text-sm bg-slate-50 p-2 rounded text-slate-600",children:[p.reason&&l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-400 text-xs mr-2",children:":"}),p.reason]}),p.accountability&&l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-400 text-xs mr-2",children:":"}),p.accountability]})]}),l.jsx("div",{className:"flex justify-between items-center text-xs text-slate-400 pt-1",children:l.jsxs("span",{children:[": ",l.jsx("span",{className:"text-slate-600 font-medium",children:p.operator||"-"})]})})]},J)):l.jsx("div",{className:"text-center py-8 text-slate-500 bg-white rounded-xl border border-slate-200",children:l.jsx("p",{children:""})})})]})})}function op({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState(!1),[Y,le]=z.useState(Ge()),[d,b]=z.useState(Ge()),[$,P]=z.useState(""),[N,g]=z.useState(""),[_,te]=z.useState(new Set),D=Sl.useCallback(async()=>{G(!0);try{const y={};Y&&(y.startDate=Y),d&&(y.endDate=d);const B=await Ne(H,"getReceivables",y,u.token);if(Array.isArray(B)){const Z=B.sort((se,me)=>new Date(me.date)-new Date(se.date));f(Z)}}catch(y){console.error("Failed to fetch data:",y),alert(": "+y.message)}finally{G(!1)}},[H,u.token,Y,d]);z.useEffect(()=>{D()},[D]);const m=async y=>{if(confirm("")){G(!0);try{await Ne(H,"markAsPaid",{recordId:y},u.token),alert(""),D()}catch(B){console.error("Failed to mark as paid:",B),alert(": "+B.message)}finally{G(!1)}}},T=y=>{const B=new Set(_);B.has(y)?B.delete(y):B.add(y),te(B)},p=y=>[y.salesRep,y.salesPerson,y.operator,y.Operator,y.buyer].find(se=>se&&String(se).toLowerCase()!=="unknown")||"-",J=S.filter(y=>{const B=String(y.clientName||y.customer||y.location||"").toLowerCase(),Z=String(p(y)).toLowerCase(),se=!$||B.includes($.toLowerCase()),me=!N||Z.includes(N.toLowerCase());return se&&me}),A=J.reduce((y,B)=>y+(Number(B.amount)||Number(B.total)||0),0);return l.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[l.jsxs("div",{className:"flex flex-row justify-between items-center gap-4",children:[l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-slate-800 flex items-center gap-2 truncate",children:[l.jsx(Jl,{className:"text-emerald-600 w-6 h-6 shrink-0"}),l.jsx("span",{className:"truncate",children:""})]})}),l.jsxs("div",{className:"glass-panel px-3 py-2 border-emerald-200 bg-emerald-50 shrink-0 flex flex-col items-end",children:[l.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:""}),l.jsxs("p",{className:"text-lg md:text-xl font-bold text-emerald-600",children:["$",A.toLocaleString()]})]})]}),l.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-white",value:Y,onChange:y=>le(y.target.value)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-white",value:d,onChange:y=>b(y.target.value)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:"/"}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full h-10",value:$,onChange:y=>P(y.target.value)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full h-10",value:N,onChange:y=>g(y.target.value)})]}),l.jsxs("button",{onClick:D,className:"btn-secondary h-10 px-6 flex items-center gap-2 justify-center w-full md:w-auto",children:[l.jsx(lt,{size:18})," "]})]})}),l.jsx("div",{className:"hidden md:block rounded-xl border border-slate-200 overflow-hidden",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 w-10"}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-center",children:""}),l.jsx("th",{className:"p-4 text-center",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:v?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:"..."})}):J.length>0?J.map((y,B)=>l.jsxs(Sl.Fragment,{children:[l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>T(B),children:[l.jsx("td",{className:"p-4 text-slate-400",children:_.has(B)?l.jsx(Dc,{size:16}):l.jsx(ga,{size:16})}),l.jsx("td",{className:"p-4 text-slate-500",children:(()=>{const Z=y.serverTimestamp||y.timestamp||y.date,se=new Date(Z);return isNaN(se.getTime())?"-":se.toLocaleDateString("zh-TW")})()}),l.jsx("td",{className:"p-4 font-medium text-slate-800",children:y.clientName||y.customer||y.location||"-"}),l.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-600",children:["$",(Number(y.amount)||Number(y.total)||0).toLocaleString()]}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${y.status==="PAID"?"bg-green-100 text-green-700":"bg-rose-100 text-rose-700"}`,children:y.status==="PAID"?"":""})}),l.jsx("td",{className:"p-4 text-center",onClick:Z=>Z.stopPropagation(),children:y.status!=="PAID"&&l.jsx("button",{onClick:()=>m(y.id),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:""})})]}),_.has(B)&&l.jsx("tr",{className:"bg-slate-50/50",children:l.jsx("td",{colSpan:"6",className:"p-4 pl-12",children:l.jsx("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-50 text-slate-500 border-b border-slate-100",children:[l.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),l.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),l.jsx("th",{className:"py-2 px-4 text-right font-medium",children:""}),l.jsx("th",{className:"py-2 px-4 text-center font-medium",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-50",children:(y.items||y.products||y.salesData||[]).length>0?(y.items||y.products||y.salesData||[]).map((Z,se)=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"py-3 px-4 text-slate-500",children:p(y)}),l.jsx("td",{className:"py-3 px-4 text-slate-800 font-medium",children:Z.productName||Z.name||"-"}),l.jsxs("td",{className:"py-3 px-4 text-right text-slate-500 font-mono",children:["$",(Number(Z.price)||Number(Z.unitPrice)||0).toLocaleString()]}),l.jsx("td",{className:"py-3 px-4 text-center text-slate-500 font-mono",children:Z.qty||Z.soldQty||1})]},se)):l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"py-4 text-center text-slate-500 italic",children:""})})})]})})})})]},B)):l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:""})})})]})}),l.jsx("div",{className:"md:hidden space-y-4",children:v?l.jsx("div",{className:"p-10 text-center text-slate-500",children:"..."}):J.length>0?J.map((y,B)=>l.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm",onClick:()=>T(B),children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-slate-400 mb-1",children:(()=>{const Z=y.serverTimestamp||y.timestamp||y.date,se=new Date(Z);return isNaN(se.getTime())?"-":se.toLocaleDateString("zh-TW")})()}),l.jsx("div",{className:"font-bold text-slate-800 text-lg",children:y.clientName||y.customer||y.location||""}),l.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[": ",p(y)]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-xl font-black font-mono text-emerald-600",children:["$",(Number(y.amount)||Number(y.total)||0).toLocaleString()]}),l.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded text-[10px] font-bold ${y.status==="PAID"?"bg-green-100 text-green-700":"bg-rose-100 text-rose-700"}`,children:y.status==="PAID"?"":""})]})]}),l.jsxs("div",{className:"pt-3 border-t border-slate-100 flex items-center justify-between",children:[l.jsxs("button",{className:"text-slate-400 flex items-center gap-1 text-xs",children:[_.has(B)?l.jsx(Dc,{size:14}):l.jsx(ga,{size:14}),""]}),y.status!=="PAID"&&l.jsx("button",{onClick:Z=>{Z.stopPropagation(),m(y.id)},className:"px-4 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-lg shadow-sm hover:bg-blue-500 active:scale-95 transition-all",children:""})]}),_.has(B)&&l.jsxs("div",{className:"mt-3 bg-slate-50 rounded-lg p-3 text-sm space-y-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[(y.items||y.products||y.salesData||[]).map((Z,se)=>l.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 last:border-0 pb-2 last:pb-0",children:[l.jsx("span",{className:"text-slate-700",children:Z.productName||Z.name}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"text-slate-900 font-mono",children:["$",(Number(Z.price)||0).toLocaleString()," x ",Z.qty||1]})})]},se)),!y.items&&!y.products&&!y.salesData&&l.jsx("div",{className:"text-slate-400 text-center py-2 italic",children:""})]})]},B)):l.jsx("div",{className:"p-10 text-center text-slate-500",children:""})})]})}function dp({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState(!1),[Y,le]=z.useState(Ge()),[d,b]=z.useState(Ge()),[$,P]=z.useState(""),[N,g]=z.useState(""),[_,te]=z.useState(new Set),D=Sl.useCallback(async()=>{G(!0);try{const y={};Y&&(y.startDate=Y),d&&(y.endDate=d);const B=await Ne(H,"getPayables",y,u.token);if(Array.isArray(B)){const Z=B.sort((se,me)=>new Date(me.date)-new Date(se.date));f(Z)}}catch(y){console.error("Failed to fetch payables:",y)}finally{G(!1)}},[H,u.token,Y,d]);z.useEffect(()=>{D()},[D]);const m=async y=>{if(confirm("")){G(!0);try{await Ne(H,"markPayableAsPaid",{recordId:y},u.token),alert(""),D()}catch(B){console.error("Failed to mark as paid:",B),alert(": "+B.message)}finally{G(!1)}}},T=y=>{const B=new Set(_);B.has(y)?B.delete(y):B.add(y),te(B)},p=y=>y.operator||y.Operator||y.buyer||y.salesRep||y.salesPerson||"-",J=S.filter(y=>{const B=String(y.vendorName||y.vendor||"").toLowerCase(),Z=String(p(y)).toLowerCase(),se=!$||B.includes($.toLowerCase()),me=!N||Z.includes(N.toLowerCase());return se&&me}),A=J.reduce((y,B)=>y+(Number(B.amount)||Number(B.total)||0),0);return l.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[l.jsxs("div",{className:"flex flex-row justify-between items-center gap-4",children:[l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-slate-800 flex items-center gap-2 truncate",children:[l.jsx(Jl,{className:"text-rose-600 w-6 h-6 shrink-0"}),l.jsx("span",{className:"truncate",children:""})]})}),l.jsxs("div",{className:"glass-panel px-3 py-2 border-rose-200 bg-rose-50 shrink-0 flex flex-col items-end",children:[l.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:""}),l.jsxs("p",{className:"text-lg md:text-xl font-bold text-rose-600",children:["$",A.toLocaleString()]})]})]}),l.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-white",value:Y,onChange:y=>le(y.target.value)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-white",value:d,onChange:y=>b(y.target.value)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full h-10",value:$,onChange:y=>P(y.target.value)})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full h-10",value:N,onChange:y=>g(y.target.value)})]}),l.jsxs("button",{onClick:D,className:"btn-secondary h-10 px-6 flex items-center gap-2 justify-center w-full md:w-auto",children:[l.jsx(lt,{size:18})," "]})]})}),l.jsx("div",{className:"hidden md:block rounded-xl border border-slate-200 overflow-hidden",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 w-10"}),l.jsx("th",{className:"p-4 text-center",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-center",children:""}),l.jsx("th",{className:"p-4 text-center",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:v?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:"..."})}):J.length>0?J.map((y,B)=>l.jsxs(Sl.Fragment,{children:[l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>T(B),children:[l.jsx("td",{className:"p-4 text-slate-400",children:_.has(B)?l.jsx(Dc,{size:16}):l.jsx(ga,{size:16})}),l.jsx("td",{className:"p-4 text-slate-500 text-center",children:(()=>{const Z=y.serverTimestamp||y.timestamp||y.date,se=new Date(Z);return isNaN(se.getTime())?"-":se.toLocaleDateString("zh-TW")})()}),l.jsx("td",{className:"p-4 font-medium text-slate-800",children:y.vendorName||y.vendor||"-"}),l.jsxs("td",{className:"p-4 text-right font-mono font-bold text-rose-600",children:["$",(Number(y.amount)||Number(y.total)||0).toLocaleString()]}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${y.status==="PAID"?"bg-green-100 text-green-700":"bg-rose-100 text-rose-700"}`,children:y.status==="PAID"?"":""})}),l.jsx("td",{className:"p-4 text-center",onClick:Z=>Z.stopPropagation(),children:y.status!=="PAID"&&l.jsx("button",{onClick:()=>m(y.id),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:""})})]}),_.has(B)&&l.jsx("tr",{className:"bg-slate-50/50",children:l.jsx("td",{colSpan:"6",className:"p-4 pl-12",children:l.jsx("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-slate-50 text-slate-500 border-b border-slate-100",children:[l.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),l.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),l.jsx("th",{className:"py-2 px-4 text-right font-medium",children:""}),l.jsx("th",{className:"py-2 px-4 text-center font-medium",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-50",children:(y.items||y.products||[]).length>0?(y.items||y.products||[]).map((Z,se)=>l.jsxs("tr",{className:"hover:bg-slate-50",children:[l.jsx("td",{className:"py-3 px-4 text-slate-500",children:p(y)}),l.jsx("td",{className:"py-3 px-4 text-slate-800 font-medium",children:Z.productName||Z.name||"-"}),l.jsxs("td",{className:"py-3 px-4 text-right text-slate-500 font-mono",children:["$",(Number(Z.price)||Number(Z.unitPrice)||0).toLocaleString()]}),l.jsx("td",{className:"py-3 px-4 text-center text-slate-500 font-mono",children:Z.qty||Z.quantity||1})]},se)):l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"py-4 text-center text-slate-500 italic",children:""})})})]})})})})]},B)):l.jsx("tr",{children:l.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:""})})})]})}),l.jsx("div",{className:"md:hidden space-y-4",children:v?l.jsx("div",{className:"p-10 text-center text-slate-500",children:"..."}):J.length>0?J.map((y,B)=>l.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 shadow-sm",onClick:()=>T(B),children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-slate-400 mb-1",children:(()=>{const Z=y.serverTimestamp||y.timestamp||y.date,se=new Date(Z);return isNaN(se.getTime())?"-":se.toLocaleDateString("zh-TW")})()}),l.jsx("div",{className:"font-bold text-slate-800 text-lg",children:y.vendorName||y.vendor||""}),l.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[": ",p(y)]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-xl font-black font-mono text-rose-600",children:["$",(Number(y.amount)||Number(y.total)||0).toLocaleString()]}),l.jsx("span",{className:`inline-block mt-1 px-2 py-0.5 rounded text-[10px] font-bold ${y.status==="PAID"?"bg-green-100 text-green-700":"bg-rose-100 text-rose-700"}`,children:y.status==="PAID"?"":""})]})]}),l.jsxs("div",{className:"pt-3 border-t border-slate-100 flex items-center justify-between",children:[l.jsxs("button",{className:"text-slate-400 flex items-center gap-1 text-xs",children:[_.has(B)?l.jsx(Dc,{size:14}):l.jsx(ga,{size:14}),""]}),y.status!=="PAID"&&l.jsx("button",{onClick:Z=>{Z.stopPropagation(),m(y.id)},className:"px-4 py-1.5 bg-blue-600 text-white text-xs font-bold rounded-lg shadow-sm hover:bg-blue-500 active:scale-95 transition-all",children:""})]}),_.has(B)&&l.jsxs("div",{className:"mt-3 bg-slate-50 rounded-lg p-3 text-sm space-y-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[(y.items||y.products||[]).map((Z,se)=>l.jsxs("div",{className:"flex justify-between items-center border-b border-slate-100 last:border-0 pb-2 last:pb-0",children:[l.jsx("span",{className:"text-slate-700",children:Z.productName||Z.name}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"text-slate-900 font-mono",children:["$",(Number(Z.price)||0).toLocaleString()," x ",Z.qty||1]})})]},se)),!y.items&&!y.products&&l.jsx("div",{className:"text-slate-400 text-center py-2 italic",children:""})]})]},B)):l.jsx("div",{className:"p-10 text-center text-slate-500",children:""})})]})}function fp({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState({}),[Y,le]=z.useState(!1),[d,b]=z.useState(Ge()),[$,P]=z.useState(Ge()),[N,g]=z.useState(""),_=async()=>{le(!0);try{const D=await Ne(H,"getProducts",{},u.token),m={};Array.isArray(D)&&(D.forEach(p=>{m[p.id]=p.name}),G(m));const T=await Ne(H,"getSalesRanking",{startDate:d,endDate:$},u.token);Array.isArray(T)?f(T):f([])}catch(D){console.error("Failed to fetch sales ranking:",D),alert("")}finally{le(!1)}};z.useEffect(()=>{u?.token&&_()},[u.token,H]);const te=S.filter(D=>{const m=v[D.productName]||D.productName;return String(m||"").toLowerCase().includes(N.toLowerCase())});return l.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[l.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(Wr,{className:"text-blue-600"})," "]}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),l.jsx("button",{onClick:_,disabled:Y,className:"btn-secondary p-2 rounded-xl",children:l.jsx(lt,{size:20,className:Y?"animate-spin":""})})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tt,{size:18,className:"text-slate-400"}),l.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:d,onChange:D=>b(D.target.value)}),l.jsx("span",{className:"text-slate-500 font-bold",children:""}),l.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:$,onChange:D=>P(D.target.value)})]}),l.jsxs("div",{className:"relative",children:[l.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:N,onChange:D=>g(D.target.value)})]}),l.jsxs("button",{onClick:_,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[l.jsx(yt,{size:18})," "]})]}),l.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:l.jsx("div",{className:"overflow-y-auto flex-1",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 w-16 text-center",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-right",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:Y?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((D,m)=>l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"p-4 text-center font-mono",children:m<3?l.jsx("span",{className:`w-6 h-6 rounded-full inline-flex items-center justify-center text-[10px] font-bold shadow-sm ${m===0?"bg-amber-100 text-amber-700 border border-amber-200":m===1?"bg-slate-100 text-slate-600 border border-slate-200":"bg-orange-100 text-orange-700 border border-orange-200"}`,children:m+1}):m+1}),l.jsx("td",{className:"p-4 font-bold text-slate-800",children:v[D.productName]||D.productName}),l.jsx("td",{className:"p-4 text-right font-mono text-emerald-700",children:D.totalQty.toLocaleString()}),l.jsxs("td",{className:"p-4 text-right font-mono text-blue-700",children:["$",D.totalAmount.toLocaleString()]}),l.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",(D.totalAmount/D.totalQty).toFixed(1)]})]},m)):l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function xp({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState(!1),[Y,le]=z.useState(Ge()),[d,b]=z.useState(Ge()),[$,P]=z.useState(""),N=async()=>{G(!0);try{const _=await Ne(H,"getCustomerRanking",{startDate:Y,endDate:d},u.token);Array.isArray(_)?f(_):f([])}catch(_){console.error("Failed to fetch customer ranking:",_),alert("")}finally{G(!1)}};z.useEffect(()=>{u?.token&&N()},[u.token,H]);const g=S.filter(_=>String(_.customerName||"").toLowerCase().includes($.toLowerCase()));return l.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[l.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(Cc,{className:"text-purple-600"})," "]}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),l.jsx("button",{onClick:N,disabled:v,className:"btn-secondary p-2 rounded-xl",children:l.jsx(lt,{size:20,className:v?"animate-spin":""})})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tt,{size:18,className:"text-slate-400"}),l.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:Y,onChange:_=>le(_.target.value)}),l.jsx("span",{className:"text-slate-500 font-bold",children:""}),l.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:d,onChange:_=>b(_.target.value)})]}),l.jsxs("div",{className:"relative",children:[l.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:$,onChange:_=>P(_.target.value)})]}),l.jsxs("button",{onClick:N,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[l.jsx(yt,{size:18})," "]})]}),l.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:l.jsx("div",{className:"overflow-y-auto flex-1",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 w-16 text-center",children:""}),l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-right",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:v?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):g.length>0?g.map((_,te)=>{const D=S.reduce((T,p)=>T+p.totalAmount,0),m=_.totalAmount/D*100;return l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"p-4 text-center font-mono text-slate-500",children:te+1}),l.jsx("td",{className:"p-4 font-bold text-slate-800",children:_.customerName}),l.jsx("td",{className:"p-4 text-right font-mono text-slate-600",children:_.transactionCount.toLocaleString()}),l.jsxs("td",{className:"p-4 text-right font-mono text-purple-700 font-bold",children:["$",_.totalAmount.toLocaleString()]}),l.jsx("td",{className:"p-4 text-right",children:l.jsxs("div",{className:"flex items-center justify-end gap-2",children:[l.jsxs("span",{className:"text-xs text-slate-500",children:[m.toFixed(1),"%"]}),l.jsx("div",{className:"w-16 h-1.5 bg-slate-100 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-purple-500",style:{width:`${m}%`}})})]})})]},te)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function mp({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState({}),[Y,le]=z.useState(!1),[d,b]=z.useState(Ge()),[$,P]=z.useState(Ge()),[N,g]=z.useState(""),_=async()=>{le(!0);try{const J=await Ne(H,"getProducts",{},u.token),A={};Array.isArray(J)&&(J.forEach(B=>{A[B.id]=B.name}),G(A));const y=await Ne(H,"getProfitAnalysis",{startDate:d,endDate:$},u.token);Array.isArray(y)?f(y):f([])}catch(J){console.error("Failed to fetch profit analysis:",J),alert("")}finally{le(!1)}};z.useEffect(()=>{u?.token&&_()},[u.token,H]);const te=S.filter(J=>{const A=v[J.productName]||J.productName;return String(A||"").toLowerCase().includes(N.toLowerCase())}),D=te.reduce((J,A)=>J+A.revenue,0),m=te.reduce((J,A)=>J+A.cost,0),T=D-m,p=D>0?T/D*100:0;return l.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(Wl,{className:"text-emerald-600"})," "]}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{className:"bg-emerald-50 px-4 py-2 border border-emerald-200 rounded-xl shadow-sm",children:[l.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),l.jsxs("p",{className:"text-xl font-bold text-emerald-700 text-center",children:["$",T.toLocaleString()]})]}),l.jsxs("div",{className:"bg-blue-50 px-4 py-2 border border-blue-200 rounded-xl shadow-sm",children:[l.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),l.jsxs("p",{className:"text-xl font-bold text-blue-700 text-center",children:[p.toFixed(1),"%"]})]})]})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tt,{size:18,className:"text-slate-400"}),l.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:d,onChange:J=>b(J.target.value)}),l.jsx("span",{className:"text-slate-500 font-bold",children:""}),l.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:$,onChange:J=>P(J.target.value)})]}),l.jsxs("div",{className:"relative",children:[l.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:N,onChange:J=>g(J.target.value)})]}),l.jsxs("button",{onClick:_,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[l.jsx(lt,{size:18,className:Y?"animate-spin":""})," "]})]}),l.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:l.jsx("div",{className:"overflow-y-auto flex-1",children:l.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 whitespace-nowrap",children:""}),l.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),l.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),l.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),l.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:Y?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(lt,{className:"animate-spin text-emerald-500"}),l.jsx("span",{children:"..."})]})})}):te.length>0?te.map((J,A)=>{const y=J.revenue-J.cost,B=J.revenue>0?y/J.revenue*100:0,Z=v[J.productName]||J.productName;return l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[l.jsx("td",{className:"p-4 font-bold text-slate-800",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{children:Z}),v[J.productName]&&l.jsxs("span",{className:"text-[10px] text-slate-400 font-normal mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["ID: ",J.productName.substring(0,8),"..."]})]})}),l.jsxs("td",{className:"p-4 text-right font-mono text-slate-600",children:["$",Math.round(J.revenue).toLocaleString()]}),l.jsxs("td",{className:"p-4 text-right font-mono text-rose-600/80",children:["$",Math.round(J.cost).toLocaleString()]}),l.jsxs("td",{className:`p-4 text-right font-mono font-bold ${y>=0?"text-emerald-700":"text-rose-600"}`,children:[y<0?"-":"","$",Math.abs(Math.round(y)).toLocaleString()]}),l.jsx("td",{className:"p-4 text-right",children:l.jsxs("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold min-w-[50px] text-center ${B>=30?"bg-emerald-100 text-emerald-700 border border-emerald-200":B>=10?"bg-blue-100 text-blue-700 border border-blue-200":"bg-rose-100 text-rose-700 border border-rose-200"}`,children:[B.toFixed(1),"%"]})})]},A)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function hp({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState({}),[Y,le]=z.useState(!1),[d,b]=z.useState(Ge()),[$,P]=z.useState(Ge()),[N,g]=z.useState(""),_=async()=>{le(!0);try{const D=await Ne(H,"getProducts",{},u.token),m={};Array.isArray(D)&&(D.forEach(p=>{m[p.id]=p.name}),G(m));const T=await Ne(H,"getTurnoverRate",{startDate:d,endDate:$},u.token);Array.isArray(T)?f(T):f([])}catch(D){console.error("Failed to fetch turnover rate:",D),alert("")}finally{le(!1)}};z.useEffect(()=>{u?.token&&_()},[u.token,H]);const te=S.filter(D=>{const m=v[D.productName]||D.productName;return String(m||"").toLowerCase().includes(N.toLowerCase())});return l.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[l.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(Jr,{className:"text-orange-600"})," "]}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:" =  / "})]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 bg-blue-50 px-3 py-1.5 rounded-lg border border-blue-200 shadow-sm font-bold",children:[l.jsx(Ah,{size:14}),l.jsx("span",{children:""})]})]}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tt,{size:18,className:"text-slate-400"}),l.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:d,onChange:D=>b(D.target.value)}),l.jsx("span",{className:"text-slate-500 font-bold",children:""}),l.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:$,onChange:D=>P(D.target.value)})]}),l.jsxs("div",{className:"relative",children:[l.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:N,onChange:D=>g(D.target.value)})]}),l.jsxs("button",{onClick:_,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[l.jsx(lt,{size:18})," "]})]}),l.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:l.jsx("div",{className:"overflow-y-auto flex-1",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:""}),l.jsx("th",{className:"p-4 text-right",children:" (COGS)"}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-center",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:Y?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((D,m)=>{const T=D.avgInventory>0?D.cogs/D.avgInventory:0;return l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"p-4 font-bold text-slate-900",children:v[D.productName]||D.productName}),l.jsxs("td",{className:"p-4 text-right font-mono text-slate-600 font-bold",children:["$",D.cogs.toLocaleString()]}),l.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",D.avgInventory.toLocaleString()]}),l.jsxs("td",{className:"p-4 text-right font-mono text-orange-600 font-bold",children:[T.toFixed(2)," "]}),l.jsx("td",{className:"p-4 text-center",children:T>=4?l.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-emerald-100 text-emerald-700 border border-emerald-200 uppercase",children:""}):T>=1?l.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-blue-100 text-blue-700 border border-blue-200 uppercase",children:""}):l.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-rose-100 text-rose-700 border border-rose-200 uppercase",children:""})})]},m)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function pp({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState(!1),[Y,le]=z.useState(Ge()),[d,b]=z.useState(Ge()),[$,P]=z.useState(""),N=async()=>{G(!0);try{const m=await Ne(H,"getExpenditures",{startDate:Y,endDate:d},u.token);Array.isArray(m)?f(m):f([])}catch(m){console.error("Failed to fetch expenditures:",m)}finally{G(!1)}};z.useEffect(()=>{u?.token&&N()},[u.token,H]);const g=S.filter(m=>`${m.customer||""} ${m.salesRep||""} ${m.note||""}`.toLowerCase().includes($.toLowerCase())),_=g.reduce((m,T)=>(m.stall+=Number(T.stall||0),m.cleaning+=Number(T.cleaning||0),m.electricity+=Number(T.electricity||0),m.gas+=Number(T.gas||0),m.parking+=Number(T.parking||0),m.goods+=Number(T.goods||0),m.bags+=Number(T.bags||0),m.others+=Number(T.others||0),m.serviceFee+=Number(T.serviceFee||0),m.linePay+=Number(T.linePay||0),m.finalTotal+=Number(T.finalTotal||0),m.vehicleMaintenance+=Number(T.vehicleMaintenance||0),m.salary+=Number(T.salary||0),m.reserve+=Number(T.reserve||0),m),{stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,serviceFee:0,linePay:0,finalTotal:0,vehicleMaintenance:0,salary:0,reserve:0}),te=_.stall+_.cleaning+_.electricity+_.gas+_.parking+_.bags+_.others+_.vehicleMaintenance+_.salary+_.serviceFee,D=[{key:"stall",label:"",color:"text-blue-600"},{key:"cleaning",label:"",color:"text-indigo-600"},{key:"electricity",label:"",color:"text-amber-600"},{key:"gas",label:"",color:"text-orange-600"},{key:"parking",label:"",color:"text-slate-600"},{key:"bags",label:"",color:"text-teal-600"},{key:"serviceFee",label:"",color:"text-rose-600"},{key:"others",label:"",color:"text-purple-600"},{key:"vehicleMaintenance",label:"",color:"text-indigo-600"},{key:"salary",label:"",color:"text-amber-600"}];return l.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-4 md:space-y-6 flex flex-col h-[calc(100vh-6rem)] animate-in fade-in duration-500 overflow-hidden",children:[l.jsx("div",{className:"flex justify-between items-start gap-4 shrink-0",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ot,{className:"text-rose-600 shrink-0"}),l.jsx("h1",{className:"text-2xl font-bold text-slate-800 whitespace-nowrap",children:""})]}),l.jsx("p",{className:"text-slate-500 text-sm mt-1 pl-8 md:pl-0 truncate",children:"(Cost Calculation) "})]})}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 shrink-0",children:[l.jsxs("div",{className:"glass-panel px-1 py-1.5 md:px-4 bg-rose-50 border-rose-200 flex flex-col justify-center items-center",children:[l.jsx("p",{className:"text-[9px] md:text-[10px] text-slate-500 uppercase font-bold text-center leading-tight",children:""}),l.jsxs("p",{className:"text-xs md:text-xl font-bold text-rose-600 text-center text-nowrap mt-0.5 md:mt-1",children:["$",te.toLocaleString()]})]}),l.jsxs("div",{className:"glass-panel px-1 py-1.5 md:px-4 bg-emerald-50 border-emerald-200 flex flex-col justify-center items-center",children:[l.jsx("p",{className:"text-[9px] md:text-[10px] text-slate-500 uppercase font-bold text-center leading-tight",children:""}),l.jsxs("p",{className:"text-xs md:text-xl font-bold text-emerald-700 text-center text-nowrap mt-0.5 md:mt-1",children:["$",_.goods.toLocaleString()]})]}),l.jsxs("div",{className:"glass-panel px-1 py-1.5 md:px-4 bg-teal-50 border-teal-200 flex flex-col justify-center items-center",children:[l.jsx("p",{className:"text-[9px] md:text-[10px] text-slate-500 uppercase font-bold text-center leading-tight",children:""}),l.jsxs("p",{className:"text-xs md:text-xl font-bold text-teal-700 text-center text-nowrap mt-0.5 md:mt-1",children:["$",_.reserve.toLocaleString()]})]}),l.jsxs("div",{className:"glass-panel px-1 py-1.5 md:px-4 bg-slate-50 border-slate-200 flex flex-col justify-center items-center",children:[l.jsx("p",{className:"text-[9px] md:text-[10px] text-slate-500 uppercase font-bold text-center leading-tight",children:"Line Pay"}),l.jsxs("p",{className:"text-xs md:text-xl font-bold text-slate-800 text-center text-nowrap mt-0.5 md:mt-1",children:["$",_.linePay.toLocaleString()]})]})]}),l.jsxs("div",{className:"p-3 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-3 bg-slate-50 rounded-xl border border-slate-200",children:[l.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-row md:items-center gap-2 w-full",children:[l.jsx("div",{className:"space-y-1 w-full md:w-auto md:flex-1",children:l.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-white text-slate-800 text-xs md:text-sm",value:Y,onChange:m=>le(m.target.value)})}),l.jsx("span",{className:"text-slate-400 font-bold text-center md:text-left self-center hidden md:block",children:""}),l.jsx("div",{className:"space-y-1 w-full md:w-auto md:flex-1",children:l.jsx("input",{type:"date",className:"input-field w-full h-10 appearance-none bg-white text-slate-800 text-xs md:text-sm",value:d,onChange:m=>b(m.target.value)})})]}),l.jsxs("div",{className:"relative",children:[l.jsx(yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),l.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full h-10 text-slate-800 bg-white",value:$,onChange:m=>P(m.target.value)})]}),l.jsxs("button",{onClick:N,className:"btn-primary w-full md:w-auto h-10 flex items-center justify-center gap-2",children:[l.jsx(lt,{size:18,className:v?"animate-spin":""})," "]})]}),l.jsx("div",{className:"grid grid-cols-5 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-12 gap-2 shrink-0",children:D.map(m=>l.jsxs("div",{className:"p-1 md:p-3 bg-white border border-slate-200 rounded-lg shadow-sm flex flex-col justify-center items-center h-14 md:h-20",children:[l.jsx("p",{className:"text-[9px] md:text-[10px] text-slate-500 font-bold uppercase truncate w-full text-center",children:m.label}),l.jsxs("p",{className:`text-xs md:text-base font-bold ${m.color} mt-0.5 md:mt-1`,children:["$",_[m.key].toLocaleString()]})]},m.key))}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-0 flex-1 border border-slate-200 relative overflow-hidden",children:[l.jsx("div",{className:"hidden md:block h-full overflow-auto custom-scrollbar",children:l.jsxs("table",{className:"w-full text-left text-sm border-separate border-spacing-0 min-w-[1100px]",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-30",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 border-b border-slate-100 sticky left-0 z-40 bg-slate-50",children:"//"}),l.jsx("th",{className:"p-4 text-right border-b border-slate-100",children:""}),l.jsx("th",{className:"p-4 text-right border-b border-slate-100",children:""}),l.jsx("th",{className:"p-4 text-right border-b border-slate-100",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:v?l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"p-20 text-center text-slate-500 font-medium",children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(lt,{className:"animate-spin text-rose-500"}),l.jsx("span",{children:"..."})]})})}):g.length>0?g.map((m,T)=>l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[l.jsx("td",{className:"p-4 sticky left-0 z-10 bg-white border-b border-slate-100 group-hover:bg-slate-50 transition-colors",children:l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("span",{className:"text-slate-500 font-mono text-xs flex items-center gap-1",children:[l.jsx(Pr,{size:12,className:"text-slate-400"}),(()=>{const p=m.date||m.serverTimestamp;if(!p)return"";const J=new Date(p);return isNaN(J.getTime())?String(p):J.toLocaleString("zh-TW",{hour12:!1})})()]}),l.jsx("span",{className:"text-sm font-bold text-slate-800",children:m.customer||""}),l.jsx("span",{className:"text-xs text-slate-500 font-medium bg-slate-100 self-start px-1.5 py-0.5 rounded",children:m.salesRep||"-"})]})}),l.jsx("td",{className:"p-4 text-right align-top",children:l.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 text-[11px] content-start",children:[l.jsxs("span",{className:"text-slate-500",children:[": ",l.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(m.stall||0).toLocaleString()]})]}),l.jsxs("span",{className:"text-slate-500",children:[": ",l.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(m.cleaning||0).toLocaleString()]})]}),l.jsxs("span",{className:"text-slate-500",children:[": ",l.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(m.electricity||0).toLocaleString()]})]}),l.jsxs("span",{className:"text-slate-500",children:[": ",l.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(m.gas||0).toLocaleString()]})]}),l.jsxs("span",{className:"text-slate-500",children:[": ",l.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(m.parking||0).toLocaleString()]})]}),l.jsxs("span",{className:"text-slate-500",children:[": ",l.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(m.goods||0).toLocaleString()]})]}),l.jsxs("span",{className:"text-slate-500",children:[": ",l.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(m.bags||0).toLocaleString()]})]}),l.jsxs("span",{className:"text-slate-500",children:[": ",l.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(m.others||0).toLocaleString()]})]})]})}),l.jsx("td",{className:"p-4 text-right align-top",children:l.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[l.jsxs("div",{className:"flex justify-between w-32 bg-emerald-50 px-2 py-1 rounded border border-emerald-100",children:[l.jsx("span",{className:"text-[10px] text-emerald-600/70 uppercase font-bold",children:"LP "}),l.jsxs("span",{className:"text-xs font-bold text-emerald-700",children:["+$",Number(m.linePay||0).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between w-32 bg-rose-50 px-2 py-1 rounded border border-rose-100",children:[l.jsx("span",{className:"text-[10px] text-rose-600/70 uppercase font-bold",children:""}),l.jsxs("span",{className:"text-xs font-bold text-rose-700",children:["-$",Number(m.serviceFee||0).toLocaleString()]})]})]})}),l.jsx("td",{className:"p-4 text-right align-top",children:l.jsxs("div",{className:"flex flex-col gap-1 text-xs items-end",children:[l.jsxs("span",{className:"text-slate-500",children:[": ",l.jsxs("span",{className:"text-indigo-600 font-bold",children:["$",Number(m.vehicleMaintenance||0).toLocaleString()]})]}),l.jsxs("span",{className:"text-slate-500",children:[": ",l.jsxs("span",{className:"text-amber-600 font-bold",children:["$",Number(m.salary||0).toLocaleString()]})]}),l.jsxs("span",{className:"text-slate-500",children:[": ",l.jsxs("span",{className:"text-purple-600 font-bold",children:["$",Number(m.reserve||0).toLocaleString()]})]})]})})]},T)):l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"p-20 text-center text-slate-500 font-medium",children:""})})})]})}),l.jsx("div",{className:"md:hidden h-full overflow-y-auto p-3 space-y-3 custom-scrollbar",children:v?l.jsxs("div",{className:"p-10 text-center text-slate-500 font-medium flex flex-col items-center gap-2",children:[l.jsx(lt,{className:"animate-spin text-rose-500"}),l.jsx("span",{children:"..."})]}):g.length>0?g.map((m,T)=>l.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-3 shadow-sm text-xs space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-start border-b border-slate-100 pb-2",children:[l.jsxs("div",{className:"flex flex-col gap-0.5",children:[l.jsx("span",{className:"font-bold text-slate-800 text-sm",children:m.customer||""}),l.jsx("span",{className:"text-slate-400 font-mono text-[10px] flex items-center gap-1",children:(()=>{const p=m.date||m.serverTimestamp,J=new Date(p);return isNaN(J.getTime())?String(p):J.toLocaleString("zh-TW",{hour12:!1})})()})]}),l.jsx("span",{className:"text-[10px] text-slate-500 font-medium bg-slate-100 px-2 py-1 rounded-full",children:m.salesRep||"-"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:""}),l.jsxs("div",{className:"space-y-0.5 text-slate-500",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:""})," ",l.jsxs("span",{className:"font-medium text-slate-700",children:["$",Number(m.stall||0).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:""})," ",l.jsxs("span",{className:"font-medium text-slate-700",children:["$",Number(m.cleaning||0).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:""})," ",l.jsxs("span",{className:"font-medium text-slate-700",children:["$",Number(m.electricity||0).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:""})," ",l.jsxs("span",{className:"font-medium text-slate-700",children:["$",Number(m.gas||0).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:""})," ",l.jsxs("span",{className:"font-medium text-slate-700",children:["$",Number(m.parking||0).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:""})," ",l.jsxs("span",{className:"font-medium text-slate-700",children:["$",Number(m.goods||0).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:""})," ",l.jsxs("span",{className:"font-medium text-slate-700",children:["$",Number(m.bags||0).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:""})," ",l.jsxs("span",{className:"font-medium text-slate-700",children:["$",Number(m.others||0).toLocaleString()]})]})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:""}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between items-center text-emerald-600 bg-emerald-50 px-1.5 py-0.5 rounded",children:[l.jsx("span",{children:"LP"})," ",l.jsxs("span",{className:"font-bold",children:["+$",Number(m.linePay||0).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between items-center text-rose-600 bg-rose-50 px-1.5 py-0.5 rounded",children:[l.jsx("span",{children:""})," ",l.jsxs("span",{className:"font-bold",children:["-$",Number(m.serviceFee||0).toLocaleString()]})]})]})]}),l.jsxs("div",{className:"space-y-1.5",children:[l.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:""}),l.jsxs("div",{className:"space-y-0.5 text-slate-500",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-indigo-600",children:""})," ",l.jsxs("span",{className:"font-bold text-indigo-600",children:["$",Number(m.vehicleMaintenance||0).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-amber-600",children:""})," ",l.jsxs("span",{className:"font-bold text-amber-600",children:["$",Number(m.salary||0).toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-purple-600",children:""})," ",l.jsxs("span",{className:"font-bold text-purple-600",children:["$",Number(m.reserve||0).toLocaleString()]})]})]})]})]})]})]},T)):l.jsx("div",{className:"p-10 text-center text-slate-500 font-medium",children:""})})]})]})}function bp({user:u,apiUrl:H}){const[S,f]=z.useState(!1),[v,G]=z.useState(Ge().substring(0,8)+"01"),[Y,le]=z.useState(Ge()),[d,b]=z.useState({revenue:0,cogs:0,grossProfit:0,expenses:{},totalExpenses:0,netIncome:0}),$=async()=>{f(!0);try{const[g,_]=await Promise.all([Ne(H,"getProfitAnalysis",{startDate:v,endDate:Y},u.token),Ne(H,"getExpenditures",{startDate:v,endDate:Y},u.token)]);let te=0,D=0;Array.isArray(g)&&g.forEach(p=>{te+=Number(p.revenue||0),D+=Number(p.cost||0)});let m=0;const T={stall:0,cleaning:0,electricity:0,gas:0,parking:0,bags:0,serviceFee:0,others:0,vehicleMaintenance:0,salary:0};Array.isArray(_)&&_.forEach(p=>{T.stall+=Number(p.stall||0),T.cleaning+=Number(p.cleaning||0),T.electricity+=Number(p.electricity||0),T.gas+=Number(p.gas||0),T.parking+=Number(p.parking||0),T.bags+=Number(p.bags||0),T.serviceFee+=Number(p.serviceFee||0),T.others+=Number(p.others||0),T.vehicleMaintenance+=Number(p.vehicleMaintenance||0),T.salary+=Number(p.salary||0)}),Object.values(T).forEach(p=>m+=p),b({revenue:te,cogs:D,grossProfit:te-D,expenses:T,totalExpenses:m,netIncome:te-D-m})}catch(g){console.error("Failed to fetch income statement data:",g),alert("")}finally{f(!1)}};z.useEffect(()=>{u?.token&&$()},[u.token,H]);const P=g=>`$${Math.round(g).toLocaleString()}`,N=(g,_)=>_===0?"0%":`${(g/_*100).toFixed(1)}%`;return l.jsxs("div",{className:"max-w-4xl mx-auto p-2 md:p-6 space-y-2 md:space-y-6 flex flex-col h-[calc(100dvh-6rem)] overflow-hidden",children:[l.jsxs("div",{className:"flex justify-between items-center shrink-0 gap-2",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fr,{className:"text-emerald-600 shrink-0 w-5 h-5 md:w-6 md:h-6"}),l.jsx("h1",{className:"text-lg md:text-2xl font-bold text-slate-800 whitespace-nowrap",children:""})]}),l.jsxs("div",{className:"hidden md:block",children:[l.jsx("div",{className:"text-slate-400 text-sm font-medium mt-0.5 inline ml-2",children:"(Income Statement)"}),l.jsx("p",{className:"text-slate-500 text-sm mt-1 truncate",children:""})]})]}),l.jsx("button",{onClick:$,className:"btn-secondary p-1.5 md:p-2 rounded-lg md:rounded-xl shrink-0",children:l.jsx(lt,{size:16,className:`md:w-5 md:h-5 ${S?"animate-spin":""}`})})]}),l.jsxs("div",{className:"bg-slate-50 p-2 md:p-4 rounded-xl border border-slate-200 shrink-0 flex flex-col md:flex-row md:items-center gap-2 md:gap-4 shadow-sm",children:[l.jsx("div",{className:"hidden md:block",children:l.jsx(Tt,{size:18,className:"text-slate-400"})}),l.jsxs("div",{className:"grid grid-cols-2 md:flex md:flex-row md:items-center gap-2 flex-1 w-full",children:[l.jsx("div",{className:"w-full md:w-auto md:flex-1",children:l.jsx("input",{type:"date",className:"input-field w-full h-8 md:h-10 appearance-none bg-white text-xs md:text-sm",value:v,onChange:g=>G(g.target.value)})}),l.jsx("span",{className:"text-slate-500 font-bold text-center md:text-left self-center hidden md:block",children:""}),l.jsx("div",{className:"w-full md:w-auto md:flex-1",children:l.jsx("input",{type:"date",className:"input-field w-full h-8 md:h-10 appearance-none bg-white text-xs md:text-sm",value:Y,onChange:g=>le(g.target.value)})})]}),l.jsx("button",{onClick:$,className:"btn-primary h-8 md:h-10 px-6 w-full md:w-auto text-xs md:text-sm",children:""})]}),l.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm min-h-0",children:l.jsx("div",{className:"flex-1 p-3 md:p-8",children:l.jsxs("div",{className:"space-y-4 md:space-y-6 max-w-2xl mx-auto font-mono text-sm md:text-base",children:[l.jsxs("div",{className:"space-y-1 md:space-y-2",children:[l.jsx("h3",{className:"text-emerald-700 font-bold text-base md:text-lg border-b border-emerald-200 pb-1 md:pb-2 mb-2 md:mb-4",children:" (Revenue)"}),l.jsxs("div",{className:"flex justify-between items-center text-xs md:text-base",children:[l.jsx("span",{className:"text-slate-600",children:""}),l.jsx("span",{className:"text-slate-900 font-bold",children:P(d.revenue)})]}),l.jsxs("div",{className:"flex justify-between items-center text-rose-600 text-xs md:text-base",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(hh,{size:12,className:"md:w-3.5 md:h-3.5"})," "]}),l.jsxs("span",{children:["- ",P(d.cogs)]})]}),l.jsxs("div",{className:"flex justify-between items-center pt-1 md:pt-2 border-t border-slate-100 text-xs md:text-base",children:[l.jsx("span",{className:"text-emerald-700 font-bold",children:" (Gross Profit)"}),l.jsx("span",{className:"text-emerald-700 font-bold",children:P(d.grossProfit)})]}),l.jsxs("div",{className:"text-right text-[10px] md:text-xs text-slate-500",children:[": ",N(d.grossProfit,d.revenue)]})]}),l.jsxs("div",{className:"space-y-1 md:space-y-2 mt-2 md:mt-8",children:[l.jsx("h3",{className:"text-orange-700 font-bold text-base md:text-lg border-b border-orange-200 pb-1 md:pb-2 mb-2 md:mb-4 whitespace-nowrap",children:" (Operating Expenses)"}),l.jsx("div",{className:"grid grid-cols-3 md:grid-cols-1 gap-2 md:gap-0",children:Object.entries(d.expenses).map(([g,_])=>{const te={stall:"",cleaning:"",electricity:"",gas:"",parking:"",bags:"",serviceFee:"",others:"",vehicleMaintenance:"",salary:""};return _===0?null:l.jsxs("div",{className:"flex flex-col md:flex-row justify-center md:justify-between items-center md:items-center text-slate-500 text-[10px] md:text-sm bg-slate-50 md:bg-transparent p-1 md:p-0 rounded md:rounded-none",children:[l.jsx("span",{className:"font-medium",children:te[g]}),l.jsx("span",{className:"text-slate-700 font-bold md:font-normal",children:P(_)})]},g)})}),l.jsxs("div",{className:"flex justify-between items-center pt-1 md:pt-2 border-t border-slate-100 text-orange-700 mt-1 text-xs md:text-base",children:[l.jsx("span",{className:"font-bold",children:""}),l.jsxs("span",{className:"font-bold",children:["- ",P(d.totalExpenses)]})]})]}),l.jsxs("div",{className:"mt-2 md:mt-8 pt-2 md:pt-4 border-t-2 border-slate-200",children:[l.jsxs("div",{className:"flex justify-between items-center text-base md:text-xl",children:[l.jsx("span",{className:"text-slate-800 font-bold",children:" (Net Income)"}),l.jsx("span",{className:`font-bold ${d.netIncome>=0?"text-emerald-700":"text-rose-600"}`,children:P(d.netIncome)})]}),l.jsxs("div",{className:"text-right text-[10px] md:text-sm text-slate-500 mt-0.5 md:mt-1",children:[": ",N(d.netIncome,d.revenue)]})]})]})})})]})}function yp({user:u,apiUrl:H}){const[S,f]=z.useState(!1),[v,G]=z.useState({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0,vehicleMaintenance:0,salary:0,reserve:0}),[Y,le]=z.useState(""),d=async()=>{if(!Y.trim()){alert("");const D=document.getElementById("input-expense-note");D&&(D.focus(),D.scrollIntoView({behavior:"smooth",block:"center"}));return}const _=Number(v.stall)+Number(v.cleaning)+Number(v.electricity)+Number(v.gas)+Number(v.parking)+Number(v.goods)+Number(v.bags)+Number(v.others)+Number(v.serviceFee)+Number(v.vehicleMaintenance)+Number(v.salary)+Number(v.reserve)+Number(v.linePay),te={note:Y,salesRep:u.username,...v,finalTotal:_};f(!0);try{await Ne(H,"saveExpenditure",te,u.token),alert(" Expenditures "),G({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0,vehicleMaintenance:0,salary:0,reserve:0}),le("")}catch(D){alert(": "+D.message)}finally{f(!1)}},b=g=>{const _=document.getElementById(g);_&&(_.focus(),_.select?.(),_.scrollIntoView({block:"nearest",behavior:"smooth"}))},$=(g,_)=>{const te=["note","stall","cleaning","electricity","gas","parking","goods","bags","others","linePay","serviceFee","vehicleMaintenance","salary","reserve"],D=te.indexOf(_);g.key==="Enter"||g.key==="ArrowRight"?(g.preventDefault(),D<te.length-1?b(`input-expense-${te[D+1]}`):g.key==="Enter"&&d()):g.key==="ArrowLeft"?(g.preventDefault(),D>0&&b(`input-expense-${te[D-1]}`)):g.key==="ArrowDown"?(g.preventDefault(),["stall","cleaning","electricity","gas","parking","goods"].includes(_)?b(`input-expense-${{stall:"electricity",cleaning:"gas",electricity:"parking",gas:"goods",parking:"bags",goods:"others"}[_]}`):D<te.length-1&&b(`input-expense-${te[D+1]}`)):g.key==="ArrowUp"&&(g.preventDefault(),["electricity","gas","parking","goods","bags","others"].includes(_)?b(`input-expense-${{electricity:"stall",gas:"cleaning",parking:"electricity",goods:"gas",bags:"parking",others:"goods"}[_]}`):D>0&&b(`input-expense-${te[D-1]}`))},N=Number(v.stall)+Number(v.cleaning)+Number(v.electricity)+Number(v.gas)+Number(v.parking)+Number(v.goods)+Number(v.bags)+Number(v.others)+Number(v.serviceFee)+Number(v.vehicleMaintenance)+Number(v.salary)+Number(v.reserve)+Number(v.linePay);return l.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6 space-y-6 animate-in fade-in duration-500 relative",children:[S&&l.jsxs("div",{className:"loading-overlay",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-rose-600 border-t-transparent rounded-full animate-spin"}),l.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),l.jsxs("div",{className:"flex flex-row justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("h1",{className:"text-xl md:text-2xl font-bold text-slate-800 flex items-center gap-2 truncate",children:[l.jsx("div",{className:"p-1.5 md:p-2 bg-rose-100 rounded-lg shrink-0",children:l.jsx(ot,{className:"text-rose-600 w-5 h-5 md:w-6 md:h-6"})}),""]}),l.jsx("p",{className:"text-slate-500 text-xs md:text-sm mt-1 truncate",children:""})]}),l.jsxs("div",{className:"bg-rose-50 px-3 md:px-6 py-2 md:py-3 border border-rose-200 rounded-xl shadow-sm shrink-0 flex flex-col items-end",children:[l.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:""}),l.jsxs("p",{className:"text-lg md:text-2xl font-black text-rose-600",children:["$",N.toLocaleString()]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsxs("div",{className:"glass-panel p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 text-blue-600 font-bold",children:[l.jsx(yh,{size:18}),l.jsx("span",{children:""})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-500 font-bold block mb-2",children:" /  *"}),l.jsx("input",{id:"input-expense-note",type:"text",className:"input-field w-full text-lg py-3 bg-white",placeholder:"1/7 ...",value:Y,onChange:g=>le(g.target.value),onKeyDown:g=>$(g,"note")})]})]}),l.jsxs("div",{className:"glass-panel p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6 text-emerald-600 font-bold",children:[l.jsx($h,{size:18}),l.jsx("span",{children:""})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[{key:"stall",label:"",next:"cleaning"},{key:"cleaning",label:"",next:"electricity",prev:"stall"},{key:"electricity",label:"",next:"gas",prev:"cleaning"},{key:"gas",label:"",next:"parking",prev:"electricity"},{key:"parking",label:"",next:"goods",prev:"gas"},{key:"goods",label:"",next:"bags",prev:"parking"},{key:"bags",label:"",next:"others",prev:"goods"},{key:"others",label:"",next:"linePay",prev:"bags"}].map(g=>l.jsxs("div",{className:"flex items-center justify-between gap-4 p-2 hover:bg-slate-50 rounded-lg transition-colors border-b border-slate-100 last:border-0",children:[l.jsx("label",{className:"text-sm text-slate-600 font-medium whitespace-nowrap",children:g.label}),l.jsx("input",{id:`input-expense-${g.key}`,type:"number",className:"input-field text-right w-32 bg-white",value:v[g.key]||"",onChange:_=>G({...v,[g.key]:Number(_.target.value)}),onKeyDown:_=>$(_,g.key),onWheel:_=>_.target.blur()})]},g.key))})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"glass-panel p-6 border-amber-200",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6 text-amber-600 font-bold",children:[l.jsx(jh,{size:18}),l.jsx("span",{children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Line Pay "}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"input-expense-linePay",type:"number",className:"input-field w-full pl-8 border-emerald-200 text-emerald-700 bg-emerald-50",value:v.linePay||"",onChange:g=>G({...v,linePay:Number(g.target.value)}),onKeyDown:g=>$(g,"linePay"),onWheel:g=>g.target.blur()}),l.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-emerald-600 font-bold",children:"+"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:""}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{id:"input-expense-serviceFee",type:"number",className:"input-field w-full pl-8 border-rose-200 text-rose-700 bg-rose-50",value:v.serviceFee||"",onChange:g=>G({...v,serviceFee:Number(g.target.value)}),onKeyDown:g=>$(g,"serviceFee"),onWheel:g=>g.target.blur()}),l.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-rose-600 font-bold",children:"-"})]})]})]})]}),l.jsxs("div",{className:"glass-panel p-6 border-indigo-200",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6 text-indigo-600 font-bold",children:[l.jsx(tu,{size:18}),l.jsx("span",{children:""})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("label",{className:"text-xs text-slate-500 flex items-center gap-2 font-bold",children:[l.jsx(tu,{size:14})," "]}),l.jsx("input",{id:"input-expense-vehicleMaintenance",type:"number",className:"input-field w-28 text-right bg-white",value:v.vehicleMaintenance||"",onChange:g=>G({...v,vehicleMaintenance:Number(g.target.value)}),onKeyDown:g=>$(g,"vehicleMaintenance"),onWheel:g=>g.target.blur()})]}),l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("label",{className:"text-xs text-slate-500 flex items-center gap-2 font-bold",children:[l.jsx(Cc,{size:14})," "]}),l.jsx("input",{id:"input-expense-salary",type:"number",className:"input-field w-28 text-right bg-white",value:v.salary||"",onChange:g=>G({...v,salary:Number(g.target.value)}),onKeyDown:g=>$(g,"salary"),onWheel:g=>g.target.blur()})]}),l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("label",{className:"text-xs text-slate-500 flex items-center gap-2 font-bold",children:[l.jsx(Lh,{size:14})," "]}),l.jsx("input",{id:"input-expense-reserve",type:"number",className:"input-field w-28 text-right bg-white",value:v.reserve||"",onChange:g=>G({...v,reserve:Number(g.target.value)}),onKeyDown:g=>$(g,"reserve"),onWheel:g=>g.target.blur()})]})]})]}),l.jsxs("button",{onClick:d,className:"btn-primary w-full py-4 text-lg font-black shadow-lg shadow-blue-100 hover:shadow-xl hover:shadow-blue-200 transition-all flex justify-center items-center gap-3 active:scale-95",children:[l.jsx(tn,{size:22})," "]}),l.jsx("p",{className:"text-center text-slate-500 text-[10px] uppercase font-bold tracking-tighter",children:"Data will be saved to Expenditures Sheet"})]})]})]})}function gp({user:u,apiUrl:H}){const[S,f]=z.useState([]),[v,G]=z.useState(!1),[Y,le]=z.useState(!1),[d,b]=z.useState(""),[$,P]=z.useState({username:"",password:"",role:"VIEWER"}),[N,g]=z.useState(null),_=[{group:"",items:[{key:"sales_entry",label:""},{key:"sales_report",label:""}]},{group:"",items:[{key:"purchase_entry",label:""},{key:"purchase_history",label:""}]},{group:"",items:[{key:"inventory_adjust",label:""},{key:"inventory_stocktake",label:""},{key:"inventory_valuation",label:""},{key:"inventory_history",label:"/"}]},{group:"",items:[{key:"finance_expenditure",label:""},{key:"finance_receivable",label:""},{key:"finance_payable",label:""},{key:"finance_income",label:""},{key:"finance_cost",label:""},{key:"finance_payroll",label:""}]},{group:"",items:[{key:"analytics_sales",label:""},{key:"analytics_customer",label:""},{key:"analytics_profit",label:""},{key:"analytics_turnover",label:""}]},{group:"",items:[{key:"system_config",label:""}]}],te=async()=>{if(!$.username||!$.password){alert("");return}le(!0),b(" ...");try{await Ne(H,"addUser",$,u.token),P({username:"",password:"",role:"VIEWER"}),await m(),alert("")}catch(A){alert(": "+A.message)}finally{le(!1)}},D=async A=>{if(window.confirm(` ${A}?`)){le(!0),b(" ...");try{await Ne(H,"deleteUser",{username:A},u.token),await m(),alert("")}catch(y){alert(": "+y.message)}finally{le(!1)}}},m=async()=>{G(!0);try{const A=await Ne(H,"getUsers",{},u.token);if(Array.isArray(A)){const y=A.map(B=>{let Z=B.permissions;if(typeof Z=="string")try{Z=JSON.parse(Z)}catch(se){console.error(`Failed to parse permissions for ${B.username}`,se),Z=[]}return{...B,permissions:Array.isArray(Z)?Z:[]}});f(y)}else console.warn("Backend returned non-array for users")}catch(A){console.error("Failed to fetch users:",A),alert("")}finally{G(!1)}};z.useEffect(()=>{u?.token&&m()},[u.token,H]);const T=async()=>{if(N){le(!0),b(" ...");try{await Ne(H,"updateUserPermissions",{username:N.username,permissions:N.permissions},u.token),g(null),await m(),alert("")}catch(A){console.error(A),alert(": "+A.message)}finally{le(!1)}}},p=A=>{if(!N)return;const y=N.permissions||[];y.includes(A)?g({...N,permissions:y.filter(B=>B!==A)}):g({...N,permissions:[...y,A]})},J=A=>{if(!N)return;const y=N.permissions||[],B=A.map(se=>se.key);if(B.every(se=>y.includes(se)))g({...N,permissions:y.filter(se=>!B.includes(se))});else{const se=y.filter(me=>!B.includes(me));g({...N,permissions:[...se,...B]})}};return l.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[Y&&l.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-[2px] z-[60] flex items-center justify-center animate-in fade-in duration-200",children:l.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl flex flex-col items-center gap-4 min-w-[200px]",children:[l.jsx(lt,{className:"animate-spin text-blue-600",size:32}),l.jsx("span",{className:"text-slate-700 font-bold text-base",children:d})]})}),l.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(Nl,{className:"text-rose-600"}),"  (Permission Control)"]}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),l.jsx("button",{onClick:m,className:"btn-secondary p-2 rounded-xl",children:l.jsx(lt,{size:20,className:v?"animate-spin":""})})]}),l.jsxs("div",{className:"glass-panel p-6 border-l-4 border-l-emerald-500 shrink-0",children:[l.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-slate-800",children:[l.jsx(Wh,{size:20,className:"text-emerald-600"})," "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end relative",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-slate-500 uppercase font-bold px-1",children:" (Username)"}),l.jsx("input",{id:"input-new-username",type:"text",className:"input-field w-full",value:$.username,onChange:A=>P({...$,username:A.target.value}),onKeyDown:A=>{(A.key==="Enter"||A.key==="ArrowRight")&&(A.preventDefault(),document.getElementById("input-new-password")?.focus())},placeholder:""})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-slate-500 uppercase font-bold px-1",children:" (Password)"}),l.jsx("input",{id:"input-new-password",type:"password",className:"input-field w-full",value:$.password,onChange:A=>P({...$,password:A.target.value}),onKeyDown:A=>{A.key==="Enter"||A.key==="ArrowRight"?(A.preventDefault(),document.getElementById("input-new-role")?.focus()):A.key==="ArrowLeft"&&(A.preventDefault(),document.getElementById("input-new-username")?.focus())},placeholder:""})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs text-slate-500 uppercase font-bold px-1",children:" (Role)"}),l.jsxs("select",{id:"input-new-role",className:"input-field w-full",value:$.role,onChange:A=>P({...$,role:A.target.value}),onKeyDown:A=>{A.key==="Enter"||A.key==="ArrowRight"?(A.preventDefault(),document.getElementById("btn-add-user")?.focus()):A.key==="ArrowLeft"&&(A.preventDefault(),document.getElementById("input-new-password")?.focus())},children:[l.jsx("option",{value:"BOSS",children:" (BOSS)"}),l.jsx("option",{value:"ADMIN",children:" (ADMIN)"}),l.jsx("option",{value:"EMPLOYEE",children:" (EMPLOYEE)"}),l.jsx("option",{value:"VIEWER",children:" (VIEWER)"})]})]}),l.jsxs("button",{id:"btn-add-user",onClick:te,onKeyDown:A=>{A.key==="ArrowLeft"&&(A.preventDefault(),document.getElementById("input-new-role")?.focus())},className:"btn-primary flex justify-center items-center gap-2",disabled:v,children:[l.jsx(tn,{size:18})," "]})]})]}),l.jsx("div",{className:"glass-panel p-0 overflow-hidden flex-1 flex flex-col",children:l.jsx("div",{className:"overflow-y-auto flex-1",children:l.jsxs("table",{className:"w-full text-left text-sm",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4",children:" (Username)"}),l.jsx("th",{className:"p-4",children:" (Role)"}),l.jsx("th",{className:"p-4 text-center",children:" (Status)"}),l.jsx("th",{className:"p-4 text-center",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:S.length>0?S.map((A,y)=>l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"p-4 text-slate-900 font-bold",children:A.username}),l.jsx("td",{className:"p-4",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold border ${A.role==="BOSS"?"bg-amber-500/10 text-amber-500 border-amber-500/20":A.role==="ADMIN"?"bg-rose-500/10 text-rose-500 border-rose-500/20":A.role==="EMPLOYEE"?"bg-blue-500/10 text-blue-500 border-blue-500/20":(A.role==="VIEWER","bg-slate-500/10 text-slate-500 border-slate-500/20")}`,children:A.role})}),l.jsx("td",{className:"p-4 text-center",children:A.status==="ACTIVE"?l.jsxs("span",{className:"flex items-center justify-center gap-2 text-emerald-600 font-bold text-xs",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.3)]"})," ACTIVE"]}):l.jsxs("span",{className:"flex items-center justify-center gap-2 text-slate-500 font-bold text-xs",children:[l.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-500"})," ",A.status||"UNKNOWN"]})}),l.jsx("td",{className:"p-4 text-center flex items-center justify-center gap-2",children:A.username!=="admin"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>{let B=Array.isArray(A.permissions)?[...A.permissions]:[];const Z={sales:["sales_entry","sales_report"],purchase:["purchase_entry","purchase_history"],inventory:["inventory_adjust","inventory_stocktake","inventory_valuation","inventory_history"],finance:["finance_expenditure","finance_receivable","finance_payable","finance_income","finance_cost"],analytics:["analytics_sales","analytics_customer","analytics_profit","analytics_turnover"],system:["system_config"]};Object.keys(Z).forEach(se=>{B.includes(se)&&(B=B.filter(me=>me!==se),Z[se].forEach(me=>{B.includes(me)||B.push(me)}))}),g({username:A.username,permissions:B})},className:"p-2 text-slate-400 hover:text-blue-400 transition-colors",title:"",children:l.jsx(Nl,{size:16})}),l.jsx("button",{onClick:()=>D(A.username),className:"p-2 text-slate-400 hover:text-rose-400 transition-colors",title:"",children:l.jsx(eu,{size:16})})]})})]},y)):l.jsx("tr",{children:l.jsx("td",{colSpan:"4",className:"p-20 text-center text-slate-500",children:v?"...":""})})})]})})}),N&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50",children:[l.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(Nl,{className:"text-blue-600"}),"  (",N.username,")"]}),l.jsx("p",{className:"text-slate-500 text-sm mt-1",children:" (BOSS )"})]}),l.jsx("div",{className:"p-6 space-y-6 max-h-[65vh] overflow-y-auto custom-scrollbar",children:_.map(A=>{const y=A.items.map(Z=>Z.key),B=y.every(Z=>N.permissions?.includes(Z));return y.some(Z=>N.permissions?.includes(Z)),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between px-1 cursor-pointer group/title",onClick:()=>J(A.items),children:[l.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 group-hover/title:text-blue-600 transition-colors",children:A.group}),l.jsx("span",{className:"text-[10px] text-blue-600 font-bold opacity-0 group-hover/title:opacity-100 transition-opacity",children:B?"":""})]}),l.jsx("div",{className:"grid grid-cols-1 gap-2",children:A.items.map((Z,se)=>{const me=`perm-item-${Z.key}`,h=w=>{if(!["Enter"," ","ArrowDown","ArrowUp","ArrowRight","ArrowLeft"].includes(w.key))return;w.preventDefault();const Q=[];_.forEach(C=>{C.items.forEach(K=>Q.push(K.key))});const ne=Q.indexOf(Z.key);if(w.key==="Enter"||w.key===" "){if(p(Z.key),ne<Q.length-1){const C=Q[ne+1];document.getElementById(`perm-item-${C}`)?.focus()}}else if(w.key==="ArrowDown"||w.key==="ArrowRight"){if(ne<Q.length-1){const C=Q[ne+1];document.getElementById(`perm-item-${C}`)?.focus()}}else if((w.key==="ArrowUp"||w.key==="ArrowLeft")&&ne>0){const C=Q[ne-1];document.getElementById(`perm-item-${C}`)?.focus()}};return l.jsxs("label",{id:me,tabIndex:"0",onKeyDown:h,className:`flex items-center gap-3 p-3 rounded-xl border transition-all cursor-pointer group outline-none ring-offset-2 focus:ring-2 focus:ring-blue-400 ${N.permissions?.includes(Z.key)?"bg-blue-50 border-blue-200 shadow-sm":"bg-slate-50 border-slate-100 hover:bg-slate-100 hover:border-slate-200"}`,children:[l.jsx("div",{className:`w-5 h-5 rounded-lg border flex items-center justify-center transition-all ${N.permissions?.includes(Z.key)?"bg-blue-600 border-blue-600 text-white scale-110":"bg-white border-slate-200 group-hover:border-blue-300"}`,children:N.permissions?.includes(Z.key)&&l.jsx(ln,{size:12,fill:"currentColor"})}),l.jsx("input",{type:"checkbox",className:"hidden",checked:N.permissions?.includes(Z.key),onChange:()=>p(Z.key)}),l.jsx("span",{className:`text-sm transition-colors ${N.permissions?.includes(Z.key)?"text-slate-900 font-bold":"text-slate-500"}`,children:Z.label})]},Z.key)})})]},A.group)})}),l.jsxs("div",{className:"p-6 border-t border-slate-100 flex justify-end gap-3 bg-slate-50",children:[l.jsx("button",{onClick:()=>g(null),className:"px-4 py-2 rounded-lg text-slate-500 hover:text-slate-900 hover:bg-black/5 transition-colors",children:""}),l.jsx("button",{onClick:T,className:"btn-primary px-6 py-2",children:""})]})]})})]})}function vp({user:u,apiUrl:H}){const[S,f]=z.useState(new Date().getFullYear()),[v,G]=z.useState(new Date().getMonth()+1),[Y,le]=z.useState(u.username),[d,b]=z.useState([]),[$,P]=z.useState(!1),[N,g]=z.useState(null),[_,te]=z.useState(null),[D,m]=z.useState("LEAVE"),[T,p]=z.useState(""),[J,A]=z.useState(""),[y,B]=z.useState(!1),[Z,se]=z.useState({baseSalary:0,attendanceBonus:0,insurance:0,monthlyOffDays:8,bonusTiers:"[]"}),[me,h]=z.useState(!1),[w,U]=z.useState(!1),[Q,ne]=z.useState({profile:{joinedDate:"",birthday:"",identityId:"",contact:"",note:""},seniorityText:"",estimatedLeaveDays:0}),[C,K]=z.useState({joinedDate:"",birthday:"",identityId:"",contact:"",note:""}),ee={baseSalary:z.useRef(null),attendanceBonus:z.useRef(null),monthlyOffDays:z.useRef(null),insurance:z.useRef(null),bonusTiers:z.useRef(null)},ae={editValue:z.useRef(null),editNote:z.useRef(null)};z.useEffect(()=>{u.role==="BOSS"&&Ne(H,"getUsers",{},u.token).then(fe=>b(fe)).catch(fe=>console.error(fe))},[u.role,u.token,H]);const ce=z.useCallback(async()=>{P(!0);try{const k=await Ne(H,"getPayrollData",{year:S,month:v,targetUser:Y},u.token);k&&!k.error?(g(k),k.config&&se({...k.config,bonusTiers:JSON.stringify(k.config.bonusTiers||[])})):console.error(k?.error)}catch(k){console.error(k),alert(": "+k.message)}finally{P(!1)}},[S,v,Y,u.token]),o=z.useCallback(async()=>{try{const k=await Ne(H,"getEmployeeProfile",{targetUser:Y},u.token);k&&!k.error&&(ne(k),K(k.profile))}catch(k){console.error(k)}},[Y,u.token,H]),R=async()=>{if(!N||!N.summary){alert("");return}const k=` ${Y} 

: $${(N.summary.finalSalary||0).toLocaleString()}
: ${S}${v}`;if(confirm(k)){h(!0);try{await Ne(H,"savePayrollToExpenditure",{targetUser:Y,year:S,month:v,finalSalary:N.summary.finalSalary},u.token),alert("")}catch(fe){console.error("Save payroll failed:",fe),alert(": "+fe.message)}finally{h(!1)}}};z.useEffect(()=>{ce(),o()},[ce,o]);const I=async()=>{if(_){h(!0);try{await Ne(H,"saveDailyRecord",{date:_.date,username:Y,type:D,value:D==="WORK"||D==="LEAVE"||D==="SPECIAL_LEAVE"||D==="SICK_LEAVE"?1:Number(T),note:J},u.token),te(null),ce()}catch(k){alert(": "+k.message)}finally{h(!1)}}},ue=async()=>{h(!0);try{await Ne(H,"saveEmployeeProfile",{username:Y,...C},u.token),U(!1),o()}catch(k){alert(": "+k.message)}finally{h(!1)}},pe=async()=>{let k=[];try{k=JSON.parse(Z.bonusTiers)}catch{alert(" (JSON Error)");return}h(!0);try{await Ne(H,"savePayrollSettings",{targetUser:Y,baseSalary:Number(Z.baseSalary),attendanceBonus:Number(Z.attendanceBonus),insurance:Number(Z.insurance),monthlyOffDays:Number(Z.monthlyOffDays),bonusTiers:k},u.token),B(!1),ce()}catch(fe){alert(": "+fe.message)}finally{h(!1)}},V=(k,fe)=>{const De=["baseSalary","attendanceBonus","monthlyOffDays","insurance","bonusTiers"],Ce=De.indexOf(fe);if(!(fe==="bonusTiers")&&(k.key==="ArrowUp"||k.key==="ArrowDown")&&k.preventDefault(),k.key==="Enter"){if(fe==="bonusTiers"&&!k.ctrlKey)return;k.preventDefault();const jt=De[Ce+1];jt&&ee[jt].current&&(ee[jt].current.focus(),ee[jt].current.select?.());return}const _e={baseSalary:{ArrowRight:"attendanceBonus",ArrowDown:"monthlyOffDays"},attendanceBonus:{ArrowLeft:"baseSalary",ArrowDown:"insurance"},monthlyOffDays:{ArrowRight:"insurance",ArrowUp:"baseSalary",ArrowDown:"bonusTiers"},insurance:{ArrowLeft:"monthlyOffDays",ArrowUp:"attendanceBonus",ArrowDown:"bonusTiers"},bonusTiers:{}}[fe]?.[k.key];_e&&ee[_e].current&&(k.preventDefault(),ee[_e].current.focus(),ee[_e].current.select?.())},ie=(k,fe)=>{if(k.key==="Enter"&&(k.preventDefault(),fe==="editType"?D==="LOSS"?ae.editValue.current?.focus():ae.editNote.current?.focus():fe==="editValue"?ae.editNote.current?.focus():fe==="editNote"&&I()),fe==="editType"&&(k.key==="ArrowLeft"||k.key==="ArrowRight")){k.preventDefault();const De=["WORK","LEAVE","SPECIAL_LEAVE","SICK_LEAVE","LOSS"];let Ce=De.indexOf(D);k.key==="ArrowLeft"&&(Ce=(Ce-1+De.length)%De.length),k.key==="ArrowRight"&&(Ce=(Ce+1)%De.length),m(De[Ce])}},Se=((k,fe)=>{const De=new Date(k,fe,0).getDate();return Array.from({length:De},(Ce,Je)=>{const qe=new Date(k,fe-1,Je+1),_e=qe.getTimezoneOffset()*6e4;return{date:new Date(qe.getTime()-_e).toISOString().split("T")[0],day:Je+1,weekday:["","","","","","",""][qe.getDay()]}})})(S,v),re=N?.summary||{};let Ie=0,Pe=0,Re=0,rt=0;Se.forEach(k=>{const fe=k.date,De=N?.dailyData?.[fe]||0,Ce=N?.dailyRecords?.[fe]||{};De>0?Ie++:Ce.isLeave?Pe++:Ce.isSpecialLeave?Re++:Ce.isSickLeave?rt++:Pe++});const al=k=>{if(!k)return"";try{if(k instanceof Date)return`${k.getMonth()+1}${k.getDate()}`;const fe=String(k),De=new Date(fe);if(!isNaN(De.getTime()))return`${De.getMonth()+1}${De.getDate()}`;const Ce=fe.match(/(\d{1,2})[/-](\d{1,2})/);return Ce?`${Ce[1]}${Ce[2]}`:fe.replace(/[/.-]/g,"")+""}catch(fe){return console.error("Format err",fe),String(k)}};return l.jsxs("div",{className:"p-2 md:p-8 space-y-4 md:space-y-6 max-w-7xl mx-auto pb-24",children:[l.jsxs("div",{className:"md:hidden space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center px-1 mb-6",children:[l.jsxs("h1",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(ot,{className:"text-blue-500",size:24})," "]}),l.jsx("button",{onClick:ce,className:"btn-secondary py-1 px-3 text-xs h-7 rounded-full border-slate-200 text-slate-500",children:""})]}),l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm h-10 px-1 flex items-center gap-1 w-full max-w-[340px] justify-center",children:[l.jsx("select",{value:S,onChange:k=>f(Number(k.target.value)),className:"bg-transparent text-sm font-medium text-slate-700 h-8 pl-2 pr-1 outline-none text-center",children:[2025,2026,2027].map(k=>l.jsxs("option",{value:k,children:[k,""]},k))}),l.jsx("div",{className:"w-px h-4 bg-slate-200"}),l.jsx("select",{value:v,onChange:k=>G(Number(k.target.value)),className:"bg-transparent text-sm font-bold text-blue-600 h-8 px-1 outline-none text-center w-16",children:Array.from({length:12},(k,fe)=>fe+1).map(k=>l.jsxs("option",{value:k,children:[k,""]},k))}),u.role==="BOSS"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-px h-4 bg-slate-200"}),l.jsxs("select",{value:Y,onChange:k=>le(k.target.value),className:"bg-transparent text-sm font-medium text-slate-700 h-8 pl-1 pr-2 outline-none text-center min-w-[5rem]",children:[d.map(k=>l.jsx("option",{value:k.username,children:k.username},k.userid)),!d.some(k=>k.username===Y)&&l.jsx("option",{value:Y,children:Y})]})]})]})}),u.role==="BOSS"&&l.jsx("div",{className:"flex justify-center",children:l.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 shadow-sm h-10 px-1 flex items-center gap-1 w-full max-w-[340px] justify-center",children:[l.jsxs("button",{onClick:()=>B(!0),className:"h-8 px-2 text-xs font-medium text-slate-600 hover:bg-slate-50 rounded-md flex items-center gap-1",children:[l.jsx(Fl,{size:14})," "]}),l.jsx("div",{className:"w-px h-4 bg-slate-200"}),l.jsxs("button",{onClick:()=>U(!0),className:"h-8 px-2 text-xs font-medium text-slate-600 hover:bg-slate-50 rounded-md flex items-center gap-1",children:[l.jsx(Tt,{size:14})," "]}),l.jsx("div",{className:"w-px h-4 bg-slate-200"}),l.jsxs("button",{onClick:R,disabled:me||!N,className:"h-8 px-2 text-xs font-medium text-blue-600 hover:bg-blue-50 rounded-md flex items-center gap-1 disabled:opacity-50",children:[l.jsx(ot,{size:14})," "]})]})}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-2 px-1 text-[10px]",children:[l.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-0.5 rounded border border-blue-100",children:[": ",Q.profile.joinedDate||"-"]}),l.jsxs("span",{className:"bg-indigo-50 text-indigo-700 px-2 py-0.5 rounded border border-indigo-100",children:[": ",Q.seniorityText]}),l.jsxs("span",{className:"bg-emerald-50 text-emerald-700 px-2 py-0.5 rounded border border-emerald-100",children:[": ",Q.estimatedLeaveDays-(N?.totalSpecialLeaveUsed||0),""]})]})]}),l.jsxs("div",{className:"hidden md:flex glass-panel p-6 flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400 flex items-center gap-3",children:[l.jsx(ot,{})," "]}),l.jsx("p",{className:"text-slate-400 text-sm mt-1",children:""})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsx("select",{value:S,onChange:k=>f(Number(k.target.value)),className:"input-field w-24",children:[2025,2026,2027].map(k=>l.jsxs("option",{value:k,children:[k,""]},k))}),l.jsx("select",{value:v,onChange:k=>G(Number(k.target.value)),className:"input-field w-20",children:Array.from({length:12},(k,fe)=>fe+1).map(k=>l.jsxs("option",{value:k,children:[k,""]},k))}),u.role==="BOSS"&&l.jsxs("select",{value:Y,onChange:k=>le(k.target.value),className:"input-field w-32",children:[d.map(k=>l.jsx("option",{value:k.username,children:k.username},k.userid)),!d.some(k=>k.username===Y)&&l.jsx("option",{value:Y,children:Y})]}),u.role==="BOSS"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>B(!0),className:"btn-secondary flex items-center gap-2",children:[l.jsx(Fl,{size:16})," "]}),l.jsxs("button",{onClick:()=>U(!0),className:"btn-secondary flex items-center gap-2 border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:[l.jsx(Tt,{size:16})," "]}),l.jsxs("button",{onClick:R,disabled:me||!N,className:"btn-secondary flex items-center gap-2 border-blue-200 text-blue-700 hover:bg-blue-50 disabled:opacity-50",children:[l.jsx(ot,{size:16})," ",me?"...":""]})]}),l.jsx("button",{onClick:ce,className:"btn-primary",children:""})]})]}),l.jsxs("div",{className:"hidden md:flex flex-wrap gap-4 px-2",children:[l.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-1.5 rounded-full text-sm font-medium border border-blue-100",children:[l.jsx(Tt,{size:14})," : ",Q.profile.joinedDate||""]}),l.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 text-indigo-700 px-3 py-1.5 rounded-full text-sm font-medium border border-indigo-100",children:[l.jsx(Fl,{size:14})," : ",Q.seniorityText]}),l.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 text-emerald-700 px-3 py-1.5 rounded-full text-sm font-medium border border-emerald-100",children:[l.jsx(Ir,{size:14})," :  ",Q.estimatedLeaveDays,"  /  ",N?.totalSpecialLeaveUsed||0,"  /  ",Q.estimatedLeaveDays-(N?.totalSpecialLeaveUsed||0)," "]})]}),u.role==="BOSS"&&N?.isBirthdayMonth&&l.jsx("div",{className:"px-1 md:px-2",children:l.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 border border-pink-100 rounded-xl p-3 md:p-4 flex items-center gap-3 md:gap-4 animate-bounce-subtle",children:[l.jsx("div",{className:"bg-white p-1.5 md:p-2 rounded-full shadow-sm text-lg md:text-2xl",children:""}),l.jsxs("div",{children:[l.jsxs("h4",{className:"text-rose-700 font-bold text-sm md:text-base",children:[" ",Q.profile.birthday?`(${al(Q.profile.birthday)})`:"",""]}),l.jsx("p",{className:"text-rose-600/80 text-xs md:text-sm",children:""})]})]})}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 px-1 md:hidden",children:[l.jsx(vt,{title:"",amount:N?.config?.baseSalary,color:"text-slate-800",isMobile:!0}),l.jsx(vt,{title:"",amount:0,color:"text-indigo-600",isMobile:!0}),l.jsx(vt,{title:"",amount:re.insurance,isDeduction:!0,color:"text-red-600",isMobile:!0,hoverContent:l.jsx("div",{className:"flex flex-col items-end",children:l.jsxs("p",{className:"text-xs font-bold text-emerald-600 font-mono",children:["$",(re.bonus||0).toLocaleString()]})})}),l.jsx(vt,{title:"",amount:re.finalSalary,color:"text-blue-600",isMobile:!0,className:"bg-blue-50/50 border-blue-100"})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-2 px-1 mt-2 md:hidden",children:[l.jsx(vt,{title:"",amount:re.attendanceBonus,color:"text-yellow-600",isMobile:!0,hoverContent:l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("p",{className:"text-[10px] text-slate-400 leading-none mb-0.5",children:""}),l.jsxs("p",{className:"text-xs font-bold text-emerald-600",children:[Ie," "]})]})}),l.jsx(vt,{title:"",amount:Pe,isCurrency:!1,suffix:"",color:"text-slate-500",isMobile:!0,hoverContent:l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx("p",{className:"text-[10px] text-slate-400 leading-none",children:""}),l.jsxs("p",{className:`text-xs font-bold ${(re.leaveCompensation||0)>=0?"text-blue-600":"text-red-600"}`,children:["$",(re.leaveCompensation||0).toLocaleString()]})]})}),l.jsx(vt,{title:"",amount:Re,isCurrency:!1,suffix:"",color:"text-emerald-500",isMobile:!0}),l.jsx(vt,{title:"",amount:rt,isCurrency:!1,suffix:"",color:"text-amber-500",isMobile:!0,hoverContent:l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("p",{className:"text-[10px] text-slate-400 leading-none",children:""}),l.jsxs("p",{className:"text-xs font-bold text-red-600",children:["-$",(rt*500).toLocaleString()]})]})})]}),l.jsxs("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-4 gap-4 px-2",children:[l.jsx(vt,{title:"",amount:N?.config?.baseSalary,color:"text-slate-800"}),l.jsx(vt,{title:"",amount:0,subtext:`: $${(re.sales||0).toLocaleString()}`,color:"text-indigo-600"}),l.jsx(vt,{title:" ()",amount:re.insurance,isDeduction:!0,color:"text-red-600",hoverContent:l.jsx("div",{className:"flex flex-col items-end",children:l.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:["$",(re.bonus||0).toLocaleString()]})})}),l.jsx(vt,{title:"",amount:re.finalSalary,color:"text-blue-600",subtext:"/"})]}),l.jsxs("div",{className:"hidden md:grid grid-cols-2 lg:grid-cols-4 gap-4 mt-4 px-2",children:[l.jsx(vt,{title:"",amount:re.attendanceBonus,color:"text-yellow-600",hoverContent:l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),l.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:[Ie," "]})]})}),l.jsx(vt,{title:"",amount:Pe,isCurrency:!1,suffix:" ",color:"text-slate-500",hoverContent:l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),l.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:[N?.config?.monthlyOffDays||0," "]})]}),l.jsxs("div",{className:"w-full border-t border-emerald-100 pt-1 mt-0.5",children:[l.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),l.jsxs("p",{className:`text-sm font-bold font-mono ${(re.leaveCompensation||0)>=0?"text-blue-600":"text-red-600"}`,children:[(re.leaveCompensation||0)>=0?"+":"-","$",Math.abs(re.leaveCompensation||0).toLocaleString()]})]})]})}),l.jsx(vt,{title:"",amount:Re,isCurrency:!1,suffix:" ",color:"text-emerald-500"}),l.jsx(vt,{title:"",amount:rt,isCurrency:!1,suffix:" ",color:"text-amber-500",hoverContent:l.jsxs("div",{className:"flex flex-col items-end",children:[l.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),l.jsxs("p",{className:"text-sm font-bold text-red-600 font-mono",children:["-$",(rt*500).toLocaleString()]})]})})]}),l.jsx("div",{className:"px-1 md:px-2 mt-2 md:mt-4",children:l.jsxs("div",{className:"bg-white p-3 rounded-lg border border-red-100 flex justify-between items-center shadow-sm",children:[l.jsx("span",{className:"text-sm text-red-600 font-bold",children:"/"}),l.jsxs("span",{className:"text-lg font-bold text-red-600",children:["-$",(re.loss||0).toLocaleString()]})]})}),l.jsx("div",{className:"hidden md:block glass-panel overflow-hidden",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm",children:l.jsxs("tr",{children:[l.jsx("th",{className:"p-4 w-32",children:""}),l.jsx("th",{className:"p-4 w-24 text-center",children:""}),l.jsx("th",{className:"p-4 text-right",children:""}),l.jsx("th",{className:"p-4 text-center",children:""}),l.jsx("th",{className:"p-4 text-right",children:"/"}),l.jsx("th",{className:"p-4 text-center",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:Se.map(k=>{const fe=k.date,De=N?.dailyData?.[fe]||0,Ce=N?.dailyRecords?.[fe]||{},Je=De>0;let qe="",_e="text-yellow-500 bg-yellow-500/10 px-2 rounded font-medium";Je?(qe=" ()",_e="text-green-400 font-bold"):Ce.isLeave?(qe="",_e="text-yellow-500 bg-yellow-500/10 px-2 rounded font-medium"):Ce.isSpecialLeave?(qe="",_e="text-emerald-500 bg-emerald-500/10 px-2 rounded font-medium"):Ce.isSickLeave&&(qe="",_e="text-amber-500 bg-amber-500/10 px-2 rounded font-medium");const jt=k.weekday===""||k.weekday==="";return l.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${jt?"bg-slate-50/50":""}`,children:[l.jsx("td",{className:"p-4 font-mono text-slate-600",children:fe}),l.jsx("td",{className:`p-4 text-center ${k.weekday===""?"text-red-600":"text-slate-500"}`,children:k.weekday}),l.jsx("td",{className:"p-4 text-right font-mono text-emerald-600",children:Math.abs(De)>.01?`$${De.toLocaleString()}`:"-"}),l.jsx("td",{className:"p-4 text-center",children:l.jsx("span",{className:`text-sm ${_e}`,children:qe})}),l.jsxs("td",{className:"p-4 text-right font-mono text-red-600",children:[Math.abs(Ce.loss||0)>.01?`-$${Math.abs(Ce.loss).toLocaleString()}`:"",Ce.note&&l.jsx("span",{className:"block text-xs text-slate-500",children:Ce.note})]}),l.jsx("td",{className:"p-4 text-center",children:u.role==="BOSS"&&l.jsx("button",{onClick:()=>{te(k),m("LEAVE")},className:"text-xs btn-ghost text-blue-400 hover:text-blue-300",children:""})})]},fe)})})]})}),l.jsx("div",{className:"md:hidden space-y-2",children:Se.map(k=>{const fe=k.date,De=fe.split("-"),Ce=`${De[1]}/${De[2]}`,Je=N?.dailyData?.[fe]||0,qe=N?.dailyRecords?.[fe]||{},_e=Je>0;let jt="",at="bg-yellow-100 text-yellow-700";_e?(jt="",at="bg-green-100 text-green-700"):qe.isLeave?(jt="",at="bg-yellow-100 text-yellow-700"):qe.isSpecialLeave?(jt="",at="bg-emerald-100 text-emerald-700"):qe.isSickLeave&&(jt="",at="bg-amber-100 text-amber-700");const Tc=k.weekday===""||k.weekday==="";return l.jsxs("div",{className:`bg-white rounded-lg border border-slate-100 p-2 flex items-center shadow-sm text-xs ${Tc?"bg-slate-50/50":""}`,children:[l.jsxs("div",{className:"w-14 items-center flex flex-col justify-center border-r border-slate-100 pr-2 mr-2",children:[l.jsx("span",{className:`font-bold text-sm ${k.weekday===""?"text-rose-500":"text-slate-700"}`,children:Ce}),l.jsxs("span",{className:`text-[10px] ${k.weekday===""?"text-rose-400":"text-slate-400"}`,children:["",k.weekday]})]}),l.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-1 items-center",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-[9px] text-slate-400 mb-0.5",children:""}),l.jsx("p",{className:`font-bold ${Je>0?"text-emerald-600":"text-slate-300"}`,children:Je>0?`$${Je.toLocaleString()}`:"-"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-[9px] text-slate-400 mb-0.5",children:""}),l.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${at}`,children:jt})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-[9px] text-slate-400 mb-0.5",children:""}),l.jsx("p",{className:`font-bold ${qe.loss?"text-red-500":"text-slate-300"}`,children:qe.loss?`-$${Number(qe.loss).toLocaleString()}`:"-"})]})]}),l.jsx("div",{className:"pl-2 ml-1 border-l border-slate-100",children:u.role==="BOSS"&&l.jsx("button",{onClick:()=>{te(k),m("LEAVE")},className:"w-8 h-8 flex items-center justify-center rounded-full bg-slate-50 text-slate-400 hover:bg-blue-50 hover:text-blue-500",children:l.jsx("span",{className:"text-[10px]",children:""})})})]},fe)})}),_&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"glass-panel w-full max-w-md p-6 animate-fadeIn",children:[l.jsxs("h3",{className:"text-xl font-bold mb-4",children:[_.date," (",_.weekday,") "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:" ()"}),l.jsx("div",{className:"flex bg-slate-50 rounded p-1 border border-slate-200 outline-none focus-within:ring-2 focus-within:ring-blue-500/20",tabIndex:"0",onKeyDown:k=>ie(k,"editType"),children:[{id:"WORK",label:"",color:"bg-blue-600"},{id:"LEAVE",label:"",color:"bg-yellow-600"},{id:"SPECIAL_LEAVE",label:"",color:"bg-emerald-600"},{id:"SICK_LEAVE",label:"",color:"bg-amber-600"},{id:"LOSS",label:"/",color:"bg-red-600"}].map(k=>l.jsx("button",{className:`flex-1 py-2 rounded text-xs transition-all ${D===k.id?`${k.color} text-white shadow-sm`:"text-slate-500 hover:bg-slate-100"}`,onClick:()=>m(k.id),children:k.label},k.id))})]}),D==="LOSS"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:" ()"}),l.jsx("input",{type:"number",className:"input-field w-full",placeholder:"-100",ref:ae.editValue,value:T,onChange:k=>p(k.target.value),onKeyDown:k=>ie(k,"editValue")})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),l.jsx("input",{type:"text",className:"input-field w-full",placeholder:"...",ref:ae.editNote,value:J,onChange:k=>A(k.target.value),onKeyDown:k=>ie(k,"editNote")})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>te(null),className:"btn-secondary flex-1",disabled:me,children:""}),l.jsx("button",{onClick:I,className:"btn-primary flex-1",disabled:me,children:me?"...":""})]}),me&&l.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] z-10 flex items-center justify-center rounded-lg",children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),l.jsx("span",{className:"text-sm font-medium text-blue-600",children:"..."})]})})]})}),y&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"glass-panel w-full max-w-lg p-6 animate-fadeIn max-h-[90vh] overflow-y-auto",children:[l.jsxs("h3",{className:"text-xl font-bold mb-4",children:[" - ",Y]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("input",{type:"number",className:"input-field w-full",ref:ee.baseSalary,value:Z.baseSalary,onChange:k=>se({...Z,baseSalary:k.target.value}),onKeyDown:k=>V(k,"baseSalary")})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("input",{type:"number",className:"input-field w-full",ref:ee.attendanceBonus,value:Z.attendanceBonus,onChange:k=>se({...Z,attendanceBonus:k.target.value}),onKeyDown:k=>V(k,"attendanceBonus")})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("input",{type:"number",className:"input-field w-full",ref:ee.monthlyOffDays,value:Z.monthlyOffDays,onChange:k=>se({...Z,monthlyOffDays:k.target.value}),onKeyDown:k=>V(k,"monthlyOffDays")})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:" ()"}),l.jsx("input",{type:"number",className:"input-field w-full",ref:ee.insurance,value:Z.insurance,onChange:k=>se({...Z,insurance:k.target.value}),onKeyDown:k=>V(k,"insurance")})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:" (JSON)"}),l.jsx("textarea",{className:"input-field w-full font-mono text-xs h-32",ref:ee.bonusTiers,value:Z.bonusTiers,onChange:k=>se({...Z,bonusTiers:k.target.value}),onKeyDown:k=>V(k,"bonusTiers"),placeholder:'[{"threshold": 50000, "bonus": 1000}]'}),l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:': `[{"threshold": , "bonus":  }]` ( Enter )'})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx("button",{onClick:()=>B(!1),className:"btn-secondary flex-1",disabled:me,children:""}),l.jsx("button",{onClick:pe,className:"btn-primary flex-1",disabled:me,children:me?"...":""})]}),me&&l.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] z-10 flex items-center justify-center rounded-lg text-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),l.jsxs("span",{className:"text-sm font-medium text-blue-600 font-bold",children:["",l.jsx("br",{}),l.jsx("span",{className:"text-[10px] opacity-70",children:""})]})]})})]})}),w&&l.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"glass-panel w-full max-w-lg p-6 animate-fadeIn",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-xl font-bold",children:[" - ",Y]}),l.jsx("p",{className:"text-sm text-slate-400 mt-1",children:""})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"block text-xs text-slate-400 uppercase font-bold tracking-wider",children:""}),l.jsx("span",{className:"text-lg font-bold text-blue-600",children:Q.seniorityText})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("input",{type:"date",className:"input-field w-full",value:C.joinedDate,onChange:k=>K({...C,joinedDate:k.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:" (/)"}),l.jsx("input",{type:"text",placeholder:"05/20",className:"input-field w-full",value:C.birthday,onChange:k=>K({...C,birthday:k.target.value})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"/"}),l.jsx("input",{type:"text",className:"input-field w-full",placeholder:"A123456789",value:C.identityId,onChange:k=>K({...C,identityId:k.target.value})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("input",{type:"text",className:"input-field w-full",placeholder:"0912-345-678",value:C.contact,onChange:k=>K({...C,contact:k.target.value})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:""}),l.jsx("textarea",{className:"input-field w-full h-24",placeholder:"...",value:C.note,onChange:k=>K({...C,note:k.target.value})})]}),l.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-lg p-3 flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-emerald-800 font-medium",children:""}),l.jsxs("span",{className:"text-xl font-bold text-emerald-600 font-mono",children:[Q.estimatedLeaveDays," "]})]})]}),l.jsxs("div",{className:"flex gap-3 mt-8",children:[l.jsx("button",{onClick:()=>U(!1),className:"btn-secondary flex-1",disabled:me,children:""}),l.jsx("button",{onClick:ue,className:"btn-primary flex-1",disabled:me,children:me?"...":""})]})]})})]})}function vt({title:u,amount:H,subtext:S,color:f,isDeduction:v,isCurrency:G=!0,suffix:Y="",hiddenAmount:le,hiddenTitle:d="",hoverContent:b,isMobile:$,className:P=""}){const[N,g]=z.useState(!1),_=()=>{($||"ontouchstart"in window)&&g(!N)};return l.jsxs("div",{onClick:_,className:`
                relative overflow-hidden transition-all cursor-default border border-slate-100 bg-white
                ${$?"h-16 p-2 rounded-lg flex flex-col justify-center items-center text-center shadow-sm":"h-28 p-4 rounded-xl flex flex-col justify-between glass-panel hover:border-blue-500"}
                ${P}
            `,onMouseEnter:()=>!$&&g(!0),onMouseLeave:()=>!$&&g(!1),children:[l.jsx("div",{className:`flex justify-between items-start z-10 w-full ${$?"justify-center":""}`,children:l.jsx("span",{className:`${$?"text-[10px]":"text-sm"} text-slate-500 font-bold`,children:u})}),l.jsxs("div",{className:`z-10 w-full ${$?"mt-1":""}`,children:[l.jsxs("span",{className:`${$?"text-xs":"text-2xl"} font-bold tracking-tight ${f}`,children:[v&&"-",G&&"$",(H||0).toLocaleString(),Y]}),!$&&S&&l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:S})]}),(le!==void 0||b)&&l.jsx("div",{className:`absolute top-0 right-0 p-1 md:p-2 transition-all duration-300 ${N?"translate-y-0 opacity-100":"-translate-y-full opacity-0"}`,children:l.jsx("div",{className:"bg-white/95 backdrop-blur shadow-sm border border-emerald-100 rounded px-1.5 py-0.5 text-right",children:b||l.jsxs(l.Fragment,{children:[d&&l.jsx("p",{className:"text-[8px] md:text-xs text-slate-400 font-medium",children:d}),l.jsxs("p",{className:"text-xs md:text-sm font-bold text-emerald-600 font-mono",children:[G&&"$",(le||0).toLocaleString()]})]})})}),!$&&l.jsx("div",{className:`absolute -right-2 -bottom-2 w-16 h-16 rounded-full opacity-5 ${f?.replace("text-","bg-")||"bg-slate-400"}`})]})}const Xe="https://script.google.com/macros/s/AKfycbzIoBBRytN2Qja-AUSILlXwdAnbwnU6nfil9403HYHXJH_KrvDy3lC9rQ_U8dlP9AIt/exec";console.log("---  ---");console.log("Base URL:","/inventory-system/");Xe.includes("YOUR_SCRIPT_ID")?(console.error("  VITE_GAS_API_URL "),console.log(" GitHub Settings -> Secrets ")):console.log(" API URL :",Xe);console.log("------------------");const pa=({label:u,icon:H,active:S,children:f,id:v,openDropdown:G,setOpenDropdown:Y})=>{const le=G===v;return l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:d=>{d.stopPropagation(),Y(le?null:v)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all duration-200 ${S?"bg-blue-50 text-blue-600 border border-blue-200 shadow-sm":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:[l.jsx(H,{size:18}),l.jsx("span",{className:"font-medium",children:u}),l.jsx(ga,{size:14,className:`transition-transform duration-300 ${le?"rotate-180":""}`})]}),le&&l.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white/95 backdrop-blur-xl border border-slate-200 rounded-xl shadow-2xl py-2 z-[100] animate-in fade-in slide-in-from-top-2 duration-200",onClick:d=>d.stopPropagation(),children:l.jsx("div",{className:"flex flex-col gap-1 px-1",children:f})})]})},we=({label:u,onClick:H,active:S,icon:f})=>l.jsxs("button",{onClick:H,className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-all flex items-center gap-2 ${S?"text-blue-600 bg-blue-50 font-bold":"text-slate-500 hover:text-slate-900 hover:bg-slate-100"}`,children:[f&&l.jsx(f,{size:14}),u]}),ba=({label:u,icon:H,children:S})=>{const[f,v]=z.useState(!1);return l.jsxs("div",{className:"border-b border-slate-100 last:border-0 border-l-4 border-l-transparent hover:border-l-blue-200 transition-all",children:[l.jsxs("button",{onClick:G=>{G.stopPropagation(),v(!f)},className:"w-full flex items-center justify-between p-3 text-slate-700 font-medium active:bg-slate-50",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[H&&l.jsx(H,{size:18,className:"text-slate-400"}),l.jsx("span",{children:u})]}),l.jsx(ga,{size:16,className:`text-slate-400 transition-transform duration-300 ${f?"rotate-180":""}`})]}),l.jsx("div",{className:`grid transition-all duration-300 ease-in-out ${f?"grid-rows-[1fr] opacity-100 pb-2":"grid-rows-[0fr] opacity-0"}`,children:l.jsx("div",{className:"overflow-hidden bg-slate-50/50 rounded-lg mx-2 border border-slate-100/50",children:S})})]})};function jp(){const[u,H]=z.useState(null),[S,f]=z.useState("sales"),[v,G]=z.useState(null),[Y,le]=z.useState(!1);Sl.useEffect(()=>{const N=localStorage.getItem("inventory_user");if(N){const _=JSON.parse(N);_&&typeof _.permissions>"u"?(console.warn("Detected stale user data (no permissions). Clearing session."),localStorage.removeItem("inventory_user"),H(null)):H(_)}const g=()=>{G(null),le(!1)};return window.addEventListener("click",g),()=>window.removeEventListener("click",g)},[]);const d=N=>{if(!u)return!1;if(u.role==="BOSS")return!0;let g=u.permissions;if(typeof g>"u"||g===null)g=[];else if(typeof g=="string")try{g=JSON.parse(g)}catch(_){console.error("Failed to parse permissions string:",_),g=[]}switch(Array.isArray(g)||(g=[]),N){case"sales":return g.includes("sales_entry")||g.includes("sales");case"report":return g.includes("sales_report")||g.includes("sales");case"purchase":return g.includes("purchase_entry")||g.includes("purchase");case"purchaseHistory":return g.includes("purchase_history")||g.includes("purchase");case"inventory":return g.includes("inventory_adjust")||g.includes("inventory");case"stocktake":return g.includes("inventory_stocktake")||g.includes("inventory");case"valuation":return g.includes("inventory_valuation")||g.includes("inventory");case"adjustHistory":case"stocktakeHistory":return g.includes("inventory_history")||g.includes("inventory");case"expenditureManagement":return g.includes("finance_expenditure")||g.includes("finance");case"receivable":return g.includes("finance_receivable")||g.includes("finance");case"payable":return g.includes("finance_payable")||g.includes("finance");case"incomeStatement":return g.includes("finance_income")||g.includes("finance");case"costCalculation":return g.includes("finance_cost")||g.includes("finance");case"payroll":return g.includes("finance_payroll")||g.includes("finance");case"salesRanking":return g.includes("analytics_sales")||g.includes("analytics");case"customerRanking":return g.includes("analytics_customer")||g.includes("analytics");case"profitAnalysis":return g.includes("analytics_profit")||g.includes("analytics");case"turnoverRate":return g.includes("analytics_turnover")||g.includes("analytics");case"permissionControl":return g.includes("system_config")||g.includes("system");default:return!0}},b=N=>{d(N)?(f(N),G(null),le(!1)):console.warn(`Access denied for page: ${N}`)},$=N=>{H(N),localStorage.setItem("inventory_user",JSON.stringify(N))},P=()=>{H(null),localStorage.removeItem("inventory_user")};return Xe.includes("YOUR_SCRIPT_ID")?l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-red-50 text-red-900",children:[l.jsx(Nl,{size:64,className:"mb-4 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold mb-2",children:""}),l.jsx("p",{className:"text-center max-w-md mb-6",children:" `VITE_GAS_API_URL`  GitHub Secrets  Actions "}),l.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-200 font-mono text-xs w-full max-w-lg",children:[l.jsx("p",{className:"font-bold mb-2",children:""}),l.jsxs("p",{children:["GAS_API_URL: ",String(Xe)]}),l.jsxs("p",{children:["Base URL: ","/inventory-system/"]})]})]}):u?l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsxs("header",{className:"h-16 border-b border-slate-200 bg-white/80 backdrop-blur-md flex justify-between items-center px-6 sticky top-0 z-[60]",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("img",{src:"/inventory-system/logo.png",alt:"Logo",className:"h-10 w-auto object-contain"})}),l.jsxs("div",{className:"md:hidden relative",onClick:N=>N.stopPropagation(),children:[l.jsxs("button",{onClick:()=>le(!Y),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-all ${Y?"bg-blue-50 border-blue-200 text-blue-600 ring-2 ring-blue-100":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[l.jsx("span",{className:"font-bold text-sm",children:""}),l.jsx(ga,{size:16,className:`transition-transform duration-300 ${Y?"rotate-180":""}`})]}),Y&&l.jsx("div",{className:"fixed top-16 left-0 right-0 mx-auto mt-2 w-[90%] max-w-md bg-white/95 backdrop-blur-xl border border-slate-200 rounded-2xl shadow-2xl overflow-y-auto max-h-[80vh] animate-in fade-in slide-in-from-top-4 duration-200 z-[100]",children:l.jsxs("div",{className:"p-2 flex flex-col",children:[(u.role==="BOSS"||d("sales")||d("report"))&&l.jsxs(ba,{label:"",icon:Sc,children:[d("sales")&&l.jsx(we,{label:"",icon:Sc,onClick:()=>b("sales"),active:S==="sales"}),d("report")&&l.jsx(we,{label:"",icon:en,onClick:()=>b("report"),active:S==="report"})]}),(u.role==="BOSS"||d("purchase")||d("purchaseHistory"))&&l.jsxs(ba,{label:"",icon:Nc,children:[d("purchase")&&l.jsx(we,{label:"",icon:Nc,onClick:()=>b("purchase"),active:S==="purchase"}),d("purchaseHistory")&&l.jsx(we,{label:"",icon:ss,onClick:()=>b("purchaseHistory"),active:S==="purchaseHistory"})]}),(u.role==="BOSS"||d("inventory")||d("stocktake")||d("valuation")||d("adjustHistory")||d("stocktakeHistory"))&&l.jsxs(ba,{label:"",icon:jc,children:[d("inventory")&&l.jsx(we,{label:"",icon:jc,onClick:()=>b("inventory"),active:S==="inventory"}),d("stocktake")&&l.jsx(we,{label:"",icon:ln,onClick:()=>b("stocktake"),active:S==="stocktake"}),d("valuation")&&l.jsx(we,{label:"",icon:ot,onClick:()=>b("valuation"),active:S==="valuation"}),d("adjustHistory")&&l.jsx(we,{label:"",icon:en,onClick:()=>b("adjustHistory"),active:S==="adjustHistory"}),d("stocktakeHistory")&&l.jsx(we,{label:"",icon:ss,onClick:()=>b("stocktakeHistory"),active:S==="stocktakeHistory"})]}),(u.role==="BOSS"||d("expenditureManagement"))&&l.jsx(ba,{label:"",icon:ot,children:l.jsx(we,{label:"",icon:ot,onClick:()=>b("expenditureManagement"),active:S==="expenditureManagement"})}),(u.role==="BOSS"||d("receivable")||d("payable")||d("incomeStatement")||d("costCalculation"))&&l.jsxs(ba,{label:"",icon:Jl,children:[d("receivable")&&l.jsx(we,{label:"",icon:Jl,onClick:()=>b("receivable"),active:S==="receivable"}),d("payable")&&l.jsx(we,{label:"",icon:Jl,onClick:()=>b("payable"),active:S==="payable"}),d("incomeStatement")&&l.jsx(we,{label:"",icon:Fr,onClick:()=>b("incomeStatement"),active:S==="incomeStatement"}),d("costCalculation")&&l.jsx(we,{label:"",icon:ot,onClick:()=>b("costCalculation"),active:S==="costCalculation"}),d("payroll")&&l.jsx(we,{label:"",icon:ot,onClick:()=>b("payroll"),active:S==="payroll"})]}),(u.role==="BOSS"||d("salesRanking")||d("customerRanking")||d("profitAnalysis")||d("turnoverRate"))&&l.jsxs(ba,{label:"",icon:Wl,children:[d("salesRanking")&&l.jsx(we,{label:"",icon:Wr,onClick:()=>b("salesRanking"),active:S==="salesRanking"}),d("customerRanking")&&l.jsx(we,{label:"",icon:Cc,onClick:()=>b("customerRanking"),active:S==="customerRanking"}),d("profitAnalysis")&&l.jsx(we,{label:"",icon:Wl,onClick:()=>b("profitAnalysis"),active:S==="profitAnalysis"}),d("turnoverRate")&&l.jsx(we,{label:"",icon:Jr,onClick:()=>b("turnoverRate"),active:S==="turnoverRate"})]}),(u.role==="BOSS"||d("permissionControl"))&&l.jsx(ba,{label:"",icon:Nl,children:l.jsx(we,{label:"",icon:Nl,onClick:()=>b("permissionControl"),active:S==="permissionControl"})})]})})]}),l.jsxs("nav",{className:"hidden md:flex gap-1",children:[(u.role==="BOSS"||d("sales")||d("report"))&&l.jsxs(pa,{id:"sales",label:"",icon:Sc,openDropdown:v,setOpenDropdown:G,active:["sales","report"].includes(S),children:[d("sales")&&l.jsx(we,{label:"",icon:Sc,onClick:()=>b("sales"),active:S==="sales"}),d("report")&&l.jsx(we,{label:"",icon:en,onClick:()=>b("report"),active:S==="report"})]}),(u.role==="BOSS"||d("purchase")||d("purchaseHistory"))&&l.jsxs(pa,{id:"purchase",label:"",icon:Nc,openDropdown:v,setOpenDropdown:G,active:["purchase","purchaseHistory"].includes(S),children:[d("purchase")&&l.jsx(we,{label:"",icon:Nc,onClick:()=>b("purchase"),active:S==="purchase"}),d("purchaseHistory")&&l.jsx(we,{label:"",icon:ss,onClick:()=>b("purchaseHistory"),active:S==="purchaseHistory"})]}),(u.role==="BOSS"||d("inventory")||d("stocktake")||d("valuation")||d("adjustHistory")||d("stocktakeHistory"))&&l.jsxs(pa,{id:"inventory",label:"",icon:jc,openDropdown:v,setOpenDropdown:G,active:["inventory","stocktake","valuation","adjustHistory","stocktakeHistory"].includes(S),children:[d("inventory")&&l.jsx(we,{label:"",icon:jc,onClick:()=>b("inventory"),active:S==="inventory"}),d("stocktake")&&l.jsx(we,{label:"",icon:ln,onClick:()=>b("stocktake"),active:S==="stocktake"}),d("valuation")&&l.jsx(we,{label:"",icon:ot,onClick:()=>b("valuation"),active:S==="valuation"}),l.jsx("div",{className:"my-1 border-t border-slate-100"}),d("adjustHistory")&&l.jsx(we,{label:"",icon:en,onClick:()=>b("adjustHistory"),active:S==="adjustHistory"}),d("stocktakeHistory")&&l.jsx(we,{label:"",icon:ss,onClick:()=>b("stocktakeHistory"),active:S==="stocktakeHistory"})]}),(u.role==="BOSS"||d("expenditureManagement"))&&l.jsx(pa,{id:"expenditure",label:"",icon:ot,openDropdown:v,setOpenDropdown:G,active:S==="expenditureManagement",children:l.jsx(we,{label:"",icon:ot,onClick:()=>b("expenditureManagement"),active:S==="expenditureManagement"})}),(u.role==="BOSS"||d("receivable")||d("payable")||d("incomeStatement")||d("costCalculation"))&&l.jsxs(pa,{id:"accounting",label:"",icon:Jl,openDropdown:v,setOpenDropdown:G,active:["receivable","payable","incomeStatement","costCalculation"].includes(S),children:[d("receivable")&&l.jsx(we,{label:"",icon:Jl,onClick:()=>b("receivable"),active:S==="receivable"}),d("payable")&&l.jsx(we,{label:"",icon:Jl,onClick:()=>b("payable"),active:S==="payable"}),d("incomeStatement")&&l.jsx(we,{label:"",icon:Fr,onClick:()=>b("incomeStatement"),active:S==="incomeStatement"}),l.jsx("div",{className:"my-1 border-t border-slate-100"}),d("costCalculation")&&l.jsx(we,{label:"",icon:ot,onClick:()=>b("costCalculation"),active:S==="costCalculation"}),d("payroll")&&l.jsx(we,{label:"",icon:ot,onClick:()=>b("payroll"),active:S==="payroll"})]}),(u.role==="BOSS"||d("salesRanking")||d("customerRanking")||d("profitAnalysis")||d("turnoverRate"))&&l.jsxs(pa,{id:"analytics",label:"",icon:Wl,openDropdown:v,setOpenDropdown:G,active:["salesRanking","customerRanking","profitAnalysis","turnoverRate"].includes(S),children:[d("salesRanking")&&l.jsx(we,{label:"",icon:Wr,onClick:()=>b("salesRanking"),active:S==="salesRanking"}),d("customerRanking")&&l.jsx(we,{label:"",icon:Cc,onClick:()=>b("customerRanking"),active:S==="customerRanking"}),d("profitAnalysis")&&l.jsx(we,{label:"",icon:Wl,onClick:()=>b("profitAnalysis"),active:S==="profitAnalysis"}),d("turnoverRate")&&l.jsx(we,{label:"",icon:Jr,onClick:()=>b("turnoverRate"),active:S==="turnoverRate"})]}),(u.role==="BOSS"||d("permissionControl"))&&l.jsx(pa,{id:"system",label:"",icon:Nl,openDropdown:v,setOpenDropdown:G,active:S==="permissionControl",children:l.jsx(we,{label:"",icon:Nl,onClick:()=>b("permissionControl"),active:S==="permissionControl"})})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[l.jsx("span",{className:"text-xs font-bold text-blue-600 leading-none",children:u.username}),l.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-tighter",children:u.role})]}),l.jsx("button",{onClick:P,className:"w-10 h-10 rounded-xl flex items-center justify-center text-slate-400 hover:text-red-500 hover:bg-red-50 transition-all border border-transparent hover:border-red-100",title:"",children:l.jsx(Th,{size:20})})]})]}),l.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-hidden",children:d(S)?l.jsxs(l.Fragment,{children:[S==="sales"&&l.jsx(tp,{user:u,apiUrl:Xe}),S==="inventory"&&l.jsx(lp,{user:u,apiUrl:Xe}),S==="purchase"&&l.jsx(ap,{user:u,apiUrl:Xe}),S==="report"&&l.jsx(sp,{user:u,apiUrl:Xe}),S==="purchaseHistory"&&l.jsx(np,{user:u,apiUrl:Xe}),S==="adjustHistory"&&l.jsx(cp,{user:u,apiUrl:Xe}),S==="valuation"&&l.jsx(ip,{user:u,apiUrl:Xe}),S==="stocktake"&&l.jsx(rp,{user:u,apiUrl:Xe}),S==="stocktakeHistory"&&l.jsx(up,{user:u,apiUrl:Xe}),S==="receivable"&&l.jsx(op,{user:u,apiUrl:Xe}),S==="payable"&&l.jsx(dp,{user:u,apiUrl:Xe}),S==="salesRanking"&&l.jsx(fp,{user:u,apiUrl:Xe}),S==="customerRanking"&&l.jsx(xp,{user:u,apiUrl:Xe}),S==="profitAnalysis"&&l.jsx(mp,{user:u,apiUrl:Xe}),S==="turnoverRate"&&l.jsx(hp,{user:u,apiUrl:Xe}),S==="costCalculation"&&l.jsx(pp,{user:u,apiUrl:Xe}),S==="expenditureManagement"&&l.jsx(yp,{user:u,apiUrl:Xe}),S==="incomeStatement"&&l.jsx(bp,{user:u,apiUrl:Xe}),S==="permissionControl"&&l.jsx(gp,{user:u,apiUrl:Xe}),S==="payroll"&&l.jsx(vp,{user:u,apiUrl:Xe})]}):l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[l.jsx(Nl,{size:64,className:"mb-4 text-slate-200"}),l.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),l.jsx("p",{className:"mt-2",children:""}),l.jsx("button",{onClick:()=>f("sales"),className:"mt-6 px-4 py-2 bg-white hover:bg-slate-50 text-blue-600 rounded-lg transition-colors border border-slate-200 shadow-sm",children:""})]})})]}):l.jsx(ep,{onLogin:$,apiUrl:Xe})}Jm.createRoot(document.getElementById("root")).render(l.jsx(z.StrictMode,{children:l.jsx(jp,{})}));
