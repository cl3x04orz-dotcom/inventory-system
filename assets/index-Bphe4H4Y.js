(function(){const U=document.createElement("link").relList;if(U&&U.supports&&U.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))d(h);new MutationObserver(h=>{for(const X of h)if(X.type==="childList")for(const w of X.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&d(w)}).observe(document,{childList:!0,subtree:!0});function v(h){const X={};return h.integrity&&(X.integrity=h.integrity),h.referrerPolicy&&(X.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?X.credentials="include":h.crossOrigin==="anonymous"?X.credentials="omit":X.credentials="same-origin",X}function d(h){if(h.ep)return;h.ep=!0;const X=v(h);fetch(h.href,X)}})();function Um(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Tu={exports:{}},Vs={};var Xf;function Hm(){if(Xf)return Vs;Xf=1;var o=Symbol.for("react.transitional.element"),U=Symbol.for("react.fragment");function v(d,h,X){var w=null;if(X!==void 0&&(w=""+X),h.key!==void 0&&(w=""+h.key),"key"in h){X={};for(var F in h)F!=="key"&&(X[F]=h[F])}else X=h;return h=X.ref,{$$typeof:o,type:d,key:w,ref:h!==void 0?h:null,props:X}}return Vs.Fragment=U,Vs.jsx=v,Vs.jsxs=v,Vs}var Kf;function qm(){return Kf||(Kf=1,Tu.exports=Hm()),Tu.exports}var a=qm(),_u={exports:{}},ye={};var Zf;function Bm(){if(Zf)return ye;Zf=1;var o=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),w=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),N=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),S=Symbol.iterator;function k(r){return r===null||typeof r!="object"?null:(r=S&&r[S]||r["@@iterator"],typeof r=="function"?r:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,A={};function g(r,Q,le){this.props=r,this.context=Q,this.refs=A,this.updater=le||O}g.prototype.isReactComponent={},g.prototype.setState=function(r,Q){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,Q,"setState")},g.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function H(){}H.prototype=g.prototype;function j(r,Q,le){this.props=r,this.context=Q,this.refs=A,this.updater=le||O}var J=j.prototype=new H;J.constructor=j,te(J,g.prototype),J.isPureReactComponent=!0;var D=Array.isArray;function p(){}var K={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function re(r,Q,le){var ce=le.ref;return{$$typeof:o,type:r,key:Q,ref:ce!==void 0?ce:null,props:le}}function W(r,Q){return re(r.type,Q,r.props)}function _(r){return typeof r=="object"&&r!==null&&r.$$typeof===o}function ue(r){var Q={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(le){return Q[le]})}var ne=/\/+/g;function q(r,Q){return typeof r=="object"&&r!==null&&r.key!=null?ue(""+r.key):Q.toString(36)}function ee(r){switch(r.status){case"fulfilled":return r.value;case"rejected":throw r.reason;default:switch(typeof r.status=="string"?r.then(p,p):(r.status="pending",r.then(function(Q){r.status==="pending"&&(r.status="fulfilled",r.value=Q)},function(Q){r.status==="pending"&&(r.status="rejected",r.reason=Q)})),r.status){case"fulfilled":return r.value;case"rejected":throw r.reason}}throw r}function x(r,Q,le,ce,G){var ae=typeof r;(ae==="undefined"||ae==="boolean")&&(r=null);var fe=!1;if(r===null)fe=!0;else switch(ae){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(r.$$typeof){case o:case U:fe=!0;break;case B:return fe=r._init,x(fe(r._payload),Q,le,ce,G)}}if(fe)return G=G(r),fe=ce===""?"."+q(r,0):ce,D(G)?(le="",fe!=null&&(le=fe.replace(ne,"$&/")+"/"),x(G,Q,le,"",function(Te){return Te})):G!=null&&(_(G)&&(G=W(G,le+(G.key==null||r&&r.key===G.key?"":(""+G.key).replace(ne,"$&/")+"/")+fe)),Q.push(G)),1;fe=0;var Me=ce===""?".":ce+":";if(D(r))for(var xe=0;xe<r.length;xe++)ce=r[xe],ae=Me+q(ce,xe),fe+=x(ce,Q,le,ae,G);else if(xe=k(r),typeof xe=="function")for(r=xe.call(r),xe=0;!(ce=r.next()).done;)ce=ce.value,ae=Me+q(ce,xe++),fe+=x(ce,Q,le,ae,G);else if(ae==="object"){if(typeof r.then=="function")return x(ee(r),Q,le,ce,G);throw Q=String(r),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return fe}function Y(r,Q,le){if(r==null)return r;var ce=[],G=0;return x(r,ce,"","",function(ae){return Q.call(le,ae,G++)}),ce}function I(r){if(r._status===-1){var Q=r._result;Q=Q(),Q.then(function(le){(r._status===0||r._status===-1)&&(r._status=1,r._result=le)},function(le){(r._status===0||r._status===-1)&&(r._status=2,r._result=le)}),r._status===-1&&(r._status=0,r._result=Q)}if(r._status===1)return r._result.default;throw r._result}var se=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ie={map:Y,forEach:function(r,Q,le){Y(r,function(){Q.apply(this,arguments)},le)},count:function(r){var Q=0;return Y(r,function(){Q++}),Q},toArray:function(r){return Y(r,function(Q){return Q})||[]},only:function(r){if(!_(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};return ye.Activity=z,ye.Children=ie,ye.Component=g,ye.Fragment=v,ye.Profiler=h,ye.PureComponent=j,ye.StrictMode=d,ye.Suspense=T,ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ye.__COMPILER_RUNTIME={__proto__:null,c:function(r){return K.H.useMemoCache(r)}},ye.cache=function(r){return function(){return r.apply(null,arguments)}},ye.cacheSignal=function(){return null},ye.cloneElement=function(r,Q,le){if(r==null)throw Error("The argument must be a React element, but you passed "+r+".");var ce=te({},r.props),G=r.key;if(Q!=null)for(ae in Q.key!==void 0&&(G=""+Q.key),Q)!P.call(Q,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&Q.ref===void 0||(ce[ae]=Q[ae]);var ae=arguments.length-2;if(ae===1)ce.children=le;else if(1<ae){for(var fe=Array(ae),Me=0;Me<ae;Me++)fe[Me]=arguments[Me+2];ce.children=fe}return re(r.type,G,ce)},ye.createContext=function(r){return r={$$typeof:w,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null},r.Provider=r,r.Consumer={$$typeof:X,_context:r},r},ye.createElement=function(r,Q,le){var ce,G={},ae=null;if(Q!=null)for(ce in Q.key!==void 0&&(ae=""+Q.key),Q)P.call(Q,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(G[ce]=Q[ce]);var fe=arguments.length-2;if(fe===1)G.children=le;else if(1<fe){for(var Me=Array(fe),xe=0;xe<fe;xe++)Me[xe]=arguments[xe+2];G.children=Me}if(r&&r.defaultProps)for(ce in fe=r.defaultProps,fe)G[ce]===void 0&&(G[ce]=fe[ce]);return re(r,ae,G)},ye.createRef=function(){return{current:null}},ye.forwardRef=function(r){return{$$typeof:F,render:r}},ye.isValidElement=_,ye.lazy=function(r){return{$$typeof:B,_payload:{_status:-1,_result:r},_init:I}},ye.memo=function(r,Q){return{$$typeof:N,type:r,compare:Q===void 0?null:Q}},ye.startTransition=function(r){var Q=K.T,le={};K.T=le;try{var ce=r(),G=K.S;G!==null&&G(le,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(p,se)}catch(ae){se(ae)}finally{Q!==null&&le.types!==null&&(Q.types=le.types),K.T=Q}},ye.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ye.use=function(r){return K.H.use(r)},ye.useActionState=function(r,Q,le){return K.H.useActionState(r,Q,le)},ye.useCallback=function(r,Q){return K.H.useCallback(r,Q)},ye.useContext=function(r){return K.H.useContext(r)},ye.useDebugValue=function(){},ye.useDeferredValue=function(r,Q){return K.H.useDeferredValue(r,Q)},ye.useEffect=function(r,Q){return K.H.useEffect(r,Q)},ye.useEffectEvent=function(r){return K.H.useEffectEvent(r)},ye.useId=function(){return K.H.useId()},ye.useImperativeHandle=function(r,Q,le){return K.H.useImperativeHandle(r,Q,le)},ye.useInsertionEffect=function(r,Q){return K.H.useInsertionEffect(r,Q)},ye.useLayoutEffect=function(r,Q){return K.H.useLayoutEffect(r,Q)},ye.useMemo=function(r,Q){return K.H.useMemo(r,Q)},ye.useOptimistic=function(r,Q){return K.H.useOptimistic(r,Q)},ye.useReducer=function(r,Q,le){return K.H.useReducer(r,Q,le)},ye.useRef=function(r){return K.H.useRef(r)},ye.useState=function(r){return K.H.useState(r)},ye.useSyncExternalStore=function(r,Q,le){return K.H.useSyncExternalStore(r,Q,le)},ye.useTransition=function(){return K.H.useTransition()},ye.version="19.2.3",ye}var $f;function qu(){return $f||($f=1,_u.exports=Bm()),_u.exports}var y=qu();const gl=Um(y);var Mu={exports:{}},Xs={},Ou={exports:{}},ku={};var Jf;function Ym(){return Jf||(Jf=1,(function(o){function U(x,Y){var I=x.length;x.push(Y);e:for(;0<I;){var se=I-1>>>1,ie=x[se];if(0<h(ie,Y))x[se]=Y,x[I]=ie,I=se;else break e}}function v(x){return x.length===0?null:x[0]}function d(x){if(x.length===0)return null;var Y=x[0],I=x.pop();if(I!==Y){x[0]=I;e:for(var se=0,ie=x.length,r=ie>>>1;se<r;){var Q=2*(se+1)-1,le=x[Q],ce=Q+1,G=x[ce];if(0>h(le,I))ce<ie&&0>h(G,le)?(x[se]=G,x[ce]=I,se=ce):(x[se]=le,x[Q]=I,se=Q);else if(ce<ie&&0>h(G,I))x[se]=G,x[ce]=I,se=ce;else break e}}return Y}function h(x,Y){var I=x.sortIndex-Y.sortIndex;return I!==0?I:x.id-Y.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var X=performance;o.unstable_now=function(){return X.now()}}else{var w=Date,F=w.now();o.unstable_now=function(){return w.now()-F}}var T=[],N=[],B=1,z=null,S=3,k=!1,O=!1,te=!1,A=!1,g=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function J(x){for(var Y=v(N);Y!==null;){if(Y.callback===null)d(N);else if(Y.startTime<=x)d(N),Y.sortIndex=Y.expirationTime,U(T,Y);else break;Y=v(N)}}function D(x){if(te=!1,J(x),!O)if(v(T)!==null)O=!0,p||(p=!0,ue());else{var Y=v(N);Y!==null&&ee(D,Y.startTime-x)}}var p=!1,K=-1,P=5,re=-1;function W(){return A?!0:!(o.unstable_now()-re<P)}function _(){if(A=!1,p){var x=o.unstable_now();re=x;var Y=!0;try{e:{O=!1,te&&(te=!1,H(K),K=-1),k=!0;var I=S;try{t:{for(J(x),z=v(T);z!==null&&!(z.expirationTime>x&&W());){var se=z.callback;if(typeof se=="function"){z.callback=null,S=z.priorityLevel;var ie=se(z.expirationTime<=x);if(x=o.unstable_now(),typeof ie=="function"){z.callback=ie,J(x),Y=!0;break t}z===v(T)&&d(T),J(x)}else d(T);z=v(T)}if(z!==null)Y=!0;else{var r=v(N);r!==null&&ee(D,r.startTime-x),Y=!1}}break e}finally{z=null,S=I,k=!1}Y=void 0}}finally{Y?ue():p=!1}}}var ue;if(typeof j=="function")ue=function(){j(_)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,q=ne.port2;ne.port1.onmessage=_,ue=function(){q.postMessage(null)}}else ue=function(){g(_,0)};function ee(x,Y){K=g(function(){x(o.unstable_now())},Y)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(x){x.callback=null},o.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<x?Math.floor(1e3/x):5},o.unstable_getCurrentPriorityLevel=function(){return S},o.unstable_next=function(x){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var I=S;S=Y;try{return x()}finally{S=I}},o.unstable_requestPaint=function(){A=!0},o.unstable_runWithPriority=function(x,Y){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var I=S;S=x;try{return Y()}finally{S=I}},o.unstable_scheduleCallback=function(x,Y,I){var se=o.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?se+I:se):I=se,x){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=I+ie,x={id:B++,callback:Y,priorityLevel:x,startTime:I,expirationTime:ie,sortIndex:-1},I>se?(x.sortIndex=I,U(N,x),v(T)===null&&x===v(N)&&(te?(H(K),K=-1):te=!0,ee(D,I-se))):(x.sortIndex=ie,U(T,x),O||k||(O=!0,p||(p=!0,ue()))),x},o.unstable_shouldYield=W,o.unstable_wrapCallback=function(x){var Y=S;return function(){var I=S;S=Y;try{return x.apply(this,arguments)}finally{S=I}}}})(ku)),ku}var Wf;function Qm(){return Wf||(Wf=1,Ou.exports=Ym()),Ou.exports}var Ru={exports:{}},ot={};var Ff;function Gm(){if(Ff)return ot;Ff=1;var o=qu();function U(T){var N="https://react.dev/errors/"+T;if(1<arguments.length){N+="?args[]="+encodeURIComponent(arguments[1]);for(var B=2;B<arguments.length;B++)N+="&args[]="+encodeURIComponent(arguments[B])}return"Minified React error #"+T+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(){}var d={d:{f:v,r:function(){throw Error(U(522))},D:v,C:v,L:v,m:v,X:v,S:v,M:v},p:0,findDOMNode:null},h=Symbol.for("react.portal");function X(T,N,B){var z=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:z==null?null:""+z,children:T,containerInfo:N,implementation:B}}var w=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function F(T,N){if(T==="font")return"";if(typeof N=="string")return N==="use-credentials"?N:""}return ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=d,ot.createPortal=function(T,N){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N||N.nodeType!==1&&N.nodeType!==9&&N.nodeType!==11)throw Error(U(299));return X(T,N,null,B)},ot.flushSync=function(T){var N=w.T,B=d.p;try{if(w.T=null,d.p=2,T)return T()}finally{w.T=N,d.p=B,d.d.f()}},ot.preconnect=function(T,N){typeof T=="string"&&(N?(N=N.crossOrigin,N=typeof N=="string"?N==="use-credentials"?N:"":void 0):N=null,d.d.C(T,N))},ot.prefetchDNS=function(T){typeof T=="string"&&d.d.D(T)},ot.preinit=function(T,N){if(typeof T=="string"&&N&&typeof N.as=="string"){var B=N.as,z=F(B,N.crossOrigin),S=typeof N.integrity=="string"?N.integrity:void 0,k=typeof N.fetchPriority=="string"?N.fetchPriority:void 0;B==="style"?d.d.S(T,typeof N.precedence=="string"?N.precedence:void 0,{crossOrigin:z,integrity:S,fetchPriority:k}):B==="script"&&d.d.X(T,{crossOrigin:z,integrity:S,fetchPriority:k,nonce:typeof N.nonce=="string"?N.nonce:void 0})}},ot.preinitModule=function(T,N){if(typeof T=="string")if(typeof N=="object"&&N!==null){if(N.as==null||N.as==="script"){var B=F(N.as,N.crossOrigin);d.d.M(T,{crossOrigin:B,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0})}}else N==null&&d.d.M(T)},ot.preload=function(T,N){if(typeof T=="string"&&typeof N=="object"&&N!==null&&typeof N.as=="string"){var B=N.as,z=F(B,N.crossOrigin);d.d.L(T,B,{crossOrigin:z,integrity:typeof N.integrity=="string"?N.integrity:void 0,nonce:typeof N.nonce=="string"?N.nonce:void 0,type:typeof N.type=="string"?N.type:void 0,fetchPriority:typeof N.fetchPriority=="string"?N.fetchPriority:void 0,referrerPolicy:typeof N.referrerPolicy=="string"?N.referrerPolicy:void 0,imageSrcSet:typeof N.imageSrcSet=="string"?N.imageSrcSet:void 0,imageSizes:typeof N.imageSizes=="string"?N.imageSizes:void 0,media:typeof N.media=="string"?N.media:void 0})}},ot.preloadModule=function(T,N){if(typeof T=="string")if(N){var B=F(N.as,N.crossOrigin);d.d.m(T,{as:typeof N.as=="string"&&N.as!=="script"?N.as:void 0,crossOrigin:B,integrity:typeof N.integrity=="string"?N.integrity:void 0})}else d.d.m(T)},ot.requestFormReset=function(T){d.d.r(T)},ot.unstable_batchedUpdates=function(T,N){return T(N)},ot.useFormState=function(T,N,B){return w.H.useFormState(T,N,B)},ot.useFormStatus=function(){return w.H.useHostTransitionStatus()},ot.version="19.2.3",ot}var If;function Vm(){if(If)return Ru.exports;If=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(U){console.error(U)}}return o(),Ru.exports=Gm(),Ru.exports}var Pf;function Xm(){if(Pf)return Xs;Pf=1;var o=Qm(),U=qu(),v=Vm();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function X(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function w(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function F(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T(e){if(X(e)!==e)throw Error(d(188))}function N(e){var t=e.alternate;if(!t){if(t=X(e),t===null)throw Error(d(188));return t!==e?null:e}for(var l=e,s=t;;){var n=l.return;if(n===null)break;var c=n.alternate;if(c===null){if(s=n.return,s!==null){l=s;continue}break}if(n.child===c.child){for(c=n.child;c;){if(c===l)return T(n),e;if(c===s)return T(n),t;c=c.sibling}throw Error(d(188))}if(l.return!==s.return)l=n,s=c;else{for(var i=!1,u=n.child;u;){if(u===l){i=!0,l=n,s=c;break}if(u===s){i=!0,s=n,l=c;break}u=u.sibling}if(!i){for(u=c.child;u;){if(u===l){i=!0,l=c,s=n;break}if(u===s){i=!0,s=c,l=n;break}u=u.sibling}if(!i)throw Error(d(189))}}if(l.alternate!==s)throw Error(d(190))}if(l.tag!==3)throw Error(d(188));return l.stateNode.current===l?e:t}function B(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=B(e),t!==null)return t;e=e.sibling}return null}var z=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),j=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=_&&e[_]||e["@@iterator"],typeof e=="function"?e:null)}var ne=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case g:return"Profiler";case A:return"StrictMode";case D:return"Suspense";case p:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case j:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return q(e(t))}catch{}}return null}var ee=Array.isArray,x=U.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=v.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},se=[],ie=-1;function r(e){return{current:e}}function Q(e){0>ie||(e.current=se[ie],se[ie]=null,ie--)}function le(e,t){ie++,se[ie]=e.current,e.current=t}var ce=r(null),G=r(null),ae=r(null),fe=r(null);function Me(e,t){switch(le(ae,t),le(G,e),le(ce,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?mf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=mf(t),e=hf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(ce),le(ce,e)}function xe(){Q(ce),Q(G),Q(ae)}function Te(e){e.memoizedState!==null&&le(fe,e);var t=ce.current,l=hf(t,e.type);t!==l&&(le(G,e),le(ce,l))}function Jt(e){G.current===e&&(Q(ce),Q(G)),fe.current===e&&(Q(fe),Bs._currentValue=I)}var St,vl;function wt(e){if(St===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);St=t&&t[1]||"",vl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+St+e+vl}var Nl=!1;function R(e,t){if(!e||Nl)return"";Nl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(L){var M=L}Reflect.construct(e,[],$)}else{try{$.call()}catch(L){M=L}e.call($.prototype)}}else{try{throw Error()}catch(L){M=L}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(L){if(L&&M&&typeof L.stack=="string")return[L.stack,M.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),i=c[0],u=c[1];if(i&&u){var f=i.split(`
`),C=u.split(`
`);for(n=s=0;s<f.length&&!f[s].includes("DetermineComponentFrameRoot");)s++;for(;n<C.length&&!C[n].includes("DetermineComponentFrameRoot");)n++;if(s===f.length||n===C.length)for(s=f.length-1,n=C.length-1;1<=s&&0<=n&&f[s]!==C[n];)n--;for(;1<=s&&0<=n;s--,n--)if(f[s]!==C[n]){if(s!==1||n!==1)do if(s--,n--,0>n||f[s]!==C[n]){var V=`
`+f[s].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=s&&0<=n);break}}}finally{Nl=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?wt(l):""}function pe(e,t){switch(e.tag){case 26:case 27:case 5:return wt(e.type);case 16:return wt("Lazy");case 13:return e.child!==t&&t!==null?wt("Suspense Fallback"):wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return R(e.type,!1);case 11:return R(e.type.render,!1);case 1:return R(e.type,!0);case 31:return wt("Activity");default:return""}}function qe(e){try{var t="",l=null;do t+=pe(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ee=Object.prototype.hasOwnProperty,xt=o.unstable_scheduleCallback,Xe=o.unstable_cancelCallback,mt=o.unstable_shouldYield,el=o.unstable_requestPaint,ht=o.unstable_now,y0=o.unstable_getCurrentPriorityLevel,Vu=o.unstable_ImmediatePriority,Xu=o.unstable_UserBlockingPriority,Js=o.unstable_NormalPriority,b0=o.unstable_LowPriority,Ku=o.unstable_IdlePriority,g0=o.log,v0=o.unstable_setDisableYieldValue,Ia=null,At=null;function jl(e){if(typeof g0=="function"&&v0(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Ia,e)}catch{}}var Dt=Math.clz32?Math.clz32:S0,N0=Math.log,j0=Math.LN2;function S0(e){return e>>>=0,e===0?32:31-(N0(e)/j0|0)|0}var Ws=256,Fs=262144,Is=4194304;function $l(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ps(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var n=0,c=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var u=s&134217727;return u!==0?(s=u&~c,s!==0?n=$l(s):(i&=u,i!==0?n=$l(i):l||(l=u&~e,l!==0&&(n=$l(l))))):(u=s&~c,u!==0?n=$l(u):i!==0?n=$l(i):l||(l=s&~e,l!==0&&(n=$l(l)))),n===0?0:t!==0&&t!==n&&(t&c)===0&&(c=n&-n,l=t&-t,c>=l||c===32&&(l&4194048)!==0)?t:n}function Pa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function w0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zu(){var e=Is;return Is<<=1,(Is&62914560)===0&&(Is=4194304),e}function bc(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function es(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function A0(e,t,l,s,n,c){var i=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var u=e.entanglements,f=e.expirationTimes,C=e.hiddenUpdates;for(l=i&~l;0<l;){var V=31-Dt(l),$=1<<V;u[V]=0,f[V]=-1;var M=C[V];if(M!==null)for(C[V]=null,V=0;V<M.length;V++){var L=M[V];L!==null&&(L.lane&=-536870913)}l&=~$}s!==0&&$u(e,s,0),c!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=c&~(i&~t))}function $u(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Dt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function Ju(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-Dt(l),n=1<<s;n&t|e[s]&t&&(e[s]|=t),l&=~n}}function Wu(e,t){var l=t&-t;return l=(l&42)!==0?1:gc(l),(l&(e.suspendedLanes|t))!==0?0:l}function gc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Fu(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Hf(e.type))}function Iu(e,t){var l=Y.p;try{return Y.p=e,t()}finally{Y.p=l}}var Sl=Math.random().toString(36).slice(2),nt="__reactFiber$"+Sl,pt="__reactProps$"+Sl,ma="__reactContainer$"+Sl,Nc="__reactEvents$"+Sl,D0="__reactListeners$"+Sl,E0="__reactHandles$"+Sl,Pu="__reactResources$"+Sl,ts="__reactMarker$"+Sl;function jc(e){delete e[nt],delete e[pt],delete e[Nc],delete e[D0],delete e[E0]}function ha(e){var t=e[nt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[ma]||l[nt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=jf(e);e!==null;){if(l=e[nt])return l;e=jf(e)}return t}e=l,l=e.parentNode}return null}function pa(e){if(e=e[nt]||e[ma]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ls(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function ya(e){var t=e[Pu];return t||(t=e[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[ts]=!0}var er=new Set,tr={};function Jl(e,t){ba(e,t),ba(e+"Capture",t)}function ba(e,t){for(tr[e]=t,e=0;e<t.length;e++)er.add(t[e])}var z0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lr={},ar={};function C0(e){return Ee.call(ar,e)?!0:Ee.call(lr,e)?!1:z0.test(e)?ar[e]=!0:(lr[e]=!0,!1)}function en(e,t,l){if(C0(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function tn(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function tl(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function T0(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){l=""+i,c.call(this,i)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sc(e){if(!e._valueTracker){var t=sr(e)?"checked":"value";e._valueTracker=T0(e,t,""+e[t])}}function nr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=sr(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function ln(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _0=/[\n"\\]/g;function Rt(e){return e.replace(_0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wc(e,t,l,s,n,c,i,u){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?Ac(e,i,kt(t)):l!=null?Ac(e,i,kt(l)):s!=null&&e.removeAttribute("value"),n==null&&c!=null&&(e.defaultChecked=!!c),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+kt(u):e.removeAttribute("name")}function cr(e,t,l,s,n,c,i,u){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||l!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Sc(e);return}l=l!=null?""+kt(l):"",t=t!=null?""+kt(t):l,u||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=u?e.checked:!!s,e.defaultChecked=!!s,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i),Sc(e)}function Ac(e,t,l){t==="number"&&ln(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ga(e,t,l,s){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&s&&(e[l].defaultSelected=!0)}else{for(l=""+kt(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function ir(e,t,l){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+kt(l):""}function ur(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(d(92));if(ee(s)){if(1<s.length)throw Error(d(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=kt(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),Sc(e)}function va(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var M0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rr(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||M0.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function or(e,t,l){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&l[n]!==s&&rr(e,n,s)}else for(var c in t)t.hasOwnProperty(c)&&rr(e,c,t[c])}function Dc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function an(e){return k0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ll(){}var Ec=null;function zc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,ja=null;function dr(e){var t=pa(e);if(t&&(e=t.stateNode)){var l=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(wc(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Rt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var n=s[pt]||null;if(!n)throw Error(d(90));wc(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&nr(s)}break e;case"textarea":ir(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ga(e,!!l.multiple,t,!1)}}}var Cc=!1;function fr(e,t,l){if(Cc)return e(t,l);Cc=!0;try{var s=e(t);return s}finally{if(Cc=!1,(Na!==null||ja!==null)&&(Xn(),Na&&(t=Na,e=ja,ja=Na=null,dr(t),e)))for(t=0;t<e.length;t++)dr(e[t])}}function as(e,t){var l=e.stateNode;if(l===null)return null;var s=l[pt]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(d(231,t,typeof l));return l}var al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=!1;if(al)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Tc=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Tc=!1}var wl=null,_c=null,sn=null;function xr(){if(sn)return sn;var e,t=_c,l=t.length,s,n="value"in wl?wl.value:wl.textContent,c=n.length;for(e=0;e<l&&t[e]===n[e];e++);var i=l-e;for(s=1;s<=i&&t[l-s]===n[c-s];s++);return sn=n.slice(e,1<s?1-s:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cn(){return!0}function mr(){return!1}function yt(e){function t(l,s,n,c,i){this._reactName=l,this._targetInst=n,this.type=s,this.nativeEvent=c,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(l=e[u],this[u]=l?l(c):c[u]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?cn:mr,this.isPropagationStopped=mr,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=cn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=cn)},persist:function(){},isPersistent:cn}),t}var Wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=yt(Wl),ns=z({},Wl,{view:0,detail:0}),R0=yt(ns),Mc,Oc,cs,rn=z({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cs&&(cs&&e.type==="mousemove"?(Mc=e.screenX-cs.screenX,Oc=e.screenY-cs.screenY):Oc=Mc=0,cs=e),Mc)},movementY:function(e){return"movementY"in e?e.movementY:Oc}}),hr=yt(rn),L0=z({},rn,{dataTransfer:0}),U0=yt(L0),H0=z({},ns,{relatedTarget:0}),kc=yt(H0),q0=z({},Wl,{animationName:0,elapsedTime:0,pseudoElement:0}),B0=yt(q0),Y0=z({},Wl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Q0=yt(Y0),G0=z({},Wl,{data:0}),pr=yt(G0),V0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=K0[e])?!!t[e]:!1}function Rc(){return Z0}var $0=z({},ns,{key:function(e){if(e.key){var t=V0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?X0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rc,charCode:function(e){return e.type==="keypress"?nn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),J0=yt($0),W0=z({},rn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=yt(W0),F0=z({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rc}),I0=yt(F0),P0=z({},Wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ex=yt(P0),tx=z({},rn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lx=yt(tx),ax=z({},Wl,{newState:0,oldState:0}),sx=yt(ax),nx=[9,13,27,32],Lc=al&&"CompositionEvent"in window,is=null;al&&"documentMode"in document&&(is=document.documentMode);var cx=al&&"TextEvent"in window&&!is,br=al&&(!Lc||is&&8<is&&11>=is),gr=" ",vr=!1;function Nr(e,t){switch(e){case"keyup":return nx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function ix(e,t){switch(e){case"compositionend":return jr(t);case"keypress":return t.which!==32?null:(vr=!0,gr);case"textInput":return e=t.data,e===gr&&vr?null:e;default:return null}}function ux(e,t){if(Sa)return e==="compositionend"||!Lc&&Nr(e,t)?(e=xr(),sn=_c=wl=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return br&&t.locale!=="ko"?null:t.data;default:return null}}var rx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rx[e.type]:t==="textarea"}function wr(e,t,l,s){Na?ja?ja.push(s):ja=[s]:Na=s,t=In(t,"onChange"),0<t.length&&(l=new un("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var us=null,rs=null;function ox(e){uf(e,0)}function on(e){var t=ls(e);if(nr(t))return e}function Ar(e,t){if(e==="change")return t}var Dr=!1;if(al){var Uc;if(al){var Hc="oninput"in document;if(!Hc){var Er=document.createElement("div");Er.setAttribute("oninput","return;"),Hc=typeof Er.oninput=="function"}Uc=Hc}else Uc=!1;Dr=Uc&&(!document.documentMode||9<document.documentMode)}function zr(){us&&(us.detachEvent("onpropertychange",Cr),rs=us=null)}function Cr(e){if(e.propertyName==="value"&&on(rs)){var t=[];wr(t,rs,e,zc(e)),fr(ox,t)}}function dx(e,t,l){e==="focusin"?(zr(),us=t,rs=l,us.attachEvent("onpropertychange",Cr)):e==="focusout"&&zr()}function fx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return on(rs)}function xx(e,t){if(e==="click")return on(t)}function mx(e,t){if(e==="input"||e==="change")return on(t)}function hx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:hx;function os(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var n=l[s];if(!Ee.call(t,n)||!Et(e[n],t[n]))return!1}return!0}function Tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _r(e,t){var l=Tr(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Tr(l)}}function Mr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Mr(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Or(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ln(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=ln(e.document)}return t}function qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var px=al&&"documentMode"in document&&11>=document.documentMode,wa=null,Bc=null,ds=null,Yc=!1;function kr(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yc||wa==null||wa!==ln(s)||(s=wa,"selectionStart"in s&&qc(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ds&&os(ds,s)||(ds=s,s=In(Bc,"onSelect"),0<s.length&&(t=new un("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=wa)))}function Fl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Aa={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionrun:Fl("Transition","TransitionRun"),transitionstart:Fl("Transition","TransitionStart"),transitioncancel:Fl("Transition","TransitionCancel"),transitionend:Fl("Transition","TransitionEnd")},Qc={},Rr={};al&&(Rr=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Il(e){if(Qc[e])return Qc[e];if(!Aa[e])return e;var t=Aa[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Rr)return Qc[e]=t[l];return e}var Lr=Il("animationend"),Ur=Il("animationiteration"),Hr=Il("animationstart"),yx=Il("transitionrun"),bx=Il("transitionstart"),gx=Il("transitioncancel"),qr=Il("transitionend"),Br=new Map,Gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gc.push("scrollEnd");function Xt(e,t){Br.set(e,t),Jl(t,[e])}var dn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Da=0,Vc=0;function fn(){for(var e=Da,t=Vc=Da=0;t<e;){var l=Lt[t];Lt[t++]=null;var s=Lt[t];Lt[t++]=null;var n=Lt[t];Lt[t++]=null;var c=Lt[t];if(Lt[t++]=null,s!==null&&n!==null){var i=s.pending;i===null?n.next=n:(n.next=i.next,i.next=n),s.pending=n}c!==0&&Yr(l,n,c)}}function xn(e,t,l,s){Lt[Da++]=e,Lt[Da++]=t,Lt[Da++]=l,Lt[Da++]=s,Vc|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Xc(e,t,l,s){return xn(e,t,l,s),mn(e)}function Pl(e,t){return xn(e,null,null,t),mn(e)}function Yr(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var n=!1,c=e.return;c!==null;)c.childLanes|=l,s=c.alternate,s!==null&&(s.childLanes|=l),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(n=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,n&&t!==null&&(n=31-Dt(l),e=c.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=l|536870912),c):null}function mn(e){if(50<Os)throw Os=0,eu=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ea={};function vx(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(e,t,l,s){return new vx(e,t,l,s)}function Kc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sl(e,t){var l=e.alternate;return l===null?(l=zt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Qr(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hn(e,t,l,s,n,c){var i=0;if(s=e,typeof e=="function")Kc(e)&&(i=1);else if(typeof e=="string")i=Am(e,l,ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=zt(31,l,t,n),e.elementType=re,e.lanes=c,e;case te:return ea(l.children,n,c,t);case A:i=8,n|=24;break;case g:return e=zt(12,l,t,n|2),e.elementType=g,e.lanes=c,e;case D:return e=zt(13,l,t,n),e.elementType=D,e.lanes=c,e;case p:return e=zt(19,l,t,n),e.elementType=p,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j:i=10;break e;case H:i=9;break e;case J:i=11;break e;case K:i=14;break e;case P:i=16,s=null;break e}i=29,l=Error(d(130,e===null?"null":typeof e,"")),s=null}return t=zt(i,l,t,n),t.elementType=e,t.type=s,t.lanes=c,t}function ea(e,t,l,s){return e=zt(7,e,s,t),e.lanes=l,e}function Zc(e,t,l){return e=zt(6,e,null,t),e.lanes=l,e}function Gr(e){var t=zt(18,null,null,0);return t.stateNode=e,t}function $c(e,t,l){return t=zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vr=new WeakMap;function Ut(e,t){if(typeof e=="object"&&e!==null){var l=Vr.get(e);return l!==void 0?l:(t={value:e,source:t,stack:qe(t)},Vr.set(e,t),t)}return{value:e,source:t,stack:qe(t)}}var za=[],Ca=0,pn=null,fs=0,Ht=[],qt=0,Al=null,Wt=1,Ft="";function nl(e,t){za[Ca++]=fs,za[Ca++]=pn,pn=e,fs=t}function Xr(e,t,l){Ht[qt++]=Wt,Ht[qt++]=Ft,Ht[qt++]=Al,Al=e;var s=Wt;e=Ft;var n=32-Dt(s)-1;s&=~(1<<n),l+=1;var c=32-Dt(t)+n;if(30<c){var i=n-n%5;c=(s&(1<<i)-1).toString(32),s>>=i,n-=i,Wt=1<<32-Dt(t)+n|l<<n|s,Ft=c+e}else Wt=1<<c|l<<n|s,Ft=e}function Jc(e){e.return!==null&&(nl(e,1),Xr(e,1,0))}function Wc(e){for(;e===pn;)pn=za[--Ca],za[Ca]=null,fs=za[--Ca],za[Ca]=null;for(;e===Al;)Al=Ht[--qt],Ht[qt]=null,Ft=Ht[--qt],Ht[qt]=null,Wt=Ht[--qt],Ht[qt]=null}function Kr(e,t){Ht[qt++]=Wt,Ht[qt++]=Ft,Ht[qt++]=Al,Wt=t.id,Ft=t.overflow,Al=e}var ct=null,Ye=null,De=!1,Dl=null,Bt=!1,Fc=Error(d(519));function El(e){var t=Error(d(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xs(Ut(t,e)),Fc}function Zr(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[nt]=e,t[pt]=s,l){case"dialog":Se("cancel",t),Se("close",t);break;case"iframe":case"object":case"embed":Se("load",t);break;case"video":case"audio":for(l=0;l<Rs.length;l++)Se(Rs[l],t);break;case"source":Se("error",t);break;case"img":case"image":case"link":Se("error",t),Se("load",t);break;case"details":Se("toggle",t);break;case"input":Se("invalid",t),cr(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Se("invalid",t);break;case"textarea":Se("invalid",t),ur(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||ff(t.textContent,l)?(s.popover!=null&&(Se("beforetoggle",t),Se("toggle",t)),s.onScroll!=null&&Se("scroll",t),s.onScrollEnd!=null&&Se("scrollend",t),s.onClick!=null&&(t.onclick=ll),t=!0):t=!1,t||El(e,!0)}function $r(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:Bt=!1;return;case 27:case 3:Bt=!0;return;default:ct=ct.return}}function Ta(e){if(e!==ct)return!1;if(!De)return $r(e),De=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||hu(e.type,e.memoizedProps)),l=!l),l&&Ye&&El(e),$r(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Ye=Nf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));Ye=Nf(e)}else t===27?(t=Ye,Yl(e.type)?(e=vu,vu=null,Ye=e):Ye=t):Ye=ct?Qt(e.stateNode.nextSibling):null;return!0}function ta(){Ye=ct=null,De=!1}function Ic(){var e=Dl;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),Dl=null),e}function xs(e){Dl===null?Dl=[e]:Dl.push(e)}var Pc=r(null),la=null,cl=null;function zl(e,t,l){le(Pc,t._currentValue),t._currentValue=l}function il(e){e._currentValue=Pc.current,Q(Pc)}function ei(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function ti(e,t,l,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var c=n.dependencies;if(c!==null){var i=n.child;c=c.firstContext;e:for(;c!==null;){var u=c;c=n;for(var f=0;f<t.length;f++)if(u.context===t[f]){c.lanes|=l,u=c.alternate,u!==null&&(u.lanes|=l),ei(c.return,l,e),s||(i=null);break e}c=u.next}}else if(n.tag===18){if(i=n.return,i===null)throw Error(d(341));i.lanes|=l,c=i.alternate,c!==null&&(c.lanes|=l),ei(i,l,e),i=null}else i=n.child;if(i!==null)i.return=n;else for(i=n;i!==null;){if(i===e){i=null;break}if(n=i.sibling,n!==null){n.return=i.return,i=n;break}i=i.return}n=i}}function _a(e,t,l,s){e=null;for(var n=t,c=!1;n!==null;){if(!c){if((n.flags&524288)!==0)c=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var i=n.alternate;if(i===null)throw Error(d(387));if(i=i.memoizedProps,i!==null){var u=n.type;Et(n.pendingProps.value,i.value)||(e!==null?e.push(u):e=[u])}}else if(n===fe.current){if(i=n.alternate,i===null)throw Error(d(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Bs):e=[Bs])}n=n.return}e!==null&&ti(t,e,l,s),t.flags|=262144}function yn(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function aa(e){la=e,cl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Jr(la,e)}function bn(e,t){return la===null&&aa(e),Jr(e,t)}function Jr(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},cl===null){if(e===null)throw Error(d(308));cl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cl=cl.next=t;return l}var Nx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},jx=o.unstable_scheduleCallback,Sx=o.unstable_NormalPriority,We={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function li(){return{controller:new Nx,data:new Map,refCount:0}}function ms(e){e.refCount--,e.refCount===0&&jx(Sx,function(){e.controller.abort()})}var hs=null,ai=0,Ma=0,Oa=null;function wx(e,t){if(hs===null){var l=hs=[];ai=0,Ma=cu(),Oa={status:"pending",value:void 0,then:function(s){l.push(s)}}}return ai++,t.then(Wr,Wr),t}function Wr(){if(--ai===0&&hs!==null){Oa!==null&&(Oa.status="fulfilled");var e=hs;hs=null,Ma=0,Oa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ax(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),s}var Fr=x.S;x.S=function(e,t){Rd=ht(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&wx(e,t),Fr!==null&&Fr(e,t)};var sa=r(null);function si(){var e=sa.current;return e!==null?e:He.pooledCache}function gn(e,t){t===null?le(sa,sa.current):le(sa,t.pool)}function Ir(){var e=si();return e===null?null:{parent:We._currentValue,pool:e}}var ka=Error(d(460)),ni=Error(d(474)),vn=Error(d(542)),Nn={then:function(){}};function Pr(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eo(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(ll,ll),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lo(e),e;default:if(typeof t.status=="string")t.then(ll,ll);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,lo(e),e}throw ca=t,ka}}function na(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ca=l,ka):l}}var ca=null;function to(){if(ca===null)throw Error(d(459));var e=ca;return ca=null,e}function lo(e){if(e===ka||e===vn)throw Error(d(483))}var Ra=null,ps=0;function jn(e){var t=ps;return ps+=1,Ra===null&&(Ra=[]),eo(Ra,e,t)}function ys(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sn(e,t){throw t.$$typeof===S?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ao(e){function t(b,m){if(e){var E=b.deletions;E===null?(b.deletions=[m],b.flags|=16):E.push(m)}}function l(b,m){if(!e)return null;for(;m!==null;)t(b,m),m=m.sibling;return null}function s(b){for(var m=new Map;b!==null;)b.key!==null?m.set(b.key,b):m.set(b.index,b),b=b.sibling;return m}function n(b,m){return b=sl(b,m),b.index=0,b.sibling=null,b}function c(b,m,E){return b.index=E,e?(E=b.alternate,E!==null?(E=E.index,E<m?(b.flags|=67108866,m):E):(b.flags|=67108866,m)):(b.flags|=1048576,m)}function i(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function u(b,m,E,Z){return m===null||m.tag!==6?(m=Zc(E,b.mode,Z),m.return=b,m):(m=n(m,E),m.return=b,m)}function f(b,m,E,Z){var me=E.type;return me===te?V(b,m,E.props.children,Z,E.key):m!==null&&(m.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===P&&na(me)===m.type)?(m=n(m,E.props),ys(m,E),m.return=b,m):(m=hn(E.type,E.key,E.props,null,b.mode,Z),ys(m,E),m.return=b,m)}function C(b,m,E,Z){return m===null||m.tag!==4||m.stateNode.containerInfo!==E.containerInfo||m.stateNode.implementation!==E.implementation?(m=$c(E,b.mode,Z),m.return=b,m):(m=n(m,E.children||[]),m.return=b,m)}function V(b,m,E,Z,me){return m===null||m.tag!==7?(m=ea(E,b.mode,Z,me),m.return=b,m):(m=n(m,E),m.return=b,m)}function $(b,m,E){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=Zc(""+m,b.mode,E),m.return=b,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case k:return E=hn(m.type,m.key,m.props,null,b.mode,E),ys(E,m),E.return=b,E;case O:return m=$c(m,b.mode,E),m.return=b,m;case P:return m=na(m),$(b,m,E)}if(ee(m)||ue(m))return m=ea(m,b.mode,E,null),m.return=b,m;if(typeof m.then=="function")return $(b,jn(m),E);if(m.$$typeof===j)return $(b,bn(b,m),E);Sn(b,m)}return null}function M(b,m,E,Z){var me=m!==null?m.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return me!==null?null:u(b,m,""+E,Z);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case k:return E.key===me?f(b,m,E,Z):null;case O:return E.key===me?C(b,m,E,Z):null;case P:return E=na(E),M(b,m,E,Z)}if(ee(E)||ue(E))return me!==null?null:V(b,m,E,Z,null);if(typeof E.then=="function")return M(b,m,jn(E),Z);if(E.$$typeof===j)return M(b,m,bn(b,E),Z);Sn(b,E)}return null}function L(b,m,E,Z,me){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return b=b.get(E)||null,u(m,b,""+Z,me);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case k:return b=b.get(Z.key===null?E:Z.key)||null,f(m,b,Z,me);case O:return b=b.get(Z.key===null?E:Z.key)||null,C(m,b,Z,me);case P:return Z=na(Z),L(b,m,E,Z,me)}if(ee(Z)||ue(Z))return b=b.get(E)||null,V(m,b,Z,me,null);if(typeof Z.then=="function")return L(b,m,E,jn(Z),me);if(Z.$$typeof===j)return L(b,m,E,bn(m,Z),me);Sn(m,Z)}return null}function oe(b,m,E,Z){for(var me=null,ze=null,de=m,ge=m=0,Ae=null;de!==null&&ge<E.length;ge++){de.index>ge?(Ae=de,de=null):Ae=de.sibling;var Ce=M(b,de,E[ge],Z);if(Ce===null){de===null&&(de=Ae);break}e&&de&&Ce.alternate===null&&t(b,de),m=c(Ce,m,ge),ze===null?me=Ce:ze.sibling=Ce,ze=Ce,de=Ae}if(ge===E.length)return l(b,de),De&&nl(b,ge),me;if(de===null){for(;ge<E.length;ge++)de=$(b,E[ge],Z),de!==null&&(m=c(de,m,ge),ze===null?me=de:ze.sibling=de,ze=de);return De&&nl(b,ge),me}for(de=s(de);ge<E.length;ge++)Ae=L(de,b,ge,E[ge],Z),Ae!==null&&(e&&Ae.alternate!==null&&de.delete(Ae.key===null?ge:Ae.key),m=c(Ae,m,ge),ze===null?me=Ae:ze.sibling=Ae,ze=Ae);return e&&de.forEach(function(Kl){return t(b,Kl)}),De&&nl(b,ge),me}function he(b,m,E,Z){if(E==null)throw Error(d(151));for(var me=null,ze=null,de=m,ge=m=0,Ae=null,Ce=E.next();de!==null&&!Ce.done;ge++,Ce=E.next()){de.index>ge?(Ae=de,de=null):Ae=de.sibling;var Kl=M(b,de,Ce.value,Z);if(Kl===null){de===null&&(de=Ae);break}e&&de&&Kl.alternate===null&&t(b,de),m=c(Kl,m,ge),ze===null?me=Kl:ze.sibling=Kl,ze=Kl,de=Ae}if(Ce.done)return l(b,de),De&&nl(b,ge),me;if(de===null){for(;!Ce.done;ge++,Ce=E.next())Ce=$(b,Ce.value,Z),Ce!==null&&(m=c(Ce,m,ge),ze===null?me=Ce:ze.sibling=Ce,ze=Ce);return De&&nl(b,ge),me}for(de=s(de);!Ce.done;ge++,Ce=E.next())Ce=L(de,b,ge,Ce.value,Z),Ce!==null&&(e&&Ce.alternate!==null&&de.delete(Ce.key===null?ge:Ce.key),m=c(Ce,m,ge),ze===null?me=Ce:ze.sibling=Ce,ze=Ce);return e&&de.forEach(function(Lm){return t(b,Lm)}),De&&nl(b,ge),me}function Ue(b,m,E,Z){if(typeof E=="object"&&E!==null&&E.type===te&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case k:e:{for(var me=E.key;m!==null;){if(m.key===me){if(me=E.type,me===te){if(m.tag===7){l(b,m.sibling),Z=n(m,E.props.children),Z.return=b,b=Z;break e}}else if(m.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===P&&na(me)===m.type){l(b,m.sibling),Z=n(m,E.props),ys(Z,E),Z.return=b,b=Z;break e}l(b,m);break}else t(b,m);m=m.sibling}E.type===te?(Z=ea(E.props.children,b.mode,Z,E.key),Z.return=b,b=Z):(Z=hn(E.type,E.key,E.props,null,b.mode,Z),ys(Z,E),Z.return=b,b=Z)}return i(b);case O:e:{for(me=E.key;m!==null;){if(m.key===me)if(m.tag===4&&m.stateNode.containerInfo===E.containerInfo&&m.stateNode.implementation===E.implementation){l(b,m.sibling),Z=n(m,E.children||[]),Z.return=b,b=Z;break e}else{l(b,m);break}else t(b,m);m=m.sibling}Z=$c(E,b.mode,Z),Z.return=b,b=Z}return i(b);case P:return E=na(E),Ue(b,m,E,Z)}if(ee(E))return oe(b,m,E,Z);if(ue(E)){if(me=ue(E),typeof me!="function")throw Error(d(150));return E=me.call(E),he(b,m,E,Z)}if(typeof E.then=="function")return Ue(b,m,jn(E),Z);if(E.$$typeof===j)return Ue(b,m,bn(b,E),Z);Sn(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,m!==null&&m.tag===6?(l(b,m.sibling),Z=n(m,E),Z.return=b,b=Z):(l(b,m),Z=Zc(E,b.mode,Z),Z.return=b,b=Z),i(b)):l(b,m)}return function(b,m,E,Z){try{ps=0;var me=Ue(b,m,E,Z);return Ra=null,me}catch(de){if(de===ka||de===vn)throw de;var ze=zt(29,de,null,b.mode);return ze.lanes=Z,ze.return=b,ze}}}var ia=ao(!0),so=ao(!1),Cl=!1;function ci(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ii(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _l(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(_e&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=mn(e),Yr(e,null,l),t}return xn(e,s,t,l),mn(e)}function bs(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Ju(e,l)}}function ui(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var n=null,c=null;if(l=l.firstBaseUpdate,l!==null){do{var i={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};c===null?n=c=i:c=c.next=i,l=l.next}while(l!==null);c===null?n=c=t:c=c.next=t}else n=c=t;l={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var ri=!1;function gs(){if(ri){var e=Oa;if(e!==null)throw e}}function vs(e,t,l,s){ri=!1;var n=e.updateQueue;Cl=!1;var c=n.firstBaseUpdate,i=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var f=u,C=f.next;f.next=null,i===null?c=C:i.next=C,i=f;var V=e.alternate;V!==null&&(V=V.updateQueue,u=V.lastBaseUpdate,u!==i&&(u===null?V.firstBaseUpdate=C:u.next=C,V.lastBaseUpdate=f))}if(c!==null){var $=n.baseState;i=0,V=C=f=null,u=c;do{var M=u.lane&-536870913,L=M!==u.lane;if(L?(we&M)===M:(s&M)===M){M!==0&&M===Ma&&(ri=!0),V!==null&&(V=V.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var oe=e,he=u;M=t;var Ue=l;switch(he.tag){case 1:if(oe=he.payload,typeof oe=="function"){$=oe.call(Ue,$,M);break e}$=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=he.payload,M=typeof oe=="function"?oe.call(Ue,$,M):oe,M==null)break e;$=z({},$,M);break e;case 2:Cl=!0}}M=u.callback,M!==null&&(e.flags|=64,L&&(e.flags|=8192),L=n.callbacks,L===null?n.callbacks=[M]:L.push(M))}else L={lane:M,tag:u.tag,payload:u.payload,callback:u.callback,next:null},V===null?(C=V=L,f=$):V=V.next=L,i|=M;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;L=u,u=L.next,L.next=null,n.lastBaseUpdate=L,n.shared.pending=null}}while(!0);V===null&&(f=$),n.baseState=f,n.firstBaseUpdate=C,n.lastBaseUpdate=V,c===null&&(n.shared.lanes=0),Ll|=i,e.lanes=i,e.memoizedState=$}}function no(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function co(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)no(l[e],t)}var La=r(null),wn=r(0);function io(e,t){e=pl,le(wn,e),le(La,t),pl=e|t.baseLanes}function oi(){le(wn,pl),le(La,La.current)}function di(){pl=wn.current,Q(La),Q(wn)}var Ct=r(null),Yt=null;function Ml(e){var t=e.alternate;le($e,$e.current&1),le(Ct,e),Yt===null&&(t===null||La.current!==null||t.memoizedState!==null)&&(Yt=e)}function fi(e){le($e,$e.current),le(Ct,e),Yt===null&&(Yt=e)}function uo(e){e.tag===22?(le($e,$e.current),le(Ct,e),Yt===null&&(Yt=e)):Ol()}function Ol(){le($e,$e.current),le(Ct,Ct.current)}function Tt(e){Q(Ct),Yt===e&&(Yt=null),Q($e)}var $e=r(0);function An(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||bu(l)||gu(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ul=0,be=null,Re=null,Fe=null,Dn=!1,Ua=!1,ua=!1,En=0,Ns=0,Ha=null,Dx=0;function Ke(){throw Error(d(321))}function xi(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Et(e[l],t[l]))return!1;return!0}function mi(e,t,l,s,n,c){return ul=c,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,x.H=e===null||e.memoizedState===null?Ko:Ci,ua=!1,c=l(s,n),ua=!1,Ua&&(c=oo(t,l,s,n)),ro(e),c}function ro(e){x.H=ws;var t=Re!==null&&Re.next!==null;if(ul=0,Fe=Re=be=null,Dn=!1,Ns=0,Ha=null,t)throw Error(d(300));e===null||Ie||(e=e.dependencies,e!==null&&yn(e)&&(Ie=!0))}function oo(e,t,l,s){be=e;var n=0;do{if(Ua&&(Ha=null),Ns=0,Ua=!1,25<=n)throw Error(d(301));if(n+=1,Fe=Re=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}x.H=Zo,c=t(l,s)}while(Ua);return c}function Ex(){var e=x.H,t=e.useState()[0];return t=typeof t.then=="function"?js(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(be.flags|=1024),t}function hi(){var e=En!==0;return En=0,e}function pi(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function yi(e){if(Dn){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Dn=!1}ul=0,Fe=Re=be=null,Ua=!1,Ns=En=0,Ha=null}function dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?be.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Je(){if(Re===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Fe===null?be.memoizedState:Fe.next;if(t!==null)Fe=t,Re=e;else{if(e===null)throw be.alternate===null?Error(d(467)):Error(d(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Fe===null?be.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function zn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function js(e){var t=Ns;return Ns+=1,Ha===null&&(Ha=[]),e=eo(Ha,e,t),t=be,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,x.H=t===null||t.memoizedState===null?Ko:Ci),e}function Cn(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return js(e);if(e.$$typeof===j)return it(e)}throw Error(d(438,String(e)))}function bi(e){var t=null,l=be.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=be.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=zn(),be.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=W;return t.index++,l}function rl(e,t){return typeof t=="function"?t(e):t}function Tn(e){var t=Je();return gi(t,Re,e)}function gi(e,t,l){var s=e.queue;if(s===null)throw Error(d(311));s.lastRenderedReducer=l;var n=e.baseQueue,c=s.pending;if(c!==null){if(n!==null){var i=n.next;n.next=c.next,c.next=i}t.baseQueue=n=c,s.pending=null}if(c=e.baseState,n===null)e.memoizedState=c;else{t=n.next;var u=i=null,f=null,C=t,V=!1;do{var $=C.lane&-536870913;if($!==C.lane?(we&$)===$:(ul&$)===$){var M=C.revertLane;if(M===0)f!==null&&(f=f.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),$===Ma&&(V=!0);else if((ul&M)===M){C=C.next,M===Ma&&(V=!0);continue}else $={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},f===null?(u=f=$,i=c):f=f.next=$,be.lanes|=M,Ll|=M;$=C.action,ua&&l(c,$),c=C.hasEagerState?C.eagerState:l(c,$)}else M={lane:$,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},f===null?(u=f=M,i=c):f=f.next=M,be.lanes|=$,Ll|=$;C=C.next}while(C!==null&&C!==t);if(f===null?i=c:f.next=u,!Et(c,e.memoizedState)&&(Ie=!0,V&&(l=Oa,l!==null)))throw l;e.memoizedState=c,e.baseState=i,e.baseQueue=f,s.lastRenderedState=c}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function vi(e){var t=Je(),l=t.queue;if(l===null)throw Error(d(311));l.lastRenderedReducer=e;var s=l.dispatch,n=l.pending,c=t.memoizedState;if(n!==null){l.pending=null;var i=n=n.next;do c=e(c,i.action),i=i.next;while(i!==n);Et(c,t.memoizedState)||(Ie=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),l.lastRenderedState=c}return[c,s]}function fo(e,t,l){var s=be,n=Je(),c=De;if(c){if(l===void 0)throw Error(d(407));l=l()}else l=t();var i=!Et((Re||n).memoizedState,l);if(i&&(n.memoizedState=l,Ie=!0),n=n.queue,Si(ho.bind(null,s,n,e),[e]),n.getSnapshot!==t||i||Fe!==null&&Fe.memoizedState.tag&1){if(s.flags|=2048,qa(9,{destroy:void 0},mo.bind(null,s,n,l,t),null),He===null)throw Error(d(349));c||(ul&127)!==0||xo(s,t,l)}return l}function xo(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=be.updateQueue,t===null?(t=zn(),be.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function mo(e,t,l,s){t.value=l,t.getSnapshot=s,po(t)&&yo(e)}function ho(e,t,l){return l(function(){po(t)&&yo(e)})}function po(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Et(e,l)}catch{return!0}}function yo(e){var t=Pl(e,2);t!==null&&jt(t,e,2)}function Ni(e){var t=dt();if(typeof e=="function"){var l=e;if(e=l(),ua){jl(!0);try{l()}finally{jl(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:e},t}function bo(e,t,l,s){return e.baseState=l,gi(e,Re,typeof s=="function"?s:rl)}function zx(e,t,l,s,n){if(On(e))throw Error(d(485));if(e=t.action,e!==null){var c={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){c.listeners.push(i)}};x.T!==null?l(!0):c.isTransition=!1,s(c),l=t.pending,l===null?(c.next=t.pending=c,go(t,c)):(c.next=l.next,t.pending=l.next=c)}}function go(e,t){var l=t.action,s=t.payload,n=e.state;if(t.isTransition){var c=x.T,i={};x.T=i;try{var u=l(n,s),f=x.S;f!==null&&f(i,u),vo(e,t,u)}catch(C){ji(e,t,C)}finally{c!==null&&i.types!==null&&(c.types=i.types),x.T=c}}else try{c=l(n,s),vo(e,t,c)}catch(C){ji(e,t,C)}}function vo(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){No(e,t,s)},function(s){return ji(e,t,s)}):No(e,t,l)}function No(e,t,l){t.status="fulfilled",t.value=l,jo(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,go(e,l)))}function ji(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,jo(t),t=t.next;while(t!==s)}e.action=null}function jo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function So(e,t){return t}function wo(e,t){if(De){var l=He.formState;if(l!==null){e:{var s=be;if(De){if(Ye){t:{for(var n=Ye,c=Bt;n.nodeType!==8;){if(!c){n=null;break t}if(n=Qt(n.nextSibling),n===null){n=null;break t}}c=n.data,n=c==="F!"||c==="F"?n:null}if(n){Ye=Qt(n.nextSibling),s=n.data==="F!";break e}}El(s)}s=!1}s&&(t=l[0])}}return l=dt(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:t},l.queue=s,l=Go.bind(null,be,s),s.dispatch=l,s=Ni(!1),c=zi.bind(null,be,!1,s.queue),s=dt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,l=zx.bind(null,be,n,c,l),n.dispatch=l,s.memoizedState=e,[t,l,!1]}function Ao(e){var t=Je();return Do(t,Re,e)}function Do(e,t,l){if(t=gi(e,t,So)[0],e=Tn(rl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=js(t)}catch(i){throw i===ka?vn:i}else s=t;t=Je();var n=t.queue,c=n.dispatch;return l!==t.memoizedState&&(be.flags|=2048,qa(9,{destroy:void 0},Cx.bind(null,n,l),null)),[s,c,e]}function Cx(e,t){e.action=t}function Eo(e){var t=Je(),l=Re;if(l!==null)return Do(t,l,e);Je(),t=t.memoizedState,l=Je();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function qa(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=be.updateQueue,t===null&&(t=zn(),be.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function zo(){return Je().memoizedState}function _n(e,t,l,s){var n=dt();be.flags|=e,n.memoizedState=qa(1|t,{destroy:void 0},l,s===void 0?null:s)}function Mn(e,t,l,s){var n=Je();s=s===void 0?null:s;var c=n.memoizedState.inst;Re!==null&&s!==null&&xi(s,Re.memoizedState.deps)?n.memoizedState=qa(t,c,l,s):(be.flags|=e,n.memoizedState=qa(1|t,c,l,s))}function Co(e,t){_n(8390656,8,e,t)}function Si(e,t){Mn(2048,8,e,t)}function Tx(e){be.flags|=4;var t=be.updateQueue;if(t===null)t=zn(),be.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function To(e){var t=Je().memoizedState;return Tx({ref:t,nextImpl:e}),function(){if((_e&2)!==0)throw Error(d(440));return t.impl.apply(void 0,arguments)}}function _o(e,t){return Mn(4,2,e,t)}function Mo(e,t){return Mn(4,4,e,t)}function Oo(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ko(e,t,l){l=l!=null?l.concat([e]):null,Mn(4,4,Oo.bind(null,t,e),l)}function wi(){}function Ro(e,t){var l=Je();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&xi(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function Lo(e,t){var l=Je();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&xi(t,s[1]))return s[0];if(s=e(),ua){jl(!0);try{e()}finally{jl(!1)}}return l.memoizedState=[s,t],s}function Ai(e,t,l){return l===void 0||(ul&1073741824)!==0&&(we&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Ud(),be.lanes|=e,Ll|=e,l)}function Uo(e,t,l,s){return Et(l,t)?l:La.current!==null?(e=Ai(e,l,s),Et(e,t)||(Ie=!0),e):(ul&42)===0||(ul&1073741824)!==0&&(we&261930)===0?(Ie=!0,e.memoizedState=l):(e=Ud(),be.lanes|=e,Ll|=e,t)}function Ho(e,t,l,s,n){var c=Y.p;Y.p=c!==0&&8>c?c:8;var i=x.T,u={};x.T=u,zi(e,!1,t,l);try{var f=n(),C=x.S;if(C!==null&&C(u,f),f!==null&&typeof f=="object"&&typeof f.then=="function"){var V=Ax(f,s);Ss(e,t,V,Ot(e))}else Ss(e,t,s,Ot(e))}catch($){Ss(e,t,{then:function(){},status:"rejected",reason:$},Ot())}finally{Y.p=c,i!==null&&u.types!==null&&(i.types=u.types),x.T=i}}function _x(){}function Di(e,t,l,s){if(e.tag!==5)throw Error(d(476));var n=qo(e).queue;Ho(e,n,t,I,l===null?_x:function(){return Bo(e),l(s)})}function qo(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:I},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Bo(e){var t=qo(e);t.next===null&&(t=e.alternate.memoizedState),Ss(e,t.next.queue,{},Ot())}function Ei(){return it(Bs)}function Yo(){return Je().memoizedState}function Qo(){return Je().memoizedState}function Mx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Ot();e=Tl(l);var s=_l(t,e,l);s!==null&&(jt(s,t,l),bs(s,t,l)),t={cache:li()},e.payload=t;return}t=t.return}}function Ox(e,t,l){var s=Ot();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},On(e)?Vo(t,l):(l=Xc(e,t,l,s),l!==null&&(jt(l,e,s),Xo(l,t,s)))}function Go(e,t,l){var s=Ot();Ss(e,t,l,s)}function Ss(e,t,l,s){var n={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(On(e))Vo(t,n);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var i=t.lastRenderedState,u=c(i,l);if(n.hasEagerState=!0,n.eagerState=u,Et(u,i))return xn(e,t,n,0),He===null&&fn(),!1}catch{}if(l=Xc(e,t,n,s),l!==null)return jt(l,e,s),Xo(l,t,s),!0}return!1}function zi(e,t,l,s){if(s={lane:2,revertLane:cu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},On(e)){if(t)throw Error(d(479))}else t=Xc(e,l,s,2),t!==null&&jt(t,e,2)}function On(e){var t=e.alternate;return e===be||t!==null&&t===be}function Vo(e,t){Ua=Dn=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Xo(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Ju(e,l)}}var ws={readContext:it,use:Cn,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};ws.useEffectEvent=Ke;var Ko={readContext:it,use:Cn,useCallback:function(e,t){return dt().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:Co,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,_n(4194308,4,Oo.bind(null,t,e),l)},useLayoutEffect:function(e,t){return _n(4194308,4,e,t)},useInsertionEffect:function(e,t){_n(4,2,e,t)},useMemo:function(e,t){var l=dt();t=t===void 0?null:t;var s=e();if(ua){jl(!0);try{e()}finally{jl(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=dt();if(l!==void 0){var n=l(t);if(ua){jl(!0);try{l(t)}finally{jl(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=Ox.bind(null,be,e),[s.memoizedState,e]},useRef:function(e){var t=dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ni(e);var t=e.queue,l=Go.bind(null,be,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:wi,useDeferredValue:function(e,t){var l=dt();return Ai(l,e,t)},useTransition:function(){var e=Ni(!1);return e=Ho.bind(null,be,e.queue,!0,!1),dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=be,n=dt();if(De){if(l===void 0)throw Error(d(407));l=l()}else{if(l=t(),He===null)throw Error(d(349));(we&127)!==0||xo(s,t,l)}n.memoizedState=l;var c={value:l,getSnapshot:t};return n.queue=c,Co(ho.bind(null,s,c,e),[e]),s.flags|=2048,qa(9,{destroy:void 0},mo.bind(null,s,c,l,t),null),l},useId:function(){var e=dt(),t=He.identifierPrefix;if(De){var l=Ft,s=Wt;l=(s&~(1<<32-Dt(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=En++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Dx++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ei,useFormState:wo,useActionState:wo,useOptimistic:function(e){var t=dt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=zi.bind(null,be,!0,l),l.dispatch=t,[e,t]},useMemoCache:bi,useCacheRefresh:function(){return dt().memoizedState=Mx.bind(null,be)},useEffectEvent:function(e){var t=dt(),l={impl:e};return t.memoizedState=l,function(){if((_e&2)!==0)throw Error(d(440));return l.impl.apply(void 0,arguments)}}},Ci={readContext:it,use:Cn,useCallback:Ro,useContext:it,useEffect:Si,useImperativeHandle:ko,useInsertionEffect:_o,useLayoutEffect:Mo,useMemo:Lo,useReducer:Tn,useRef:zo,useState:function(){return Tn(rl)},useDebugValue:wi,useDeferredValue:function(e,t){var l=Je();return Uo(l,Re.memoizedState,e,t)},useTransition:function(){var e=Tn(rl)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:js(e),t]},useSyncExternalStore:fo,useId:Yo,useHostTransitionStatus:Ei,useFormState:Ao,useActionState:Ao,useOptimistic:function(e,t){var l=Je();return bo(l,Re,e,t)},useMemoCache:bi,useCacheRefresh:Qo};Ci.useEffectEvent=To;var Zo={readContext:it,use:Cn,useCallback:Ro,useContext:it,useEffect:Si,useImperativeHandle:ko,useInsertionEffect:_o,useLayoutEffect:Mo,useMemo:Lo,useReducer:vi,useRef:zo,useState:function(){return vi(rl)},useDebugValue:wi,useDeferredValue:function(e,t){var l=Je();return Re===null?Ai(l,e,t):Uo(l,Re.memoizedState,e,t)},useTransition:function(){var e=vi(rl)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:js(e),t]},useSyncExternalStore:fo,useId:Yo,useHostTransitionStatus:Ei,useFormState:Eo,useActionState:Eo,useOptimistic:function(e,t){var l=Je();return Re!==null?bo(l,Re,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:bi,useCacheRefresh:Qo};Zo.useEffectEvent=To;function Ti(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:z({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var _i={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=Ot(),n=Tl(s);n.payload=t,l!=null&&(n.callback=l),t=_l(e,n,s),t!==null&&(jt(t,e,s),bs(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=Ot(),n=Tl(s);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=_l(e,n,s),t!==null&&(jt(t,e,s),bs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Ot(),s=Tl(l);s.tag=2,t!=null&&(s.callback=t),t=_l(e,s,l),t!==null&&(jt(t,e,l),bs(t,e,l))}};function $o(e,t,l,s,n,c,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,i):t.prototype&&t.prototype.isPureReactComponent?!os(l,s)||!os(n,c):!0}function Jo(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&_i.enqueueReplaceState(t,t.state,null)}function ra(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=z({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function Wo(e){dn(e)}function Fo(e){console.error(e)}function Io(e){dn(e)}function kn(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Po(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Mi(e,t,l){return l=Tl(l),l.tag=3,l.payload={element:null},l.callback=function(){kn(e,t)},l}function ed(e){return e=Tl(e),e.tag=3,e}function td(e,t,l,s){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var c=s.value;e.payload=function(){return n(c)},e.callback=function(){Po(t,l,s)}}var i=l.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){Po(t,l,s),typeof n!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var u=s.stack;this.componentDidCatch(s.value,{componentStack:u!==null?u:""})})}function kx(e,t,l,s,n){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&_a(t,l,n,!0),l=Ct.current,l!==null){switch(l.tag){case 31:case 13:return Yt===null?Kn():l.alternate===null&&Ze===0&&(Ze=3),l.flags&=-257,l.flags|=65536,l.lanes=n,s===Nn?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),au(e,s,n)),!1;case 22:return l.flags|=65536,s===Nn?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),au(e,s,n)),!1}throw Error(d(435,l.tag))}return au(e,s,n),Kn(),!1}if(De)return t=Ct.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==Fc&&(e=Error(d(422),{cause:s}),xs(Ut(e,l)))):(s!==Fc&&(t=Error(d(423),{cause:s}),xs(Ut(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=Ut(s,l),n=Mi(e.stateNode,s,n),ui(e,n),Ze!==4&&(Ze=2)),!1;var c=Error(d(520),{cause:s});if(c=Ut(c,l),Ms===null?Ms=[c]:Ms.push(c),Ze!==4&&(Ze=2),t===null)return!0;s=Ut(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=Mi(l.stateNode,s,e),ui(l,e),!1;case 1:if(t=l.type,c=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ul===null||!Ul.has(c))))return l.flags|=65536,n&=-n,l.lanes|=n,n=ed(n),td(n,e,l,s),ui(l,n),!1}l=l.return}while(l!==null);return!1}var Oi=Error(d(461)),Ie=!1;function ut(e,t,l,s){t.child=e===null?so(t,null,l,s):ia(t,e.child,l,s)}function ld(e,t,l,s,n){l=l.render;var c=t.ref;if("ref"in s){var i={};for(var u in s)u!=="ref"&&(i[u]=s[u])}else i=s;return aa(t),s=mi(e,t,l,i,c,n),u=hi(),e!==null&&!Ie?(pi(e,t,n),ol(e,t,n)):(De&&u&&Jc(t),t.flags|=1,ut(e,t,s,n),t.child)}function ad(e,t,l,s,n){if(e===null){var c=l.type;return typeof c=="function"&&!Kc(c)&&c.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=c,sd(e,t,c,s,n)):(e=hn(l.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Yi(e,n)){var i=c.memoizedProps;if(l=l.compare,l=l!==null?l:os,l(i,s)&&e.ref===t.ref)return ol(e,t,n)}return t.flags|=1,e=sl(c,s),e.ref=t.ref,e.return=t,t.child=e}function sd(e,t,l,s,n){if(e!==null){var c=e.memoizedProps;if(os(c,s)&&e.ref===t.ref)if(Ie=!1,t.pendingProps=s=c,Yi(e,n))(e.flags&131072)!==0&&(Ie=!0);else return t.lanes=e.lanes,ol(e,t,n)}return ki(e,t,l,s,n)}function nd(e,t,l,s){var n=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|l:l,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~c}else s=0,t.child=null;return cd(e,t,c,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gn(t,c!==null?c.cachePool:null),c!==null?io(t,c):oi(),uo(t);else return s=t.lanes=536870912,cd(e,t,c!==null?c.baseLanes|l:l,l,s)}else c!==null?(gn(t,c.cachePool),io(t,c),Ol(),t.memoizedState=null):(e!==null&&gn(t,null),oi(),Ol());return ut(e,t,n,l),t.child}function As(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function cd(e,t,l,s,n){var c=si();return c=c===null?null:{parent:We._currentValue,pool:c},t.memoizedState={baseLanes:l,cachePool:c},e!==null&&gn(t,null),oi(),uo(t),e!==null&&_a(e,t,s,!0),t.childLanes=n,null}function Rn(e,t){return t=Un({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function id(e,t,l){return ia(t,e.child,null,l),e=Rn(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function Rx(e,t,l){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(s.mode==="hidden")return e=Rn(t,s),t.lanes=536870912,As(null,e);if(fi(t),(e=Ye)?(e=vf(e,Bt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Al!==null?{id:Wt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},l=Gr(e),l.return=t,t.child=l,ct=t,Ye=null)):e=null,e===null)throw El(t);return t.lanes=536870912,null}return Rn(t,s)}var c=e.memoizedState;if(c!==null){var i=c.dehydrated;if(fi(t),n)if(t.flags&256)t.flags&=-257,t=id(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(d(558));else if(Ie||_a(e,t,l,!1),n=(l&e.childLanes)!==0,Ie||n){if(s=He,s!==null&&(i=Wu(s,l),i!==0&&i!==c.retryLane))throw c.retryLane=i,Pl(e,i),jt(s,e,i),Oi;Kn(),t=id(e,t,l)}else e=c.treeContext,Ye=Qt(i.nextSibling),ct=t,De=!0,Dl=null,Bt=!1,e!==null&&Kr(t,e),t=Rn(t,s),t.flags|=4096;return t}return e=sl(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ln(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(d(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function ki(e,t,l,s,n){return aa(t),l=mi(e,t,l,s,void 0,n),s=hi(),e!==null&&!Ie?(pi(e,t,n),ol(e,t,n)):(De&&s&&Jc(t),t.flags|=1,ut(e,t,l,n),t.child)}function ud(e,t,l,s,n,c){return aa(t),t.updateQueue=null,l=oo(t,s,l,n),ro(e),s=hi(),e!==null&&!Ie?(pi(e,t,c),ol(e,t,c)):(De&&s&&Jc(t),t.flags|=1,ut(e,t,l,c),t.child)}function rd(e,t,l,s,n){if(aa(t),t.stateNode===null){var c=Ea,i=l.contextType;typeof i=="object"&&i!==null&&(c=it(i)),c=new l(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=_i,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},ci(t),i=l.contextType,c.context=typeof i=="object"&&i!==null?it(i):Ea,c.state=t.memoizedState,i=l.getDerivedStateFromProps,typeof i=="function"&&(Ti(t,l,i,s),c.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(i=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),i!==c.state&&_i.enqueueReplaceState(c,c.state,null),vs(t,s,c,n),gs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var u=t.memoizedProps,f=ra(l,u);c.props=f;var C=c.context,V=l.contextType;i=Ea,typeof V=="object"&&V!==null&&(i=it(V));var $=l.getDerivedStateFromProps;V=typeof $=="function"||typeof c.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,V||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u||C!==i)&&Jo(t,c,s,i),Cl=!1;var M=t.memoizedState;c.state=M,vs(t,s,c,n),gs(),C=t.memoizedState,u||M!==C||Cl?(typeof $=="function"&&(Ti(t,l,$,s),C=t.memoizedState),(f=Cl||$o(t,l,f,s,M,C,i))?(V||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=C),c.props=s,c.state=C,c.context=i,s=f):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,ii(e,t),i=t.memoizedProps,V=ra(l,i),c.props=V,$=t.pendingProps,M=c.context,C=l.contextType,f=Ea,typeof C=="object"&&C!==null&&(f=it(C)),u=l.getDerivedStateFromProps,(C=typeof u=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(i!==$||M!==f)&&Jo(t,c,s,f),Cl=!1,M=t.memoizedState,c.state=M,vs(t,s,c,n),gs();var L=t.memoizedState;i!==$||M!==L||Cl||e!==null&&e.dependencies!==null&&yn(e.dependencies)?(typeof u=="function"&&(Ti(t,l,u,s),L=t.memoizedState),(V=Cl||$o(t,l,V,s,M,L,f)||e!==null&&e.dependencies!==null&&yn(e.dependencies))?(C||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,L,f),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,L,f)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||i===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=L),c.props=s,c.state=L,c.context=f,s=V):(typeof c.componentDidUpdate!="function"||i===e.memoizedProps&&M===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&M===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,Ln(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=ia(t,e.child,null,n),t.child=ia(t,null,l,n)):ut(e,t,l,n),t.memoizedState=c.state,e=t.child):e=ol(e,t,n),e}function od(e,t,l,s){return ta(),t.flags|=256,ut(e,t,l,s),t.child}var Ri={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Li(e){return{baseLanes:e,cachePool:Ir()}}function Ui(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Mt),e}function dd(e,t,l){var s=t.pendingProps,n=!1,c=(t.flags&128)!==0,i;if((i=c)||(i=e!==null&&e.memoizedState===null?!1:($e.current&2)!==0),i&&(n=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(n?Ml(t):Ol(),(e=Ye)?(e=vf(e,Bt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Al!==null?{id:Wt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},l=Gr(e),l.return=t,t.child=l,ct=t,Ye=null)):e=null,e===null)throw El(t);return gu(e)?t.lanes=32:t.lanes=536870912,null}var u=s.children;return s=s.fallback,n?(Ol(),n=t.mode,u=Un({mode:"hidden",children:u},n),s=ea(s,n,l,null),u.return=t,s.return=t,u.sibling=s,t.child=u,s=t.child,s.memoizedState=Li(l),s.childLanes=Ui(e,i,l),t.memoizedState=Ri,As(null,s)):(Ml(t),Hi(t,u))}var f=e.memoizedState;if(f!==null&&(u=f.dehydrated,u!==null)){if(c)t.flags&256?(Ml(t),t.flags&=-257,t=qi(e,t,l)):t.memoizedState!==null?(Ol(),t.child=e.child,t.flags|=128,t=null):(Ol(),u=s.fallback,n=t.mode,s=Un({mode:"visible",children:s.children},n),u=ea(u,n,l,null),u.flags|=2,s.return=t,u.return=t,s.sibling=u,t.child=s,ia(t,e.child,null,l),s=t.child,s.memoizedState=Li(l),s.childLanes=Ui(e,i,l),t.memoizedState=Ri,t=As(null,s));else if(Ml(t),gu(u)){if(i=u.nextSibling&&u.nextSibling.dataset,i)var C=i.dgst;i=C,s=Error(d(419)),s.stack="",s.digest=i,xs({value:s,source:null,stack:null}),t=qi(e,t,l)}else if(Ie||_a(e,t,l,!1),i=(l&e.childLanes)!==0,Ie||i){if(i=He,i!==null&&(s=Wu(i,l),s!==0&&s!==f.retryLane))throw f.retryLane=s,Pl(e,s),jt(i,e,s),Oi;bu(u)||Kn(),t=qi(e,t,l)}else bu(u)?(t.flags|=192,t.child=e.child,t=null):(e=f.treeContext,Ye=Qt(u.nextSibling),ct=t,De=!0,Dl=null,Bt=!1,e!==null&&Kr(t,e),t=Hi(t,s.children),t.flags|=4096);return t}return n?(Ol(),u=s.fallback,n=t.mode,f=e.child,C=f.sibling,s=sl(f,{mode:"hidden",children:s.children}),s.subtreeFlags=f.subtreeFlags&65011712,C!==null?u=sl(C,u):(u=ea(u,n,l,null),u.flags|=2),u.return=t,s.return=t,s.sibling=u,t.child=s,As(null,s),s=t.child,u=e.child.memoizedState,u===null?u=Li(l):(n=u.cachePool,n!==null?(f=We._currentValue,n=n.parent!==f?{parent:f,pool:f}:n):n=Ir(),u={baseLanes:u.baseLanes|l,cachePool:n}),s.memoizedState=u,s.childLanes=Ui(e,i,l),t.memoizedState=Ri,As(e.child,s)):(Ml(t),l=e.child,e=l.sibling,l=sl(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=l,t.memoizedState=null,l)}function Hi(e,t){return t=Un({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Un(e,t){return e=zt(22,e,null,t),e.lanes=0,e}function qi(e,t,l){return ia(t,e.child,null,l),e=Hi(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fd(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ei(e.return,t,l)}function Bi(e,t,l,s,n,c){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:n,treeForkCount:c}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=l,i.tailMode=n,i.treeForkCount=c)}function xd(e,t,l){var s=t.pendingProps,n=s.revealOrder,c=s.tail;s=s.children;var i=$e.current,u=(i&2)!==0;if(u?(i=i&1|2,t.flags|=128):i&=1,le($e,i),ut(e,t,s,l),s=De?fs:0,!u&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fd(e,l,t);else if(e.tag===19)fd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&An(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),Bi(t,!1,n,l,c,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&An(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}Bi(t,!0,l,null,c,s);break;case"together":Bi(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ol(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Ll|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(_a(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,l=sl(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=sl(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Yi(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&yn(e)))}function Lx(e,t,l){switch(t.tag){case 3:Me(t,t.stateNode.containerInfo),zl(t,We,e.memoizedState.cache),ta();break;case 27:case 5:Te(t);break;case 4:Me(t,t.stateNode.containerInfo);break;case 10:zl(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,fi(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ml(t),t.flags|=128,null):(l&t.child.childLanes)!==0?dd(e,t,l):(Ml(t),e=ol(e,t,l),e!==null?e.sibling:null);Ml(t);break;case 19:var n=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(_a(e,t,l,!1),s=(l&t.childLanes)!==0),n){if(s)return xd(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),le($e,$e.current),s)break;return null;case 22:return t.lanes=0,nd(e,t,l,t.pendingProps);case 24:zl(t,We,e.memoizedState.cache)}return ol(e,t,l)}function md(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ie=!0;else{if(!Yi(e,l)&&(t.flags&128)===0)return Ie=!1,Lx(e,t,l);Ie=(e.flags&131072)!==0}else Ie=!1,De&&(t.flags&1048576)!==0&&Xr(t,fs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=na(t.elementType),t.type=e,typeof e=="function")Kc(e)?(s=ra(e,s),t.tag=1,t=rd(null,t,e,s,l)):(t.tag=0,t=ki(null,t,e,s,l));else{if(e!=null){var n=e.$$typeof;if(n===J){t.tag=11,t=ld(null,t,e,s,l);break e}else if(n===K){t.tag=14,t=ad(null,t,e,s,l);break e}}throw t=q(e)||e,Error(d(306,t,""))}}return t;case 0:return ki(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,n=ra(s,t.pendingProps),rd(e,t,s,n,l);case 3:e:{if(Me(t,t.stateNode.containerInfo),e===null)throw Error(d(387));s=t.pendingProps;var c=t.memoizedState;n=c.element,ii(e,t),vs(t,s,null,l);var i=t.memoizedState;if(s=i.cache,zl(t,We,s),s!==c.cache&&ti(t,[We],l,!0),gs(),s=i.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=od(e,t,s,l);break e}else if(s!==n){n=Ut(Error(d(424)),t),xs(n),t=od(e,t,s,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ye=Qt(e.firstChild),ct=t,De=!0,Dl=null,Bt=!0,l=so(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ta(),s===n){t=ol(e,t,l);break e}ut(e,t,s,l)}t=t.child}return t;case 26:return Ln(e,t),e===null?(l=Df(t.type,null,t.pendingProps,null))?t.memoizedState=l:De||(l=t.type,e=t.pendingProps,s=Pn(ae.current).createElement(l),s[nt]=t,s[pt]=e,rt(s,l,e),at(s),t.stateNode=s):t.memoizedState=Df(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Te(t),e===null&&De&&(s=t.stateNode=Sf(t.type,t.pendingProps,ae.current),ct=t,Bt=!0,n=Ye,Yl(t.type)?(vu=n,Ye=Qt(s.firstChild)):Ye=n),ut(e,t,t.pendingProps.children,l),Ln(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((n=s=Ye)&&(s=fm(s,t.type,t.pendingProps,Bt),s!==null?(t.stateNode=s,ct=t,Ye=Qt(s.firstChild),Bt=!1,n=!0):n=!1),n||El(t)),Te(t),n=t.type,c=t.pendingProps,i=e!==null?e.memoizedProps:null,s=c.children,hu(n,c)?s=null:i!==null&&hu(n,i)&&(t.flags|=32),t.memoizedState!==null&&(n=mi(e,t,Ex,null,null,l),Bs._currentValue=n),Ln(e,t),ut(e,t,s,l),t.child;case 6:return e===null&&De&&((e=l=Ye)&&(l=xm(l,t.pendingProps,Bt),l!==null?(t.stateNode=l,ct=t,Ye=null,e=!0):e=!1),e||El(t)),null;case 13:return dd(e,t,l);case 4:return Me(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ia(t,null,s,l):ut(e,t,s,l),t.child;case 11:return ld(e,t,t.type,t.pendingProps,l);case 7:return ut(e,t,t.pendingProps,l),t.child;case 8:return ut(e,t,t.pendingProps.children,l),t.child;case 12:return ut(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,zl(t,t.type,s.value),ut(e,t,s.children,l),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,aa(t),n=it(n),s=s(n),t.flags|=1,ut(e,t,s,l),t.child;case 14:return ad(e,t,t.type,t.pendingProps,l);case 15:return sd(e,t,t.type,t.pendingProps,l);case 19:return xd(e,t,l);case 31:return Rx(e,t,l);case 22:return nd(e,t,l,t.pendingProps);case 24:return aa(t),s=it(We),e===null?(n=si(),n===null&&(n=He,c=li(),n.pooledCache=c,c.refCount++,c!==null&&(n.pooledCacheLanes|=l),n=c),t.memoizedState={parent:s,cache:n},ci(t),zl(t,We,n)):((e.lanes&l)!==0&&(ii(e,t),vs(t,null,null,l),gs()),n=e.memoizedState,c=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),zl(t,We,s)):(s=c.cache,zl(t,We,s),s!==n.cache&&ti(t,[We],l,!0))),ut(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function dl(e){e.flags|=4}function Qi(e,t,l,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(Yd())e.flags|=8192;else throw ca=Nn,ni}else e.flags&=-16777217}function hd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_f(t))if(Yd())e.flags|=8192;else throw ca=Nn,ni}function Hn(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zu():536870912,e.lanes|=t,Ga|=t)}function Ds(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function Ux(e,t,l){var s=t.pendingProps;switch(Wc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),il(We),xe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ta(t)?dl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ic())),Qe(t),null;case 26:var n=t.type,c=t.memoizedState;return e===null?(dl(t),c!==null?(Qe(t),hd(t,c)):(Qe(t),Qi(t,n,null,s,l))):c?c!==e.memoizedState?(dl(t),Qe(t),hd(t,c)):(Qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&dl(t),Qe(t),Qi(t,n,e,s,l)),null;case 27:if(Jt(t),l=ae.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&dl(t);else{if(!s){if(t.stateNode===null)throw Error(d(166));return Qe(t),null}e=ce.current,Ta(t)?Zr(t):(e=Sf(n,s,l),t.stateNode=e,dl(t))}return Qe(t),null;case 5:if(Jt(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&dl(t);else{if(!s){if(t.stateNode===null)throw Error(d(166));return Qe(t),null}if(c=ce.current,Ta(t))Zr(t);else{var i=Pn(ae.current);switch(c){case 1:c=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:c=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":c=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":c=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":c=i.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?i.createElement(n,{is:s.is}):i.createElement(n)}}c[nt]=t,c[pt]=s;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)c.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=c;e:switch(rt(c,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&dl(t)}}return Qe(t),Qi(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&dl(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(d(166));if(e=ae.current,Ta(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,n=ct,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[nt]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||ff(e.nodeValue,l)),e||El(t,!0)}else e=Pn(e).createTextNode(s),e[nt]=t,t.stateNode=e}return Qe(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=Ta(t),l!==null){if(e===null){if(!s)throw Error(d(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(557));e[nt]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),e=!1}else l=Ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if((t.flags&128)!==0)throw Error(d(558))}return Qe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Ta(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(d(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(d(317));n[nt]=t}else ta(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),n=!1}else n=Ic(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==n&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Hn(t,t.updateQueue),Qe(t),null);case 4:return xe(),e===null&&ou(t.stateNode.containerInfo),Qe(t),null;case 10:return il(t.type),Qe(t),null;case 19:if(Q($e),s=t.memoizedState,s===null)return Qe(t),null;if(n=(t.flags&128)!==0,c=s.rendering,c===null)if(n)Ds(s,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=An(e),c!==null){for(t.flags|=128,Ds(s,!1),e=c.updateQueue,t.updateQueue=e,Hn(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Qr(l,e),l=l.sibling;return le($e,$e.current&1|2),De&&nl(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ht()>Gn&&(t.flags|=128,n=!0,Ds(s,!1),t.lanes=4194304)}else{if(!n)if(e=An(c),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Hn(t,e),Ds(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!De)return Qe(t),null}else 2*ht()-s.renderingStartTime>Gn&&l!==536870912&&(t.flags|=128,n=!0,Ds(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ht(),e.sibling=null,l=$e.current,le($e,n?l&1|2:l&1),De&&nl(t,s.treeForkCount),e):(Qe(t),null);case 22:case 23:return Tt(t),di(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),l=t.updateQueue,l!==null&&Hn(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&Q(sa),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),il(We),Qe(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function Hx(e,t){switch(Wc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return il(We),xe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Jt(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(d(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));ta()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q($e),null;case 4:return xe(),null;case 10:return il(t.type),null;case 22:case 23:return Tt(t),di(),e!==null&&Q(sa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return il(We),null;case 25:return null;default:return null}}function pd(e,t){switch(Wc(t),t.tag){case 3:il(We),xe();break;case 26:case 27:case 5:Jt(t);break;case 4:xe();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:Q($e);break;case 10:il(t.type);break;case 22:case 23:Tt(t),di(),e!==null&&Q(sa);break;case 24:il(We)}}function Es(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var n=s.next;l=n;do{if((l.tag&e)===e){s=void 0;var c=l.create,i=l.inst;s=c(),i.destroy=s}l=l.next}while(l!==n)}}catch(u){ke(t,t.return,u)}}function kl(e,t,l){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var c=n.next;s=c;do{if((s.tag&e)===e){var i=s.inst,u=i.destroy;if(u!==void 0){i.destroy=void 0,n=t;var f=l,C=u;try{C()}catch(V){ke(n,f,V)}}}s=s.next}while(s!==c)}}catch(V){ke(t,t.return,V)}}function yd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{co(t,l)}catch(s){ke(e,e.return,s)}}}function bd(e,t,l){l.props=ra(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){ke(e,t,s)}}function zs(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(n){ke(e,t,n)}}function It(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(n){ke(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){ke(e,t,n)}else l.current=null}function gd(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(n){ke(e,e.return,n)}}function Gi(e,t,l){try{var s=e.stateNode;cm(s,e.type,l,t),s[pt]=t}catch(n){ke(e,e.return,n)}}function vd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Yl(e.type)||e.tag===4}function Vi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Yl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xi(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=ll));else if(s!==4&&(s===27&&Yl(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Xi(e,t,l),e=e.sibling;e!==null;)Xi(e,t,l),e=e.sibling}function qn(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&Yl(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(qn(e,t,l),e=e.sibling;e!==null;)qn(e,t,l),e=e.sibling}function Nd(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);rt(t,s,l),t[nt]=e,t[pt]=l}catch(c){ke(e,e.return,c)}}var fl=!1,Pe=!1,Ki=!1,jd=typeof WeakSet=="function"?WeakSet:Set,st=null;function qx(e,t){if(e=e.containerInfo,xu=cc,e=Or(e),qc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var n=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var i=0,u=-1,f=-1,C=0,V=0,$=e,M=null;t:for(;;){for(var L;$!==l||n!==0&&$.nodeType!==3||(u=i+n),$!==c||s!==0&&$.nodeType!==3||(f=i+s),$.nodeType===3&&(i+=$.nodeValue.length),(L=$.firstChild)!==null;)M=$,$=L;for(;;){if($===e)break t;if(M===l&&++C===n&&(u=i),M===c&&++V===s&&(f=i),(L=$.nextSibling)!==null)break;$=M,M=$.parentNode}$=L}l=u===-1||f===-1?null:{start:u,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;for(mu={focusedElem:e,selectionRange:l},cc=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,l=t,n=c.memoizedProps,c=c.memoizedState,s=l.stateNode;try{var oe=ra(l.type,n);e=s.getSnapshotBeforeUpdate(oe,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(he){ke(l,l.return,he)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)yu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function Sd(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:ml(e,l),s&4&&Es(5,l);break;case 1:if(ml(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(i){ke(l,l.return,i)}else{var n=ra(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){ke(l,l.return,i)}}s&64&&yd(l),s&512&&zs(l,l.return);break;case 3:if(ml(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{co(e,t)}catch(i){ke(l,l.return,i)}}break;case 27:t===null&&s&4&&Nd(l);case 26:case 5:ml(e,l),t===null&&s&4&&gd(l),s&512&&zs(l,l.return);break;case 12:ml(e,l);break;case 31:ml(e,l),s&4&&Dd(e,l);break;case 13:ml(e,l),s&4&&Ed(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=$x.bind(null,l),mm(e,l))));break;case 22:if(s=l.memoizedState!==null||fl,!s){t=t!==null&&t.memoizedState!==null||Pe,n=fl;var c=Pe;fl=s,(Pe=t)&&!c?hl(e,l,(l.subtreeFlags&8772)!==0):ml(e,l),fl=n,Pe=c}break;case 30:break;default:ml(e,l)}}function wd(e){var t=e.alternate;t!==null&&(e.alternate=null,wd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&jc(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,bt=!1;function xl(e,t,l){for(l=l.child;l!==null;)Ad(e,t,l),l=l.sibling}function Ad(e,t,l){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Ia,l)}catch{}switch(l.tag){case 26:Pe||It(l,t),xl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Pe||It(l,t);var s=Ve,n=bt;Yl(l.type)&&(Ve=l.stateNode,bt=!1),xl(e,t,l),Us(l.stateNode),Ve=s,bt=n;break;case 5:Pe||It(l,t);case 6:if(s=Ve,n=bt,Ve=null,xl(e,t,l),Ve=s,bt=n,Ve!==null)if(bt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(l.stateNode)}catch(c){ke(l,t,c)}else try{Ve.removeChild(l.stateNode)}catch(c){ke(l,t,c)}break;case 18:Ve!==null&&(bt?(e=Ve,bf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Fa(e)):bf(Ve,l.stateNode));break;case 4:s=Ve,n=bt,Ve=l.stateNode.containerInfo,bt=!0,xl(e,t,l),Ve=s,bt=n;break;case 0:case 11:case 14:case 15:kl(2,l,t),Pe||kl(4,l,t),xl(e,t,l);break;case 1:Pe||(It(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&bd(l,t,s)),xl(e,t,l);break;case 21:xl(e,t,l);break;case 22:Pe=(s=Pe)||l.memoizedState!==null,xl(e,t,l),Pe=s;break;default:xl(e,t,l)}}function Dd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fa(e)}catch(l){ke(t,t.return,l)}}}function Ed(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fa(e)}catch(l){ke(t,t.return,l)}}function Bx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new jd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new jd),t;default:throw Error(d(435,e.tag))}}function Bn(e,t){var l=Bx(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var n=Jx.bind(null,e,s);s.then(n,n)}})}function gt(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var n=l[s],c=e,i=t,u=i;e:for(;u!==null;){switch(u.tag){case 27:if(Yl(u.type)){Ve=u.stateNode,bt=!1;break e}break;case 5:Ve=u.stateNode,bt=!1;break e;case 3:case 4:Ve=u.stateNode.containerInfo,bt=!0;break e}u=u.return}if(Ve===null)throw Error(d(160));Ad(c,i,n),Ve=null,bt=!1,c=n.alternate,c!==null&&(c.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)zd(t,e),t=t.sibling}var Kt=null;function zd(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),vt(e),s&4&&(kl(3,e,e.return),Es(3,e),kl(5,e,e.return));break;case 1:gt(t,e),vt(e),s&512&&(Pe||l===null||It(l,l.return)),s&64&&fl&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var n=Kt;if(gt(t,e),vt(e),s&512&&(Pe||l===null||It(l,l.return)),s&4){var c=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":c=n.getElementsByTagName("title")[0],(!c||c[ts]||c[nt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=n.createElement(s),n.head.insertBefore(c,n.querySelector("head > title"))),rt(c,s,l),c[nt]=e,at(c),s=c;break e;case"link":var i=Cf("link","href",n).get(s+(l.href||""));if(i){for(var u=0;u<i.length;u++)if(c=i[u],c.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&c.getAttribute("rel")===(l.rel==null?null:l.rel)&&c.getAttribute("title")===(l.title==null?null:l.title)&&c.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){i.splice(u,1);break t}}c=n.createElement(s),rt(c,s,l),n.head.appendChild(c);break;case"meta":if(i=Cf("meta","content",n).get(s+(l.content||""))){for(u=0;u<i.length;u++)if(c=i[u],c.getAttribute("content")===(l.content==null?null:""+l.content)&&c.getAttribute("name")===(l.name==null?null:l.name)&&c.getAttribute("property")===(l.property==null?null:l.property)&&c.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&c.getAttribute("charset")===(l.charSet==null?null:l.charSet)){i.splice(u,1);break t}}c=n.createElement(s),rt(c,s,l),n.head.appendChild(c);break;default:throw Error(d(468,s))}c[nt]=e,at(c),s=c}e.stateNode=s}else Tf(n,e.type,e.stateNode);else e.stateNode=zf(n,s,e.memoizedProps);else c!==s?(c===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):c.count--,s===null?Tf(n,e.type,e.stateNode):zf(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Gi(e,e.memoizedProps,l.memoizedProps)}break;case 27:gt(t,e),vt(e),s&512&&(Pe||l===null||It(l,l.return)),l!==null&&s&4&&Gi(e,e.memoizedProps,l.memoizedProps);break;case 5:if(gt(t,e),vt(e),s&512&&(Pe||l===null||It(l,l.return)),e.flags&32){n=e.stateNode;try{va(n,"")}catch(oe){ke(e,e.return,oe)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,Gi(e,n,l!==null?l.memoizedProps:n)),s&1024&&(Ki=!0);break;case 6:if(gt(t,e),vt(e),s&4){if(e.stateNode===null)throw Error(d(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(oe){ke(e,e.return,oe)}}break;case 3:if(lc=null,n=Kt,Kt=ec(t.containerInfo),gt(t,e),Kt=n,vt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Fa(t.containerInfo)}catch(oe){ke(e,e.return,oe)}Ki&&(Ki=!1,Cd(e));break;case 4:s=Kt,Kt=ec(e.stateNode.containerInfo),gt(t,e),vt(e),Kt=s;break;case 12:gt(t,e),vt(e);break;case 31:gt(t,e),vt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Bn(e,s)));break;case 13:gt(t,e),vt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Qn=ht()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Bn(e,s)));break;case 22:n=e.memoizedState!==null;var f=l!==null&&l.memoizedState!==null,C=fl,V=Pe;if(fl=C||n,Pe=V||f,gt(t,e),Pe=V,fl=C,vt(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||f||fl||Pe||oa(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){f=l=t;try{if(c=f.stateNode,n)i=c.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{u=f.stateNode;var $=f.memoizedProps.style,M=$!=null&&$.hasOwnProperty("display")?$.display:null;u.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(oe){ke(f,f.return,oe)}}}else if(t.tag===6){if(l===null){f=t;try{f.stateNode.nodeValue=n?"":f.memoizedProps}catch(oe){ke(f,f.return,oe)}}}else if(t.tag===18){if(l===null){f=t;try{var L=f.stateNode;n?gf(L,!0):gf(f.stateNode,!1)}catch(oe){ke(f,f.return,oe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,Bn(e,l))));break;case 19:gt(t,e),vt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Bn(e,s)));break;case 30:break;case 21:break;default:gt(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(vd(s)){l=s;break}s=s.return}if(l==null)throw Error(d(160));switch(l.tag){case 27:var n=l.stateNode,c=Vi(e);qn(e,c,n);break;case 5:var i=l.stateNode;l.flags&32&&(va(i,""),l.flags&=-33);var u=Vi(e);qn(e,u,i);break;case 3:case 4:var f=l.stateNode.containerInfo,C=Vi(e);Xi(e,C,f);break;default:throw Error(d(161))}}catch(V){ke(e,e.return,V)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ml(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Sd(e,t.alternate,t),t=t.sibling}function oa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:kl(4,t,t.return),oa(t);break;case 1:It(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&bd(t,t.return,l),oa(t);break;case 27:Us(t.stateNode);case 26:case 5:It(t,t.return),oa(t);break;case 22:t.memoizedState===null&&oa(t);break;case 30:oa(t);break;default:oa(t)}e=e.sibling}}function hl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,c=t,i=c.flags;switch(c.tag){case 0:case 11:case 15:hl(n,c,l),Es(4,c);break;case 1:if(hl(n,c,l),s=c,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(C){ke(s,s.return,C)}if(s=c,n=s.updateQueue,n!==null){var u=s.stateNode;try{var f=n.shared.hiddenCallbacks;if(f!==null)for(n.shared.hiddenCallbacks=null,n=0;n<f.length;n++)no(f[n],u)}catch(C){ke(s,s.return,C)}}l&&i&64&&yd(c),zs(c,c.return);break;case 27:Nd(c);case 26:case 5:hl(n,c,l),l&&s===null&&i&4&&gd(c),zs(c,c.return);break;case 12:hl(n,c,l);break;case 31:hl(n,c,l),l&&i&4&&Dd(n,c);break;case 13:hl(n,c,l),l&&i&4&&Ed(n,c);break;case 22:c.memoizedState===null&&hl(n,c,l),zs(c,c.return);break;case 30:break;default:hl(n,c,l)}t=t.sibling}}function Zi(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ms(l))}function $i(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ms(e))}function Zt(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Td(e,t,l,s),t=t.sibling}function Td(e,t,l,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Zt(e,t,l,s),n&2048&&Es(9,t);break;case 1:Zt(e,t,l,s);break;case 3:Zt(e,t,l,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ms(e)));break;case 12:if(n&2048){Zt(e,t,l,s),e=t.stateNode;try{var c=t.memoizedProps,i=c.id,u=c.onPostCommit;typeof u=="function"&&u(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(f){ke(t,t.return,f)}}else Zt(e,t,l,s);break;case 31:Zt(e,t,l,s);break;case 13:Zt(e,t,l,s);break;case 23:break;case 22:c=t.stateNode,i=t.alternate,t.memoizedState!==null?c._visibility&2?Zt(e,t,l,s):Cs(e,t):c._visibility&2?Zt(e,t,l,s):(c._visibility|=2,Ba(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&Zi(i,t);break;case 24:Zt(e,t,l,s),n&2048&&$i(t.alternate,t);break;default:Zt(e,t,l,s)}}function Ba(e,t,l,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,i=t,u=l,f=s,C=i.flags;switch(i.tag){case 0:case 11:case 15:Ba(c,i,u,f,n),Es(8,i);break;case 23:break;case 22:var V=i.stateNode;i.memoizedState!==null?V._visibility&2?Ba(c,i,u,f,n):Cs(c,i):(V._visibility|=2,Ba(c,i,u,f,n)),n&&C&2048&&Zi(i.alternate,i);break;case 24:Ba(c,i,u,f,n),n&&C&2048&&$i(i.alternate,i);break;default:Ba(c,i,u,f,n)}t=t.sibling}}function Cs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,n=s.flags;switch(s.tag){case 22:Cs(l,s),n&2048&&Zi(s.alternate,s);break;case 24:Cs(l,s),n&2048&&$i(s.alternate,s);break;default:Cs(l,s)}t=t.sibling}}var Ts=8192;function Ya(e,t,l){if(e.subtreeFlags&Ts)for(e=e.child;e!==null;)_d(e,t,l),e=e.sibling}function _d(e,t,l){switch(e.tag){case 26:Ya(e,t,l),e.flags&Ts&&e.memoizedState!==null&&Dm(l,Kt,e.memoizedState,e.memoizedProps);break;case 5:Ya(e,t,l);break;case 3:case 4:var s=Kt;Kt=ec(e.stateNode.containerInfo),Ya(e,t,l),Kt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ts,Ts=16777216,Ya(e,t,l),Ts=s):Ya(e,t,l));break;default:Ya(e,t,l)}}function Md(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _s(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];st=s,kd(s,e)}Md(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Od(e),e=e.sibling}function Od(e){switch(e.tag){case 0:case 11:case 15:_s(e),e.flags&2048&&kl(9,e,e.return);break;case 3:_s(e);break;case 12:_s(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Yn(e)):_s(e);break;default:_s(e)}}function Yn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];st=s,kd(s,e)}Md(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:kl(8,t,t.return),Yn(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Yn(t));break;default:Yn(t)}e=e.sibling}}function kd(e,t){for(;st!==null;){var l=st;switch(l.tag){case 0:case 11:case 15:kl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ms(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,st=s;else e:for(l=e;st!==null;){s=st;var n=s.sibling,c=s.return;if(wd(s),s===l){st=null;break e}if(n!==null){n.return=c,st=n;break e}st=c}}}var Yx={getCacheForType:function(e){var t=it(We),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return it(We).controller.signal}},Qx=typeof WeakMap=="function"?WeakMap:Map,_e=0,He=null,je=null,we=0,Oe=0,_t=null,Rl=!1,Qa=!1,Ji=!1,pl=0,Ze=0,Ll=0,da=0,Wi=0,Mt=0,Ga=0,Ms=null,Nt=null,Fi=!1,Qn=0,Rd=0,Gn=1/0,Vn=null,Ul=null,tt=0,Hl=null,Va=null,yl=0,Ii=0,Pi=null,Ld=null,Os=0,eu=null;function Ot(){return(_e&2)!==0&&we!==0?we&-we:x.T!==null?cu():Fu()}function Ud(){if(Mt===0)if((we&536870912)===0||De){var e=Fs;Fs<<=1,(Fs&3932160)===0&&(Fs=262144),Mt=e}else Mt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Mt}function jt(e,t,l){(e===He&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),ql(e,we,Mt,!1)),es(e,l),((_e&2)===0||e!==He)&&(e===He&&((_e&2)===0&&(da|=l),Ze===4&&ql(e,we,Mt,!1)),Pt(e))}function Hd(e,t,l){if((_e&6)!==0)throw Error(d(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Pa(e,t),n=s?Xx(e,t):lu(e,t,!0),c=s;do{if(n===0){Qa&&!s&&ql(e,t,0,!1);break}else{if(l=e.current.alternate,c&&!Gx(l)){n=lu(e,t,!1),c=!1;continue}if(n===2){if(c=t,e.errorRecoveryDisabledLanes&c)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var u=e;n=Ms;var f=u.current.memoizedState.isDehydrated;if(f&&(Xa(u,i).flags|=256),i=lu(u,i,!1),i!==2){if(Ji&&!f){u.errorRecoveryDisabledLanes|=c,da|=c,n=4;break e}c=Nt,Nt=n,c!==null&&(Nt===null?Nt=c:Nt.push.apply(Nt,c))}n=i}if(c=!1,n!==2)continue}}if(n===1){Xa(e,0),ql(e,t,0,!0);break}e:{switch(s=e,c=n,c){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:ql(s,t,Mt,!Rl);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(n=Qn+300-ht(),10<n)){if(ql(s,t,Mt,!Rl),Ps(s,0,!0)!==0)break e;yl=t,s.timeoutHandle=pf(qd.bind(null,s,l,Nt,Vn,Fi,t,Mt,da,Ga,Rl,c,"Throttled",-0,0),n);break e}qd(s,l,Nt,Vn,Fi,t,Mt,da,Ga,Rl,c,null,-0,0)}}break}while(!0);Pt(e)}function qd(e,t,l,s,n,c,i,u,f,C,V,$,M,L){if(e.timeoutHandle=-1,$=t.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ll},_d(t,c,$);var oe=(c&62914560)===c?Qn-ht():(c&4194048)===c?Rd-ht():0;if(oe=Em($,oe),oe!==null){yl=c,e.cancelPendingCommit=oe(Zd.bind(null,e,t,c,l,s,n,i,u,f,V,$,null,M,L)),ql(e,c,i,!C);return}}Zd(e,t,c,l,s,n,i,u,f)}function Gx(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var n=l[s],c=n.getSnapshot;n=n.value;try{if(!Et(c(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ql(e,t,l,s){t&=~Wi,t&=~da,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var c=31-Dt(n),i=1<<c;s[c]=-1,n&=~i}l!==0&&$u(e,l,t)}function Xn(){return(_e&6)===0?(ks(0),!1):!0}function tu(){if(je!==null){if(Oe===0)var e=je.return;else e=je,cl=la=null,yi(e),Ra=null,ps=0,e=je;for(;e!==null;)pd(e.alternate,e),e=e.return;je=null}}function Xa(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,rm(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),yl=0,tu(),He=e,je=l=sl(e.current,null),we=t,Oe=0,_t=null,Rl=!1,Qa=Pa(e,t),Ji=!1,Ga=Mt=Wi=da=Ll=Ze=0,Nt=Ms=null,Fi=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-Dt(s),c=1<<n;t|=e[n],s&=~c}return pl=t,fn(),l}function Bd(e,t){be=null,x.H=ws,t===ka||t===vn?(t=to(),Oe=3):t===ni?(t=to(),Oe=4):Oe=t===Oi?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_t=t,je===null&&(Ze=1,kn(e,Ut(t,e.current)))}function Yd(){var e=Ct.current;return e===null?!0:(we&4194048)===we?Yt===null:(we&62914560)===we||(we&536870912)!==0?e===Yt:!1}function Qd(){var e=x.H;return x.H=ws,e===null?ws:e}function Gd(){var e=x.A;return x.A=Yx,e}function Kn(){Ze=4,Rl||(we&4194048)!==we&&Ct.current!==null||(Qa=!0),(Ll&134217727)===0&&(da&134217727)===0||He===null||ql(He,we,Mt,!1)}function lu(e,t,l){var s=_e;_e|=2;var n=Qd(),c=Gd();(He!==e||we!==t)&&(Vn=null,Xa(e,t)),t=!1;var i=Ze;e:do try{if(Oe!==0&&je!==null){var u=je,f=_t;switch(Oe){case 8:tu(),i=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(t=!0);var C=Oe;if(Oe=0,_t=null,Ka(e,u,f,C),l&&Qa){i=0;break e}break;default:C=Oe,Oe=0,_t=null,Ka(e,u,f,C)}}Vx(),i=Ze;break}catch(V){Bd(e,V)}while(!0);return t&&e.shellSuspendCounter++,cl=la=null,_e=s,x.H=n,x.A=c,je===null&&(He=null,we=0,fn()),i}function Vx(){for(;je!==null;)Vd(je)}function Xx(e,t){var l=_e;_e|=2;var s=Qd(),n=Gd();He!==e||we!==t?(Vn=null,Gn=ht()+500,Xa(e,t)):Qa=Pa(e,t);e:do try{if(Oe!==0&&je!==null){t=je;var c=_t;t:switch(Oe){case 1:Oe=0,_t=null,Ka(e,t,c,1);break;case 2:case 9:if(Pr(c)){Oe=0,_t=null,Xd(t);break}t=function(){Oe!==2&&Oe!==9||He!==e||(Oe=7),Pt(e)},c.then(t,t);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Pr(c)?(Oe=0,_t=null,Xd(t)):(Oe=0,_t=null,Ka(e,t,c,7));break;case 5:var i=null;switch(je.tag){case 26:i=je.memoizedState;case 5:case 27:var u=je;if(i?_f(i):u.stateNode.complete){Oe=0,_t=null;var f=u.sibling;if(f!==null)je=f;else{var C=u.return;C!==null?(je=C,Zn(C)):je=null}break t}}Oe=0,_t=null,Ka(e,t,c,5);break;case 6:Oe=0,_t=null,Ka(e,t,c,6);break;case 8:tu(),Ze=6;break e;default:throw Error(d(462))}}Kx();break}catch(V){Bd(e,V)}while(!0);return cl=la=null,x.H=s,x.A=n,_e=l,je!==null?0:(He=null,we=0,fn(),Ze)}function Kx(){for(;je!==null&&!mt();)Vd(je)}function Vd(e){var t=md(e.alternate,e,pl);e.memoizedProps=e.pendingProps,t===null?Zn(e):je=t}function Xd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=ud(l,t,t.pendingProps,t.type,void 0,we);break;case 11:t=ud(l,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:yi(t);default:pd(l,t),t=je=Qr(t,pl),t=md(l,t,pl)}e.memoizedProps=e.pendingProps,t===null?Zn(e):je=t}function Ka(e,t,l,s){cl=la=null,yi(t),Ra=null,ps=0;var n=t.return;try{if(kx(e,n,t,l,we)){Ze=1,kn(e,Ut(l,e.current)),je=null;return}}catch(c){if(n!==null)throw je=n,c;Ze=1,kn(e,Ut(l,e.current)),je=null;return}t.flags&32768?(De||s===1?e=!0:Qa||(we&536870912)!==0?e=!1:(Rl=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ct.current,s!==null&&s.tag===13&&(s.flags|=16384))),Kd(t,e)):Zn(t)}function Zn(e){var t=e;do{if((t.flags&32768)!==0){Kd(t,Rl);return}e=t.return;var l=Ux(t.alternate,t,pl);if(l!==null){je=l;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ze===0&&(Ze=5)}function Kd(e,t){do{var l=Hx(e.alternate,e);if(l!==null){l.flags&=32767,je=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=l}while(e!==null);Ze=6,je=null}function Zd(e,t,l,s,n,c,i,u,f){e.cancelPendingCommit=null;do $n();while(tt!==0);if((_e&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(c=t.lanes|t.childLanes,c|=Vc,A0(e,l,c,i,u,f),e===He&&(je=He=null,we=0),Va=t,Hl=e,yl=l,Ii=c,Pi=n,Ld=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Wx(Js,function(){return Id(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=x.T,x.T=null,n=Y.p,Y.p=2,i=_e,_e|=4;try{qx(e,t,l)}finally{_e=i,Y.p=n,x.T=s}}tt=1,$d(),Jd(),Wd()}}function $d(){if(tt===1){tt=0;var e=Hl,t=Va,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=x.T,x.T=null;var s=Y.p;Y.p=2;var n=_e;_e|=4;try{zd(t,e);var c=mu,i=Or(e.containerInfo),u=c.focusedElem,f=c.selectionRange;if(i!==u&&u&&u.ownerDocument&&Mr(u.ownerDocument.documentElement,u)){if(f!==null&&qc(u)){var C=f.start,V=f.end;if(V===void 0&&(V=C),"selectionStart"in u)u.selectionStart=C,u.selectionEnd=Math.min(V,u.value.length);else{var $=u.ownerDocument||document,M=$&&$.defaultView||window;if(M.getSelection){var L=M.getSelection(),oe=u.textContent.length,he=Math.min(f.start,oe),Ue=f.end===void 0?he:Math.min(f.end,oe);!L.extend&&he>Ue&&(i=Ue,Ue=he,he=i);var b=_r(u,he),m=_r(u,Ue);if(b&&m&&(L.rangeCount!==1||L.anchorNode!==b.node||L.anchorOffset!==b.offset||L.focusNode!==m.node||L.focusOffset!==m.offset)){var E=$.createRange();E.setStart(b.node,b.offset),L.removeAllRanges(),he>Ue?(L.addRange(E),L.extend(m.node,m.offset)):(E.setEnd(m.node,m.offset),L.addRange(E))}}}}for($=[],L=u;L=L.parentNode;)L.nodeType===1&&$.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<$.length;u++){var Z=$[u];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}cc=!!xu,mu=xu=null}finally{_e=n,Y.p=s,x.T=l}}e.current=t,tt=2}}function Jd(){if(tt===2){tt=0;var e=Hl,t=Va,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=x.T,x.T=null;var s=Y.p;Y.p=2;var n=_e;_e|=4;try{Sd(e,t.alternate,t)}finally{_e=n,Y.p=s,x.T=l}}tt=3}}function Wd(){if(tt===4||tt===3){tt=0,el();var e=Hl,t=Va,l=yl,s=Ld;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,Va=Hl=null,Fd(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Ul=null),vc(l),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Ia,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=x.T,n=Y.p,Y.p=2,x.T=null;try{for(var c=e.onRecoverableError,i=0;i<s.length;i++){var u=s[i];c(u.value,{componentStack:u.stack})}}finally{x.T=t,Y.p=n}}(yl&3)!==0&&$n(),Pt(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===eu?Os++:(Os=0,eu=e):Os=0,ks(0)}}function Fd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ms(t)))}function $n(){return $d(),Jd(),Wd(),Id()}function Id(){if(tt!==5)return!1;var e=Hl,t=Ii;Ii=0;var l=vc(yl),s=x.T,n=Y.p;try{Y.p=32>l?32:l,x.T=null,l=Pi,Pi=null;var c=Hl,i=yl;if(tt=0,Va=Hl=null,yl=0,(_e&6)!==0)throw Error(d(331));var u=_e;if(_e|=4,Od(c.current),Td(c,c.current,i,l),_e=u,ks(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Ia,c)}catch{}return!0}finally{Y.p=n,x.T=s,Fd(e,t)}}function Pd(e,t,l){t=Ut(l,t),t=Mi(e.stateNode,t,2),e=_l(e,t,2),e!==null&&(es(e,2),Pt(e))}function ke(e,t,l){if(e.tag===3)Pd(e,e,l);else for(;t!==null;){if(t.tag===3){Pd(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ul===null||!Ul.has(s))){e=Ut(l,e),l=ed(2),s=_l(t,l,2),s!==null&&(td(l,s,t,e),es(s,2),Pt(s));break}}t=t.return}}function au(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Qx;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(l)||(Ji=!0,n.add(l),e=Zx.bind(null,e,t,l),t.then(e,e))}function Zx(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,He===e&&(we&l)===l&&(Ze===4||Ze===3&&(we&62914560)===we&&300>ht()-Qn?(_e&2)===0&&Xa(e,0):Wi|=l,Ga===we&&(Ga=0)),Pt(e)}function ef(e,t){t===0&&(t=Zu()),e=Pl(e,t),e!==null&&(es(e,t),Pt(e))}function $x(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),ef(e,l)}function Jx(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(d(314))}s!==null&&s.delete(t),ef(e,l)}function Wx(e,t){return xt(e,t)}var Jn=null,Za=null,su=!1,Wn=!1,nu=!1,Bl=0;function Pt(e){e!==Za&&e.next===null&&(Za===null?Jn=Za=e:Za=Za.next=e),Wn=!0,su||(su=!0,Ix())}function ks(e,t){if(!nu&&Wn){nu=!0;do for(var l=!1,s=Jn;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var c=0;else{var i=s.suspendedLanes,u=s.pingedLanes;c=(1<<31-Dt(42|e)+1)-1,c&=n&~(i&~u),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(l=!0,sf(s,c))}else c=we,c=Ps(s,s===He?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||Pa(s,c)||(l=!0,sf(s,c));s=s.next}while(l);nu=!1}}function Fx(){tf()}function tf(){Wn=su=!1;var e=0;Bl!==0&&um()&&(e=Bl);for(var t=ht(),l=null,s=Jn;s!==null;){var n=s.next,c=lf(s,t);c===0?(s.next=null,l===null?Jn=n:l.next=n,n===null&&(Za=l)):(l=s,(e!==0||(c&3)!==0)&&(Wn=!0)),s=n}tt!==0&&tt!==5||ks(e),Bl!==0&&(Bl=0)}function lf(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var i=31-Dt(c),u=1<<i,f=n[i];f===-1?((u&l)===0||(u&s)!==0)&&(n[i]=w0(u,t)):f<=t&&(e.expiredLanes|=u),c&=~u}if(t=He,l=we,l=Ps(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(Oe===2||Oe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Xe(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Pa(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&Xe(s),vc(l)){case 2:case 8:l=Xu;break;case 32:l=Js;break;case 268435456:l=Ku;break;default:l=Js}return s=af.bind(null,e),l=xt(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&Xe(s),e.callbackPriority=2,e.callbackNode=null,2}function af(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if($n()&&e.callbackNode!==l)return null;var s=we;return s=Ps(e,e===He?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Hd(e,s,t),lf(e,ht()),e.callbackNode!=null&&e.callbackNode===l?af.bind(null,e):null)}function sf(e,t){if($n())return null;Hd(e,t,!0)}function Ix(){om(function(){(_e&6)!==0?xt(Vu,Fx):tf()})}function cu(){if(Bl===0){var e=Ma;e===0&&(e=Ws,Ws<<=1,(Ws&261888)===0&&(Ws=256)),Bl=e}return Bl}function nf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:an(""+e)}function cf(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Px(e,t,l,s,n){if(t==="submit"&&l&&l.stateNode===n){var c=nf((n[pt]||null).action),i=s.submitter;i&&(t=(t=i[pt]||null)?nf(t.formAction):i.getAttribute("formAction"),t!==null&&(c=t,i=null));var u=new un("action","action",null,s,n);e.push({event:u,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Bl!==0){var f=i?cf(n,i):new FormData(n);Di(l,{pending:!0,data:f,method:n.method,action:c},null,f)}}else typeof c=="function"&&(u.preventDefault(),f=i?cf(n,i):new FormData(n),Di(l,{pending:!0,data:f,method:n.method,action:c},c,f))},currentTarget:n}]})}}for(var iu=0;iu<Gc.length;iu++){var uu=Gc[iu],em=uu.toLowerCase(),tm=uu[0].toUpperCase()+uu.slice(1);Xt(em,"on"+tm)}Xt(Lr,"onAnimationEnd"),Xt(Ur,"onAnimationIteration"),Xt(Hr,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(yx,"onTransitionRun"),Xt(bx,"onTransitionStart"),Xt(gx,"onTransitionCancel"),Xt(qr,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),Jl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rs));function uf(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],n=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var i=s.length-1;0<=i;i--){var u=s[i],f=u.instance,C=u.currentTarget;if(u=u.listener,f!==c&&n.isPropagationStopped())break e;c=u,n.currentTarget=C;try{c(n)}catch(V){dn(V)}n.currentTarget=null,c=f}else for(i=0;i<s.length;i++){if(u=s[i],f=u.instance,C=u.currentTarget,u=u.listener,f!==c&&n.isPropagationStopped())break e;c=u,n.currentTarget=C;try{c(n)}catch(V){dn(V)}n.currentTarget=null,c=f}}}}function Se(e,t){var l=t[Nc];l===void 0&&(l=t[Nc]=new Set);var s=e+"__bubble";l.has(s)||(rf(t,e,2,!1),l.add(s))}function ru(e,t,l){var s=0;t&&(s|=4),rf(l,e,s,t)}var Fn="_reactListening"+Math.random().toString(36).slice(2);function ou(e){if(!e[Fn]){e[Fn]=!0,er.forEach(function(l){l!=="selectionchange"&&(lm.has(l)||ru(l,!1,e),ru(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fn]||(t[Fn]=!0,ru("selectionchange",!1,t))}}function rf(e,t,l,s){switch(Hf(t)){case 2:var n=Tm;break;case 8:n=_m;break;default:n=Au}l=n.bind(null,t,l,e),n=void 0,!Tc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function du(e,t,l,s,n){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var u=s.stateNode.containerInfo;if(u===n)break;if(i===4)for(i=s.return;i!==null;){var f=i.tag;if((f===3||f===4)&&i.stateNode.containerInfo===n)return;i=i.return}for(;u!==null;){if(i=ha(u),i===null)return;if(f=i.tag,f===5||f===6||f===26||f===27){s=c=i;continue e}u=u.parentNode}}s=s.return}fr(function(){var C=c,V=zc(l),$=[];e:{var M=Br.get(e);if(M!==void 0){var L=un,oe=e;switch(e){case"keypress":if(nn(l)===0)break e;case"keydown":case"keyup":L=J0;break;case"focusin":oe="focus",L=kc;break;case"focusout":oe="blur",L=kc;break;case"beforeblur":case"afterblur":L=kc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=U0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=I0;break;case Lr:case Ur:case Hr:L=B0;break;case qr:L=ex;break;case"scroll":case"scrollend":L=R0;break;case"wheel":L=lx;break;case"copy":case"cut":case"paste":L=Q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=yr;break;case"toggle":case"beforetoggle":L=sx}var he=(t&4)!==0,Ue=!he&&(e==="scroll"||e==="scrollend"),b=he?M!==null?M+"Capture":null:M;he=[];for(var m=C,E;m!==null;){var Z=m;if(E=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||E===null||b===null||(Z=as(m,b),Z!=null&&he.push(Ls(m,Z,E))),Ue)break;m=m.return}0<he.length&&(M=new L(M,oe,null,l,V),$.push({event:M,listeners:he}))}}if((t&7)===0){e:{if(M=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",M&&l!==Ec&&(oe=l.relatedTarget||l.fromElement)&&(ha(oe)||oe[ma]))break e;if((L||M)&&(M=V.window===V?V:(M=V.ownerDocument)?M.defaultView||M.parentWindow:window,L?(oe=l.relatedTarget||l.toElement,L=C,oe=oe?ha(oe):null,oe!==null&&(Ue=X(oe),he=oe.tag,oe!==Ue||he!==5&&he!==27&&he!==6)&&(oe=null)):(L=null,oe=C),L!==oe)){if(he=hr,Z="onMouseLeave",b="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(he=yr,Z="onPointerLeave",b="onPointerEnter",m="pointer"),Ue=L==null?M:ls(L),E=oe==null?M:ls(oe),M=new he(Z,m+"leave",L,l,V),M.target=Ue,M.relatedTarget=E,Z=null,ha(V)===C&&(he=new he(b,m+"enter",oe,l,V),he.target=E,he.relatedTarget=Ue,Z=he),Ue=Z,L&&oe)t:{for(he=am,b=L,m=oe,E=0,Z=b;Z;Z=he(Z))E++;Z=0;for(var me=m;me;me=he(me))Z++;for(;0<E-Z;)b=he(b),E--;for(;0<Z-E;)m=he(m),Z--;for(;E--;){if(b===m||m!==null&&b===m.alternate){he=b;break t}b=he(b),m=he(m)}he=null}else he=null;L!==null&&of($,M,L,he,!1),oe!==null&&Ue!==null&&of($,Ue,oe,he,!0)}}e:{if(M=C?ls(C):window,L=M.nodeName&&M.nodeName.toLowerCase(),L==="select"||L==="input"&&M.type==="file")var ze=Ar;else if(Sr(M))if(Dr)ze=mx;else{ze=fx;var de=dx}else L=M.nodeName,!L||L.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?C&&Dc(C.elementType)&&(ze=Ar):ze=xx;if(ze&&(ze=ze(e,C))){wr($,ze,l,V);break e}de&&de(e,M,C),e==="focusout"&&C&&M.type==="number"&&C.memoizedProps.value!=null&&Ac(M,"number",M.value)}switch(de=C?ls(C):window,e){case"focusin":(Sr(de)||de.contentEditable==="true")&&(wa=de,Bc=C,ds=null);break;case"focusout":ds=Bc=wa=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,kr($,l,V);break;case"selectionchange":if(px)break;case"keydown":case"keyup":kr($,l,V)}var ge;if(Lc)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Sa?Nr(e,l)&&(Ae="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(br&&l.locale!=="ko"&&(Sa||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Sa&&(ge=xr()):(wl=V,_c="value"in wl?wl.value:wl.textContent,Sa=!0)),de=In(C,Ae),0<de.length&&(Ae=new pr(Ae,e,null,l,V),$.push({event:Ae,listeners:de}),ge?Ae.data=ge:(ge=jr(l),ge!==null&&(Ae.data=ge)))),(ge=cx?ix(e,l):ux(e,l))&&(Ae=In(C,"onBeforeInput"),0<Ae.length&&(de=new pr("onBeforeInput","beforeinput",null,l,V),$.push({event:de,listeners:Ae}),de.data=ge)),Px($,e,C,l,V)}uf($,t)})}function Ls(e,t,l){return{instance:e,listener:t,currentTarget:l}}function In(e,t){for(var l=t+"Capture",s=[];e!==null;){var n=e,c=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||c===null||(n=as(e,l),n!=null&&s.unshift(Ls(e,n,c)),n=as(e,t),n!=null&&s.push(Ls(e,n,c))),e.tag===3)return s;e=e.return}return[]}function am(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function of(e,t,l,s,n){for(var c=t._reactName,i=[];l!==null&&l!==s;){var u=l,f=u.alternate,C=u.stateNode;if(u=u.tag,f!==null&&f===s)break;u!==5&&u!==26&&u!==27||C===null||(f=C,n?(C=as(l,c),C!=null&&i.unshift(Ls(l,C,f))):n||(C=as(l,c),C!=null&&i.push(Ls(l,C,f)))),l=l.return}i.length!==0&&e.push({event:t,listeners:i})}var sm=/\r\n?/g,nm=/\u0000|\uFFFD/g;function df(e){return(typeof e=="string"?e:""+e).replace(sm,`
`).replace(nm,"")}function ff(e,t){return t=df(t),df(e)===t}function Le(e,t,l,s,n,c){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||va(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&va(e,""+s);break;case"className":tn(e,"class",s);break;case"tabIndex":tn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":tn(e,l,s);break;case"style":or(e,s,c);break;case"data":if(t!=="object"){tn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=an(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(l==="formAction"?(t!=="input"&&Le(e,t,"name",n.name,n,null),Le(e,t,"formEncType",n.formEncType,n,null),Le(e,t,"formMethod",n.formMethod,n,null),Le(e,t,"formTarget",n.formTarget,n,null)):(Le(e,t,"encType",n.encType,n,null),Le(e,t,"method",n.method,n,null),Le(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=an(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=ll);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(d(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=an(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Se("beforetoggle",e),Se("toggle",e),en(e,"popover",s);break;case"xlinkActuate":tl(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":tl(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":tl(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":tl(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":tl(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":tl(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":tl(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":tl(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":tl(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":en(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=O0.get(l)||l,en(e,l,s))}}function fu(e,t,l,s,n,c){switch(l){case"style":or(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(d(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(d(60));e.innerHTML=l}}break;case"children":typeof s=="string"?va(e,s):(typeof s=="number"||typeof s=="bigint")&&va(e,""+s);break;case"onScroll":s!=null&&Se("scroll",e);break;case"onScrollEnd":s!=null&&Se("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ll);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),c=e[pt]||null,c=c!=null?c[l]:null,typeof c=="function"&&e.removeEventListener(t,c,n),typeof s=="function")){typeof c!="function"&&c!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,n);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):en(e,l,s)}}}function rt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Se("error",e),Se("load",e);var s=!1,n=!1,c;for(c in l)if(l.hasOwnProperty(c)){var i=l[c];if(i!=null)switch(c){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Le(e,t,c,i,l,null)}}n&&Le(e,t,"srcSet",l.srcSet,l,null),s&&Le(e,t,"src",l.src,l,null);return;case"input":Se("invalid",e);var u=c=i=n=null,f=null,C=null;for(s in l)if(l.hasOwnProperty(s)){var V=l[s];if(V!=null)switch(s){case"name":n=V;break;case"type":i=V;break;case"checked":f=V;break;case"defaultChecked":C=V;break;case"value":c=V;break;case"defaultValue":u=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(d(137,t));break;default:Le(e,t,s,V,l,null)}}cr(e,c,u,f,C,i,n,!1);return;case"select":Se("invalid",e),s=i=c=null;for(n in l)if(l.hasOwnProperty(n)&&(u=l[n],u!=null))switch(n){case"value":c=u;break;case"defaultValue":i=u;break;case"multiple":s=u;default:Le(e,t,n,u,l,null)}t=c,l=i,e.multiple=!!s,t!=null?ga(e,!!s,t,!1):l!=null&&ga(e,!!s,l,!0);return;case"textarea":Se("invalid",e),c=n=s=null;for(i in l)if(l.hasOwnProperty(i)&&(u=l[i],u!=null))switch(i){case"value":s=u;break;case"defaultValue":n=u;break;case"children":c=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(d(91));break;default:Le(e,t,i,u,l,null)}ur(e,s,n,c);return;case"option":for(f in l)l.hasOwnProperty(f)&&(s=l[f],s!=null)&&(f==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Le(e,t,f,s,l,null));return;case"dialog":Se("beforetoggle",e),Se("toggle",e),Se("cancel",e),Se("close",e);break;case"iframe":case"object":Se("load",e);break;case"video":case"audio":for(s=0;s<Rs.length;s++)Se(Rs[s],e);break;case"image":Se("error",e),Se("load",e);break;case"details":Se("toggle",e);break;case"embed":case"source":case"link":Se("error",e),Se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in l)if(l.hasOwnProperty(C)&&(s=l[C],s!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:Le(e,t,C,s,l,null)}return;default:if(Dc(t)){for(V in l)l.hasOwnProperty(V)&&(s=l[V],s!==void 0&&fu(e,t,V,s,l,void 0));return}}for(u in l)l.hasOwnProperty(u)&&(s=l[u],s!=null&&Le(e,t,u,s,l,null))}function cm(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,c=null,i=null,u=null,f=null,C=null,V=null;for(L in l){var $=l[L];if(l.hasOwnProperty(L)&&$!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":f=$;default:s.hasOwnProperty(L)||Le(e,t,L,null,s,$)}}for(var M in s){var L=s[M];if($=l[M],s.hasOwnProperty(M)&&(L!=null||$!=null))switch(M){case"type":c=L;break;case"name":n=L;break;case"checked":C=L;break;case"defaultChecked":V=L;break;case"value":i=L;break;case"defaultValue":u=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(d(137,t));break;default:L!==$&&Le(e,t,M,L,s,$)}}wc(e,i,u,f,C,V,c,n);return;case"select":L=i=u=M=null;for(c in l)if(f=l[c],l.hasOwnProperty(c)&&f!=null)switch(c){case"value":break;case"multiple":L=f;default:s.hasOwnProperty(c)||Le(e,t,c,null,s,f)}for(n in s)if(c=s[n],f=l[n],s.hasOwnProperty(n)&&(c!=null||f!=null))switch(n){case"value":M=c;break;case"defaultValue":u=c;break;case"multiple":i=c;default:c!==f&&Le(e,t,n,c,s,f)}t=u,l=i,s=L,M!=null?ga(e,!!l,M,!1):!!s!=!!l&&(t!=null?ga(e,!!l,t,!0):ga(e,!!l,l?[]:"",!1));return;case"textarea":L=M=null;for(u in l)if(n=l[u],l.hasOwnProperty(u)&&n!=null&&!s.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:Le(e,t,u,null,s,n)}for(i in s)if(n=s[i],c=l[i],s.hasOwnProperty(i)&&(n!=null||c!=null))switch(i){case"value":M=n;break;case"defaultValue":L=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(d(91));break;default:n!==c&&Le(e,t,i,n,s,c)}ir(e,M,L);return;case"option":for(var oe in l)M=l[oe],l.hasOwnProperty(oe)&&M!=null&&!s.hasOwnProperty(oe)&&(oe==="selected"?e.selected=!1:Le(e,t,oe,null,s,M));for(f in s)M=s[f],L=l[f],s.hasOwnProperty(f)&&M!==L&&(M!=null||L!=null)&&(f==="selected"?e.selected=M&&typeof M!="function"&&typeof M!="symbol":Le(e,t,f,M,s,L));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in l)M=l[he],l.hasOwnProperty(he)&&M!=null&&!s.hasOwnProperty(he)&&Le(e,t,he,null,s,M);for(C in s)if(M=s[C],L=l[C],s.hasOwnProperty(C)&&M!==L&&(M!=null||L!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(d(137,t));break;default:Le(e,t,C,M,s,L)}return;default:if(Dc(t)){for(var Ue in l)M=l[Ue],l.hasOwnProperty(Ue)&&M!==void 0&&!s.hasOwnProperty(Ue)&&fu(e,t,Ue,void 0,s,M);for(V in s)M=s[V],L=l[V],!s.hasOwnProperty(V)||M===L||M===void 0&&L===void 0||fu(e,t,V,M,s,L);return}}for(var b in l)M=l[b],l.hasOwnProperty(b)&&M!=null&&!s.hasOwnProperty(b)&&Le(e,t,b,null,s,M);for($ in s)M=s[$],L=l[$],!s.hasOwnProperty($)||M===L||M==null&&L==null||Le(e,t,$,M,s,L)}function xf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function im(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var n=l[s],c=n.transferSize,i=n.initiatorType,u=n.duration;if(c&&u&&xf(i)){for(i=0,u=n.responseEnd,s+=1;s<l.length;s++){var f=l[s],C=f.startTime;if(C>u)break;var V=f.transferSize,$=f.initiatorType;V&&xf($)&&(f=f.responseEnd,i+=V*(f<u?1:(u-C)/(f-C)))}if(--s,t+=8*(c+i)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var xu=null,mu=null;function Pn(e){return e.nodeType===9?e:e.ownerDocument}function mf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pu=null;function um(){var e=window.event;return e&&e.type==="popstate"?e===pu?!1:(pu=e,!0):(pu=null,!1)}var pf=typeof setTimeout=="function"?setTimeout:void 0,rm=typeof clearTimeout=="function"?clearTimeout:void 0,yf=typeof Promise=="function"?Promise:void 0,om=typeof queueMicrotask=="function"?queueMicrotask:typeof yf<"u"?function(e){return yf.resolve(null).then(e).catch(dm)}:pf;function dm(e){setTimeout(function(){throw e})}function Yl(e){return e==="head"}function bf(e,t){var l=t,s=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(n),Fa(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Us(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Us(l);for(var c=l.firstChild;c;){var i=c.nextSibling,u=c.nodeName;c[ts]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&c.rel.toLowerCase()==="stylesheet"||l.removeChild(c),c=i}}else l==="body"&&Us(e.ownerDocument.body);l=n}while(l);Fa(t)}function gf(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":yu(l),jc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function fm(e,t,l,s){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ts])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Qt(e.nextSibling),e===null)break}return null}function xm(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Qt(e.nextSibling),e===null))return null;return e}function vf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Qt(e.nextSibling),e===null))return null;return e}function bu(e){return e.data==="$?"||e.data==="$~"}function gu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mm(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var vu=null;function Nf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Qt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function jf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function Sf(e,t,l){switch(t=Pn(l),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function Us(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);jc(e)}var Gt=new Map,wf=new Set;function ec(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var bl=Y.d;Y.d={f:hm,r:pm,D:ym,C:bm,L:gm,m:vm,X:jm,S:Nm,M:Sm};function hm(){var e=bl.f(),t=Xn();return e||t}function pm(e){var t=pa(e);t!==null&&t.tag===5&&t.type==="form"?Bo(t):bl.r(e)}var $a=typeof document>"u"?null:document;function Af(e,t,l){var s=$a;if(s&&typeof t=="string"&&t){var n=Rt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),wf.has(n)||(wf.add(n),e={rel:e,crossOrigin:l,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),rt(t,"link",e),at(t),s.head.appendChild(t)))}}function ym(e){bl.D(e),Af("dns-prefetch",e,null)}function bm(e,t){bl.C(e,t),Af("preconnect",e,t)}function gm(e,t,l){bl.L(e,t,l);var s=$a;if(s&&e&&t){var n='link[rel="preload"][as="'+Rt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+Rt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+Rt(l.imageSizes)+'"]')):n+='[href="'+Rt(e)+'"]';var c=n;switch(t){case"style":c=Ja(e);break;case"script":c=Wa(e)}Gt.has(c)||(e=z({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Gt.set(c,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(Hs(c))||t==="script"&&s.querySelector(qs(c))||(t=s.createElement("link"),rt(t,"link",e),at(t),s.head.appendChild(t)))}}function vm(e,t){bl.m(e,t);var l=$a;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+Rt(s)+'"][href="'+Rt(e)+'"]',c=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Wa(e)}if(!Gt.has(c)&&(e=z({rel:"modulepreload",href:e},t),Gt.set(c,e),l.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qs(c)))return}s=l.createElement("link"),rt(s,"link",e),at(s),l.head.appendChild(s)}}}function Nm(e,t,l){bl.S(e,t,l);var s=$a;if(s&&e){var n=ya(s).hoistableStyles,c=Ja(e);t=t||"default";var i=n.get(c);if(!i){var u={loading:0,preload:null};if(i=s.querySelector(Hs(c)))u.loading=5;else{e=z({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Gt.get(c))&&Nu(e,l);var f=i=s.createElement("link");at(f),rt(f,"link",e),f._p=new Promise(function(C,V){f.onload=C,f.onerror=V}),f.addEventListener("load",function(){u.loading|=1}),f.addEventListener("error",function(){u.loading|=2}),u.loading|=4,tc(i,t,s)}i={type:"stylesheet",instance:i,count:1,state:u},n.set(c,i)}}}function jm(e,t){bl.X(e,t);var l=$a;if(l&&e){var s=ya(l).hoistableScripts,n=Wa(e),c=s.get(n);c||(c=l.querySelector(qs(n)),c||(e=z({src:e,async:!0},t),(t=Gt.get(n))&&ju(e,t),c=l.createElement("script"),at(c),rt(c,"link",e),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(n,c))}}function Sm(e,t){bl.M(e,t);var l=$a;if(l&&e){var s=ya(l).hoistableScripts,n=Wa(e),c=s.get(n);c||(c=l.querySelector(qs(n)),c||(e=z({src:e,async:!0,type:"module"},t),(t=Gt.get(n))&&ju(e,t),c=l.createElement("script"),at(c),rt(c,"link",e),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(n,c))}}function Df(e,t,l,s){var n=(n=ae.current)?ec(n):null;if(!n)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ja(l.href),l=ya(n).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ja(l.href);var c=ya(n).hoistableStyles,i=c.get(e);if(i||(n=n.ownerDocument||n,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,i),(c=n.querySelector(Hs(e)))&&!c._p&&(i.instance=c,i.state.loading=5),Gt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gt.set(e,l),c||wm(n,e,l,i.state))),t&&s===null)throw Error(d(528,""));return i}if(t&&s!==null)throw Error(d(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Wa(l),l=ya(n).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function Ja(e){return'href="'+Rt(e)+'"'}function Hs(e){return'link[rel="stylesheet"]['+e+"]"}function Ef(e){return z({},e,{"data-precedence":e.precedence,precedence:null})}function wm(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),rt(t,"link",l),at(t),e.head.appendChild(t))}function Wa(e){return'[src="'+Rt(e)+'"]'}function qs(e){return"script[async]"+e}function zf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Rt(l.href)+'"]');if(s)return t.instance=s,at(s),s;var n=z({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),at(s),rt(s,"style",n),tc(s,l.precedence,e),t.instance=s;case"stylesheet":n=Ja(l.href);var c=e.querySelector(Hs(n));if(c)return t.state.loading|=4,t.instance=c,at(c),c;s=Ef(l),(n=Gt.get(n))&&Nu(s,n),c=(e.ownerDocument||e).createElement("link"),at(c);var i=c;return i._p=new Promise(function(u,f){i.onload=u,i.onerror=f}),rt(c,"link",s),t.state.loading|=4,tc(c,l.precedence,e),t.instance=c;case"script":return c=Wa(l.src),(n=e.querySelector(qs(c)))?(t.instance=n,at(n),n):(s=l,(n=Gt.get(c))&&(s=z({},l),ju(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),at(n),rt(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,tc(s,l.precedence,e));return t.instance}function tc(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,c=n,i=0;i<s.length;i++){var u=s[i];if(u.dataset.precedence===t)c=u;else if(c!==n)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Nu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var lc=null;function Cf(e,t,l){if(lc===null){var s=new Map,n=lc=new Map;n.set(l,s)}else n=lc,s=n.get(l),s||(s=new Map,n.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var c=l[n];if(!(c[ts]||c[nt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var i=c.getAttribute(t)||"";i=e+i;var u=s.get(i);u?u.push(c):s.set(i,[c])}}return s}function Tf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Am(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _f(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Dm(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=Ja(s.href),c=t.querySelector(Hs(n));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ac.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=c,at(c);return}c=t.ownerDocument||t,s=Ef(s),(n=Gt.get(n))&&Nu(s,n),c=c.createElement("link"),at(c);var i=c;i._p=new Promise(function(u,f){i.onload=u,i.onerror=f}),rt(c,"link",s),l.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ac.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Su=0;function Em(e,t){return e.stylesheets&&e.count===0&&nc(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&nc(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&Su===0&&(Su=62500*im());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&nc(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>Su?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function ac(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sc=null;function nc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sc=new Map,t.forEach(zm,e),sc=null,ac.call(e))}function zm(e,t){if(!(t.state.loading&4)){var l=sc.get(e);if(l)var s=l.get(null);else{l=new Map,sc.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<n.length;c++){var i=n[c];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(l.set(i.dataset.precedence,i),s=i)}s&&l.set(null,s)}n=t.instance,i=n.getAttribute("data-precedence"),c=l.get(i)||s,c===s&&l.set(null,n),l.set(i,n),this.count++,s=ac.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),c?c.parentNode.insertBefore(n,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Bs={$$typeof:j,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Cm(e,t,l,s,n,c,i,u,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bc(0),this.hiddenUpdates=bc(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=c,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function Mf(e,t,l,s,n,c,i,u,f,C,V,$){return e=new Cm(e,t,l,i,f,C,V,$,u),t=1,c===!0&&(t|=24),c=zt(3,null,null,t),e.current=c,c.stateNode=e,t=li(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:l,cache:t},ci(c),e}function Of(e){return e?(e=Ea,e):Ea}function kf(e,t,l,s,n,c){n=Of(n),s.context===null?s.context=n:s.pendingContext=n,s=Tl(t),s.payload={element:l},c=c===void 0?null:c,c!==null&&(s.callback=c),l=_l(e,s,t),l!==null&&(jt(l,e,t),bs(l,e,t))}function Rf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function wu(e,t){Rf(e,t),(e=e.alternate)&&Rf(e,t)}function Lf(e){if(e.tag===13||e.tag===31){var t=Pl(e,67108864);t!==null&&jt(t,e,67108864),wu(e,67108864)}}function Uf(e){if(e.tag===13||e.tag===31){var t=Ot();t=gc(t);var l=Pl(e,t);l!==null&&jt(l,e,t),wu(e,t)}}var cc=!0;function Tm(e,t,l,s){var n=x.T;x.T=null;var c=Y.p;try{Y.p=2,Au(e,t,l,s)}finally{Y.p=c,x.T=n}}function _m(e,t,l,s){var n=x.T;x.T=null;var c=Y.p;try{Y.p=8,Au(e,t,l,s)}finally{Y.p=c,x.T=n}}function Au(e,t,l,s){if(cc){var n=Du(s);if(n===null)du(e,t,s,ic,l),qf(e,s);else if(Om(n,e,t,l,s))s.stopPropagation();else if(qf(e,s),t&4&&-1<Mm.indexOf(e)){for(;n!==null;){var c=pa(n);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var i=$l(c.pendingLanes);if(i!==0){var u=c;for(u.pendingLanes|=2,u.entangledLanes|=2;i;){var f=1<<31-Dt(i);u.entanglements[1]|=f,i&=~f}Pt(c),(_e&6)===0&&(Gn=ht()+500,ks(0))}}break;case 31:case 13:u=Pl(c,2),u!==null&&jt(u,c,2),Xn(),wu(c,2)}if(c=Du(s),c===null&&du(e,t,s,ic,l),c===n)break;n=c}n!==null&&s.stopPropagation()}else du(e,t,s,null,l)}}function Du(e){return e=zc(e),Eu(e)}var ic=null;function Eu(e){if(ic=null,e=ha(e),e!==null){var t=X(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=w(t),e!==null)return e;e=null}else if(l===31){if(e=F(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ic=e,null}function Hf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(y0()){case Vu:return 2;case Xu:return 8;case Js:case b0:return 32;case Ku:return 268435456;default:return 32}default:return 32}}var zu=!1,Ql=null,Gl=null,Vl=null,Ys=new Map,Qs=new Map,Xl=[],Mm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qf(e,t){switch(e){case"focusin":case"focusout":Ql=null;break;case"dragenter":case"dragleave":Gl=null;break;case"mouseover":case"mouseout":Vl=null;break;case"pointerover":case"pointerout":Ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qs.delete(t.pointerId)}}function Gs(e,t,l,s,n,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:c,targetContainers:[n]},t!==null&&(t=pa(t),t!==null&&Lf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Om(e,t,l,s,n){switch(t){case"focusin":return Ql=Gs(Ql,e,t,l,s,n),!0;case"dragenter":return Gl=Gs(Gl,e,t,l,s,n),!0;case"mouseover":return Vl=Gs(Vl,e,t,l,s,n),!0;case"pointerover":var c=n.pointerId;return Ys.set(c,Gs(Ys.get(c)||null,e,t,l,s,n)),!0;case"gotpointercapture":return c=n.pointerId,Qs.set(c,Gs(Qs.get(c)||null,e,t,l,s,n)),!0}return!1}function Bf(e){var t=ha(e.target);if(t!==null){var l=X(t);if(l!==null){if(t=l.tag,t===13){if(t=w(l),t!==null){e.blockedOn=t,Iu(e.priority,function(){Uf(l)});return}}else if(t===31){if(t=F(l),t!==null){e.blockedOn=t,Iu(e.priority,function(){Uf(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Du(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Ec=s,l.target.dispatchEvent(s),Ec=null}else return t=pa(l),t!==null&&Lf(t),e.blockedOn=l,!1;t.shift()}return!0}function Yf(e,t,l){uc(e)&&l.delete(t)}function km(){zu=!1,Ql!==null&&uc(Ql)&&(Ql=null),Gl!==null&&uc(Gl)&&(Gl=null),Vl!==null&&uc(Vl)&&(Vl=null),Ys.forEach(Yf),Qs.forEach(Yf)}function rc(e,t){e.blockedOn===t&&(e.blockedOn=null,zu||(zu=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,km)))}var oc=null;function Qf(e){oc!==e&&(oc=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){oc===e&&(oc=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(Eu(s||l)===null)continue;break}var c=pa(l);c!==null&&(e.splice(t,3),t-=3,Di(c,{pending:!0,data:n,method:l.method,action:s},s,n))}}))}function Fa(e){function t(f){return rc(f,e)}Ql!==null&&rc(Ql,e),Gl!==null&&rc(Gl,e),Vl!==null&&rc(Vl,e),Ys.forEach(t),Qs.forEach(t);for(var l=0;l<Xl.length;l++){var s=Xl[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Xl.length&&(l=Xl[0],l.blockedOn===null);)Bf(l),l.blockedOn===null&&Xl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var n=l[s],c=l[s+1],i=n[pt]||null;if(typeof c=="function")i||Qf(l);else if(i){var u=null;if(c&&c.hasAttribute("formAction")){if(n=c,i=c[pt]||null)u=i.formAction;else if(Eu(n)!==null)continue}else u=i.action;typeof u=="function"?l[s+1]=u:(l.splice(s,3),s-=3),Qf(l)}}}function Gf(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(i){return n=i})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Cu(e){this._internalRoot=e}dc.prototype.render=Cu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var l=t.current,s=Ot();kf(l,s,e,t,null,null)},dc.prototype.unmount=Cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;kf(e.current,2,null,e,null,null),Xn(),t[ma]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fu();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Xl.length&&t!==0&&t<Xl[l].priority;l++);Xl.splice(l,0,e),l===0&&Bf(e)}};var Vf=U.version;if(Vf!=="19.2.3")throw Error(d(527,Vf,"19.2.3"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=N(t),e=e!==null?B(e):null,e=e===null?null:e.stateNode,e};var Rm={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ia=fc.inject(Rm),At=fc}catch{}}return Xs.createRoot=function(e,t){if(!h(e))throw Error(d(299));var l=!1,s="",n=Wo,c=Fo,i=Io;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Mf(e,1,!1,null,null,l,s,null,n,c,i,Gf),e[ma]=t.current,ou(e),new Cu(t)},Xs.hydrateRoot=function(e,t,l){if(!h(e))throw Error(d(299));var s=!1,n="",c=Wo,i=Fo,u=Io,f=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(c=l.onUncaughtError),l.onCaughtError!==void 0&&(i=l.onCaughtError),l.onRecoverableError!==void 0&&(u=l.onRecoverableError),l.formState!==void 0&&(f=l.formState)),t=Mf(e,1,!0,t,l??null,s,n,f,c,i,u,Gf),t.context=Of(null),l=t.current,s=Ot(),s=gc(s),n=Tl(s),n.callback=null,_l(l,n,s),l=s,t.current.lanes=l,es(t,l),Pt(t),e[ma]=t.current,ou(e),new dc(t)},Xs.version="19.2.3",Xs}var e0;function Km(){if(e0)return Mu.exports;e0=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(U){console.error(U)}}return o(),Mu.exports=Xm(),Mu.exports}var Zm=Km();const $m=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jm=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(U,v,d)=>d?d.toUpperCase():v.toLowerCase()),t0=o=>{const U=Jm(o);return U.charAt(0).toUpperCase()+U.slice(1)},u0=(...o)=>o.filter((U,v,d)=>!!U&&U.trim()!==""&&d.indexOf(U)===v).join(" ").trim(),Wm=o=>{for(const U in o)if(U.startsWith("aria-")||U==="role"||U==="title")return!0};var Fm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Im=y.forwardRef(({color:o="currentColor",size:U=24,strokeWidth:v=2,absoluteStrokeWidth:d,className:h="",children:X,iconNode:w,...F},T)=>y.createElement("svg",{ref:T,...Fm,width:U,height:U,stroke:o,strokeWidth:d?Number(v)*24/Number(U):v,className:u0("lucide",h),...!X&&!Wm(F)&&{"aria-hidden":"true"},...F},[...w.map(([N,B])=>y.createElement(N,B)),...Array.isArray(X)?X:[X]]));const Ne=(o,U)=>{const v=y.forwardRef(({className:d,...h},X)=>y.createElement(Im,{ref:X,iconNode:U,className:u0(`lucide-${$m(t0(o))}`,`lucide-${o}`,d),...h}));return v.displayName=t0(o),v};const Pm=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],r0=Ne("activity",Pm);const eh=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],l0=Ne("archive",eh);const th=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lh=Ne("arrow-right",th);const ah=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],a0=Ne("calculator",ah);const sh=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$t=Ne("calendar",sh);const nh=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],o0=Ne("chart-no-axes-column",nh);const ch=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],d0=Ne("chart-pie",ch);const ih=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Bu=Ne("chevron-down",ih);const uh=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],f0=Ne("chevron-up",uh);const rh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],x0=Ne("circle-alert",rh);const oh=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],m0=Ne("circle-check-big",oh);const dh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],fh=Ne("circle-minus",dh);const xh=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],xc=Ne("clipboard-list",xh);const mh=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],hh=Ne("clipboard",mh);const ph=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h0=Ne("clock",ph);const yh=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],bh=Ne("credit-card",yh);const gh=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Vt=Ne("dollar-sign",gh);const vh=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Lu=Ne("file-text",vh);const Nh=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Yu=Ne("funnel",Nh);const jh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Sh=Ne("info",jh);const wh=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ah=Ne("lock",wh);const Dh=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Eh=Ne("log-out",Dh);const zh=[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]],s0=Ne("package-plus",zh);const Ch=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],mc=Ne("package",Ch);const Th=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],_h=Ne("piggy-bank",Th);const Mh=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],lt=Ne("refresh-cw",Mh);const Oh=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],kh=Ne("rotate-ccw",Oh);const Rh=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Zs=Ne("save",Rh);const Lh=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ft=Ne("search",Lh);const Uh=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hh=Ne("settings",Uh);const qh=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xa=Ne("shield",qh);const Bh=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],n0=Ne("shopping-cart",Bh);const Yh=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qu=Ne("square-check-big",Yh);const Qh=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],p0=Ne("trash-2",Qh);const Gh=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$s=Ne("trending-up",Gh);const Vh=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hc=Ne("triangle-alert",Vh);const Xh=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Uu=Ne("truck",Xh);const Kh=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Zh=Ne("user-plus",Kh);const $h=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pc=Ne("user",$h);const Jh=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gu=Ne("users",Jh);const Wh=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ks=Ne("wallet",Wh),ve=async(o,U,v,d=null)=>{try{const h=new AbortController,X=setTimeout(()=>h.abort(),3e4),w=await fetch(o,{method:"POST",redirect:"follow",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:U,payload:v,token:d}),signal:h.signal});if(clearTimeout(X),!w.ok)throw new Error(`HTTP error! status: ${w.status}`);const F=await w.json();if(F.error)throw new Error(F.error);return F}catch(h){throw console.error(`API Error [${U}]:`,h),h.name==="AbortError"?new Error(" GAS "):h.message.includes("Load failed")||h.message.includes("Failed to fetch")?new Error(" GAS Anyone CORS "):h}};function Fh({onLogin:o,apiUrl:U}){const[v,d]=y.useState(!1),[h,X]=y.useState(""),[w,F]=y.useState(""),[T,N]=y.useState(!1),B=async z=>{z.preventDefault(),N(!0);try{const k=await ve(U,v?"register":"login",{username:h,password:w});console.log("Login API Result:",k),v?(alert(" ()"),d(!1)):o(k)}catch(S){alert(S.message)}finally{N(!1)}};return a.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 bg-slate-50",children:a.jsxs("div",{className:"bg-white border border-slate-200 p-8 w-full max-w-md rounded-2xl shadow-2xl",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("img",{src:"/inventory-system/logo.png",alt:"Logo",className:"h-20 w-auto object-contain"})}),a.jsx("p",{className:"text-slate-500",children:v?"":""})]}),a.jsxs("form",{onSubmit:B,className:"space-y-6",children:[a.jsx("div",{children:a.jsxs("div",{className:"relative",children:[a.jsx(pc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),a.jsx("input",{required:!0,type:"text",placeholder:"",className:"input-field pl-10 bg-slate-50 border-slate-200 focus:bg-white transition-all",value:h,onChange:z=>X(z.target.value)})]})}),a.jsx("div",{children:a.jsxs("div",{className:"relative",children:[a.jsx(Ah,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500",size:20}),a.jsx("input",{required:!0,type:"password",placeholder:"",className:"input-field pl-10 bg-slate-50 border-slate-200 focus:bg-white transition-all",value:w,onChange:z=>F(z.target.value)})]})}),a.jsxs("button",{type:"submit",disabled:T,className:"btn-primary w-full flex justify-center items-center gap-2 py-3",children:[T?"...":v?"":""," ",a.jsx(lh,{size:18})]})]}),a.jsx("div",{className:"mt-6 text-center text-sm text-slate-500",children:a.jsx("button",{onClick:()=>d(!v),className:"hover:text-blue-400 transition-colors",children:v?"":""})})]})})}const Hu={1L:75,1L:80,2L:155,1L:80,2L:155,:90,:20,:20,:20,:20,:18.3,:20,:16.7,:20,:18.3,:45,:70,:70,:70,:70,1L:55,471:30,1795:75,:27.5,:25,:25,:30,:30,:27.5,:25,:20,:10,:20,:20,:25,:20,:20,:20,:20,:10,:10,:20,:20,:20,:20,:20,:16.7,:20,1L:70,2L:140,:50,:70,:50,:20,400:16.7,1000:25,1000:40,2000:40,2000:60,1000:60,2000:100,500:50,1000:60},c0=Object.keys(Hu),i0={1L:20,1L:20,2L:12,1L:20,2L:12,:20,:70,:70,:70,:12,:24,:20,:108,:40,:40,:15,:4,:4,:4,:4,1L:16,471:30,1795ml:9,:60,:20,:24,:15,:15,:24,:25,:15,:15,:15,:15,:24,:24,:24,:24,:15,:15,:15,:15,:15,:15,:15,:15,:24,:15},yc=(o,U)=>[...o].sort((v,d)=>{const h=String(v[U]||""),X=String(d[U]||""),w=c0.indexOf(h),F=c0.indexOf(X);return w===-1&&F===-1?h.localeCompare(X):w===-1?1:F===-1?-1:w-F}),Be=()=>{const o=new Date;return`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}-${String(o.getDate()).padStart(2,"0")}`};function Ih({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState({1e3:0,500:0,100:0,50:0,10:0,5:0,1:0}),[w,F]=y.useState(5e3),[T,N]=y.useState({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0}),[B,z]=y.useState(""),[S,k]=y.useState("CASH"),[O,te]=y.useState(!1),[A,g]=y.useState("products");y.useEffect(()=>{F(S==="CASH"?5e3:0)},[S]);const H=y.useCallback(async()=>{try{const q=await ve(U,"getProducts",{},o.token);if(console.log("Sales Page - Raw Products Data:",q),Array.isArray(q)){const ee=q.filter(Y=>(Number(Y.stock)||0)>0||(Number(Y.originalStock)||0)>0),x=yc(ee,"name");console.log("Sales Page - Sorted Products (Stock or Original > 0):",x),d(x.map(Y=>{const I=Number(Y.price)||0,se=Hu[Y.name]!==void 0?Hu[Y.name]:I;return{id:Y.id,name:Y.name,stock:Number(Y.stock)||0,originalStock:Number(Y.originalStock)||0,picked:0,original:0,returns:0,sold:0,price:se,subtotal:0}}))}else console.error("Sales Page - Data is not an array:",q)}catch(q){console.error("Fetch products failed",q),alert(": "+q.message)}},[U,o.token]);y.useEffect(()=>{(async()=>o?.token&&await H())()},[o.token,H]);const j=(q,ee,x)=>{let Y=Number(x);isNaN(Y)&&(Y=0),d(I=>I.map(se=>{if(se.id!==q)return se;let ie=ee==="picked"?Y:se.picked||0,r=ee==="original"?Y:se.original||0,Q=ee==="returns"?Y:se.returns||0,le=ee==="price"?Y:se.price||0;ie>se.stock&&(ie=se.stock),ie<0&&(ie=0),r>se.originalStock&&(r=se.originalStock),r<0&&(r=0);const ce=ie+r;Q>ce&&(Q=ce),Q<0&&(Q=0);const G={...se,picked:ie,original:r,returns:Q,price:le};return G.sold=G.picked+G.original-G.returns,G.subtotal=G.sold*(G.price||0),G}))},J=q=>{const ee=document.getElementById(q);ee&&(ee.focus(),ee.select?.(),ee.scrollIntoView({block:"nearest",behavior:"smooth"}))},D=(q,ee,x)=>{if(!["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(q.key))return;q.key.startsWith("Arrow")&&q.preventDefault();const I=["picked","original","returns","price"],se=I.indexOf(x);if(q.key==="Enter"){q.preventDefault();const r=["picked","original","returns"],Q=r.indexOf(x);if(Q<r.length-1&&Q!==-1){const le=r[Q+1];J(`input-${ee}-${le}`)}else ee<v.length-1?J(`input-${ee+1}-picked`):J("input-cash-1000");return}let ie=null;q.key==="ArrowUp"?ee>0&&(ie=`input-${ee-1}-${x}`):q.key==="ArrowDown"?ee<v.length-1?ie=`input-${ee+1}-${x}`:ie="input-cash-1000":q.key==="ArrowLeft"?se>0&&(ie=`input-${ee}-${I[se-1]}`):q.key==="ArrowRight"&&(se<I.length-1?ie=`input-${ee}-${I[se+1]}`:ie="input-cash-1000"),ie&&J(ie)},p=(q,ee,x,Y)=>{["Enter","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(q.key)&&(q.key.startsWith("Arrow")&&q.preventDefault(),q.key==="Enter"||q.key==="ArrowDown"?(q.preventDefault(),x&&J(x)):q.key==="ArrowUp"?Y?J(Y):v.length>0&&J(`input-${v.length-1}-price`):q.key==="ArrowLeft"&&v.length>0&&J(`input-${v.length-1}-price`))},K=v.reduce((q,ee)=>q+(ee.subtotal||0),0),re=Object.entries(h).reduce((q,[ee,x])=>q+Number(ee)*x,0)-w,W=Number(T.stall)+Number(T.cleaning)+Number(T.electricity)+Number(T.gas)+Number(T.parking)+Number(T.goods)+Number(T.bags)+Number(T.others)+Number(T.linePay),_=S==="CREDIT",ue=_?K:re+W+Number(T.serviceFee)-K,ne=async()=>{if(!B.trim()){alert("");const ee=document.getElementById("input-location");ee&&ee.focus();return}const q={salesRep:o.username,customer:B,paymentMethod:S,salesData:v.map(ee=>({productId:ee.id,picked:ee.picked,original:ee.original,returns:ee.returns,sold:ee.sold,unitPrice:ee.price})),cashData:{totalCash:S==="CREDIT"?0:re,reserve:w},expenseData:{...T,finalTotal:ue}};te(!0);try{await ve(U,"saveSales",q,o.token),alert(" Google Sheet"),window.location.reload()}catch(ee){alert(": "+ee.message)}finally{te(!1)}};return a.jsxs("div",{className:"flex flex-col h-[calc(100vh-8rem)] lg:h-auto",children:[O&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),a.jsxs("div",{className:"flex lg:hidden bg-white border-b border-slate-200 sticky top-0 z-50 mb-4 rounded-xl p-1 gap-1",children:[a.jsxs("button",{onClick:()=>g("products"),className:`flex-1 py-3 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${A==="products"?"bg-blue-600 text-white shadow-md":"text-slate-500"}`,children:[a.jsx(lt,{size:18})," "]}),a.jsxs("button",{onClick:()=>g("settlement"),className:`flex-1 py-3 text-sm font-bold rounded-lg transition-all flex items-center justify-center gap-2 ${A==="settlement"?"bg-blue-600 text-white shadow-md":"text-slate-500"}`,children:[a.jsx(a0,{size:18})," "]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 flex-1 overflow-hidden",children:[a.jsx("div",{className:`lg:col-span-2 flex flex-col ${A!=="products"?"hidden lg:flex":"flex"}`,children:a.jsxs("div",{className:"glass-panel p-4 lg:p-6 overflow-hidden flex flex-col h-full lg:h-[calc(100vh-10rem)]",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-4",children:[a.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2 text-slate-800",children:[a.jsx(lt,{size:20,className:"text-blue-600"})," "]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full md:w-auto",children:[a.jsxs("div",{className:"flex bg-slate-100 rounded-lg p-1 border border-slate-200",children:[a.jsx("button",{onClick:()=>k("CASH"),className:`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${S==="CASH"?"bg-emerald-500 text-white shadow-sm":"text-slate-400"}`,children:""}),a.jsx("button",{onClick:()=>k("CREDIT"),className:`px-4 py-1.5 text-xs font-bold rounded-md transition-all ${S==="CREDIT"?"bg-amber-500 text-white shadow-sm":"text-slate-400"}`,children:""})]}),a.jsx("div",{className:"flex items-center gap-2 flex-1 md:flex-none",children:a.jsx("input",{id:"input-location",type:"text",className:"input-field py-1.5 px-3 w-full md:w-48",placeholder:" ()...",value:B,onChange:q=>z(q.target.value)})})]})]}),a.jsx("div",{className:"hidden lg:block flex-1 overflow-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"sticky top-0 bg-white z-10 text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3",children:""}),a.jsx("th",{className:"p-3 w-20 text-center",children:" (/)"}),a.jsx("th",{className:"p-3 w-24",children:"(+)"}),a.jsx("th",{className:"p-3 w-24",children:"(+)"}),a.jsx("th",{className:"p-3 w-24",children:"(-)"}),a.jsx("th",{className:"p-3 w-16 text-center",children:""}),a.jsx("th",{className:"p-3 w-24",children:""}),a.jsx("th",{className:"p-3 w-28 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:v.map((q,ee)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-3 font-medium text-slate-800",children:q.name}),a.jsxs("td",{className:"p-3 text-center text-[10px] font-mono whitespace-nowrap",children:[a.jsx("span",{className:"text-blue-600",children:q.stock}),a.jsx("span",{className:"text-slate-300 mx-0.5",children:"/"}),a.jsx("span",{className:"text-orange-600",children:q.originalStock||0})]}),a.jsx("td",{className:"p-3",children:a.jsx("input",{id:`input-${ee}-picked`,type:"number",className:"input-field text-center p-1 bg-white h-8",value:q.picked||"",onChange:x=>j(q.id,"picked",x.target.value),onKeyDown:x=>D(x,ee,"picked")})}),a.jsx("td",{className:"p-3",children:a.jsx("input",{id:`input-${ee}-original`,type:"number",className:"input-field text-center p-1 bg-white h-8",value:q.original||"",onChange:x=>j(q.id,"original",x.target.value),onKeyDown:x=>D(x,ee,"original")})}),a.jsx("td",{className:"p-3",children:a.jsx("input",{id:`input-${ee}-returns`,type:"number",className:"input-field text-center p-1 text-red-600 h-8",value:q.returns||"",onChange:x=>j(q.id,"returns",x.target.value),onKeyDown:x=>D(x,ee,"returns")})}),a.jsx("td",{className:"p-3 text-center font-bold text-blue-600",children:q.sold}),a.jsx("td",{className:"p-3",children:a.jsx("input",{id:`input-${ee}-price`,type:"number",className:"input-field text-center p-1 w-full bg-white h-8",value:q.price,onChange:x=>j(q.id,"price",x.target.value),onKeyDown:x=>D(x,ee,"price")})}),a.jsxs("td",{className:"p-3 text-right font-mono text-emerald-600 text-sm whitespace-nowrap",children:["$",q.subtotal?.toLocaleString()]})]},q.id))})]})}),a.jsx("div",{className:"lg:hidden flex-1 overflow-auto space-y-4 pb-20",children:v.map((q,ee)=>a.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-4 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-slate-800",children:q.name}),a.jsxs("div",{className:"text-[10px] text-slate-500 mt-1",children:[": ",a.jsx("span",{className:"text-blue-600 font-bold",children:q.stock})," | : ",a.jsx("span",{className:"text-orange-600 font-bold",children:q.originalStock||0})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-xs text-slate-400",children:""}),a.jsxs("div",{className:"text-lg font-bold text-emerald-600",children:["$",q.subtotal?.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"text-[10px] text-slate-400 block mb-1",children:""}),a.jsx("input",{type:"number",className:"input-field text-center p-2 h-10 text-sm",value:q.picked||"",onChange:x=>j(q.id,"picked",x.target.value)})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"text-[10px] text-slate-400 block mb-1",children:""}),a.jsx("input",{type:"number",className:"input-field text-center p-2 h-10 text-sm",value:q.original||"",onChange:x=>j(q.id,"original",x.target.value)})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"text-[10px] text-red-400 block mb-1",children:""}),a.jsx("input",{type:"number",className:"input-field text-center p-2 h-10 text-sm text-red-600",value:q.returns||"",onChange:x=>j(q.id,"returns",x.target.value)})]}),a.jsxs("div",{className:"col-span-1",children:[a.jsx("label",{className:"text-[10px] text-slate-400 block mb-1",children:""}),a.jsx("div",{className:"h-10 flex items-center justify-center font-bold text-blue-600 bg-slate-50 rounded-lg border border-slate-100",children:q.sold})]})]}),a.jsxs("div",{className:"mt-2 text-right",children:[a.jsx("span",{className:"text-[10px] text-slate-400 mr-2",children:":"}),a.jsx("input",{type:"number",className:"w-16 border-b border-slate-200 text-right text-xs focus:border-blue-500 outline-none",value:q.price,onChange:x=>j(q.id,"price",x.target.value)})]})]},q.id))}),a.jsxs("div",{className:"hidden lg:flex mt-4 pt-4 border-t border-slate-100 justify-between items-center bg-slate-50 p-4 rounded-lg",children:[a.jsx("span",{className:"text-slate-500",children:" ()"}),a.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:["$",K.toLocaleString()]})]})]})}),a.jsxs("div",{className:`flex flex-col h-full lg:h-[calc(100vh-10rem)] gap-6 ${A!=="settlement"?"hidden lg:flex":"flex"}`,children:[a.jsxs("div",{className:`flex-1 overflow-y-auto space-y-6 pb-24 lg:pb-0 ${_?"opacity-50 pointer-events-none":""}`,children:[a.jsxs("div",{className:"glass-panel p-6 relative",children:[_&&a.jsx("div",{className:"absolute inset-0 z-50 cursor-not-allowed"}),a.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-slate-800",children:[a.jsx(a0,{size:20,className:"text-amber-600"})," "]}),a.jsxs("div",{className:"space-y-3",children:[[1e3,500,100,50,10,5,1].map((q,ee,x)=>{const Y=`input-cash-${q}`,I=ee<x.length-1?`input-cash-${x[ee+1]}`:"input-reserve",se=ee>0?`input-cash-${x[ee-1]}`:null;return a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("span",{className:"w-12 text-slate-500 font-mono text-right",children:q}),a.jsx("span",{className:"text-slate-300",children:"x"}),a.jsx("input",{id:Y,type:"number",className:"input-field flex-1",placeholder:"0",value:h[q]||"",onChange:ie=>X({...h,[q]:Number(ie.target.value)}),onKeyDown:ie=>p(ie,Y,I,se),disabled:_}),a.jsxs("span",{className:"w-20 text-right font-mono text-slate-500",children:["$",(q*h[q]).toLocaleString()]})]},q)}),a.jsxs("div",{className:"border-t border-slate-100 my-2 pt-2 flex items-center gap-4 text-red-600",children:[a.jsx("span",{className:"w-12 text-right",children:""}),a.jsx("span",{className:"text-slate-300",children:"-"}),a.jsx("input",{id:"input-reserve",type:"number",className:"input-field flex-1 border-red-900/50 focus:ring-red-500",value:w,onChange:q=>F(Number(q.target.value)),onKeyDown:q=>p(q,"input-reserve","input-expense-stall","input-cash-1"),disabled:_})]}),a.jsxs("div",{className:"bg-slate-50 p-3 rounded flex justify-between items-center border border-slate-100",children:[a.jsx("span",{className:"text-slate-500",children:""}),a.jsxs("span",{className:"text-xl font-bold text-amber-600",children:["$",(_?0:re).toLocaleString()]})]})]})]}),a.jsxs("div",{className:"glass-panel p-6 relative",children:[_&&a.jsx("div",{className:"absolute inset-0 z-50 cursor-not-allowed"}),a.jsx("h2",{className:"text-lg font-bold mb-4 text-rose-600",children:""}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:["stall:","cleaning:","electricity:","gas:","parking:","goods:","bags:","others:"].map((q,ee,x)=>{const[Y,I]=q.split(":"),se=`input-expense-${Y}`,ie=ee<x.length-1?x[ee+1].split(":")[0]:"linePay",r=ee<x.length-1?`input-expense-${ie}`:"input-expense-linePay",Q=ee>0?x[ee-1].split(":")[0]:null,le=ee>0?`input-expense-${Q}`:"input-reserve";return a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:I}),a.jsx("input",{id:se,type:"number",className:"input-field text-sm",value:T[Y]||"",onChange:ce=>N({...T,[Y]:Number(ce.target.value)}),onKeyDown:ce=>p(ce,se,r,le),disabled:_})]},Y)})}),a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Line Pay ()"}),a.jsx("input",{id:"input-expense-linePay",type:"number",className:"input-field border-green-200 text-green-600",value:T.linePay||"",onChange:q=>N({...T,linePay:Number(q.target.value)}),onKeyDown:q=>p(q,"input-expense-linePay","input-expense-serviceFee","input-expense-others"),disabled:_})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:" ()"}),a.jsx("input",{id:"input-expense-serviceFee",type:"number",className:"input-field border-red-200 text-red-600",value:T.serviceFee||"",onChange:q=>N({...T,serviceFee:Number(q.target.value)}),disabled:_,onKeyDown:q=>p(q,"input-expense-serviceFee",null,"input-expense-linePay")})]})]})]})]}),a.jsx("div",{className:"fixed lg:static bottom-0 left-0 right-0 p-4 lg:p-6 bg-white lg:bg-transparent border-t lg:border-t-0 border-slate-200 lg:shadow-none z-40 bg-white/90 backdrop-blur-md",children:a.jsxs("div",{className:"max-w-md mx-auto lg:max-w-none glass-panel p-4 lg:p-6 shadow-lg border-t-4 border-t-blue-600",children:[a.jsxs("div",{className:"flex justify-between items-end mb-4 lg:block",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-[10px] lg:text-sm text-slate-500 font-bold uppercase tracking-wider",children:_?"":""}),a.jsxs("div",{className:"text-2xl lg:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-700 to-indigo-700",children:["$",(_?K:ue).toLocaleString()]})]}),a.jsxs("button",{onClick:ne,className:"lg:hidden btn-primary flex items-center gap-2 py-2 px-6",disabled:O,children:[a.jsx(Zs,{size:18})," "]})]}),a.jsxs("button",{onClick:ne,className:"hidden lg:flex btn-primary w-full mt-2 justify-center items-center gap-2 py-4 text-lg",disabled:O,children:[a.jsx(Zs,{size:20})," "]})]})})]})]})]})}function Ph({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState(!0),[w,F]=y.useState(""),[T,N]=y.useState(!1),[B,z]=y.useState(null),[S,k]=y.useState("SCRAP"),[O,te]=y.useState(""),[A,g]=y.useState(""),[H,j]=y.useState({}),[J,D]=y.useState({}),[p,K]=y.useState({}),[P,re]=y.useState(!1),W=y.useCallback(async()=>{X(!0);try{const G=await ve(U,"getInventory",{},o.token);if(console.log("Inventory API Response:",G),Array.isArray(G)){const ae=G.filter(Me=>{const xe=Number(Me.quantity);return!isNaN(xe)&&xe>0});console.log("Filtered Inventory:",ae);const fe=yc(ae,"productName");console.log("Sorted Inventory:",fe),d(fe)}else console.error("Inventory data is not an array:",G),d([])}catch(G){console.error("Failed to fetch inventory:",G),alert(": "+G.message),d([])}finally{X(!1)}},[U,o.token]);y.useEffect(()=>{(async()=>{if(o?.token){await W();const ae=localStorage.getItem("safetyStocks");ae&&j(JSON.parse(ae));const fe=localStorage.getItem("customCaseSizes");fe&&K(JSON.parse(fe))}})()},[o.token,W]);const _=G=>{if(!G)return"-";const ae=new Date(G);return isNaN(ae.getTime())?String(G):ae.toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})},ue=G=>{z(G),te(""),g(""),N(!0)},ne=async()=>{if(!O||Number(O)<=0){alert("");return}if(!A.trim()){alert("");return}re(!0);try{await ve(U,"adjustInventory",{batchId:B.batchId,type:S,quantity:Number(O),note:A},o.token),alert(""),N(!1),W()}catch(G){alert(": "+G.message)}finally{re(!1)}},q=(G,ae)=>{const fe={...H,[G]:Number(ae)||0};j(fe),localStorage.setItem("safetyStocks",JSON.stringify(fe))},ee=(G,ae)=>{D({...J,[G]:ae})},x=G=>{const ae=J[G];ae!==void 0&&q(G,ae)},Y=(G,ae)=>{const fe={...p,[G]:Number(ae)||0};K(fe),localStorage.setItem("customCaseSizes",JSON.stringify(fe))},I=G=>{const ae=document.getElementById(G);ae&&(ae.focus(),ae.select?.(),ae.scrollIntoView({block:"nearest",behavior:"smooth"}))},se=(G,ae,fe,Me)=>{const xe=Me[ae];if(G.key==="Enter"||G.key==="ArrowRight"){if(G.preventDefault(),fe==="case")I(`safety-input-${xe.productName}-${xe.batchId}`);else if(ae<Me.length-1){const Te=Me[ae+1];I(`case-input-${Te.productName}-${Te.batchId}`)}}else if(G.key==="ArrowLeft"){if(G.preventDefault(),fe==="safety")I(`case-input-${xe.productName}-${xe.batchId}`);else if(ae>0){const Te=Me[ae-1];I(`safety-input-${Te.productName}-${Te.batchId}`)}}else if(G.key==="ArrowDown"){if(G.preventDefault(),ae<Me.length-1){const Te=Me[ae+1];I(`${fe}-input-${Te.productName}-${Te.batchId}`)}}else if(G.key==="ArrowUp"&&(G.preventDefault(),ae>0)){const Te=Me[ae-1];I(`${fe}-input-${Te.productName}-${Te.batchId}`)}},ie=v.filter(G=>{const ae=String(G.productName||"").toLowerCase(),fe=w.toLowerCase();return ae.includes(fe)?!0:fe.length>6?String(G.batchId||"").toLowerCase().includes(fe):!1}),r=ie.filter(G=>G.type==="STOCK"),Q=ie.filter(G=>G.type!=="STOCK"),le={};v.forEach(G=>{le[G.productName]||(le[G.productName]=0),le[G.productName]+=Number(G.quantity)});const ce=(G,ae,fe,Me)=>a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 flex flex-col shadow-sm",children:[a.jsxs("h3",{className:`text-lg font-bold mb-4 flex items-center gap-2 ${Me}`,children:[a.jsx(fe,{size:20})," ",ae]}),a.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm uppercase",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-center",children:" / "}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-6 text-center text-slate-500",children:"..."})}):G.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-6 text-center text-slate-500",children:""})}):G.map((xe,Te)=>{const Jt=H[xe.productName]||0,St=p[xe.productName],vl=St!==void 0&&St!==0?St:i0[xe.productName]||0,wt=le[xe.productName]||0,Nl=Jt>0&&wt<=Jt,R=xe.expiry?new Date(xe.expiry):null,pe=new Date;pe.setHours(0,0,0,0);const qe=new Date(pe);qe.setDate(pe.getDate()+3);const Ee=R&&R>=pe&&R<=qe,xt=R&&R<pe;return a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${Nl?"bg-red-50":""} ${xt?"bg-rose-50":Ee?"bg-amber-50":""}`,children:[a.jsx("td",{className:"p-4 font-medium text-slate-900",children:a.jsxs("div",{className:"flex items-center gap-2",children:[Nl&&a.jsx(hc,{size:16,className:"text-red-400"}),xe.productName]})}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"font-mono text-emerald-600 font-bold text-lg",children:xe.quantity}),vl>0&&a.jsxs("span",{className:"text-blue-600 font-mono text-sm",children:["",(xe.quantity/vl).toFixed(1)]})]})}),a.jsx("td",{className:"p-4 text-sm whitespace-nowrap",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:xt?"text-rose-600 line-through":Ee?"text-amber-600 font-bold":"text-slate-500",children:_(xe.expiry)}),Ee&&a.jsxs("span",{className:"text-[10px] bg-amber-100 text-amber-700 border border-amber-200 px-1.5 py-0.5 rounded self-start flex items-center gap-1 font-bold",children:[a.jsx(h0,{size:10})," "]}),xt&&a.jsxs("span",{className:"text-[10px] bg-rose-100 text-rose-700 border border-rose-200 px-1.5 py-0.5 rounded self-start flex items-center gap-1 font-bold",children:[a.jsx(hc,{size:10})," "]})]})}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("input",{id:`case-input-${xe.productName}-${xe.batchId}`,type:"number",className:"input-field w-16 text-center text-xs p-1 bg-white border-blue-200",value:St!==void 0?St:i0[xe.productName]||"",onChange:Xe=>Y(xe.productName,Xe.target.value),onKeyDown:Xe=>se(Xe,Te,"case",G),placeholder:""})}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("input",{id:`safety-input-${xe.productName}-${xe.batchId}`,type:"number",className:"input-field w-16 text-center text-xs p-1 bg-white border-amber-200",value:J[xe.productName]!==void 0?J[xe.productName]:H[xe.productName]||"",onChange:Xe=>ee(xe.productName,Xe.target.value),onBlur:()=>x(xe.productName),onKeyDown:Xe=>se(Xe,Te,"safety",G),placeholder:""})}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("button",{onClick:()=>ue(xe),className:"btn-secondary text-xs px-3 py-1 flex items-center gap-1 mx-auto",children:[a.jsx(p0,{size:14})," "]})})]},Te)})})]})})]});return a.jsxs("div",{className:"max-w-6xl mx-auto h-[calc(100vh-6rem)] flex flex-col p-4 gap-4",children:[a.jsxs("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-slate-800",children:[a.jsx(mc,{className:"text-blue-600"})," "]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-64 bg-white",value:w,onChange:G=>F(G.target.value)})]}),a.jsx("button",{onClick:W,className:"btn-secondary p-2",title:"",children:a.jsx(lt,{size:20})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-6 pb-6",children:[ce(r,"",mc,"text-blue-600"),ce(Q,"/",x0,"text-orange-600")]}),T&&a.jsxs("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:[P&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),a.jsxs("div",{className:"glass-panel p-6 w-96 max-w-[90vw]",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-500 block mb-1",children:""}),a.jsxs("div",{className:"flex justify-between items-center p-2 bg-slate-50 rounded-lg border border-slate-100",children:[a.jsx("div",{className:"text-slate-900 font-bold",children:B?.productName}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-400",children:":"}),a.jsx("span",{className:"text-emerald-600 font-mono font-bold text-lg",children:B?.quantity})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:""}),a.jsxs("select",{className:"input-field w-full",value:S,onChange:G=>k(G.target.value),children:[a.jsx("option",{value:"SCRAP",children:""}),a.jsx("option",{value:"RETURN",children:""}),a.jsx("option",{value:"LOSS",children:""}),a.jsx("option",{value:"OTHER",children:""})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-400 block mb-1",children:""}),a.jsx("input",{id:"adjustment-qty-input",type:"number",className:"input-field w-full",value:O,onChange:G=>te(G.target.value),onKeyDown:G=>{(G.key==="Enter"||G.key==="ArrowDown")&&(G.preventDefault(),document.getElementById("adjustment-note-input")?.focus())},placeholder:"",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm text-slate-400 block mb-1",children:[" ",a.jsx("span",{className:"text-red-400",children:"*"})]}),a.jsx("textarea",{id:"adjustment-note-input",className:"input-field w-full",rows:"3",value:A,onChange:G=>g(G.target.value),onKeyDown:G=>{G.key==="Enter"?(G.preventDefault(),ne()):G.key==="ArrowUp"&&(G.preventDefault(),document.getElementById("adjustment-qty-input")?.focus())},placeholder:"..."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:ne,className:"btn-primary flex-1",children:""}),a.jsx("button",{onClick:()=>N(!1),className:"btn-secondary flex-1",children:""})]})]})]})]})]})}function ep({user:o,apiUrl:U}){const v=new Date().getFullYear().toString(),[d,h]=y.useState([{id:Date.now(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:v,expiryMonth:"",expiryDay:""}]),[X,w]=y.useState({vendors:[],vendorProductMap:{}}),[F,T]=y.useState(!1),[N,B]=y.useState("CASH");y.useEffect(()=>{const H=async()=>{try{const j=await ve(U,"getPurchaseSuggestions",{},o.token);j.vendors&&w(j)}catch(j){console.error("Failed to fetch suggestions",j)}};o?.token&&H()},[o.token,U]);const z=H=>{if(H&&X.vendorProductMap[H])return X.vendorProductMap[H];const j=new Set;return Object.values(X.vendorProductMap||{}).forEach(J=>J.forEach(D=>j.add(D))),Array.from(j)},S=(H,j,J)=>{h(D=>D.map(p=>p.id===H?{...p,[j]:J}:p))},k=()=>{h(H=>[...H,{id:Date.now()+Math.random(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:v,expiryMonth:"",expiryDay:""}])},O=H=>{d.length>1&&h(j=>j.filter(J=>J.id!==H))},te=H=>{const j=document.getElementById(H);j&&(j.focus(),j.select?.(),j.scrollIntoView({block:"nearest",behavior:"smooth"}))},A=(H,j,J)=>{const D=["vendor","product","qty","price","year","month","day"],p=D.indexOf(J);H.key==="Enter"||H.key==="ArrowRight"?(H.preventDefault(),p<D.length-1?te(`item-${j}-${D[p+1]}`):j<d.length-1?te(`item-${j+1}-vendor`):H.key==="Enter"&&(k(),setTimeout(()=>te(`item-${j+1}-vendor`),50))):H.key==="ArrowLeft"?(H.preventDefault(),p>0?te(`item-${j}-${D[p-1]}`):j>0&&te(`item-${j-1}-day`)):H.key==="ArrowDown"?(H.preventDefault(),j<d.length-1&&te(`item-${j+1}-${J}`)):H.key==="ArrowUp"&&(H.preventDefault(),j>0&&te(`item-${j-1}-${J}`))},g=async H=>{H.preventDefault();for(let J=0;J<d.length;J++){const D=d[J];if(!D.vendor.trim()||!D.productName.trim()||!D.quantity||!D.unitPrice||!D.expiryYear||!D.expiryMonth||!D.expiryDay){alert(` ${J+1} 
`);return}}T(!0);const j=d.map(J=>{const D=J.expiryMonth.padStart(2,"0"),p=J.expiryDay.padStart(2,"0");return{vendor:J.vendor,productName:J.productName,quantity:Number(J.quantity),price:Number(J.unitPrice),expiry:`${J.expiryYear}-${D}-${p}`}});try{const J=await ve(U,"addPurchase",{items:j,operator:o.username,paymentMethod:N},o.token);alert(` ${J.count} `),h([{id:Date.now(),vendor:"",productName:"",quantity:"",unitPrice:"",expiryYear:v,expiryMonth:"",expiryDay:""}]),B("CASH")}catch(J){alert(": "+J.message)}finally{T(!1)}};return a.jsxs("div",{className:"max-w-[90rem] mx-auto p-4",children:[F&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-emerald-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold flex items-center gap-2 text-slate-800",children:""}),a.jsxs("div",{className:"flex bg-slate-50 p-1 rounded-lg border border-slate-200",children:[a.jsx("button",{onClick:()=>B("CASH"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${N==="CASH"?"bg-emerald-500 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""}),a.jsx("button",{onClick:()=>B("CREDIT"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${N==="CREDIT"?"bg-purple-600 text-white shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:""})]})]}),a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wider",children:""}),a.jsxs("span",{className:"text-xs text-slate-400",children:[" ",d.length," "]})]}),a.jsx("datalist",{id:"vendors-list",children:X.vendors.map((H,j)=>a.jsx("option",{value:H},j))}),d.map((H,j)=>{const J=z(H.vendor);return a.jsxs("div",{className:"group relative p-4 bg-slate-50 rounded-xl border border-slate-200 hover:border-emerald-500/30 hover:shadow-lg transition-all duration-200",children:[a.jsx("div",{className:"absolute -left-2 top-1/2 -translate-y-1/2 w-5 h-5 rounded-full bg-emerald-50 border border-emerald-200 flex items-center justify-center",children:a.jsx("span",{className:"text-[10px] font-bold text-emerald-600",children:j+1})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end",children:[a.jsxs("div",{className:"col-span-12 md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${j}-vendor`,list:"vendors-list",className:"input-field w-full bg-white",placeholder:"",value:H.vendor,onChange:D=>S(H.id,"vendor",D.target.value),onKeyDown:D=>A(D,j,"vendor"),autoFocus:j===d.length-1})]}),a.jsxs("div",{className:"col-span-12 md:col-span-3",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${j}-product`,list:`products-list-${j}`,className:"input-field w-full bg-white",placeholder:"",value:H.productName,onChange:D=>S(H.id,"productName",D.target.value),onKeyDown:D=>A(D,j,"product")}),a.jsx("datalist",{id:`products-list-${j}`,children:J.map((D,p)=>a.jsx("option",{value:D},p))})]}),a.jsxs("div",{className:"col-span-6 md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${j}-qty`,type:"number",className:"input-field w-full text-center bg-white",placeholder:"0",value:H.quantity,onChange:D=>S(H.id,"quantity",D.target.value),onKeyDown:D=>A(D,j,"qty")})]}),a.jsxs("div",{className:"col-span-6 md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${j}-price`,type:"number",className:"input-field w-full text-center bg-white",placeholder:"0",value:H.unitPrice,onChange:D=>S(H.id,"unitPrice",D.target.value),onKeyDown:D=>A(D,j,"price")})]}),a.jsxs("div",{className:"col-span-12 md:col-span-3 grid grid-cols-[1fr_auto_1fr_auto_1fr_auto] gap-1 relative",children:[a.jsx("label",{className:"absolute -top-6 left-0 text-xs font-semibold text-slate-500 mb-1.5 flex items-center gap-1 uppercase",children:""}),a.jsx("input",{id:`item-${j}-year`,className:"input-field w-full text-center font-mono px-1 bg-white",placeholder:"YYYY",value:H.expiryYear,onChange:D=>S(H.id,"expiryYear",D.target.value),onKeyDown:D=>A(D,j,"year")}),a.jsx("span",{className:"text-slate-400 self-center",children:"/"}),a.jsx("input",{id:`item-${j}-month`,className:"input-field w-full text-center font-mono px-1 bg-white",placeholder:"MM",value:H.expiryMonth,onChange:D=>S(H.id,"expiryMonth",D.target.value),onKeyDown:D=>A(D,j,"month")}),a.jsx("span",{className:"text-slate-200 self-center",children:"/"}),a.jsx("input",{id:`item-${j}-day`,type:"number",className:"input-field w-full text-center font-mono px-1 bg-white",placeholder:"DD",value:H.expiryDay,onChange:D=>S(H.id,"expiryDay",D.target.value),onKeyDown:D=>A(D,j,"day")}),d.length>1&&a.jsx("button",{type:"button",onClick:()=>O(H.id),className:"w-8 h-8 ml-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-all flex items-center justify-center self-center",title:"",children:""})]})]})]},H.id)})]}),a.jsxs("div",{className:"flex gap-4 mt-8 pt-6 border-t border-slate-100",children:[a.jsxs("button",{type:"button",onClick:k,className:"btn-secondary flex-1 py-4 text-base font-semibold flex items-center justify-center gap-2 hover:scale-105 transition-transform",children:[a.jsx("span",{className:"text-xl",children:""})," "]}),a.jsx("button",{type:"submit",disabled:F,className:"btn-primary flex-[2] py-4 text-lg font-bold shadow-lg shadow-emerald-100 hover:shadow-xl hover:shadow-emerald-200 hover:scale-105 transition-all flex items-center justify-center gap-2",children:F?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""})," ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xl",children:""})," "]})})]})]})]})]})}function tp({user:o,apiUrl:U}){const[v,d]=y.useState(Be()),[h,X]=y.useState(Be()),[w,F]=y.useState(""),[T,N]=y.useState(""),[B,z]=y.useState(!1),[S,k]=y.useState([]),[O,te]=y.useState([]),[A,g]=y.useState("SALES"),H=y.useCallback(async()=>{if(!(!v||!h)){z(!0);try{const _={startDate:v,endDate:h},ue=o.role==="BOSS"||o.permissions&&o.permissions.includes("finance"),ne=[ve(U,"getSalesHistory",_,o.token)];ue&&ne.push(ve(U,"getExpenditures",_,o.token));const q=await Promise.all(ne),ee=q[0],x=ue?q[1]:[];let Y=Array.isArray(ee)?ee:[];const I=w.trim().toLowerCase(),se=T.trim().toLowerCase();I&&(Y=Y.filter(r=>String(r.location||"").toLowerCase().includes(I))),se&&(Y=Y.filter(r=>String(r.salesRep||"").toLowerCase().includes(se))),k(Y);let ie=Array.isArray(x)?x:[];I&&(ie=ie.filter(r=>String(r.customer||"").toLowerCase().includes(I)||String(r.note||"").toLowerCase().includes(I))),se&&(ie=ie.filter(r=>String(r.salesRep||"").toLowerCase().includes(se))),ie.forEach(r=>{const Q=Number(r.stall||0)+Number(r.cleaning||0)+Number(r.electricity||0)+Number(r.gas||0)+Number(r.parking||0)+Number(r.goods||0)+Number(r.bags||0)+Number(r.others||0)+Number(r.vehicleMaintenance||0)+Number(r.salary||0)+Number(r.linePay||0)+Number(r.serviceFee||0)+Number(r.reserve||0);r.rowTotal=Q,r.salaryAmount=Number(r.salary||0);const le=Object.keys(r).find(G=>{const ae=G.toLowerCase().trim();return ae==="finaltotal"||ae.includes("")||ae.includes("")||ae.includes("")||ae.includes("")}),ce=Number(le?r[le]:r.finalTotal||0);r.displayFinalTotal=ce}),te(ie)}catch(_){console.error(_),alert(": "+_.message)}finally{z(!1)}}},[v,h,w,T,o.token,U]);gl.useEffect(()=>{H()},[H]);const j=_=>{_.preventDefault(),H()},J=S?.reduce((_,ue)=>_+(Number(ue.totalAmount)||0),0)||0,D=S?.reduce((_,ue)=>_+(Number(ue.soldQty)||0),0)||0,p=O?.reduce((_,ue)=>_+(ue.rowTotal||0)-(ue.salaryAmount||0),0)||0,K=O?.reduce((_,ue)=>_+(Number(ue.displayFinalTotal)||0),0)||0,P=J-p+K,re=S?.reduce((_,ue)=>{const ne=ue.productName;return _[ne]||(_[ne]={name:ue.productName,qty:0,amount:0}),_[ne].qty+=ue.soldQty,_[ne].amount+=ue.totalAmount,_},{}),W=re?Object.values(re).sort((_,ue)=>ue.qty-_.qty):[];return a.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-slate-200 pb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Lu,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),S&&a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3",children:[a.jsxs("div",{className:"px-4 py-2 rounded-xl bg-amber-50 border border-amber-200 shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-amber-700 text-center",children:["$",P.toLocaleString()]})]}),a.jsxs("div",{className:"px-4 py-2 rounded-xl bg-emerald-50 border border-emerald-200 shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-emerald-700 text-center",children:["$",J.toLocaleString()]})]}),a.jsxs("div",{className:"px-4 py-2 rounded-xl bg-rose-50 border border-rose-200 shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-rose-700 text-center",children:["$",p.toLocaleString()]})]}),a.jsxs("div",{className:"px-4 py-2 rounded-xl bg-cyan-50 border border-cyan-200 shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-cyan-700 text-center",children:["$",K.toLocaleString()]})]}),a.jsxs("div",{className:"px-4 py-2 rounded-xl bg-blue-50 border border-blue-200 shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-xl font-bold text-blue-700 text-center",children:D.toLocaleString()})]}),a.jsxs("div",{className:"px-4 py-2 rounded-xl bg-purple-50 border border-purple-200 shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-xl font-bold text-purple-700 text-center",children:S.length})]})]})]}),a.jsx("form",{onSubmit:j,className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),a.jsx("input",{type:"date",required:!0,className:"input-field w-full",value:v,onChange:_=>d(_.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),a.jsx("input",{type:"date",required:!0,className:"input-field w-full",value:h,onChange:_=>X(_.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:w,onChange:_=>F(_.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:T,onChange:_=>N(_.target.value)})]}),a.jsxs("button",{onClick:j,disabled:B,className:"btn-primary py-2 px-6 flex items-center gap-2 self-end h-[42px]",children:[B?"...":a.jsx(ft,{size:18})," "]})]})]})}),S&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200",children:a.jsxs("h3",{className:"font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(mc,{size:16,className:"text-blue-600"})," "]})}),a.jsx("div",{className:"overflow-x-auto max-h-60",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:W.length>0?W.map((_,ue)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 text-slate-900",children:_.name}),a.jsx("td",{className:"p-4 text-right text-slate-500",children:_.qty}),a.jsxs("td",{className:"p-4 text-right text-emerald-600",children:["$",_.amount.toLocaleString()]})]},ue)):a.jsx("tr",{children:a.jsx("td",{colSpan:"3",className:"p-8 text-center text-slate-500",children:""})})})]})})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 overflow-hidden flex flex-col h-[600px]",children:[a.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200 flex gap-4",children:[a.jsxs("button",{onClick:()=>g("SALES"),className:`font-bold flex items-center gap-2 pb-2 border-b-2 transition-colors ${A==="SALES"?"text-blue-600 border-blue-600":"text-slate-500 border-transparent hover:text-slate-900"}`,children:[a.jsx($s,{size:16}),"  (",S.length,")"]}),a.jsxs("button",{onClick:()=>g("EXPENSES"),className:`font-bold flex items-center gap-2 pb-2 border-b-2 transition-colors ${A==="EXPENSES"?"text-rose-600 border-rose-600":"text-slate-500 border-transparent hover:text-slate-900"}`,children:[a.jsx(Vt,{size:16}),"  (",O.length,")"]})]}),a.jsx("div",{className:"overflow-auto flex-1",children:A==="SALES"?a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 sticky top-0 z-10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 font-medium w-48",children:""}),a.jsx("th",{className:"p-3 font-medium w-32",children:""}),a.jsx("th",{className:"p-3 font-medium w-32",children:""}),a.jsx("th",{className:"p-3 font-medium",children:""}),a.jsx("th",{className:"p-3 font-medium text-right w-24",children:""}),a.jsx("th",{className:"p-3 font-medium text-right w-32",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 text-slate-600 bg-white",children:S.map((_,ue)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-3 text-slate-500",children:new Date(_.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),a.jsx("td",{className:"p-3",children:_.location}),a.jsx("td",{className:"p-3",children:_.salesRep}),a.jsx("td",{className:"p-3 text-slate-900",children:_.productName}),a.jsx("td",{className:"p-3 text-right",children:_.soldQty}),a.jsxs("td",{className:"p-3 text-right",children:["$",_.totalAmount]})]},ue))})]}):a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 sticky top-0 z-10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 font-medium w-48",children:""}),a.jsx("th",{className:"p-3 font-medium w-32",children:"/"}),a.jsx("th",{className:"p-3 font-medium w-32",children:""}),a.jsx("th",{className:"p-3 font-medium",children:""}),a.jsx("th",{className:"p-3 font-medium text-right w-28",children:""}),a.jsx("th",{className:"p-3 font-medium text-right w-28 text-emerald-600",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 text-slate-600 bg-white",children:O.map((_,ue)=>{const ne=[];return _.stall&&ne.push(` $${_.stall}`),_.cleaning&&ne.push(` $${_.cleaning}`),_.electricity&&ne.push(` $${_.electricity}`),_.gas&&ne.push(` $${_.gas}`),_.parking&&ne.push(` $${_.parking}`),_.goods&&ne.push(` $${_.goods}`),_.bags&&ne.push(` $${_.bags}`),_.others&&ne.push(` $${_.others}`),_.linePay&&ne.push(`Line Pay $${_.linePay}`),_.serviceFee&&ne.push(` $${_.serviceFee}`),_.reserve&&ne.push(` $${_.reserve}`),_.vehicleMaintenance&&ne.push(` $${_.vehicleMaintenance}`),_.salary&&ne.push(` $${_.salary}`),a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-3 text-slate-500",children:new Date(_.date).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1})}),a.jsx("td",{className:"p-3 font-bold text-slate-900",children:_.customer||_.note||"-"}),a.jsx("td",{className:"p-3",children:_.salesRep}),a.jsx("td",{className:"p-3 text-xs text-slate-400",children:ne.join(", ")}),a.jsxs("td",{className:"p-3 text-right font-mono text-rose-600",children:["$",(_.rowTotal||0).toLocaleString()]}),a.jsxs("td",{className:"p-3 text-right font-mono font-bold text-emerald-600",children:["$",(Number(_.displayFinalTotal)||0).toLocaleString()]})]},ue)})})]})})]})]})]})})}function lp({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState(!1),[w,F]=y.useState(""),[T,N]=y.useState(""),[B,z]=y.useState(Be()),[S,k]=y.useState(Be()),O=gl.useCallback(async()=>{X(!0);try{const g=await ve(U,"getPurchaseHistory",{startDate:B,endDate:S},o.token);Array.isArray(g)&&d(g)}catch(g){console.error("Failed to fetch purchase history:",g)}finally{X(!1)}},[U,o.token,B,S]);y.useEffect(()=>{O()},[O]);const te=v.filter(g=>{const H=String(g.productName||"").toLowerCase(),j=String(g.vendorName||g.vendor||"").toLowerCase(),J=w.toLowerCase(),D=T.toLowerCase();return H.includes(J)&&j.includes(D)}),A=te.reduce((g,H)=>g+(Number(H.totalPrice)||0),0);return a.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Uu,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"px-5 py-3 rounded-xl border border-emerald-200 bg-emerald-50 flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-full bg-emerald-100 text-emerald-700",children:a.jsx(Vt,{size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:""}),a.jsxs("p",{className:"text-xl font-bold text-emerald-700",children:["$",A.toLocaleString()]})]})]})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:w,onChange:g=>F(g.target.value)})]})]}),a.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:T,onChange:g=>N(g.target.value)})]})]}),a.jsxs("div",{className:"w-full md:w-40 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:B,onChange:g=>z(g.target.value)})]}),a.jsxs("div",{className:"w-full md:w-40 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:S,onChange:g=>k(g.target.value)})]}),a.jsxs("button",{onClick:O,disabled:h,className:"btn-secondary h-[42px] flex items-center gap-2 whitespace-nowrap px-6",children:[a.jsx(lt,{size:18,className:h?"animate-spin":""})," "]})]})}),a.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((g,H)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[a.jsx($t,{size:14,className:"text-slate-400 group-hover:text-blue-600 transition-colors"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium text-slate-600",children:g.date?new Date(g.date).toLocaleDateString("zh-TW"):"-"}),a.jsx("span",{className:"text-xs text-slate-400",children:g.date?new Date(g.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]})]})}),a.jsx("td",{className:"p-4 text-slate-600",children:g.vendorName||g.vendor||"-"}),a.jsx("td",{className:"p-4 font-medium text-slate-900",children:g.productName}),a.jsx("td",{className:"p-4 text-right font-mono text-blue-600",children:g.quantity}),a.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",(Number(g.unitPrice)||0).toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-600",children:["$",(Number(g.totalPrice)||0).toLocaleString()]}),a.jsx("td",{className:"p-4 text-slate-400 text-xs",children:g.expiry?new Date(g.expiry).toLocaleDateString("zh-TW"):"-"}),a.jsx("td",{className:"p-4 text-slate-400",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(pc,{size:12})," ",g.operator||"-"]})})]},H)):a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Yu,{size:32,className:"text-slate-600"}),a.jsx("p",{className:"text-slate-500",children:""})]})})})})]})})})]})})}function ap({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState(!1),[w,F]=y.useState(""),[T,N]=y.useState("ALL"),[B,z]=y.useState(Be()),[S,k]=y.useState(Be()),O=gl.useCallback(async()=>{X(!0);try{const A=await ve(U,"getAdjustmentHistory",{startDate:B,endDate:S,productName:w},o.token);Array.isArray(A)&&d(A)}catch(A){console.error("Failed to fetch adjustment history:",A)}finally{X(!1)}},[U,o.token,B,S,w]);y.useEffect(()=>{O()},[O]);const te=v.filter(A=>{const g=String(A.productName||"").toLowerCase().includes(w.toLowerCase()),H=T==="ALL"||A.type===T;return g&&H});return a.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-slate-200 pb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(xc,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsx("div",{className:"flex gap-4",children:a.jsxs("div",{className:"px-5 py-2 rounded-xl bg-blue-50 border border-blue-200",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-xl font-bold text-blue-600 text-center",children:te.length})]})})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:w,onChange:A=>F(A.target.value)})]})]}),a.jsxs("div",{className:"w-full md:w-32 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsxs("select",{value:T,onChange:A=>N(A.target.value),className:"input-field w-full text-sm appearance-none bg-white font-medium",children:[a.jsx("option",{value:"ALL",children:""}),a.jsx("option",{value:"SCRAP",children:""}),a.jsx("option",{value:"RETURN",children:""}),a.jsx("option",{value:"LOSS",children:""}),a.jsx("option",{value:"OTHER",children:""})]})]}),a.jsxs("div",{className:"w-full md:w-36 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:B,onChange:A=>z(A.target.value)})]}),a.jsxs("div",{className:"w-full md:w-36 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:S,onChange:A=>k(A.target.value)})]}),a.jsxs("button",{onClick:O,disabled:h,className:"btn-secondary h-[42px] flex items-center gap-2 whitespace-nowrap px-6",children:[a.jsx(lt,{size:18,className:h?"animate-spin":""})," "]})]})}),a.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4",children:"/"}),a.jsx("th",{className:"p-4",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((A,g)=>{const H={SCRAP:"",RETURN:"",LOSS:"",OTHER:""};return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex flex-col gap-0.5 text-slate-500",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:14,className:"text-slate-400"}),a.jsx("span",{children:A.date?new Date(A.date).toLocaleDateString("zh-TW"):"-"})]}),a.jsx("span",{className:"text-xs text-slate-400 ml-6",children:A.date?new Date(A.date).toLocaleTimeString("zh-TW",{hour12:!1,hour:"2-digit",minute:"2-digit"}):""})]})}),a.jsx("td",{className:"p-4 font-medium text-slate-900",children:A.productName}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${A.type==="SCRAP"?"bg-rose-100 text-rose-700":A.type==="RETURN"?"bg-blue-100 text-blue-700":A.type==="LOSS"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-700"}`,children:H[A.type]||A.type})}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-rose-600",children:["-",A.quantity]}),a.jsx("td",{className:"p-4 text-slate-600 max-w-xs truncate",title:A.note,children:A.note||"-"}),a.jsx("td",{className:"p-4 text-slate-400",children:A.operator||"-"})]},g)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Yu,{size:32,className:"text-slate-600"}),a.jsx("p",{className:"text-slate-500",children:""})]})})})})]})})})]})})}function sp({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState(!1),[w,F]=y.useState(""),T=async()=>{X(!0);try{const S=await ve(U,"getInventoryValuation",{},o.token);if(console.log("Inventory Valuation Data:",S),Array.isArray(S)){const k=yc(S,"name");d(k)}else console.error("Valuation data is not an array:",S),d([])}catch(S){console.error("Failed to fetch valuation:",S),alert(": "+S.message)}finally{X(!1)}};y.useEffect(()=>{o?.token&&T()},[o.token,U]);const N=v.filter(S=>String(S.name||"").toLowerCase().includes(w.toLowerCase())),B=N.reduce((S,k)=>S+(Number(k.totalValue)||0),0),z=N.reduce((S,k)=>S+(Number(k.totalQty)||0),0);return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Vt,{className:"text-amber-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"bg-amber-50 px-5 py-3 border border-amber-200 rounded-xl shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:""}),a.jsxs("p",{className:"text-2xl font-bold text-amber-600 flex items-baseline gap-1",children:[a.jsx("span",{className:"text-sm opacity-50",children:"$"}),B.toLocaleString()]})]}),a.jsxs("div",{className:"bg-blue-50 px-5 py-3 border border-blue-200 rounded-xl shadow-sm",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold",children:""}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:z.toLocaleString()})]})]})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 flex gap-4 items-center shadow-sm",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:w,onChange:S=>F(S.target.value)})]}),a.jsxs("button",{onClick:T,disabled:h,className:"btn-secondary h-[42px] px-4 flex items-center gap-2",children:[a.jsx(lt,{size:18,className:h?"animate-spin":""})," "]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0 font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):N.length>0?N.map((S,k)=>{const O=Number(S.totalQty)||0,te=Number(S.totalValue)||0,A=O>0?te/O:0,g=B>0?te/B*100:0;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 font-medium text-slate-800",children:S.name}),a.jsx("td",{className:"p-4 text-right font-mono text-slate-600",children:O.toLocaleString()}),a.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",A.toFixed(2)]}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-amber-600",children:["$",te.toLocaleString()]}),a.jsx("td",{className:"p-4 text-right w-24",children:a.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[a.jsxs("span",{className:"text-xs text-slate-500 w-8",children:[g.toFixed(1),"%"]}),a.jsx("div",{className:"w-12 h-1.5 bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-amber-500",style:{width:`${Math.min(g,100)}%`}})})]})})]},k)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx($s,{size:32,className:"text-slate-600"}),a.jsx("p",{className:"text-slate-500",children:""})]})})})})]})})})]})}function np({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState({}),[w,F]=y.useState(!0),[T,N]=y.useState(!1),[B,z]=y.useState(""),[S,k]=y.useState(!1),O=y.useCallback(W=>`${W.id}-${W.batchId||"no-batch"}`,[]),te=y.useCallback(async()=>{F(!0);try{const W=await ve(U,"getInventory",{},o.token);if(Array.isArray(W)){const _=yc(W,"productName");d(_);const ue={};_.forEach(ne=>{ne.type==="STOCK"&&(ue[O(ne)]={physicalQty:"",reason:"",accountability:""})}),X(ue)}}catch(W){console.error("Failed to fetch inventory for stocktake:",W),alert("")}finally{F(!1)}},[U,o.token,O]);y.useEffect(()=>{o?.token&&te()},[o.token,te]);const A=(W,_,ue)=>{X(ne=>({...ne,[W]:{...ne[W],[_]:ue}}))},g=W=>{const _=document.getElementById(W);_&&(_.focus(),_.select?.(),_.scrollIntoView({block:"nearest",behavior:"smooth"}))},H=(W,_,ue,ne)=>{const q=ne[_],ee=O(q),x=h[ee]||{},Y=j(q.quantity,x.physicalQty),I=x.physicalQty!==""&&Y!==0,se=["qty","reason","acc"],ie=se.indexOf(ue);W.key==="ArrowRight"||W.key==="Enter"&&!W.shiftKey?(W.preventDefault(),ue==="qty"&&!I?_<ne.length-1&&g(`qty-${O(ne[_+1])}`):ie<se.length-1?g(`${se[ie+1]}-${ee}`):_<ne.length-1&&g(`qty-${O(ne[_+1])}`)):W.key==="ArrowLeft"?(W.preventDefault(),ie>0&&g(`${se[ie-1]}-${ee}`)):W.key==="ArrowDown"?(W.preventDefault(),_<ne.length-1&&g(`${ue}-${O(ne[_+1])}`)):W.key==="ArrowUp"&&(W.preventDefault(),_>0&&g(`${ue}-${O(ne[_-1])}`))},j=(W,_)=>_===""||_===void 0?0:Number(_)-Number(W),J=()=>v.filter(W=>{if(W.type!=="STOCK")return!1;const _=h[O(W)];return _&&_.physicalQty!==""}).map(W=>{const _=h[O(W)],ue=j(W.quantity,_.physicalQty);return{productId:W.id,productName:W.productName,bookQty:Number(W.quantity),physicalQty:Number(_.physicalQty),diff:ue,reason:_.reason,accountability:_.accountability,batchId:W.batchId||""}}),D=async()=>{const W=v.filter(ne=>{if(ne.type!=="STOCK"||Number(ne.quantity)===0)return!1;const q=O(ne),ee=h[q];return!ee||ee.physicalQty===""||ee.physicalQty===void 0});if(W.length>0){alert(` ${W.length} 
`);const ne=O(W[0]);g(`qty-${ne}`);return}const _=J();_.length===0&&v.some(ne=>ne.type==="STOCK");const ue=_.find(ne=>ne.diff!==0&&(!ne.reason||!ne.accountability));if(ue){alert(`${ue.productName}`);const ne=O(ue);h[ne].reason?document.getElementById(`acc-${ne}`)?.focus():document.getElementById(`reason-${ne}`)?.focus();return}if(confirm(` ${_.length} `)){N(!0);try{await ve(U,"saveStocktake",{date:Be(),items:_,operator:o.username},o.token),alert(""),X({}),await te()}catch(ne){console.error("Stocktake submit failed:",ne),alert(": "+ne.message)}finally{N(!1)}}},p=v.filter(W=>!W||!S&&(Number(W.quantity)||0)===0?!1:String(W.productName||"").toLowerCase().includes(B.toLowerCase())),K=p.filter(W=>W.type==="STOCK"),P=p.filter(W=>W.type!=="STOCK"),re=(W,_,ue,ne,q)=>a.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 flex flex-col shadow-sm",children:[a.jsxs("h3",{className:`text-lg font-bold mb-4 flex items-center gap-2 ${ne}`,children:[a.jsx(ue,{size:20})," ",_,!q&&a.jsx("span",{className:"text-xs text-slate-500 font-normal ml-2",children:""})]}),a.jsx("div",{className:"rounded-lg border border-slate-200 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),q&&a.jsxs(a.Fragment,{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""})]})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:w?a.jsx("tr",{children:a.jsx("td",{colSpan:q?"6":"2",className:"p-6 text-center text-slate-500",children:"..."})}):W.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:q?"6":"2",className:"p-6 text-center text-slate-500",children:""})}):W.map((ee,x)=>{if(!ee)return null;const Y=O(ee),I=h[Y]||{physicalQty:"",reason:"",accountability:o.username||""},se=j(ee.quantity,I.physicalQty),ie=!q&&Number(ee.quantity)>0;return a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${q&&se!==0&&I.physicalQty!==""?"bg-amber-50":ie?"bg-orange-50 border-l-4 border-orange-500":""}`,children:[a.jsx("td",{className:`p-4 font-medium ${ie?"text-orange-700 font-bold":"text-slate-800"}`,children:ee.productName||""}),a.jsx("td",{className:`p-4 text-right font-mono ${ie?"text-orange-600 font-bold text-lg":"text-slate-500"}`,children:ee.quantity}),q&&a.jsxs(a.Fragment,{children:[a.jsx("td",{className:"p-4",children:a.jsx("input",{id:`qty-${Y}`,type:"number",className:`input-field w-full text-right font-mono bg-white ${se!==0&&I.physicalQty!==""?"border-red-300 text-red-700":""}`,placeholder:"0",value:I.physicalQty,onChange:r=>A(Y,"physicalQty",r.target.value),onKeyDown:r=>H(r,x,"qty",W),onWheel:r=>r.target.blur()})}),a.jsx("td",{className:"p-4 text-center",children:a.jsxs("span",{className:`inline-flex items-center gap-1 font-mono font-bold ${I.physicalQty===""||se===0?"text-green-500":"text-red-500 underline"}`,children:[I.physicalQty!==""?se>0?`+${se}`:se:0,I.physicalQty!==""&&se!==0&&a.jsx(hc,{size:12})]})}),a.jsx("td",{className:"p-4",children:a.jsx("input",{id:`reason-${Y}`,type:"text",disabled:I.physicalQty===""||se===0,className:`input-field w-full text-xs transition-all ${I.physicalQty!==""&&se!==0?"bg-white":"bg-slate-100 cursor-not-allowed opacity-50"}`,placeholder:se!==0&&I.physicalQty!==""?"...":"-",value:I.reason,onChange:r=>A(Y,"reason",r.target.value),onKeyDown:r=>H(r,x,"reason",W)})}),a.jsx("td",{className:"p-4",children:a.jsx("input",{id:`acc-${Y}`,type:"text",disabled:I.physicalQty===""||se===0,className:`input-field w-full text-xs transition-all ${I.physicalQty!==""&&se!==0?"bg-white":"bg-slate-100 cursor-not-allowed opacity-50"}`,placeholder:se!==0&&I.physicalQty!==""?"...":"-",value:I.accountability,onChange:r=>A(Y,"accountability",r.target.value),onKeyDown:r=>H(r,x,"acc",W)})})]})]},Y)})})]})})]});return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)] relative",children:[T&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Qu,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{onClick:te,className:"btn-secondary h-[42px] px-4",title:"",children:a.jsx(kh,{size:18})}),a.jsx("button",{onClick:D,disabled:T,className:"btn-primary h-[42px] px-6 flex items-center gap-2",children:T?"...":a.jsxs(a.Fragment,{children:[a.jsx(Zs,{size:18})," "]})})]})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 flex flex-col md:flex-row gap-4 items-center",children:[a.jsxs("div",{className:"relative flex-1 w-full",children:[a.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:B,onChange:W=>z(W.target.value)})]}),a.jsx("div",{className:"flex items-center gap-3 bg-white p-2 px-4 rounded-xl border border-slate-200 shadow-sm shrink-0",children:a.jsxs("label",{className:"text-sm font-bold text-slate-600 flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-slate-300 text-blue-600 focus:ring-blue-500",checked:S,onChange:W=>k(W.target.checked)})," 0 "]})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col gap-6 pb-6",children:[re(K,"",mc,"text-blue-600",!0),re(P,"/",x0,"text-orange-600",!1)]})]})}function cp({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState(!1),[w,F]=y.useState(""),[T,N]=y.useState(!0),[B,z]=y.useState(Be()),[S,k]=y.useState(Be()),O=gl.useCallback(async()=>{X(!0);try{const j=await ve(U,"getStocktakeHistory",{startDate:B,endDate:S,productName:w,diffOnly:T},o.token);Array.isArray(j)&&d(j)}catch(j){console.error("Failed to fetch stocktake history:",j)}finally{X(!1)}},[U,o.token,B,S,w,T]);y.useEffect(()=>{O()},[O]),y.useEffect(()=>{const j=()=>{if(document.hidden)return;const J=Be();if(B===S&&B!==J){const D=new Date;D.setDate(D.getDate()-1);const p=`${D.getFullYear()}-${String(D.getMonth()+1).padStart(2,"0")}-${String(D.getDate()).padStart(2,"0")}`;B===p&&(console.log("Detected stale date (yesterday), auto-updating to today:",J),z(J),k(J))}};return window.addEventListener("focus",j),document.addEventListener("visibilitychange",j),()=>{window.removeEventListener("focus",j),document.removeEventListener("visibilitychange",j)}},[B,S]);const te=v.filter(j=>String(j.productName||"").toLowerCase().includes(w.toLowerCase())),A=te.length,g=te.filter(j=>j.diff!==0).length,H=te.filter(j=>j.diff===0).length;return a.jsx("div",{className:"max-w-[90rem] mx-auto p-4",children:a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6 border-b border-slate-200 pb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(xc,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"px-5 py-2 rounded-xl bg-blue-50 border border-blue-200",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-xl font-bold text-slate-800 text-center",children:A})]}),a.jsxs("div",{className:"px-5 py-2 rounded-xl bg-rose-50 border border-rose-200",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-xl font-bold text-rose-600 text-center",children:g})]}),a.jsxs("div",{className:"px-5 py-2 rounded-xl bg-emerald-50 border border-emerald-200",children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold text-center",children:""}),a.jsx("p",{className:"text-xl font-bold text-emerald-600 text-center",children:H})]})]})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 space-y-1.5 w-full",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full",value:w,onChange:j=>F(j.target.value)})]})]}),a.jsxs("div",{className:"w-full md:w-32 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:B,onChange:j=>z(j.target.value)})]}),a.jsxs("div",{className:"w-full md:w-32 space-y-1.5",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full text-sm",value:S,onChange:j=>k(j.target.value)})]}),a.jsx("div",{className:"pb-1",children:a.jsxs("label",{className:"flex items-center gap-2 px-4 py-2.5 rounded-xl bg-white border border-slate-200 cursor-pointer hover:bg-slate-50 transition-colors select-none",children:[a.jsx("input",{type:"checkbox",checked:T,onChange:j=>N(j.target.checked),className:"w-4 h-4 rounded border-slate-600 text-blue-500 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-slate-300",children:""})]})}),a.jsxs("button",{onClick:O,disabled:h,className:"btn-secondary h-[42px] flex items-center gap-2 whitespace-nowrap px-6",children:[a.jsx(lt,{size:18,className:h?"animate-spin":""})," "]})]})}),a.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase tracking-wider sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"}),a.jsx("span",{className:"text-slate-500",children:"..."})]})})}):te.length>0?te.map((j,J)=>a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${j.diff!==0?"bg-amber-50":""}`,children:[a.jsx("td",{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[a.jsx($t,{size:14,className:"text-slate-400"}),j.date]})}),a.jsx("td",{className:"p-4 font-medium text-slate-900",children:j.productName}),a.jsx("td",{className:"p-4 text-right font-mono text-slate-500",children:j.bookQty}),a.jsx("td",{className:"p-4 text-right font-mono text-blue-600",children:j.physicalQty}),a.jsx("td",{className:"p-4 text-center",children:j.diff===0?a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full bg-emerald-100 text-emerald-700 text-xs font-bold",children:[a.jsx(m0,{size:14})," 0"]}):a.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-bold ${j.diff>0?"bg-blue-100 text-blue-700":"bg-rose-100 text-rose-700"}`,children:[a.jsx(hc,{size:14}),j.diff>0?`+${j.diff}`:j.diff]})}),a.jsx("td",{className:"p-4 text-slate-600",children:j.reason||"-"}),a.jsx("td",{className:"p-4 text-slate-600",children:j.accountability||"-"}),a.jsx("td",{className:"p-4 text-slate-500",children:j.operator||"-"})]},J)):a.jsx("tr",{children:a.jsx("td",{colSpan:"8",className:"p-20 text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-50 flex items-center justify-center",children:a.jsx(Yu,{size:32,className:"text-slate-300"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-slate-900 font-medium",children:""}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:""})]})]})})})})]})})})]})})}function ip({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState(!1),[w,F]=y.useState(Be()),[T,N]=y.useState(Be()),[B,z]=y.useState(""),[S,k]=y.useState(""),[O,te]=y.useState(new Set),A=gl.useCallback(async()=>{X(!0);try{const p={};w&&(p.startDate=w),T&&(p.endDate=T);const K=await ve(U,"getReceivables",p,o.token);if(Array.isArray(K)){const P=K.sort((re,W)=>new Date(W.date)-new Date(re.date));d(P)}}catch(p){console.error("Failed to fetch data:",p),alert(": "+p.message)}finally{X(!1)}},[U,o.token,w,T]);y.useEffect(()=>{A()},[A]);const g=async p=>{if(confirm("")){X(!0);try{await ve(U,"markAsPaid",{recordId:p},o.token),alert(""),A()}catch(K){console.error("Failed to mark as paid:",K),alert(": "+K.message)}finally{X(!1)}}},H=p=>{const K=new Set(O);K.has(p)?K.delete(p):K.add(p),te(K)},j=p=>[p.salesRep,p.salesPerson,p.operator,p.Operator,p.buyer].find(re=>re&&String(re).toLowerCase()!=="unknown")||"-",J=v.filter(p=>{const K=String(p.clientName||p.customer||p.location||"").toLowerCase(),P=String(j(p)).toLowerCase(),re=!B||K.includes(B.toLowerCase()),W=!S||P.includes(S.toLowerCase());return re&&W}),D=J.reduce((p,K)=>p+(Number(K.amount)||Number(K.total)||0),0);return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{children:a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Ks,{className:"text-emerald-600"}),"  (Receivables)"]})}),a.jsxs("div",{className:"glass-panel px-4 py-2 border-emerald-200 bg-emerald-50",children:[a.jsx("p",{className:"text-xs text-slate-500",children:""}),a.jsxs("p",{className:"text-xl font-bold text-emerald-600",children:["$",D.toLocaleString()]})]})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full",value:w,onChange:p=>F(p.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full",value:T,onChange:p=>N(p.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:"/"}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:B,onChange:p=>z(p.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:S,onChange:p=>k(p.target.value)})]}),a.jsxs("button",{onClick:A,className:"btn-secondary h-[42px] px-6 flex items-center gap-2 justify-center",children:[a.jsx(lt,{size:18})," "]})]})}),a.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-10"}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:"..."})}):J.length>0?J.map((p,K)=>a.jsxs(gl.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>H(K),children:[a.jsx("td",{className:"p-4 text-slate-400",children:O.has(K)?a.jsx(f0,{size:16}):a.jsx(Bu,{size:16})}),a.jsx("td",{className:"p-4 text-slate-500",children:(()=>{const P=p.serverTimestamp||p.timestamp||p.date;if(!P)return"-";const re=String(P),W=new Date(P);return isNaN(W.getTime())?re:re.length<=10&&!re.includes("T")&&!re.includes(":")?W.toLocaleDateString("zh-TW"):W.toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})()}),a.jsx("td",{className:"p-4 font-medium text-slate-800",children:p.clientName||p.customer||p.location||"-"}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-emerald-600",children:["$",(Number(p.amount)||Number(p.total)||0).toLocaleString()]}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${p.status==="PAID"?"bg-green-100 text-green-700":"bg-rose-100 text-rose-700"}`,children:p.status==="PAID"?"":""})}),a.jsx("td",{className:"p-4 text-center",onClick:P=>P.stopPropagation(),children:p.status!=="PAID"&&a.jsx("button",{onClick:()=>g(p.id),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:""})})]}),O.has(K)&&a.jsx("tr",{className:"bg-slate-50/50",children:a.jsx("td",{colSpan:"6",className:"p-4 pl-12",children:a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 text-slate-500 border-b border-slate-100",children:[a.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-right font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-center font-medium",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:(p.items||p.products||p.salesData||[]).length>0?(p.items||p.products||p.salesData||[]).map((P,re)=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-slate-500",children:j(p)}),a.jsx("td",{className:"py-3 px-4 text-slate-800 font-medium",children:P.productName||P.name||"-"}),a.jsxs("td",{className:"py-3 px-4 text-right text-slate-500 font-mono",children:["$",(Number(P.price)||Number(P.unitPrice)||0).toLocaleString()]}),a.jsx("td",{className:"py-3 px-4 text-center text-slate-500 font-mono",children:P.qty||P.soldQty||1})]},re)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"py-4 text-center text-slate-500 italic",children:""})})})]}),a.jsxs("div",{className:"p-3 bg-slate-50 text-xs text-slate-400 flex gap-4 border-t border-slate-100",children:[a.jsxs("span",{children:[": ",p.id||"-"]}),a.jsxs("span",{children:[": ",p.operator||p.Operator||p.salesRep||"-"]}),a.jsxs("span",{children:[": ",p.paymentMethod||""]})]})]})})})]},K)):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:""})})})]})})]})}function up({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState(!1),[w,F]=y.useState(Be()),[T,N]=y.useState(Be()),[B,z]=y.useState(""),[S,k]=y.useState(""),[O,te]=y.useState(new Set),A=gl.useCallback(async()=>{X(!0);try{const p={};w&&(p.startDate=w),T&&(p.endDate=T);const K=await ve(U,"getPayables",p,o.token);if(Array.isArray(K)){const P=K.sort((re,W)=>new Date(W.date)-new Date(re.date));d(P)}}catch(p){console.error("Failed to fetch payables:",p)}finally{X(!1)}},[U,o.token,w,T]);y.useEffect(()=>{A()},[A]);const g=async p=>{if(confirm("")){X(!0);try{await ve(U,"markPayableAsPaid",{recordId:p},o.token),alert(""),A()}catch(K){console.error("Failed to mark as paid:",K),alert(": "+K.message)}finally{X(!1)}}},H=p=>{const K=new Set(O);K.has(p)?K.delete(p):K.add(p),te(K)},j=p=>p.operator||p.Operator||p.buyer||p.salesRep||p.salesPerson||"-",J=v.filter(p=>{const K=String(p.vendorName||p.vendor||"").toLowerCase(),P=String(j(p)).toLowerCase(),re=!B||K.includes(B.toLowerCase()),W=!S||P.includes(S.toLowerCase());return re&&W}),D=J.reduce((p,K)=>p+(Number(K.amount)||Number(K.total)||0),0);return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{children:a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Ks,{className:"text-rose-600"}),"  (Payables)"]})}),a.jsxs("div",{className:"glass-panel px-4 py-2 border-rose-200 bg-rose-50",children:[a.jsx("p",{className:"text-xs text-slate-500",children:""}),a.jsxs("p",{className:"text-xl font-bold text-rose-600",children:["$",D.toLocaleString()]})]})]}),a.jsx("div",{className:"mb-6 p-4 rounded-xl bg-slate-50 border border-slate-200",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full",value:w,onChange:p=>F(p.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"date",className:"input-field w-full",value:T,onChange:p=>N(p.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:B,onChange:p=>z(p.target.value)})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-[10px] text-slate-500 font-bold uppercase px-1",children:""}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field w-full",value:S,onChange:p=>k(p.target.value)})]}),a.jsxs("button",{onClick:A,className:"btn-secondary h-[42px] px-6 flex items-center gap-2 justify-center",children:[a.jsx(lt,{size:18})," "]})]})}),a.jsx("div",{className:"rounded-xl border border-slate-200 overflow-hidden",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-10"}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:"..."})}):J.length>0?J.map((p,K)=>a.jsxs(gl.Fragment,{children:[a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer",onClick:()=>H(K),children:[a.jsx("td",{className:"p-4 text-slate-400",children:O.has(K)?a.jsx(f0,{size:16}):a.jsx(Bu,{size:16})}),a.jsx("td",{className:"p-4 text-slate-500 text-center",children:(()=>{const P=p.serverTimestamp||p.timestamp||p.date;if(!P)return"-";const re=String(P),W=new Date(P);return isNaN(W.getTime())?re:re.length<=10&&!re.includes("T")&&!re.includes(":")?W.toLocaleDateString("zh-TW"):W.toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})()}),a.jsx("td",{className:"p-4 font-medium text-slate-800",children:p.vendorName||p.vendor||"-"}),a.jsxs("td",{className:"p-4 text-right font-mono font-bold text-rose-600",children:["$",(Number(p.amount)||Number(p.total)||0).toLocaleString()]}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${p.status==="PAID"?"bg-green-100 text-green-700":"bg-rose-100 text-rose-700"}`,children:p.status==="PAID"?"":""})}),a.jsx("td",{className:"p-4 text-center",onClick:P=>P.stopPropagation(),children:p.status!=="PAID"&&a.jsx("button",{onClick:()=>g(p.id),className:"px-3 py-1 bg-blue-600 hover:bg-blue-500 text-white text-xs rounded transition-colors",children:""})})]}),O.has(K)&&a.jsx("tr",{className:"bg-slate-50/50",children:a.jsx("td",{colSpan:"6",className:"p-4 pl-12",children:a.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden",children:[a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-50 text-slate-500 border-b border-slate-100",children:[a.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-left font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-right font-medium",children:""}),a.jsx("th",{className:"py-2 px-4 text-center font-medium",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-50",children:(p.items||p.products||[]).length>0?(p.items||p.products||[]).map((P,re)=>a.jsxs("tr",{className:"hover:bg-slate-50",children:[a.jsx("td",{className:"py-3 px-4 text-slate-500",children:j(p)}),a.jsx("td",{className:"py-3 px-4 text-slate-800 font-medium",children:P.productName||P.name||"-"}),a.jsxs("td",{className:"py-3 px-4 text-right text-slate-500 font-mono",children:["$",(Number(P.price)||Number(P.unitPrice)||0).toLocaleString()]}),a.jsx("td",{className:"py-3 px-4 text-center text-slate-500 font-mono",children:P.qty||P.quantity||P.soldQty||1})]},re)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"py-4 text-center text-slate-500 italic",children:""})})})]}),a.jsxs("div",{className:"p-3 bg-slate-50 text-xs text-slate-400 flex gap-4 border-t border-slate-100",children:[a.jsxs("span",{children:[": ",p.id||"-"]}),a.jsxs("span",{children:[": ",p.operator||p.Operator||p.buyer||"-"]}),a.jsxs("span",{children:[": ",p.location||p.customer||"-"]})]})]})})})]},K)):a.jsx("tr",{children:a.jsx("td",{colSpan:"6",className:"p-10 text-center text-slate-500",children:""})})})]})})]})}function rp({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState({}),[w,F]=y.useState(!1),[T,N]=y.useState(Be()),[B,z]=y.useState(Be()),[S,k]=y.useState(""),O=async()=>{F(!0);try{const A=await ve(U,"getProducts",{},o.token),g={};Array.isArray(A)&&(A.forEach(j=>{g[j.id]=j.name}),X(g));const H=await ve(U,"getSalesRanking",{startDate:T,endDate:B},o.token);Array.isArray(H)?d(H):d([])}catch(A){console.error("Failed to fetch sales ranking:",A),alert("")}finally{F(!1)}};y.useEffect(()=>{o?.token&&O()},[o.token,U]);const te=v.filter(A=>{const g=h[A.productName]||A.productName;return String(g||"").toLowerCase().includes(S.toLowerCase())});return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(o0,{className:"text-blue-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsx("button",{onClick:O,disabled:w,className:"btn-secondary p-2 rounded-xl",children:a.jsx(lt,{size:20,className:w?"animate-spin":""})})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:T,onChange:A=>N(A.target.value)}),a.jsx("span",{className:"text-slate-500 font-bold",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:B,onChange:A=>z(A.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:S,onChange:A=>k(A.target.value)})]}),a.jsxs("button",{onClick:O,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[a.jsx(ft,{size:18})," "]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsx("div",{className:"overflow-y-auto flex-1",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-16 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:w?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((A,g)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 text-center font-mono",children:g<3?a.jsx("span",{className:`w-6 h-6 rounded-full inline-flex items-center justify-center text-[10px] font-bold shadow-sm ${g===0?"bg-amber-100 text-amber-700 border border-amber-200":g===1?"bg-slate-100 text-slate-600 border border-slate-200":"bg-orange-100 text-orange-700 border border-orange-200"}`,children:g+1}):g+1}),a.jsx("td",{className:"p-4 font-bold text-slate-800",children:h[A.productName]||A.productName}),a.jsx("td",{className:"p-4 text-right font-mono text-emerald-700",children:A.totalQty.toLocaleString()}),a.jsxs("td",{className:"p-4 text-right font-mono text-blue-700",children:["$",A.totalAmount.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",(A.totalAmount/A.totalQty).toFixed(1)]})]},g)):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function op({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState(!1),[w,F]=y.useState(Be()),[T,N]=y.useState(Be()),[B,z]=y.useState(""),S=async()=>{X(!0);try{const O=await ve(U,"getCustomerRanking",{startDate:w,endDate:T},o.token);Array.isArray(O)?d(O):d([])}catch(O){console.error("Failed to fetch customer ranking:",O),alert("")}finally{X(!1)}};y.useEffect(()=>{o?.token&&S()},[o.token,U]);const k=v.filter(O=>String(O.customerName||"").toLowerCase().includes(B.toLowerCase()));return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Gu,{className:"text-purple-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsx("button",{onClick:S,disabled:h,className:"btn-secondary p-2 rounded-xl",children:a.jsx(lt,{size:20,className:h?"animate-spin":""})})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:w,onChange:O=>F(O.target.value)}),a.jsx("span",{className:"text-slate-500 font-bold",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:T,onChange:O=>N(O.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:B,onChange:O=>z(O.target.value)})]}),a.jsxs("button",{onClick:S,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[a.jsx(ft,{size:18})," "]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsx("div",{className:"overflow-y-auto flex-1",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-16 text-center",children:""}),a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):k.length>0?k.map((O,te)=>{const A=v.reduce((H,j)=>H+j.totalAmount,0),g=O.totalAmount/A*100;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 text-center font-mono text-slate-500",children:te+1}),a.jsx("td",{className:"p-4 font-bold text-slate-800",children:O.customerName}),a.jsx("td",{className:"p-4 text-right font-mono text-slate-600",children:O.transactionCount.toLocaleString()}),a.jsxs("td",{className:"p-4 text-right font-mono text-purple-700 font-bold",children:["$",O.totalAmount.toLocaleString()]}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("span",{className:"text-xs text-slate-500",children:[g.toFixed(1),"%"]}),a.jsx("div",{className:"w-16 h-1.5 bg-slate-100 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-purple-500",style:{width:`${g}%`}})})]})})]},te)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function dp({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState({}),[w,F]=y.useState(!1),[T,N]=y.useState(Be()),[B,z]=y.useState(Be()),[S,k]=y.useState(""),O=async()=>{F(!0);try{const J=await ve(U,"getProducts",{},o.token),D={};Array.isArray(J)&&(J.forEach(K=>{D[K.id]=K.name}),X(D));const p=await ve(U,"getProfitAnalysis",{startDate:T,endDate:B},o.token);Array.isArray(p)?d(p):d([])}catch(J){console.error("Failed to fetch profit analysis:",J),alert("")}finally{F(!1)}};y.useEffect(()=>{o?.token&&O()},[o.token,U]);const te=v.filter(J=>{const D=h[J.productName]||J.productName;return String(D||"").toLowerCase().includes(S.toLowerCase())}),A=te.reduce((J,D)=>J+D.revenue,0),g=te.reduce((J,D)=>J+D.cost,0),H=A-g,j=A>0?H/A*100:0;return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx($s,{className:"text-emerald-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"bg-emerald-50 px-4 py-2 border border-emerald-200 rounded-xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-emerald-700 text-center",children:["$",H.toLocaleString()]})]}),a.jsxs("div",{className:"bg-blue-50 px-4 py-2 border border-blue-200 rounded-xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-blue-700 text-center",children:[j.toFixed(1),"%"]})]})]})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:T,onChange:J=>N(J.target.value)}),a.jsx("span",{className:"text-slate-500 font-bold",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:B,onChange:J=>z(J.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:S,onChange:J=>k(J.target.value)})]}),a.jsxs("button",{onClick:O,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[a.jsx(lt,{size:18,className:w?"animate-spin":""})," "]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsx("div",{className:"overflow-y-auto flex-1",children:a.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 whitespace-nowrap",children:""}),a.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),a.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),a.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""}),a.jsx("th",{className:"p-4 text-right whitespace-nowrap",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:w?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(lt,{className:"animate-spin text-emerald-500"}),a.jsx("span",{children:"..."})]})})}):te.length>0?te.map((J,D)=>{const p=J.revenue-J.cost,K=J.revenue>0?p/J.revenue*100:0,P=h[J.productName]||J.productName;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"p-4 font-bold text-slate-800",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{children:P}),h[J.productName]&&a.jsxs("span",{className:"text-[10px] text-slate-400 font-normal mt-1 opacity-0 group-hover:opacity-100 transition-opacity",children:["ID: ",J.productName.substring(0,8),"..."]})]})}),a.jsxs("td",{className:"p-4 text-right font-mono text-slate-600",children:["$",Math.round(J.revenue).toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono text-rose-600/80",children:["$",Math.round(J.cost).toLocaleString()]}),a.jsxs("td",{className:`p-4 text-right font-mono font-bold ${p>=0?"text-emerald-700":"text-rose-600"}`,children:[p<0?"-":"","$",Math.abs(Math.round(p)).toLocaleString()]}),a.jsx("td",{className:"p-4 text-right",children:a.jsxs("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold min-w-[50px] text-center ${K>=30?"bg-emerald-100 text-emerald-700 border border-emerald-200":K>=10?"bg-blue-100 text-blue-700 border border-blue-200":"bg-rose-100 text-rose-700 border border-rose-200"}`,children:[K.toFixed(1),"%"]})})]},D)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function fp({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState({}),[w,F]=y.useState(!1),[T,N]=y.useState(Be()),[B,z]=y.useState(Be()),[S,k]=y.useState(""),O=async()=>{F(!0);try{const A=await ve(U,"getProducts",{},o.token),g={};Array.isArray(A)&&(A.forEach(j=>{g[j.id]=j.name}),X(g));const H=await ve(U,"getTurnoverRate",{startDate:T,endDate:B},o.token);Array.isArray(H)?d(H):d([])}catch(A){console.error("Failed to fetch turnover rate:",A),alert("")}finally{F(!1)}};y.useEffect(()=>{o?.token&&O()},[o.token,U]);const te=v.filter(A=>{const g=h[A.productName]||A.productName;return String(g||"").toLowerCase().includes(S.toLowerCase())});return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(r0,{className:"text-orange-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:" =  / "})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 bg-blue-50 px-3 py-1.5 rounded-lg border border-blue-200 shadow-sm font-bold",children:[a.jsx(Sh,{size:14}),a.jsx("span",{children:""})]})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:T,onChange:A=>N(A.target.value)}),a.jsx("span",{className:"text-slate-500 font-bold",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:B,onChange:A=>z(A.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full bg-white",value:S,onChange:A=>k(A.target.value)})]}),a.jsxs("button",{onClick:O,className:"btn-primary flex items-center justify-center gap-2 h-[42px]",children:[a.jsx(lt,{size:18})," "]})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsx("div",{className:"overflow-y-auto flex-1",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10 font-bold border-b border-slate-100",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:""}),a.jsx("th",{className:"p-4 text-right",children:" (COGS)"}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:w?a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:"..."})}):te.length>0?te.map((A,g)=>{const H=A.avgInventory>0?A.cogs/A.avgInventory:0;return a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 font-bold text-slate-900",children:h[A.productName]||A.productName}),a.jsxs("td",{className:"p-4 text-right font-mono text-slate-600 font-bold",children:["$",A.cogs.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono text-slate-500",children:["$",A.avgInventory.toLocaleString()]}),a.jsxs("td",{className:"p-4 text-right font-mono text-orange-600 font-bold",children:[H.toFixed(2)," "]}),a.jsx("td",{className:"p-4 text-center",children:H>=4?a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-emerald-100 text-emerald-700 border border-emerald-200 uppercase",children:""}):H>=1?a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-blue-100 text-blue-700 border border-blue-200 uppercase",children:""}):a.jsx("span",{className:"px-2 py-1 rounded text-[10px] font-bold bg-rose-100 text-rose-700 border border-rose-200 uppercase",children:""})})]},g)}):a.jsx("tr",{children:a.jsx("td",{colSpan:"5",className:"p-20 text-center text-slate-500",children:""})})})]})})})]})}function xp({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState(!1),[w,F]=y.useState(Be()),[T,N]=y.useState(Be()),[B,z]=y.useState(""),S=async()=>{X(!0);try{const g=await ve(U,"getExpenditures",{startDate:w,endDate:T},o.token);Array.isArray(g)?d(g):d([])}catch(g){console.error("Failed to fetch expenditures:",g)}finally{X(!1)}};y.useEffect(()=>{o?.token&&S()},[o.token,U]);const k=v.filter(g=>`${g.customer||""} ${g.salesRep||""} ${g.note||""}`.toLowerCase().includes(B.toLowerCase())),O=k.reduce((g,H)=>(g.stall+=Number(H.stall||0),g.cleaning+=Number(H.cleaning||0),g.electricity+=Number(H.electricity||0),g.gas+=Number(H.gas||0),g.parking+=Number(H.parking||0),g.goods+=Number(H.goods||0),g.bags+=Number(H.bags||0),g.others+=Number(H.others||0),g.serviceFee+=Number(H.serviceFee||0),g.linePay+=Number(H.linePay||0),g.finalTotal+=Number(H.finalTotal||0),g.vehicleMaintenance+=Number(H.vehicleMaintenance||0),g.salary+=Number(H.salary||0),g.reserve+=Number(H.reserve||0),g),{stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,serviceFee:0,linePay:0,finalTotal:0,vehicleMaintenance:0,salary:0,reserve:0}),te=O.stall+O.cleaning+O.electricity+O.gas+O.parking+O.bags+O.others+O.vehicleMaintenance+O.salary+O.serviceFee,A=[{key:"stall",label:"",color:"text-blue-600"},{key:"cleaning",label:"",color:"text-indigo-600"},{key:"electricity",label:"",color:"text-amber-600"},{key:"gas",label:"",color:"text-orange-600"},{key:"parking",label:"",color:"text-slate-600"},{key:"bags",label:"",color:"text-teal-600"},{key:"serviceFee",label:"",color:"text-rose-600"},{key:"others",label:"",color:"text-purple-600"},{key:"vehicleMaintenance",label:"",color:"text-indigo-600"},{key:"salary",label:"",color:"text-amber-600"}];return a.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)] animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Vt,{className:"text-rose-600"})," "]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:" Expenditures "})]}),a.jsxs("div",{className:"flex gap-4 flex-wrap",children:[a.jsxs("div",{className:"glass-panel px-4 py-2 bg-rose-50 border-rose-200",children:[a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-rose-600 text-center",children:["$",te.toLocaleString()]})]}),a.jsxs("div",{className:"glass-panel px-4 py-2 bg-emerald-50 border-emerald-200",children:[a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-emerald-700 text-center",children:["$",O.goods.toLocaleString()]})]}),a.jsxs("div",{className:"glass-panel px-4 py-2 bg-teal-50 border-teal-200",children:[a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:""}),a.jsxs("p",{className:"text-xl font-bold text-teal-700 text-center",children:["$",O.reserve.toLocaleString()]})]}),a.jsxs("div",{className:"glass-panel px-4 py-2 bg-slate-50 border-slate-200",children:[a.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold text-center",children:"Line Pay "}),a.jsxs("p",{className:"text-xl font-bold text-slate-800 text-center",children:["$",O.linePay.toLocaleString()]})]})]})]}),a.jsxs("div",{className:"mb-2 p-4 shrink-0 grid grid-cols-1 md:grid-cols-3 gap-4 bg-slate-50 rounded-xl border border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($t,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"date",className:"input-field flex-1 text-slate-800 bg-white",value:w,onChange:g=>F(g.target.value)}),a.jsx("span",{className:"text-slate-400",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 text-slate-800 bg-white",value:T,onChange:g=>N(g.target.value)})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ft,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),a.jsx("input",{type:"text",placeholder:"...",className:"input-field pl-10 w-full text-slate-800 bg-white",value:B,onChange:g=>z(g.target.value)})]}),a.jsxs("button",{onClick:S,className:"btn-primary flex items-center justify-center gap-2",children:[a.jsx(lt,{size:18,className:h?"animate-spin":""})," "]})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-12 gap-3 shrink-0",children:A.map(g=>a.jsxs("div",{className:"p-3 bg-white border border-slate-200 rounded-xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase truncate",children:g.label}),a.jsxs("p",{className:`text-sm md:text-md font-bold ${g.color} mt-1`,children:["$",O[g.key].toLocaleString()]})]},g.key))}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm p-0 overflow-hidden flex-1 border border-slate-200 relative",children:a.jsx("div",{className:"h-full overflow-auto custom-scrollbar",children:a.jsxs("table",{className:"w-full text-left text-sm border-separate border-spacing-0 min-w-[1100px]",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-30",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 border-b border-slate-100 sticky left-0 z-40 bg-slate-50",children:"//"}),a.jsx("th",{className:"p-4 text-right border-b border-slate-100",children:""}),a.jsx("th",{className:"p-4 text-right border-b border-slate-100",children:""}),a.jsx("th",{className:"p-4 text-right border-b border-slate-100",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:h?a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"p-20 text-center text-slate-500 font-medium",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(lt,{className:"animate-spin text-rose-500"}),a.jsx("span",{children:"..."})]})})}):k.length>0?k.map((g,H)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors group",children:[a.jsx("td",{className:"p-4 sticky left-0 z-10 bg-white border-b border-slate-100 group-hover:bg-slate-50 transition-colors",children:a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsxs("span",{className:"text-slate-500 font-mono text-xs flex items-center gap-1",children:[a.jsx(h0,{size:12,className:"text-slate-400"}),(()=>{const j=g.date||g.serverTimestamp;if(!j)return"";const J=new Date(j);return isNaN(J.getTime())?String(j):J.toLocaleString("zh-TW",{hour12:!1})})()]}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:g.customer||""}),a.jsx("span",{className:"text-xs text-slate-500 font-medium bg-slate-100 self-start px-1.5 py-0.5 rounded",children:g.salesRep||"-"})]})}),a.jsx("td",{className:"p-4 text-right align-top",children:a.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-1 text-[11px] content-start",children:[a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(g.stall||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(g.cleaning||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(g.electricity||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(g.gas||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(g.parking||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(g.goods||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(g.bags||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-slate-700 font-medium",children:["$",Number(g.others||0).toLocaleString()]})]})]})}),a.jsx("td",{className:"p-4 text-right align-top",children:a.jsxs("div",{className:"flex flex-col gap-2 items-end",children:[a.jsxs("div",{className:"flex justify-between w-32 bg-emerald-50 px-2 py-1 rounded border border-emerald-100",children:[a.jsx("span",{className:"text-[10px] text-emerald-600/70 uppercase font-bold",children:"LP "}),a.jsxs("span",{className:"text-xs font-bold text-emerald-700",children:["+$",Number(g.linePay||0).toLocaleString()]})]}),a.jsxs("div",{className:"flex justify-between w-32 bg-rose-50 px-2 py-1 rounded border border-rose-100",children:[a.jsx("span",{className:"text-[10px] text-rose-600/70 uppercase font-bold",children:""}),a.jsxs("span",{className:"text-xs font-bold text-rose-700",children:["-$",Number(g.serviceFee||0).toLocaleString()]})]})]})}),a.jsx("td",{className:"p-4 text-right align-top",children:a.jsxs("div",{className:"flex flex-col gap-1 text-xs items-end",children:[a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-indigo-600 font-bold",children:["$",Number(g.vehicleMaintenance||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-amber-600 font-bold",children:["$",Number(g.salary||0).toLocaleString()]})]}),a.jsxs("span",{className:"text-slate-500",children:[": ",a.jsxs("span",{className:"text-purple-600 font-bold",children:["$",Number(g.reserve||0).toLocaleString()]})]})]})})]},H)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"p-20 text-center text-slate-500 font-medium",children:""})})})]})})})]})}function mp({user:o,apiUrl:U}){const[v,d]=y.useState(!1),[h,X]=y.useState(Be().substring(0,8)+"01"),[w,F]=y.useState(Be()),[T,N]=y.useState({revenue:0,cogs:0,grossProfit:0,expenses:{},totalExpenses:0,netIncome:0}),B=async()=>{d(!0);try{const[k,O]=await Promise.all([ve(U,"getProfitAnalysis",{startDate:h,endDate:w},o.token),ve(U,"getExpenditures",{startDate:h,endDate:w},o.token)]);let te=0,A=0;Array.isArray(k)&&k.forEach(j=>{te+=Number(j.revenue||0),A+=Number(j.cost||0)});let g=0;const H={stall:0,cleaning:0,electricity:0,gas:0,parking:0,bags:0,serviceFee:0,others:0,vehicleMaintenance:0,salary:0};Array.isArray(O)&&O.forEach(j=>{H.stall+=Number(j.stall||0),H.cleaning+=Number(j.cleaning||0),H.electricity+=Number(j.electricity||0),H.gas+=Number(j.gas||0),H.parking+=Number(j.parking||0),H.bags+=Number(j.bags||0),H.serviceFee+=Number(j.serviceFee||0),H.others+=Number(j.others||0),H.vehicleMaintenance+=Number(j.vehicleMaintenance||0),H.salary+=Number(j.salary||0)}),Object.values(H).forEach(j=>g+=j),N({revenue:te,cogs:A,grossProfit:te-A,expenses:H,totalExpenses:g,netIncome:te-A-g})}catch(k){console.error("Failed to fetch income statement data:",k),alert("")}finally{d(!1)}};y.useEffect(()=>{o?.token&&B()},[o.token,U]);const z=k=>`$${Math.round(k).toLocaleString()}`,S=(k,O)=>O===0?"0%":`${(k/O*100).toFixed(1)}%`;return a.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(d0,{className:"text-emerald-600"}),"  (Income Statement)"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsx("button",{onClick:B,className:"btn-secondary p-2 rounded-xl",children:a.jsx(lt,{size:20,className:v?"animate-spin":""})})]}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border border-slate-200 shrink-0 flex items-center gap-4 shadow-sm",children:[a.jsx($t,{size:18,className:"text-slate-400"}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:h,onChange:k=>X(k.target.value)}),a.jsx("span",{className:"text-slate-500 font-bold",children:""}),a.jsx("input",{type:"date",className:"input-field flex-1 bg-white",value:w,onChange:k=>F(k.target.value)}),a.jsx("button",{onClick:B,className:"btn-primary h-[42px] px-6",children:""})]}),a.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden flex-1 flex flex-col shadow-sm",children:a.jsx("div",{className:"overflow-y-auto flex-1 p-8",children:a.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto font-mono text-sm md:text-base",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-emerald-700 font-bold text-lg border-b border-emerald-200 pb-2 mb-4",children:" (Revenue)"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-slate-600",children:""}),a.jsx("span",{className:"text-slate-900 font-bold",children:z(T.revenue)})]}),a.jsxs("div",{className:"flex justify-between items-center text-rose-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(fh,{size:14})," "]}),a.jsxs("span",{children:["- ",z(T.cogs)]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-100",children:[a.jsx("span",{className:"text-emerald-700 font-bold",children:" (Gross Profit)"}),a.jsx("span",{className:"text-emerald-700 font-bold",children:z(T.grossProfit)})]}),a.jsxs("div",{className:"text-right text-xs text-slate-500",children:[": ",S(T.grossProfit,T.revenue)]})]}),a.jsxs("div",{className:"space-y-2 mt-8",children:[a.jsx("h3",{className:"text-orange-700 font-bold text-lg border-b border-orange-200 pb-2 mb-4",children:" (Operating Expenses)"}),Object.entries(T.expenses).map(([k,O])=>{const te={stall:"",cleaning:"",electricity:"",gas:"",parking:"",bags:"",serviceFee:"",others:"",vehicleMaintenance:"",salary:""};return O===0?null:a.jsxs("div",{className:"flex justify-between items-center text-slate-400 text-sm",children:[a.jsx("span",{children:te[k]}),a.jsx("span",{children:z(O)})]},k)}),a.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-100 text-orange-700",children:[a.jsx("span",{className:"font-bold",children:""}),a.jsxs("span",{className:"font-bold",children:["- ",z(T.totalExpenses)]})]})]}),a.jsxs("div",{className:"mt-8 pt-4 border-t-2 border-slate-200",children:[a.jsxs("div",{className:"flex justify-between items-center text-xl",children:[a.jsx("span",{className:"text-slate-800 font-bold",children:" (Net Income)"}),a.jsx("span",{className:`font-bold ${T.netIncome>=0?"text-emerald-700":"text-rose-600"}`,children:z(T.netIncome)})]}),a.jsxs("div",{className:"text-right text-sm text-slate-500 mt-1",children:[": ",S(T.netIncome,T.revenue)]})]})]})})})]})}function hp({user:o,apiUrl:U}){const[v,d]=y.useState(!1),[h,X]=y.useState({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0,vehicleMaintenance:0,salary:0,reserve:0}),[w,F]=y.useState(""),T=async()=>{if(!w.trim()){alert(""),document.getElementById("input-note")?.focus();return}const O=Number(h.stall)+Number(h.cleaning)+Number(h.electricity)+Number(h.gas)+Number(h.parking)+Number(h.goods)+Number(h.bags)+Number(h.others)+Number(h.serviceFee)+Number(h.vehicleMaintenance)+Number(h.salary)+Number(h.reserve)+Number(h.linePay),te={note:w,salesRep:o.username,...h,finalTotal:O};d(!0);try{await ve(U,"saveExpenditure",te,o.token),alert(" Expenditures "),X({stall:0,cleaning:0,electricity:0,gas:0,parking:0,goods:0,bags:0,others:0,linePay:0,serviceFee:0,vehicleMaintenance:0,salary:0,reserve:0}),F("")}catch(A){alert(": "+A.message)}finally{d(!1)}},N=k=>{const O=document.getElementById(k);O&&(O.focus(),O.select?.(),O.scrollIntoView({block:"nearest",behavior:"smooth"}))},B=(k,O)=>{const te=["note","stall","cleaning","electricity","gas","parking","goods","bags","others","linePay","serviceFee","vehicleMaintenance","salary","reserve"],A=te.indexOf(O);k.key==="Enter"||k.key==="ArrowRight"?(k.preventDefault(),A<te.length-1?N(`input-expense-${te[A+1]}`):k.key==="Enter"&&T()):k.key==="ArrowLeft"?(k.preventDefault(),A>0&&N(`input-expense-${te[A-1]}`)):k.key==="ArrowDown"?(k.preventDefault(),["stall","cleaning","electricity","gas","parking","goods"].includes(O)?N(`input-expense-${{stall:"electricity",cleaning:"gas",electricity:"parking",gas:"goods",parking:"bags",goods:"others"}[O]}`):A<te.length-1&&N(`input-expense-${te[A+1]}`)):k.key==="ArrowUp"&&(k.preventDefault(),["electricity","gas","parking","goods","bags","others"].includes(O)?N(`input-expense-${{electricity:"stall",gas:"cleaning",parking:"electricity",goods:"gas",bags:"parking",others:"goods"}[O]}`):A>0&&N(`input-expense-${te[A-1]}`))},S=Number(h.stall)+Number(h.cleaning)+Number(h.electricity)+Number(h.gas)+Number(h.parking)+Number(h.goods)+Number(h.bags)+Number(h.others)+Number(h.serviceFee)+Number(h.vehicleMaintenance)+Number(h.salary)+Number(h.reserve)+Number(h.linePay);return a.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6 space-y-6 animate-in fade-in duration-500 relative",children:[v&&a.jsxs("div",{className:"loading-overlay",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-rose-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-bold text-slate-800",children:"..."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx("div",{className:"p-2 bg-rose-100 rounded-lg",children:a.jsx(Vt,{className:"text-rose-600",size:24})}),""]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"bg-rose-50 px-6 py-3 border border-rose-200 rounded-xl shadow-sm",children:[a.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider",children:" ()"}),a.jsxs("p",{className:"text-2xl font-black text-rose-600",children:["$",S.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4 text-blue-600 font-bold",children:[a.jsx(hh,{size:18}),a.jsx("span",{children:""})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 font-bold block mb-2",children:" /  *"}),a.jsx("input",{id:"input-expense-note",type:"text",className:"input-field w-full text-lg py-3 bg-white",placeholder:"1/7 ...",value:w,onChange:k=>F(k.target.value),onKeyDown:k=>B(k,"note")})]})]}),a.jsxs("div",{className:"glass-panel p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6 text-emerald-600 font-bold",children:[a.jsx(Hh,{size:18}),a.jsx("span",{children:""})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-4",children:[{key:"stall",label:"",next:"cleaning"},{key:"cleaning",label:"",next:"electricity",prev:"stall"},{key:"electricity",label:"",next:"gas",prev:"cleaning"},{key:"gas",label:"",next:"parking",prev:"electricity"},{key:"parking",label:"",next:"goods",prev:"gas"},{key:"goods",label:"",next:"bags",prev:"parking"},{key:"bags",label:"",next:"others",prev:"goods"},{key:"others",label:"",next:"linePay",prev:"bags"}].map(k=>a.jsxs("div",{className:"flex items-center justify-between gap-4 p-2 hover:bg-slate-50 rounded-lg transition-colors border-b border-slate-100 last:border-0",children:[a.jsx("label",{className:"text-sm text-slate-600 font-medium whitespace-nowrap",children:k.label}),a.jsx("input",{id:`input-expense-${k.key}`,type:"number",className:"input-field text-right w-32 bg-white",value:h[k.key]||"",onChange:O=>X({...h,[k.key]:Number(O.target.value)}),onKeyDown:O=>B(O,k.key),onWheel:O=>O.target.blur()})]},k.key))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"glass-panel p-6 border-amber-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6 text-amber-600 font-bold",children:[a.jsx(bh,{size:18}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:"Line Pay "}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"input-expense-linePay",type:"number",className:"input-field w-full pl-8 border-emerald-200 text-emerald-700 bg-emerald-50",value:h.linePay||"",onChange:k=>X({...h,linePay:Number(k.target.value)}),onKeyDown:k=>B(k,"linePay"),onWheel:k=>k.target.blur()}),a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-emerald-600 font-bold",children:"+"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 block mb-1",children:""}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"input-expense-serviceFee",type:"number",className:"input-field w-full pl-8 border-rose-200 text-rose-700 bg-rose-50",value:h.serviceFee||"",onChange:k=>X({...h,serviceFee:Number(k.target.value)}),onKeyDown:k=>B(k,"serviceFee"),onWheel:k=>k.target.blur()}),a.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-rose-600 font-bold",children:"-"})]})]})]})]}),a.jsxs("div",{className:"glass-panel p-6 border-indigo-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-6 text-indigo-600 font-bold",children:[a.jsx(Uu,{size:18}),a.jsx("span",{children:""})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("label",{className:"text-xs text-slate-500 flex items-center gap-2 font-bold",children:[a.jsx(Uu,{size:14})," "]}),a.jsx("input",{id:"input-expense-vehicleMaintenance",type:"number",className:"input-field w-28 text-right bg-white",value:h.vehicleMaintenance||"",onChange:k=>X({...h,vehicleMaintenance:Number(k.target.value)}),onKeyDown:k=>B(k,"vehicleMaintenance"),onWheel:k=>k.target.blur()})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("label",{className:"text-xs text-slate-500 flex items-center gap-2 font-bold",children:[a.jsx(Gu,{size:14})," "]}),a.jsx("input",{id:"input-expense-salary",type:"number",className:"input-field w-28 text-right bg-white",value:h.salary||"",onChange:k=>X({...h,salary:Number(k.target.value)}),onKeyDown:k=>B(k,"salary"),onWheel:k=>k.target.blur()})]}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("label",{className:"text-xs text-slate-500 flex items-center gap-2 font-bold",children:[a.jsx(_h,{size:14})," "]}),a.jsx("input",{id:"input-expense-reserve",type:"number",className:"input-field w-28 text-right bg-white",value:h.reserve||"",onChange:k=>X({...h,reserve:Number(k.target.value)}),onKeyDown:k=>B(k,"reserve"),onWheel:k=>k.target.blur()})]})]})]}),a.jsxs("button",{onClick:T,className:"btn-primary w-full py-4 text-lg font-black shadow-lg shadow-blue-100 hover:shadow-xl hover:shadow-blue-200 transition-all flex justify-center items-center gap-3 active:scale-95",children:[a.jsx(Zs,{size:22})," "]}),a.jsx("p",{className:"text-center text-slate-500 text-[10px] uppercase font-bold tracking-tighter",children:"Data will be saved to Expenditures Sheet"})]})]})]})}function pp({user:o,apiUrl:U}){const[v,d]=y.useState([]),[h,X]=y.useState(!1),[w,F]=y.useState(!1),[T,N]=y.useState(""),[B,z]=y.useState({username:"",password:"",role:"VIEWER"}),[S,k]=y.useState(null),O=[{group:"",items:[{key:"sales_entry",label:""},{key:"sales_report",label:""}]},{group:"",items:[{key:"purchase_entry",label:""},{key:"purchase_history",label:""}]},{group:"",items:[{key:"inventory_adjust",label:""},{key:"inventory_stocktake",label:""},{key:"inventory_valuation",label:""},{key:"inventory_history",label:"/"}]},{group:"",items:[{key:"finance_expenditure",label:""},{key:"finance_receivable",label:""},{key:"finance_payable",label:""},{key:"finance_income",label:""},{key:"finance_cost",label:""},{key:"finance_payroll",label:""}]},{group:"",items:[{key:"analytics_sales",label:""},{key:"analytics_customer",label:""},{key:"analytics_profit",label:""},{key:"analytics_turnover",label:""}]},{group:"",items:[{key:"system_config",label:""}]}],te=async()=>{if(!B.username||!B.password){alert("");return}F(!0),N(" ...");try{await ve(U,"addUser",B,o.token),z({username:"",password:"",role:"VIEWER"}),await g(),alert("")}catch(D){alert(": "+D.message)}finally{F(!1)}},A=async D=>{if(window.confirm(` ${D}?`)){F(!0),N(" ...");try{await ve(U,"deleteUser",{username:D},o.token),await g(),alert("")}catch(p){alert(": "+p.message)}finally{F(!1)}}},g=async()=>{X(!0);try{const D=await ve(U,"getUsers",{},o.token);if(Array.isArray(D)){const p=D.map(K=>{let P=K.permissions;if(typeof P=="string")try{P=JSON.parse(P)}catch(re){console.error(`Failed to parse permissions for ${K.username}`,re),P=[]}return{...K,permissions:Array.isArray(P)?P:[]}});d(p)}else console.warn("Backend returned non-array for users")}catch(D){console.error("Failed to fetch users:",D),alert("")}finally{X(!1)}};y.useEffect(()=>{o?.token&&g()},[o.token,U]);const H=async()=>{if(S){F(!0),N(" ...");try{await ve(U,"updateUserPermissions",{username:S.username,permissions:S.permissions},o.token),k(null),await g(),alert("")}catch(D){console.error(D),alert(": "+D.message)}finally{F(!1)}}},j=D=>{if(!S)return;const p=S.permissions||[];p.includes(D)?k({...S,permissions:p.filter(K=>K!==D)}):k({...S,permissions:[...p,D]})},J=D=>{if(!S)return;const p=S.permissions||[],K=D.map(re=>re.key);if(K.every(re=>p.includes(re)))k({...S,permissions:p.filter(re=>!K.includes(re))});else{const re=p.filter(W=>!K.includes(W));k({...S,permissions:[...re,...K]})}};return a.jsxs("div",{className:"max-w-4xl mx-auto p-4 md:p-6 space-y-6 flex flex-col h-[calc(100vh-6rem)]",children:[w&&a.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-[2px] z-[60] flex items-center justify-center animate-in fade-in duration-200",children:a.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-xl flex flex-col items-center gap-4 min-w-[200px]",children:[a.jsx(lt,{className:"animate-spin text-blue-600",size:32}),a.jsx("span",{className:"text-slate-700 font-bold text-base",children:T})]})}),a.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(xa,{className:"text-rose-600"}),"  (Permission Control)"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:""})]}),a.jsx("button",{onClick:g,className:"btn-secondary p-2 rounded-xl",children:a.jsx(lt,{size:20,className:h?"animate-spin":""})})]}),a.jsxs("div",{className:"glass-panel p-6 border-l-4 border-l-emerald-500 shrink-0",children:[a.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-slate-800",children:[a.jsx(Zh,{size:20,className:"text-emerald-600"})," "]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end relative",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-slate-500 uppercase font-bold px-1",children:" (Username)"}),a.jsx("input",{id:"input-new-username",type:"text",className:"input-field w-full",value:B.username,onChange:D=>z({...B,username:D.target.value}),onKeyDown:D=>{(D.key==="Enter"||D.key==="ArrowRight")&&(D.preventDefault(),document.getElementById("input-new-password")?.focus())},placeholder:""})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-slate-500 uppercase font-bold px-1",children:" (Password)"}),a.jsx("input",{id:"input-new-password",type:"password",className:"input-field w-full",value:B.password,onChange:D=>z({...B,password:D.target.value}),onKeyDown:D=>{D.key==="Enter"||D.key==="ArrowRight"?(D.preventDefault(),document.getElementById("input-new-role")?.focus()):D.key==="ArrowLeft"&&(D.preventDefault(),document.getElementById("input-new-username")?.focus())},placeholder:""})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-xs text-slate-500 uppercase font-bold px-1",children:" (Role)"}),a.jsxs("select",{id:"input-new-role",className:"input-field w-full",value:B.role,onChange:D=>z({...B,role:D.target.value}),onKeyDown:D=>{D.key==="Enter"||D.key==="ArrowRight"?(D.preventDefault(),document.getElementById("btn-add-user")?.focus()):D.key==="ArrowLeft"&&(D.preventDefault(),document.getElementById("input-new-password")?.focus())},children:[a.jsx("option",{value:"BOSS",children:" (BOSS)"}),a.jsx("option",{value:"ADMIN",children:" (ADMIN)"}),a.jsx("option",{value:"EMPLOYEE",children:" (EMPLOYEE)"}),a.jsx("option",{value:"VIEWER",children:" (VIEWER)"})]})]}),a.jsxs("button",{id:"btn-add-user",onClick:te,onKeyDown:D=>{D.key==="ArrowLeft"&&(D.preventDefault(),document.getElementById("input-new-role")?.focus())},className:"btn-primary flex justify-center items-center gap-2",disabled:h,children:[a.jsx(Zs,{size:18})," "]})]})]}),a.jsx("div",{className:"glass-panel p-0 overflow-hidden flex-1 flex flex-col",children:a.jsx("div",{className:"overflow-y-auto flex-1",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-xs uppercase sticky top-0 z-10",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4",children:" (Username)"}),a.jsx("th",{className:"p-4",children:" (Role)"}),a.jsx("th",{className:"p-4 text-center",children:" (Status)"}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:v.length>0?v.map((D,p)=>a.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[a.jsx("td",{className:"p-4 text-slate-900 font-bold",children:D.username}),a.jsx("td",{className:"p-4",children:a.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold border ${D.role==="BOSS"?"bg-amber-500/10 text-amber-500 border-amber-500/20":D.role==="ADMIN"?"bg-rose-500/10 text-rose-500 border-rose-500/20":D.role==="EMPLOYEE"?"bg-blue-500/10 text-blue-500 border-blue-500/20":(D.role==="VIEWER","bg-slate-500/10 text-slate-500 border-slate-500/20")}`,children:D.role})}),a.jsx("td",{className:"p-4 text-center",children:D.status==="ACTIVE"?a.jsxs("span",{className:"flex items-center justify-center gap-2 text-emerald-600 font-bold text-xs",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.3)]"})," ACTIVE"]}):a.jsxs("span",{className:"flex items-center justify-center gap-2 text-slate-500 font-bold text-xs",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-500"})," ",D.status||"UNKNOWN"]})}),a.jsx("td",{className:"p-4 text-center flex items-center justify-center gap-2",children:D.username!=="admin"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>{let K=Array.isArray(D.permissions)?[...D.permissions]:[];const P={sales:["sales_entry","sales_report"],purchase:["purchase_entry","purchase_history"],inventory:["inventory_adjust","inventory_stocktake","inventory_valuation","inventory_history"],finance:["finance_expenditure","finance_receivable","finance_payable","finance_income","finance_cost"],analytics:["analytics_sales","analytics_customer","analytics_profit","analytics_turnover"],system:["system_config"]};Object.keys(P).forEach(re=>{K.includes(re)&&(K=K.filter(W=>W!==re),P[re].forEach(W=>{K.includes(W)||K.push(W)}))}),k({username:D.username,permissions:K})},className:"p-2 text-slate-400 hover:text-blue-400 transition-colors",title:"",children:a.jsx(xa,{size:16})}),a.jsx("button",{onClick:()=>A(D.username),className:"p-2 text-slate-400 hover:text-rose-400 transition-colors",title:"",children:a.jsx(p0,{size:16})})]})})]},p)):a.jsx("tr",{children:a.jsx("td",{colSpan:"4",className:"p-20 text-center text-slate-500",children:h?"...":""})})})]})})}),S&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl w-full max-w-md overflow-hidden shadow-2xl animate-in fade-in zoom-in duration-200",children:[a.jsxs("div",{className:"p-6 border-b border-slate-100 bg-slate-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(xa,{className:"text-blue-600"}),"  (",S.username,")"]}),a.jsx("p",{className:"text-slate-500 text-sm mt-1",children:" (BOSS )"})]}),a.jsx("div",{className:"p-6 space-y-6 max-h-[65vh] overflow-y-auto custom-scrollbar",children:O.map(D=>{const p=D.items.map(P=>P.key),K=p.every(P=>S.permissions?.includes(P));return p.some(P=>S.permissions?.includes(P)),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between px-1 cursor-pointer group/title",onClick:()=>J(D.items),children:[a.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest flex items-center gap-2 group-hover/title:text-blue-600 transition-colors",children:D.group}),a.jsx("span",{className:"text-[10px] text-blue-600 font-bold opacity-0 group-hover/title:opacity-100 transition-opacity",children:K?"":""})]}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:D.items.map((P,re)=>{const W=`perm-item-${P.key}`,_=ue=>{if(!["Enter"," ","ArrowDown","ArrowUp","ArrowRight","ArrowLeft"].includes(ue.key))return;ue.preventDefault();const q=[];O.forEach(x=>{x.items.forEach(Y=>q.push(Y.key))});const ee=q.indexOf(P.key);if(ue.key==="Enter"||ue.key===" "){if(j(P.key),ee<q.length-1){const x=q[ee+1];document.getElementById(`perm-item-${x}`)?.focus()}}else if(ue.key==="ArrowDown"||ue.key==="ArrowRight"){if(ee<q.length-1){const x=q[ee+1];document.getElementById(`perm-item-${x}`)?.focus()}}else if((ue.key==="ArrowUp"||ue.key==="ArrowLeft")&&ee>0){const x=q[ee-1];document.getElementById(`perm-item-${x}`)?.focus()}};return a.jsxs("label",{id:W,tabIndex:"0",onKeyDown:_,className:`flex items-center gap-3 p-3 rounded-xl border transition-all cursor-pointer group outline-none ring-offset-2 focus:ring-2 focus:ring-blue-400 ${S.permissions?.includes(P.key)?"bg-blue-50 border-blue-200 shadow-sm":"bg-slate-50 border-slate-100 hover:bg-slate-100 hover:border-slate-200"}`,children:[a.jsx("div",{className:`w-5 h-5 rounded-lg border flex items-center justify-center transition-all ${S.permissions?.includes(P.key)?"bg-blue-600 border-blue-600 text-white scale-110":"bg-white border-slate-200 group-hover:border-blue-300"}`,children:S.permissions?.includes(P.key)&&a.jsx(Qu,{size:12,fill:"currentColor"})}),a.jsx("input",{type:"checkbox",className:"hidden",checked:S.permissions?.includes(P.key),onChange:()=>j(P.key)}),a.jsx("span",{className:`text-sm transition-colors ${S.permissions?.includes(P.key)?"text-slate-900 font-bold":"text-slate-500"}`,children:P.label})]},P.key)})})]},D.group)})}),a.jsxs("div",{className:"p-6 border-t border-slate-100 flex justify-end gap-3 bg-slate-50",children:[a.jsx("button",{onClick:()=>k(null),className:"px-4 py-2 rounded-lg text-slate-500 hover:text-slate-900 hover:bg-black/5 transition-colors",children:""}),a.jsx("button",{onClick:H,className:"btn-primary px-6 py-2",children:""})]})]})})]})}function yp({user:o,apiUrl:U}){const[v,d]=y.useState(new Date().getFullYear()),[h,X]=y.useState(new Date().getMonth()+1),[w,F]=y.useState(o.username),[T,N]=y.useState([]),[B,z]=y.useState(!1),[S,k]=y.useState(null),[O,te]=y.useState(null),[A,g]=y.useState("LEAVE"),[H,j]=y.useState(""),[J,D]=y.useState(""),[p,K]=y.useState(!1),[P,re]=y.useState({baseSalary:0,attendanceBonus:0,insurance:0,monthlyOffDays:8,bonusTiers:"[]"}),[W,_]=y.useState(!1),[ue,ne]=y.useState(!1),[q,ee]=y.useState({profile:{joinedDate:"",birthday:"",identityId:"",contact:"",note:""},seniorityText:"",estimatedLeaveDays:0}),[x,Y]=y.useState({joinedDate:"",birthday:"",identityId:"",contact:"",note:""}),I={baseSalary:y.useRef(null),attendanceBonus:y.useRef(null),monthlyOffDays:y.useRef(null),insurance:y.useRef(null),bonusTiers:y.useRef(null)},se={editValue:y.useRef(null),editNote:y.useRef(null)};y.useEffect(()=>{o.role==="BOSS"&&ve(U,"getUsers",{},o.token).then(pe=>N(pe)).catch(pe=>console.error(pe))},[o.role,o.token,U]);const ie=y.useCallback(async()=>{z(!0);try{const R=await ve(U,"getPayrollData",{year:v,month:h,targetUser:w},o.token);R&&!R.error?(k(R),R.config&&re({...R.config,bonusTiers:JSON.stringify(R.config.bonusTiers||[])})):console.error(R?.error)}catch(R){console.error(R),alert(": "+R.message)}finally{z(!1)}},[v,h,w,o.token]),r=y.useCallback(async()=>{try{const R=await ve(U,"getEmployeeProfile",{targetUser:w},o.token);R&&!R.error&&(ee(R),Y(R.profile))}catch(R){console.error(R)}},[w,o.token,U]),Q=async()=>{if(!S||!S.summary){alert("");return}const R=` ${w} 

: $${(S.summary.finalSalary||0).toLocaleString()}
: ${v}${h}`;if(confirm(R)){_(!0);try{await ve(U,"savePayrollToExpenditure",{targetUser:w,year:v,month:h,finalSalary:S.summary.finalSalary},o.token),alert("")}catch(pe){console.error("Save payroll failed:",pe),alert(": "+pe.message)}finally{_(!1)}}};y.useEffect(()=>{ie(),r()},[ie,r]);const le=async()=>{if(O){_(!0);try{await ve(U,"saveDailyRecord",{date:O.date,username:w,type:A,value:A==="WORK"||A==="LEAVE"||A==="SPECIAL_LEAVE"||A==="SICK_LEAVE"?1:Number(H),note:J},o.token),te(null),ie()}catch(R){alert(": "+R.message)}finally{_(!1)}}},ce=async()=>{_(!0);try{await ve(U,"saveEmployeeProfile",{username:w,...x},o.token),ne(!1),r()}catch(R){alert(": "+R.message)}finally{_(!1)}},G=async()=>{let R=[];try{R=JSON.parse(P.bonusTiers)}catch{alert(" (JSON Error)");return}_(!0);try{await ve(U,"savePayrollSettings",{targetUser:w,baseSalary:Number(P.baseSalary),attendanceBonus:Number(P.attendanceBonus),insurance:Number(P.insurance),monthlyOffDays:Number(P.monthlyOffDays),bonusTiers:R},o.token),K(!1),ie()}catch(pe){alert(": "+pe.message)}finally{_(!1)}},ae=(R,pe)=>{const qe=["baseSalary","attendanceBonus","monthlyOffDays","insurance","bonusTiers"],Ee=qe.indexOf(pe);if(!(pe==="bonusTiers")&&(R.key==="ArrowUp"||R.key==="ArrowDown")&&R.preventDefault(),R.key==="Enter"){if(pe==="bonusTiers"&&!R.ctrlKey)return;R.preventDefault();const el=qe[Ee+1];el&&I[el].current&&(I[el].current.focus(),I[el].current.select?.());return}const mt={baseSalary:{ArrowRight:"attendanceBonus",ArrowDown:"monthlyOffDays"},attendanceBonus:{ArrowLeft:"baseSalary",ArrowDown:"insurance"},monthlyOffDays:{ArrowRight:"insurance",ArrowUp:"baseSalary",ArrowDown:"bonusTiers"},insurance:{ArrowLeft:"monthlyOffDays",ArrowUp:"attendanceBonus",ArrowDown:"bonusTiers"},bonusTiers:{}}[pe]?.[R.key];mt&&I[mt].current&&(R.preventDefault(),I[mt].current.focus(),I[mt].current.select?.())},fe=(R,pe)=>{if(R.key==="Enter"&&(R.preventDefault(),pe==="editType"?A==="LOSS"?se.editValue.current?.focus():se.editNote.current?.focus():pe==="editValue"?se.editNote.current?.focus():pe==="editNote"&&le()),pe==="editType"&&(R.key==="ArrowLeft"||R.key==="ArrowRight")){R.preventDefault();const qe=["WORK","LEAVE","SPECIAL_LEAVE","SICK_LEAVE","LOSS"];let Ee=qe.indexOf(A);R.key==="ArrowLeft"&&(Ee=(Ee-1+qe.length)%qe.length),R.key==="ArrowRight"&&(Ee=(Ee+1)%qe.length),g(qe[Ee])}},xe=((R,pe)=>{const qe=new Date(R,pe,0).getDate();return Array.from({length:qe},(Ee,xt)=>{const Xe=new Date(R,pe-1,xt+1),mt=Xe.getTimezoneOffset()*6e4;return{date:new Date(Xe.getTime()-mt).toISOString().split("T")[0],day:xt+1,weekday:["","","","","","",""][Xe.getDay()]}})})(v,h),Te=S?.summary||{};let Jt=0,St=0,vl=0,wt=0;xe.forEach(R=>{const pe=R.date,qe=S?.dailyData?.[pe]||0,Ee=S?.dailyRecords?.[pe]||{};qe>0?Jt++:Ee.isLeave?St++:Ee.isSpecialLeave?vl++:Ee.isSickLeave?wt++:St++});const Nl=R=>{if(!R)return"";try{if(R instanceof Date)return`${R.getMonth()+1}${R.getDate()}`;const pe=String(R),qe=new Date(pe);if(!isNaN(qe.getTime()))return`${qe.getMonth()+1}${qe.getDate()}`;const Ee=pe.match(/(\d{1,2})[/-](\d{1,2})/);return Ee?`${Ee[1]}${Ee[2]}`:pe.replace(/[/.-]/g,"")+""}catch(pe){return console.error("Format err",pe),String(R)}};return a.jsxs("div",{className:"p-4 md:p-8 space-y-6 max-w-7xl mx-auto pb-24",children:[a.jsxs("div",{className:"glass-panel p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400 flex items-center gap-3",children:[a.jsx(Vt,{})," "]}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:""})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsx("select",{value:v,onChange:R=>d(Number(R.target.value)),className:"input-field w-24",children:[2025,2026,2027].map(R=>a.jsxs("option",{value:R,children:[R,""]},R))}),a.jsx("select",{value:h,onChange:R=>X(Number(R.target.value)),className:"input-field w-20",children:Array.from({length:12},(R,pe)=>pe+1).map(R=>a.jsxs("option",{value:R,children:[R,""]},R))}),o.role==="BOSS"&&a.jsxs("select",{value:w,onChange:R=>F(R.target.value),className:"input-field w-32",children:[T.map(R=>a.jsx("option",{value:R.username,children:R.username},R.userid)),!T.some(R=>R.username===w)&&a.jsx("option",{value:w,children:w})]}),o.role==="BOSS"&&a.jsxs("button",{onClick:()=>K(!0),className:"btn-secondary flex items-center gap-2",children:[a.jsx(pc,{size:16})," "]}),o.role==="BOSS"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>ne(!0),className:"btn-secondary flex items-center gap-2 border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:[a.jsx($t,{size:16})," "]}),a.jsxs("button",{onClick:Q,disabled:W||!S,className:"btn-secondary flex items-center gap-2 border-blue-200 text-blue-700 hover:bg-blue-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(Vt,{size:16})," ",W?"...":""]})]}),a.jsx("button",{onClick:ie,className:"btn-primary",children:""})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 px-2",children:[a.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 text-blue-700 px-3 py-1.5 rounded-full text-sm font-medium border border-blue-100",children:[a.jsx($t,{size:14})," : ",q.profile.joinedDate||""]}),a.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50 text-indigo-700 px-3 py-1.5 rounded-full text-sm font-medium border border-indigo-100",children:[a.jsx(pc,{size:14})," : ",q.seniorityText]}),a.jsxs("div",{className:"flex items-center gap-2 bg-emerald-50 text-emerald-700 px-3 py-1.5 rounded-full text-sm font-medium border border-emerald-100",children:[a.jsx(m0,{size:14})," :  ",q.estimatedLeaveDays,"  /  ",S?.totalSpecialLeaveUsed||0,"  /  ",q.estimatedLeaveDays-(S?.totalSpecialLeaveUsed||0)," "]})]}),o.role==="BOSS"&&S?.isBirthdayMonth&&a.jsx("div",{className:"px-2",children:a.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 border border-pink-100 rounded-xl p-4 flex items-center gap-4 animate-bounce-subtle",children:[a.jsx("div",{className:"bg-white p-2 rounded-full shadow-sm text-2xl",children:""}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-rose-700 font-bold",children:[" ",q.profile.birthday?`(${Nl(q.profile.birthday)})`:"",""]}),a.jsx("p",{className:"text-rose-600/80 text-sm",children:""})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 px-2",children:[a.jsx(Zl,{title:"",amount:S?.config?.baseSalary,color:"text-slate-800"}),a.jsx(Zl,{title:"",amount:0,subtext:`: $${(Te.sales||0).toLocaleString()}`,color:"text-indigo-600"}),a.jsx(Zl,{title:" ()",amount:Te.insurance,isDeduction:!0,color:"text-red-600",hoverContent:a.jsx("div",{className:"flex flex-col items-end",children:a.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:["$",(Te.bonus||0).toLocaleString()]})})}),a.jsx(Zl,{title:"",amount:Te.finalSalary,color:"text-blue-600",subtext:"/"})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mt-4 px-2",children:[a.jsx(Zl,{title:"",amount:Te.attendanceBonus,color:"text-yellow-600",hoverContent:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),a.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:[Jt," "]})]})}),a.jsx(Zl,{title:"",amount:St,isCurrency:!1,suffix:" ",color:"text-slate-500",hoverContent:a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),a.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:[S?.config?.monthlyOffDays||0," "]})]}),a.jsxs("div",{className:"w-full border-t border-emerald-100 pt-1 mt-0.5",children:[a.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),a.jsxs("p",{className:`text-sm font-bold font-mono ${(Te.leaveCompensation||0)>=0?"text-blue-600":"text-red-600"}`,children:[(Te.leaveCompensation||0)>=0?"+":"-","$",Math.abs(Te.leaveCompensation||0).toLocaleString()]})]})]})}),a.jsx(Zl,{title:"",amount:vl,isCurrency:!1,suffix:" ",color:"text-emerald-500"}),a.jsx(Zl,{title:"",amount:wt,isCurrency:!1,suffix:" ",color:"text-amber-500",hoverContent:a.jsxs("div",{className:"flex flex-col items-end",children:[a.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-none mb-1",children:""}),a.jsxs("p",{className:"text-sm font-bold text-red-600 font-mono",children:["-$",(wt*500).toLocaleString()]})]})})]}),a.jsx("div",{className:"px-2 mt-4",children:a.jsxs("div",{className:"bg-white p-3 rounded-lg border border-red-100 flex justify-between items-center shadow-sm",children:[a.jsx("span",{className:"text-sm text-red-600 font-bold",children:"/"}),a.jsxs("span",{className:"text-lg font-bold text-red-600",children:["-$",(Te.loss||0).toLocaleString()]})]})}),a.jsx("div",{className:"glass-panel overflow-hidden",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{className:"bg-slate-50 text-slate-500 text-sm",children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-4 w-32",children:""}),a.jsx("th",{className:"p-4 w-24 text-center",children:""}),a.jsx("th",{className:"p-4 text-right",children:""}),a.jsx("th",{className:"p-4 text-center",children:""}),a.jsx("th",{className:"p-4 text-right",children:"/"}),a.jsx("th",{className:"p-4 text-center",children:""})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:xe.map(R=>{const pe=R.date,qe=S?.dailyData?.[pe]||0,Ee=S?.dailyRecords?.[pe]||{},xt=qe>0;let Xe="",mt="text-yellow-500 bg-yellow-500/10 px-2 rounded font-medium";xt?(Xe=" ()",mt="text-green-400 font-bold"):Ee.isLeave?(Xe="",mt="text-yellow-500 bg-yellow-500/10 px-2 rounded font-medium"):Ee.isSpecialLeave?(Xe="",mt="text-emerald-500 bg-emerald-500/10 px-2 rounded font-medium"):Ee.isSickLeave&&(Xe="",mt="text-amber-500 bg-amber-500/10 px-2 rounded font-medium");const el=R.weekday===""||R.weekday==="";return a.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${el?"bg-slate-50/50":""}`,children:[a.jsx("td",{className:"p-4 font-mono text-slate-600",children:pe}),a.jsx("td",{className:`p-4 text-center ${R.weekday===""?"text-red-600":"text-slate-500"}`,children:R.weekday}),a.jsx("td",{className:"p-4 text-right font-mono text-emerald-600",children:Math.abs(qe)>.01?`$${qe.toLocaleString()}`:"-"}),a.jsx("td",{className:"p-4 text-center",children:a.jsx("span",{className:`text-sm ${mt}`,children:Xe})}),a.jsxs("td",{className:"p-4 text-right font-mono text-red-600",children:[Math.abs(Ee.loss||0)>.01?`-$${Math.abs(Ee.loss).toLocaleString()}`:"",Ee.note&&a.jsx("span",{className:"block text-xs text-slate-500",children:Ee.note})]}),a.jsx("td",{className:"p-4 text-center",children:o.role==="BOSS"&&a.jsx("button",{onClick:()=>{te(R),g("LEAVE")},className:"text-xs btn-ghost text-blue-400 hover:text-blue-300",children:""})})]},pe)})})]})}),O&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"glass-panel w-full max-w-md p-6 animate-fadeIn",children:[a.jsxs("h3",{className:"text-xl font-bold mb-4",children:[O.date," (",O.weekday,") "]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:" ()"}),a.jsx("div",{className:"flex bg-slate-50 rounded p-1 border border-slate-200 outline-none focus-within:ring-2 focus-within:ring-blue-500/20",tabIndex:"0",onKeyDown:R=>fe(R,"editType"),children:[{id:"WORK",label:"",color:"bg-blue-600"},{id:"LEAVE",label:"",color:"bg-yellow-600"},{id:"SPECIAL_LEAVE",label:"",color:"bg-emerald-600"},{id:"SICK_LEAVE",label:"",color:"bg-amber-600"},{id:"LOSS",label:"/",color:"bg-red-600"}].map(R=>a.jsx("button",{className:`flex-1 py-2 rounded text-xs transition-all ${A===R.id?`${R.color} text-white shadow-sm`:"text-slate-500 hover:bg-slate-100"}`,onClick:()=>g(R.id),children:R.label},R.id))})]}),A==="LOSS"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:" ()"}),a.jsx("input",{type:"number",className:"input-field w-full",placeholder:"-100",ref:se.editValue,value:H,onChange:R=>j(R.target.value),onKeyDown:R=>fe(R,"editValue")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:""}),a.jsx("input",{type:"text",className:"input-field w-full",placeholder:"...",ref:se.editNote,value:J,onChange:R=>D(R.target.value),onKeyDown:R=>fe(R,"editNote")})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>te(null),className:"btn-secondary flex-1",disabled:W,children:""}),a.jsx("button",{onClick:le,className:"btn-primary flex-1",disabled:W,children:W?"...":""})]}),W&&a.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] z-10 flex items-center justify-center rounded-lg",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-sm font-medium text-blue-600",children:"..."})]})})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"glass-panel w-full max-w-lg p-6 animate-fadeIn max-h-[90vh] overflow-y-auto",children:[a.jsxs("h3",{className:"text-xl font-bold mb-4",children:[" - ",w]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"number",className:"input-field w-full",ref:I.baseSalary,value:P.baseSalary,onChange:R=>re({...P,baseSalary:R.target.value}),onKeyDown:R=>ae(R,"baseSalary")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"number",className:"input-field w-full",ref:I.attendanceBonus,value:P.attendanceBonus,onChange:R=>re({...P,attendanceBonus:R.target.value}),onKeyDown:R=>ae(R,"attendanceBonus")})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"number",className:"input-field w-full",ref:I.monthlyOffDays,value:P.monthlyOffDays,onChange:R=>re({...P,monthlyOffDays:R.target.value}),onKeyDown:R=>ae(R,"monthlyOffDays")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:" ()"}),a.jsx("input",{type:"number",className:"input-field w-full",ref:I.insurance,value:P.insurance,onChange:R=>re({...P,insurance:R.target.value}),onKeyDown:R=>ae(R,"insurance")})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:" (JSON)"}),a.jsx("textarea",{className:"input-field w-full font-mono text-xs h-32",ref:I.bonusTiers,value:P.bonusTiers,onChange:R=>re({...P,bonusTiers:R.target.value}),onKeyDown:R=>ae(R,"bonusTiers"),placeholder:'[{"threshold": 50000, "bonus": 1000}]'}),a.jsx("p",{className:"text-xs text-slate-400 mt-1",children:': `[{"threshold": , "bonus":  }]` ( Enter )'})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:()=>K(!1),className:"btn-secondary flex-1",disabled:W,children:""}),a.jsx("button",{onClick:G,className:"btn-primary flex-1",disabled:W,children:W?"...":""})]}),W&&a.jsx("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] z-10 flex items-center justify-center rounded-lg text-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),a.jsxs("span",{className:"text-sm font-medium text-blue-600 font-bold",children:["",a.jsx("br",{}),a.jsx("span",{className:"text-[10px] opacity-70",children:""})]})]})})]})}),ue&&a.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"glass-panel w-full max-w-lg p-6 animate-fadeIn",children:[a.jsxs("div",{className:"flex justify-between items-start mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold",children:[" - ",w]}),a.jsx("p",{className:"text-sm text-slate-400 mt-1",children:""})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"block text-xs text-slate-400 uppercase font-bold tracking-wider",children:""}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:q.seniorityText})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"date",className:"input-field w-full",value:x.joinedDate,onChange:R=>Y({...x,joinedDate:R.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:" (/)"}),a.jsx("input",{type:"text",placeholder:"05/20",className:"input-field w-full",value:x.birthday,onChange:R=>Y({...x,birthday:R.target.value})})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"label",children:"/"}),a.jsx("input",{type:"text",className:"input-field w-full",placeholder:"A123456789",value:x.identityId,onChange:R=>Y({...x,identityId:R.target.value})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("input",{type:"text",className:"input-field w-full",placeholder:"0912-345-678",value:x.contact,onChange:R=>Y({...x,contact:R.target.value})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"label",children:""}),a.jsx("textarea",{className:"input-field w-full h-24",placeholder:"...",value:x.note,onChange:R=>Y({...x,note:R.target.value})})]}),a.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 rounded-lg p-3 flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-emerald-800 font-medium",children:""}),a.jsxs("span",{className:"text-xl font-bold text-emerald-600 font-mono",children:[q.estimatedLeaveDays," "]})]})]}),a.jsxs("div",{className:"flex gap-3 mt-8",children:[a.jsx("button",{onClick:()=>ne(!1),className:"btn-secondary flex-1",disabled:W,children:""}),a.jsx("button",{onClick:ce,className:"btn-primary flex-1",disabled:W,children:W?"...":""})]})]})})]})}function Zl({title:o,amount:U,subtext:v,color:d,isDeduction:h,isCurrency:X=!0,suffix:w="",hiddenAmount:F,hiddenTitle:T="",hoverContent:N}){const[B,z]=y.useState(!1);return a.jsxs("div",{className:"glass-panel p-4 flex flex-col justify-between h-28 relative overflow-hidden group hover:border-blue-500 transition-all cursor-default",onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),children:[a.jsx("div",{className:"flex justify-between items-start z-10",children:a.jsx("span",{className:"text-slate-500 text-sm font-medium",children:o})}),a.jsxs("div",{className:"z-10",children:[a.jsxs("span",{className:`text-2xl font-bold tracking-tight ${d}`,children:[h&&"-",X&&"$",(U||0).toLocaleString(),w]}),v&&a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:v})]}),(F!==void 0||N)&&a.jsx("div",{className:`absolute top-0 right-0 p-2 transition-all duration-300 ${B?"translate-y-2 opacity-100":"-translate-y-full opacity-0"}`,children:a.jsx("div",{className:"bg-white/90 backdrop-blur shadow-sm border border-emerald-100 rounded px-2 py-0.5 text-right",children:N||a.jsxs(a.Fragment,{children:[T&&a.jsx("p",{className:"text-xs text-slate-400 font-medium",children:T}),a.jsxs("p",{className:"text-sm font-bold text-emerald-600 font-mono",children:[X&&"$",(F||0).toLocaleString()]})]})})}),a.jsx("div",{className:`absolute -right-2 -bottom-2 w-16 h-16 rounded-full opacity-5 ${d?.replace("text-","bg-")||"bg-slate-400"}`})]})}const Ge="https://script.google.com/macros/s/AKfycbzIoBBRytN2Qja-AUSILlXwdAnbwnU6nfil9403HYHXJH_KrvDy3lC9rQ_U8dlP9AIt/exec";console.log("---  ---");console.log("Base URL:","/inventory-system/");Ge.includes("YOUR_SCRIPT_ID")?(console.error("  VITE_GAS_API_URL "),console.log(" GitHub Settings -> Secrets ")):console.log(" API URL :",Ge);console.log("------------------");const fa=({label:o,icon:U,active:v,children:d,id:h,openDropdown:X,setOpenDropdown:w})=>{const F=X===h;return a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:T=>{T.stopPropagation(),w(F?null:h)},className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all duration-200 ${v?"bg-blue-50 text-blue-600 border border-blue-200 shadow-sm":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:[a.jsx(U,{size:18}),a.jsx("span",{className:"font-medium",children:o}),a.jsx(Bu,{size:14,className:`transition-transform duration-300 ${F?"rotate-180":""}`})]}),F&&a.jsx("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white/95 backdrop-blur-xl border border-slate-200 rounded-xl shadow-2xl py-2 z-[100] animate-in fade-in slide-in-from-top-2 duration-200",onClick:T=>T.stopPropagation(),children:a.jsx("div",{className:"flex flex-col gap-1 px-1",children:d})})]})},et=({label:o,onClick:U,active:v,icon:d})=>a.jsxs("button",{onClick:U,className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-all flex items-center gap-2 ${v?"text-blue-600 bg-blue-50 font-bold":"text-slate-500 hover:text-slate-900 hover:bg-slate-100"}`,children:[d&&a.jsx(d,{size:14}),o]});function bp(){const[o,U]=y.useState(null),[v,d]=y.useState("sales"),[h,X]=y.useState(null);gl.useEffect(()=>{const B=localStorage.getItem("inventory_user");if(B){const S=JSON.parse(B);S&&typeof S.permissions>"u"?(console.warn("Detected stale user data (no permissions). Clearing session."),localStorage.removeItem("inventory_user"),U(null)):U(S)}const z=()=>X(null);return window.addEventListener("click",z),()=>window.removeEventListener("click",z)},[]);const w=B=>{if(!o)return!1;if(o.role==="BOSS")return!0;let z=o.permissions;if(typeof z>"u"||z===null)z=[];else if(typeof z=="string")try{z=JSON.parse(z)}catch(S){console.error("Failed to parse permissions string:",S),z=[]}switch(Array.isArray(z)||(z=[]),B){case"sales":return z.includes("sales_entry")||z.includes("sales");case"report":return z.includes("sales_report")||z.includes("sales");case"purchase":return z.includes("purchase_entry")||z.includes("purchase");case"purchaseHistory":return z.includes("purchase_history")||z.includes("purchase");case"inventory":return z.includes("inventory_adjust")||z.includes("inventory");case"stocktake":return z.includes("inventory_stocktake")||z.includes("inventory");case"valuation":return z.includes("inventory_valuation")||z.includes("inventory");case"adjustHistory":case"stocktakeHistory":return z.includes("inventory_history")||z.includes("inventory");case"expenditureManagement":return z.includes("finance_expenditure")||z.includes("finance");case"receivable":return z.includes("finance_receivable")||z.includes("finance");case"payable":return z.includes("finance_payable")||z.includes("finance");case"incomeStatement":return z.includes("finance_income")||z.includes("finance");case"costCalculation":return z.includes("finance_cost")||z.includes("finance");case"payroll":return z.includes("finance_payroll")||z.includes("finance");case"salesRanking":return z.includes("analytics_sales")||z.includes("analytics");case"customerRanking":return z.includes("analytics_customer")||z.includes("analytics");case"profitAnalysis":return z.includes("analytics_profit")||z.includes("analytics");case"turnoverRate":return z.includes("analytics_turnover")||z.includes("analytics");case"permissionControl":return z.includes("system_config")||z.includes("system");default:return!0}},F=B=>{w(B)?(d(B),X(null)):console.warn(`Access denied for page: ${B}`)},T=B=>{U(B),localStorage.setItem("inventory_user",JSON.stringify(B))},N=()=>{U(null),localStorage.removeItem("inventory_user")};return Ge.includes("YOUR_SCRIPT_ID")?a.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-red-50 text-red-900",children:[a.jsx(xa,{size:64,className:"mb-4 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold mb-2",children:""}),a.jsx("p",{className:"text-center max-w-md mb-6",children:" `VITE_GAS_API_URL`  GitHub Secrets  Actions "}),a.jsxs("div",{className:"bg-white p-4 rounded-lg border border-red-200 font-mono text-xs w-full max-w-lg",children:[a.jsx("p",{className:"font-bold mb-2",children:""}),a.jsxs("p",{children:["GAS_API_URL: ",String(Ge)]}),a.jsxs("p",{children:["Base URL: ","/inventory-system/"]})]})]}):o?a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsxs("header",{className:"h-16 border-b border-slate-200 bg-white/80 backdrop-blur-md flex justify-between items-center px-6 sticky top-0 z-[60]",children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("img",{src:"/inventory-system/logo.png",alt:"Logo",className:"h-10 w-auto object-contain"})}),a.jsxs("nav",{className:"flex gap-1",children:[(o.role==="BOSS"||w("sales")||w("report"))&&a.jsxs(fa,{id:"sales",label:"",icon:n0,openDropdown:h,setOpenDropdown:X,active:["sales","report"].includes(v),children:[w("sales")&&a.jsx(et,{label:"",icon:n0,onClick:()=>F("sales"),active:v==="sales"}),w("report")&&a.jsx(et,{label:"",icon:Lu,onClick:()=>F("report"),active:v==="report"})]}),(o.role==="BOSS"||w("purchase")||w("purchaseHistory"))&&a.jsxs(fa,{id:"purchase",label:"",icon:s0,openDropdown:h,setOpenDropdown:X,active:["purchase","purchaseHistory"].includes(v),children:[w("purchase")&&a.jsx(et,{label:"",icon:s0,onClick:()=>F("purchase"),active:v==="purchase"}),w("purchaseHistory")&&a.jsx(et,{label:"",icon:xc,onClick:()=>F("purchaseHistory"),active:v==="purchaseHistory"})]}),(o.role==="BOSS"||w("inventory")||w("stocktake")||w("valuation")||w("adjustHistory")||w("stocktakeHistory"))&&a.jsxs(fa,{id:"inventory",label:"",icon:l0,openDropdown:h,setOpenDropdown:X,active:["inventory","stocktake","valuation","adjustHistory","stocktakeHistory"].includes(v),children:[w("inventory")&&a.jsx(et,{label:"",icon:l0,onClick:()=>F("inventory"),active:v==="inventory"}),w("stocktake")&&a.jsx(et,{label:"",icon:Qu,onClick:()=>F("stocktake"),active:v==="stocktake"}),w("valuation")&&a.jsx(et,{label:"",icon:Vt,onClick:()=>F("valuation"),active:v==="valuation"}),a.jsx("div",{className:"my-1 border-t border-slate-100"}),w("adjustHistory")&&a.jsx(et,{label:"",icon:Lu,onClick:()=>F("adjustHistory"),active:v==="adjustHistory"}),w("stocktakeHistory")&&a.jsx(et,{label:"",icon:xc,onClick:()=>F("stocktakeHistory"),active:v==="stocktakeHistory"})]}),(o.role==="BOSS"||w("expenditureManagement"))&&a.jsx(fa,{id:"expenditure",label:"",icon:Vt,openDropdown:h,setOpenDropdown:X,active:v==="expenditureManagement",children:a.jsx(et,{label:"",icon:Vt,onClick:()=>F("expenditureManagement"),active:v==="expenditureManagement"})}),(o.role==="BOSS"||w("receivable")||w("payable")||w("incomeStatement")||w("costCalculation"))&&a.jsxs(fa,{id:"accounting",label:"",icon:Ks,openDropdown:h,setOpenDropdown:X,active:["receivable","payable","incomeStatement","costCalculation"].includes(v),children:[w("receivable")&&a.jsx(et,{label:"",icon:Ks,onClick:()=>F("receivable"),active:v==="receivable"}),w("payable")&&a.jsx(et,{label:"",icon:Ks,onClick:()=>F("payable"),active:v==="payable"}),w("incomeStatement")&&a.jsx(et,{label:"",icon:d0,onClick:()=>F("incomeStatement"),active:v==="incomeStatement"}),a.jsx("div",{className:"my-1 border-t border-slate-100"}),w("costCalculation")&&a.jsx(et,{label:"",icon:Vt,onClick:()=>F("costCalculation"),active:v==="costCalculation"}),w("payroll")&&a.jsx(et,{label:"",icon:Vt,onClick:()=>F("payroll"),active:v==="payroll"})]}),(o.role==="BOSS"||w("salesRanking")||w("customerRanking")||w("profitAnalysis")||w("turnoverRate"))&&a.jsxs(fa,{id:"analytics",label:"",icon:$s,openDropdown:h,setOpenDropdown:X,active:["salesRanking","customerRanking","profitAnalysis","turnoverRate"].includes(v),children:[w("salesRanking")&&a.jsx(et,{label:"",icon:o0,onClick:()=>F("salesRanking"),active:v==="salesRanking"}),w("customerRanking")&&a.jsx(et,{label:"",icon:Gu,onClick:()=>F("customerRanking"),active:v==="customerRanking"}),w("profitAnalysis")&&a.jsx(et,{label:"",icon:$s,onClick:()=>F("profitAnalysis"),active:v==="profitAnalysis"}),w("turnoverRate")&&a.jsx(et,{label:"",icon:r0,onClick:()=>F("turnoverRate"),active:v==="turnoverRate"})]}),(o.role==="BOSS"||w("permissionControl"))&&a.jsx(fa,{id:"system",label:"",icon:xa,openDropdown:h,setOpenDropdown:X,active:v==="permissionControl",children:a.jsx(et,{label:"",icon:xa,onClick:()=>F("permissionControl"),active:v==="permissionControl"})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[a.jsx("span",{className:"text-xs font-bold text-blue-600 leading-none",children:o.username}),a.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-tighter",children:o.role})]}),a.jsx("button",{onClick:N,className:"w-10 h-10 rounded-xl flex items-center justify-center text-slate-400 hover:text-red-500 hover:bg-red-50 transition-all border border-transparent hover:border-red-100",title:"",children:a.jsx(Eh,{size:20})})]})]}),a.jsx("main",{className:"flex-1 p-4 md:p-6 overflow-hidden",children:w(v)?a.jsxs(a.Fragment,{children:[v==="sales"&&a.jsx(Ih,{user:o,apiUrl:Ge}),v==="inventory"&&a.jsx(Ph,{user:o,apiUrl:Ge}),v==="purchase"&&a.jsx(ep,{user:o,apiUrl:Ge}),v==="report"&&a.jsx(tp,{user:o,apiUrl:Ge}),v==="purchaseHistory"&&a.jsx(lp,{user:o,apiUrl:Ge}),v==="adjustHistory"&&a.jsx(ap,{user:o,apiUrl:Ge}),v==="valuation"&&a.jsx(sp,{user:o,apiUrl:Ge}),v==="stocktake"&&a.jsx(np,{user:o,apiUrl:Ge}),v==="stocktakeHistory"&&a.jsx(cp,{user:o,apiUrl:Ge}),v==="receivable"&&a.jsx(ip,{user:o,apiUrl:Ge}),v==="payable"&&a.jsx(up,{user:o,apiUrl:Ge}),v==="salesRanking"&&a.jsx(rp,{user:o,apiUrl:Ge}),v==="customerRanking"&&a.jsx(op,{user:o,apiUrl:Ge}),v==="profitAnalysis"&&a.jsx(dp,{user:o,apiUrl:Ge}),v==="turnoverRate"&&a.jsx(fp,{user:o,apiUrl:Ge}),v==="costCalculation"&&a.jsx(xp,{user:o,apiUrl:Ge}),v==="expenditureManagement"&&a.jsx(hp,{user:o,apiUrl:Ge}),v==="incomeStatement"&&a.jsx(mp,{user:o,apiUrl:Ge}),v==="permissionControl"&&a.jsx(pp,{user:o,apiUrl:Ge}),v==="payroll"&&a.jsx(yp,{user:o,apiUrl:Ge})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[a.jsx(xa,{size:64,className:"mb-4 text-slate-200"}),a.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),a.jsx("p",{className:"mt-2",children:""}),a.jsx("button",{onClick:()=>d("sales"),className:"mt-6 px-4 py-2 bg-white hover:bg-slate-50 text-blue-600 rounded-lg transition-colors border border-slate-200 shadow-sm",children:""})]})})]}):a.jsx(Fh,{onLogin:T,apiUrl:Ge})}Zm.createRoot(document.getElementById("root")).render(a.jsx(y.StrictMode,{children:a.jsx(bp,{})}));
