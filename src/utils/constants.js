export const PRICE_MAP = {
    "六甲1L": 75, "崙背1L": 80, "崙背2L": 155, "呈鮮奶1L": 80, "呈鮮奶2L": 155, "呈羊奶": 90,
    "桂格經典燕麥": 20, "桂格顆粒燕麥": 20, "桂格堅果燕麥": 20, "三福布蕾": 20, "微舒打": 18.3,
    "冰鎮": 20, "福樂優酪乳": 16.7, "草莓鮮奶茶": 20, "福樂調味乳": 18.3, "小立家冷泡茶": 45,
    "養樂多": 70, "金蘋果": 70, "金草莓": 70, "金椰子": 70, "全國調味乳": 55,
    "比菲多471": 30, "比菲多1795": 75, "植物優格": 27.5, "好朋友": 25, "純粹喝": 25,
    "波蜜大柳橙": 30, "波蜜大芭樂": 30, "質立優格": 27.5, "果醋": 25, "原味奶茶": 20,
    "青檸茶": 10, "芋頭奶茶": 20, "烏龍奶茶": 20, "質立草莓": 25, "貝納頌": 20,
    "油切四季": 20, "檸檬茶": 20, "蕎麥奶茶": 20, "焦糖奶茶": 10,
    "水果冰茶": 20, "蘋果紅茶": 20, "中蘆筍": 20, "小芭樂": 20, "小蘆筍": 20,
    "開心茶": 16.7, "低卡波蜜": 20,
    // Near Expiry Items
    "即期牛奶1L": 70, "即期牛奶2L": 140, "即期調味乳": 50, "即期優格": 70, "即期饅頭": 50,
    "即期布蕾": 20, "即期400系列": 16.7, "即期1000豆漿": 25, "即期1000調味乳": 40,
    "即期2000豆漿": 40, "即期2000調味乳": 60, "即期1000奶": 60, "即期2000奶": 100,
    "即期優格500": 50, "即期優格1000": 60
};


export const CASE_MAP = {
    "六甲1L": 20, "崙背1L": 20, "崙背2L": 12, "呈鮮奶1L": 20, "呈鮮奶2L": 12, "呈羊奶": 20,
    "桂格經典燕麥": 70, "桂格顆粒燕麥": 70, "桂格堅果燕麥": 70, "三福布蕾": 12, "微舒打": 24,
    "冰鎮": 20, "福樂優酪乳": 108, "草莓鮮奶茶": 40, "福樂調味乳": 40, "小立家冷泡茶": 15,
    "養樂多": 4, "金蘋果": 4, "金草莓": 4, "金椰子": 4, "全國調味乳": 16,
    "比菲多471": 30, "比菲多1795": 9, "植物優格": 60, "好朋友": 20, "純粹喝": 24,
    "波蜜大柳橙": 15, "波蜜大芭樂": 15, "質立優格": 24, "果醋": 25, "原味奶茶": 15,
    "青檸茶": 15, "芋頭奶茶": 15, "烏龍奶茶": 15, "質立草莓": 24, "貝納頌": 24,
    "油切四季": 24, "檸檬茶": 24, "蕎麥奶茶": 15, "焦糖奶茶": 15,
    "水果冰茶": 15, "蘋果紅茶": 15, "中蘆筍": 15, "小芭樂": 15, "小蘆筍": 15,
    "開心茶": 24, "低卡波蜜": 15,
};

export const sortProducts = (list, nameKey) => {
    return [...list].sort((a, b) => {
        // 1. 優先權重排序 (數值越小越前面)
        // 確保非數值或 0 的權重排到最後面 (999999)
        const wA = (a.sortWeight && Number(a.sortWeight) > 0) ? Number(a.sortWeight) : 999999;
        const wB = (b.sortWeight && Number(b.sortWeight) > 0) ? Number(b.sortWeight) : 999999;

        if (wA !== wB) return wA - wB;

        // 2. 次要：字母排序
        const nameA = String(a[nameKey] || '');
        const nameB = String(b[nameKey] || '');
        return nameA.localeCompare(nameB, 'zh-Hant');
    });
};

export const getLocalDateString = (date = new Date()) => {
    const d = new Date(date);
    return `${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, '0')}-${String(d.getDate()).padStart(2, '0')}`;
};
